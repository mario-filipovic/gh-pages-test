var Ko=Object.defineProperty;var Wo=(t,e,s)=>e in t?Ko(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var _n=(t,e,s)=>Wo(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Lr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const Q={},Ot=[],De=()=>{},Vo=()=>!1,Ds=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Dr=t=>t.startsWith("onUpdate:"),re=Object.assign,Ur=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Jo=Object.prototype.hasOwnProperty,K=(t,e)=>Jo.call(t,e),I=Array.isArray,Kt=t=>Us(t)==="[object Map]",zo=t=>Us(t)==="[object Set]",L=t=>typeof t=="function",ne=t=>typeof t=="string",jt=t=>typeof t=="symbol",te=t=>t!==null&&typeof t=="object",ci=t=>(te(t)||L(t))&&L(t.then)&&L(t.catch),Go=Object.prototype.toString,Us=t=>Go.call(t),Yo=t=>Us(t).slice(8,-1),Qo=t=>Us(t)==="[object Object]",Mr=t=>ne(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Wt=Lr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ms=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Xo=/-(\w)/g,tt=Ms(t=>t.replace(Xo,(e,s)=>s?s.toUpperCase():"")),Zo=/\B([A-Z])/g,_t=Ms(t=>t.replace(Zo,"-$1").toLowerCase()),ui=Ms(t=>t.charAt(0).toUpperCase()+t.slice(1)),er=Ms(t=>t?`on${ui(t)}`:""),Ze=(t,e)=>!Object.is(t,e),tr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},hi=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},ea=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let vn;const Fs=()=>vn||(vn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fr(t){if(I(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=ne(r)?na(r):Fr(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(ne(t)||te(t))return t}const ta=/;(?![^(]*\))/g,sa=/:([^]+)/,ra=/\/\*[^]*?\*\//g;function na(t){const e={};return t.replace(ra,"").split(ta).forEach(s=>{if(s){const r=s.split(sa);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Nr(t){let e="";if(ne(t))e=t;else if(I(t))for(let s=0;s<t.length;s++){const r=Nr(t[s]);r&&(e+=r+" ")}else if(te(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const ia="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",oa=Lr(ia);function fi(t){return!!t||t===""}/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ue;class di{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ue,!e&&ue&&(this.index=(ue.scopes||(ue.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=ue;try{return ue=this,e()}finally{ue=s}}}on(){ue=this}off(){ue=this.parent}stop(e){if(this._active){let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.scopes)for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function pi(t){return new di(t)}function gi(){return ue}function aa(t,e=!1){ue&&ue.cleanups.push(t)}let Y;const sr=new WeakSet;class _i{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ue&&ue.active&&ue.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,sr.has(this)&&(sr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||mi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mn(this),yi(this);const e=Y,s=Pe;Y=this,Pe=!0;try{return this.fn()}finally{bi(this),Y=e,Pe=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)qr(e);this.deps=this.depsTail=void 0,mn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?sr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vr(this)&&this.run()}get dirty(){return vr(this)}}let vi=0,Vt,Jt;function mi(t,e=!1){if(t.flags|=8,e){t.next=Jt,Jt=t;return}t.next=Vt,Vt=t}function Br(){vi++}function Hr(){if(--vi>0)return;if(Jt){let e=Jt;for(Jt=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Vt;){let e=Vt;for(Vt=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function yi(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function bi(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),qr(r),la(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function vr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(wi(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function wi(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ts))return;t.globalVersion=ts;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!vr(t)){t.flags&=-3;return}const s=Y,r=Pe;Y=t,Pe=!0;try{yi(t);const n=t.fn(t._value);(e.version===0||Ze(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Y=s,Pe=r,bi(t),t.flags&=-3}}function qr(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)qr(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function la(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Pe=!0;const Si=[];function st(){Si.push(Pe),Pe=!1}function rt(){const t=Si.pop();Pe=t===void 0?!0:t}function mn(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Y;Y=void 0;try{e()}finally{Y=s}}}let ts=0;class ca{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Kr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Y||!Pe||Y===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Y)s=this.activeLink=new ca(Y,this),Y.deps?(s.prevDep=Y.depsTail,Y.depsTail.nextDep=s,Y.depsTail=s):Y.deps=Y.depsTail=s,Ti(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=Y.depsTail,s.nextDep=void 0,Y.depsTail.nextDep=s,Y.depsTail=s,Y.deps===s&&(Y.deps=r)}return s}trigger(e){this.version++,ts++,this.notify(e)}notify(e){Br();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Hr()}}}function Ti(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Ti(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const As=new WeakMap,ft=Symbol(""),mr=Symbol(""),ss=Symbol("");function ae(t,e,s){if(Pe&&Y){let r=As.get(t);r||As.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Kr),n.map=r,n.key=s),n.track()}}function He(t,e,s,r,n,i){const o=As.get(t);if(!o){ts++;return}const a=l=>{l&&l.trigger()};if(Br(),e==="clear")o.forEach(a);else{const l=I(t),u=l&&Mr(s);if(l&&s==="length"){const c=Number(r);o.forEach((f,p)=>{(p==="length"||p===ss||!jt(p)&&p>=c)&&a(f)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(ss)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ft)),Kt(t)&&a(o.get(mr)));break;case"delete":l||(a(o.get(ft)),Kt(t)&&a(o.get(mr)));break;case"set":Kt(t)&&a(o.get(ft));break}}Hr()}function ua(t,e){const s=As.get(t);return s&&s.get(e)}function yt(t){const e=H(t);return e===t?e:(ae(e,"iterate",ss),Ae(t)?e:e.map(he))}function Wr(t){return ae(t=H(t),"iterate",ss),t}const ha={__proto__:null,[Symbol.iterator](){return rr(this,Symbol.iterator,he)},concat(...t){return yt(this).concat(...t.map(e=>I(e)?yt(e):e))},entries(){return rr(this,"entries",t=>(t[1]=he(t[1]),t))},every(t,e){return Fe(this,"every",t,e,void 0,arguments)},filter(t,e){return Fe(this,"filter",t,e,s=>s.map(he),arguments)},find(t,e){return Fe(this,"find",t,e,he,arguments)},findIndex(t,e){return Fe(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Fe(this,"findLast",t,e,he,arguments)},findLastIndex(t,e){return Fe(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Fe(this,"forEach",t,e,void 0,arguments)},includes(...t){return nr(this,"includes",t)},indexOf(...t){return nr(this,"indexOf",t)},join(t){return yt(this).join(t)},lastIndexOf(...t){return nr(this,"lastIndexOf",t)},map(t,e){return Fe(this,"map",t,e,void 0,arguments)},pop(){return Mt(this,"pop")},push(...t){return Mt(this,"push",t)},reduce(t,...e){return yn(this,"reduce",t,e)},reduceRight(t,...e){return yn(this,"reduceRight",t,e)},shift(){return Mt(this,"shift")},some(t,e){return Fe(this,"some",t,e,void 0,arguments)},splice(...t){return Mt(this,"splice",t)},toReversed(){return yt(this).toReversed()},toSorted(t){return yt(this).toSorted(t)},toSpliced(...t){return yt(this).toSpliced(...t)},unshift(...t){return Mt(this,"unshift",t)},values(){return rr(this,"values",he)}};function rr(t,e,s){const r=Wr(t),n=r[e]();return r!==t&&!Ae(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const fa=Array.prototype;function Fe(t,e,s,r,n,i){const o=Wr(t),a=o!==t&&!Ae(t),l=o[e];if(l!==fa[e]){const f=l.apply(t,i);return a?he(f):f}let u=s;o!==t&&(a?u=function(f,p){return s.call(this,he(f),p,t)}:s.length>2&&(u=function(f,p){return s.call(this,f,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function yn(t,e,s,r){const n=Wr(t);let i=s;return n!==t&&(Ae(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,he(a),l,t)}),n[e](i,...r)}function nr(t,e,s){const r=H(t);ae(r,"iterate",ss);const n=r[e](...s);return(n===-1||n===!1)&&zr(s[0])?(s[0]=H(s[0]),r[e](...s)):n}function Mt(t,e,s=[]){st(),Br();const r=H(t)[e].apply(t,s);return Hr(),rt(),r}const da=Lr("__proto__,__v_isRef,__isVue"),Ei=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(jt));function pa(t){jt(t)||(t=String(t));const e=H(this);return ae(e,"has",t),e.hasOwnProperty(t)}class Oi{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Ea:Ai:i?Pi:xi).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=I(e);if(!n){let l;if(o&&(l=ha[s]))return l;if(s==="hasOwnProperty")return pa}const a=Reflect.get(e,s,ee(e)?e:r);return(jt(s)?Ei.has(s):da(s))||(n||ae(e,"get",s),i)?a:ee(a)?o&&Mr(s)?a:a.value:te(a)?n?Ci(a):Ns(a):a}}class ki extends Oi{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=gt(i);if(!Ae(r)&&!gt(r)&&(i=H(i),r=H(r)),!I(e)&&ee(i)&&!ee(r))return l?!1:(i.value=r,!0)}const o=I(e)&&Mr(s)?Number(s)<e.length:K(e,s),a=Reflect.set(e,s,r,ee(e)?e:n);return e===H(n)&&(o?Ze(r,i)&&He(e,"set",s,r):He(e,"add",s,r)),a}deleteProperty(e,s){const r=K(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&He(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!jt(s)||!Ei.has(s))&&ae(e,"has",s),r}ownKeys(e){return ae(e,"iterate",I(e)?"length":ft),Reflect.ownKeys(e)}}class ga extends Oi{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const _a=new ki,va=new ga,ma=new ki(!0);const yr=t=>t,gs=t=>Reflect.getPrototypeOf(t);function ya(t,e,s){return function(...r){const n=this.__v_raw,i=H(n),o=Kt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?yr:e?br:he;return!e&&ae(i,"iterate",l?mr:ft),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[c(f[0]),c(f[1])]:c(f),done:p}},[Symbol.iterator](){return this}}}}function _s(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ba(t,e){const s={get(n){const i=this.__v_raw,o=H(i),a=H(n);t||(Ze(n,a)&&ae(o,"get",n),ae(o,"get",a));const{has:l}=gs(o),u=e?yr:t?br:he;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&ae(H(n),"iterate",ft),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=H(i),a=H(n);return t||(Ze(n,a)&&ae(o,"has",n),ae(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=H(a),u=e?yr:t?br:he;return!t&&ae(l,"iterate",ft),a.forEach((c,f)=>n.call(i,u(c),u(f),o))}};return re(s,t?{add:_s("add"),set:_s("set"),delete:_s("delete"),clear:_s("clear")}:{add(n){!e&&!Ae(n)&&!gt(n)&&(n=H(n));const i=H(this);return gs(i).has.call(i,n)||(i.add(n),He(i,"add",n,n)),this},set(n,i){!e&&!Ae(i)&&!gt(i)&&(i=H(i));const o=H(this),{has:a,get:l}=gs(o);let u=a.call(o,n);u||(n=H(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Ze(i,c)&&He(o,"set",n,i):He(o,"add",n,i),this},delete(n){const i=H(this),{has:o,get:a}=gs(i);let l=o.call(i,n);l||(n=H(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&He(i,"delete",n,void 0),u},clear(){const n=H(this),i=n.size!==0,o=n.clear();return i&&He(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=ya(n,t,e)}),s}function Vr(t,e){const s=ba(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(K(s,n)&&n in r?s:r,n,i)}const wa={get:Vr(!1,!1)},Sa={get:Vr(!1,!0)},Ta={get:Vr(!0,!1)};const xi=new WeakMap,Pi=new WeakMap,Ai=new WeakMap,Ea=new WeakMap;function Oa(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ka(t){return t.__v_skip||!Object.isExtensible(t)?0:Oa(Yo(t))}function Ns(t){return gt(t)?t:Jr(t,!1,_a,wa,xi)}function xa(t){return Jr(t,!1,ma,Sa,Pi)}function Ci(t){return Jr(t,!0,va,Ta,Ai)}function Jr(t,e,s,r,n){if(!te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=ka(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function dt(t){return gt(t)?dt(t.__v_raw):!!(t&&t.__v_isReactive)}function gt(t){return!!(t&&t.__v_isReadonly)}function Ae(t){return!!(t&&t.__v_isShallow)}function zr(t){return t?!!t.__v_raw:!1}function H(t){const e=t&&t.__v_raw;return e?H(e):t}function Gr(t){return!K(t,"__v_skip")&&Object.isExtensible(t)&&hi(t,"__v_skip",!0),t}const he=t=>te(t)?Ns(t):t,br=t=>te(t)?Ci(t):t;function ee(t){return t?t.__v_isRef===!0:!1}function Yr(t){return Pa(t,!1)}function Pa(t,e){return ee(t)?t:new Aa(t,e)}class Aa{constructor(e,s){this.dep=new Kr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:H(e),this._value=s?e:he(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Ae(e)||gt(e);e=r?e:H(e),Ze(e,s)&&(this._rawValue=e,this._value=r?e:he(e),this.dep.trigger())}}function Ss(t){return ee(t)?t.value:t}const Ca={get:(t,e,s)=>e==="__v_raw"?t:Ss(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ee(n)&&!ee(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function ji(t){return dt(t)?t:new Proxy(t,Ca)}function ja(t){const e=I(t)?new Array(t.length):{};for(const s in t)e[s]=Ra(t,s);return e}class $a{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ua(H(this._object),this._key)}}function Ra(t,e,s){const r=t[e];return ee(r)?r:new $a(t,e,s)}class Ia{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Kr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ts-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Y!==this)return mi(this,!0),!0}get value(){const e=this.dep.track();return wi(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function La(t,e,s=!1){let r,n;return L(t)?r=t:(r=t.get,n=t.set),new Ia(r,n,s)}const vs={},Cs=new WeakMap;let ct;function Da(t,e=!1,s=ct){if(s){let r=Cs.get(s);r||Cs.set(s,r=[]),r.push(t)}}function Ua(t,e,s=Q){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=x=>n?x:Ae(x)||n===!1||n===0?Qe(x,1):Qe(x);let c,f,p,_,O=!1,k=!1;if(ee(t)?(f=()=>t.value,O=Ae(t)):dt(t)?(f=()=>u(t),O=!0):I(t)?(k=!0,O=t.some(x=>dt(x)||Ae(x)),f=()=>t.map(x=>{if(ee(x))return x.value;if(dt(x))return u(x);if(L(x))return l?l(x,2):x()})):L(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){st();try{p()}finally{rt()}}const x=ct;ct=c;try{return l?l(t,3,[_]):t(_)}finally{ct=x}}:f=De,e&&n){const x=f,R=n===!0?1/0:n;f=()=>Qe(x(),R)}const A=gi(),$=()=>{c.stop(),A&&Ur(A.effects,c)};if(i&&e){const x=e;e=(...R)=>{x(...R),$()}}let N=k?new Array(t.length).fill(vs):vs;const U=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(e){const R=c.run();if(n||O||(k?R.some((Me,ie)=>Ze(Me,N[ie])):Ze(R,N))){p&&p();const Me=ct;ct=c;try{const ie=[R,N===vs?void 0:k&&N[0]===vs?[]:N,_];l?l(e,3,ie):e(...ie),N=R}finally{ct=Me}}}else c.run()};return a&&a(U),c=new _i(f),c.scheduler=o?()=>o(U,!1):U,_=x=>Da(x,!1,c),p=c.onStop=()=>{const x=Cs.get(c);if(x){if(l)l(x,4);else for(const R of x)R();Cs.delete(c)}},e?r?U(!0):N=c.run():o?o(U.bind(null,!0),!0):c.run(),$.pause=c.pause.bind(c),$.resume=c.resume.bind(c),$.stop=$,$}function Qe(t,e=1/0,s){if(e<=0||!te(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ee(t))Qe(t.value,e,s);else if(I(t))for(let r=0;r<t.length;r++)Qe(t[r],e,s);else if(zo(t)||Kt(t))t.forEach(r=>{Qe(r,e,s)});else if(Qo(t)){for(const r in t)Qe(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Qe(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ls(t,e,s,r){try{return r?t(...r):t()}catch(n){Bs(n,e,s)}}function Ue(t,e,s,r){if(L(t)){const n=ls(t,e,s,r);return n&&ci(n)&&n.catch(i=>{Bs(i,e,s)}),n}if(I(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Ue(t[i],e,s,r));return n}}function Bs(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Q;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}a=a.parent}if(i){st(),ls(i,null,10,[t,l,u]),rt();return}}Ma(t,s,n,r,o)}function Ma(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const fe=[];let Ie=-1;const kt=[];let ze=null,Et=0;const $i=Promise.resolve();let js=null;function Ri(t){const e=js||$i;return t?e.then(this?t.bind(this):t):e}function Fa(t){let e=Ie+1,s=fe.length;for(;e<s;){const r=e+s>>>1,n=fe[r],i=rs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function Qr(t){if(!(t.flags&1)){const e=rs(t),s=fe[fe.length-1];!s||!(t.flags&2)&&e>=rs(s)?fe.push(t):fe.splice(Fa(e),0,t),t.flags|=1,Ii()}}function Ii(){js||(js=$i.then(Di))}function Na(t){I(t)?kt.push(...t):ze&&t.id===-1?ze.splice(Et+1,0,t):t.flags&1||(kt.push(t),t.flags|=1),Ii()}function bn(t,e,s=Ie+1){for(;s<fe.length;s++){const r=fe[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;fe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Li(t){if(kt.length){const e=[...new Set(kt)].sort((s,r)=>rs(s)-rs(r));if(kt.length=0,ze){ze.push(...e);return}for(ze=e,Et=0;Et<ze.length;Et++){const s=ze[Et];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ze=null,Et=0}}const rs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Di(t){try{for(Ie=0;Ie<fe.length;Ie++){const e=fe[Ie];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ls(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ie<fe.length;Ie++){const e=fe[Ie];e&&(e.flags&=-2)}Ie=-1,fe.length=0,Li(),js=null,(fe.length||kt.length)&&Di()}}let xe=null,Ui=null;function $s(t){const e=xe;return xe=t,Ui=t&&t.type.__scopeId||null,e}function Ba(t,e=xe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Pn(-1);const i=$s(e);let o;try{o=t(...n)}finally{$s(i),r._d&&Pn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ot(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(st(),Ue(l,s,8,[t.el,a,t,e]),rt())}}const Ha=Symbol("_vte"),qa=t=>t.__isTeleport;function Xr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Xr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Mi(t,e){return L(t)?re({name:t.name},e,{setup:t}):t}function Fi(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function wr(t,e,s,r,n=!1){if(I(t)){t.forEach((O,k)=>wr(O,e&&(I(e)?e[k]:e),s,r,n));return}if(zt(r)&&!n)return;const i=r.shapeFlag&4?rn(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Q?a.refs={}:a.refs,f=a.setupState,p=H(f),_=f===Q?()=>!1:O=>K(p,O);if(u!=null&&u!==l&&(ne(u)?(c[u]=null,_(u)&&(f[u]=null)):ee(u)&&(u.value=null)),L(l))ls(l,a,12,[o,c]);else{const O=ne(l),k=ee(l);if(O||k){const A=()=>{if(t.f){const $=O?_(l)?f[l]:c[l]:l.value;n?I($)&&Ur($,i):I($)?$.includes(i)||$.push(i):O?(c[l]=[i],_(l)&&(f[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else O?(c[l]=o,_(l)&&(f[l]=o)):k&&(l.value=o,t.k&&(c[t.k]=o))};o?(A.id=-1,me(A,s)):A()}}}Fs().requestIdleCallback;Fs().cancelIdleCallback;const zt=t=>!!t.type.__asyncLoader,Ni=t=>t.type.__isKeepAlive;function Ka(t,e){Bi(t,"a",e)}function Wa(t,e){Bi(t,"da",e)}function Bi(t,e,s=le){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Hs(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Ni(n.parent.vnode)&&Va(r,e,s,n),n=n.parent}}function Va(t,e,s,r){const n=Hs(e,t,r,!0);Zr(()=>{Ur(r[e],n)},s)}function Hs(t,e,s=le,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{st();const a=cs(s),l=Ue(e,s,t,o);return a(),rt(),l});return r?n.unshift(i):n.push(i),i}}const qe=t=>(e,s=le)=>{(!os||t==="sp")&&Hs(t,(...r)=>e(...r),s)},Ja=qe("bm"),Hi=qe("m"),za=qe("bu"),Ga=qe("u"),Ya=qe("bum"),Zr=qe("um"),Qa=qe("sp"),Xa=qe("rtg"),Za=qe("rtc");function el(t,e=le){Hs("ec",t,e)}const tl=Symbol.for("v-ndc"),Sr=t=>t?lo(t)?rn(t):Sr(t.parent):null,Gt=re(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Sr(t.parent),$root:t=>Sr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>en(t),$forceUpdate:t=>t.f||(t.f=()=>{Qr(t.update)}),$nextTick:t=>t.n||(t.n=Ri.bind(t.proxy)),$watch:t=>El.bind(t)}),ir=(t,e)=>t!==Q&&!t.__isScriptSetup&&K(t,e),sl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(ir(r,e))return o[e]=1,r[e];if(n!==Q&&K(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&K(u,e))return o[e]=3,i[e];if(s!==Q&&K(s,e))return o[e]=4,s[e];Tr&&(o[e]=0)}}const c=Gt[e];let f,p;if(c)return e==="$attrs"&&ae(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(s!==Q&&K(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,K(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return ir(n,e)?(n[e]=s,!0):r!==Q&&K(r,e)?(r[e]=s,!0):K(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==Q&&K(t,o)||ir(e,o)||(a=i[0])&&K(a,o)||K(r,o)||K(Gt,o)||K(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:K(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function wn(t){return I(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Tr=!0;function rl(t){const e=en(t),s=t.proxy,r=t.ctx;Tr=!1,e.beforeCreate&&Sn(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:p,beforeUpdate:_,updated:O,activated:k,deactivated:A,beforeDestroy:$,beforeUnmount:N,destroyed:U,unmounted:x,render:R,renderTracked:Me,renderTriggered:ie,errorCaptured:q,serverPrefetch:V,expose:Z,inheritAttrs:Se,components:Ce,directives:Ke,filters:It}=e;if(u&&nl(u,r,null),o)for(const M in o){const J=o[M];L(J)&&(r[M]=J.bind(s))}if(n){const M=n.call(s,s);te(M)&&(t.data=Ns(M))}if(Tr=!0,i)for(const M in i){const J=i[M],nt=L(J)?J.bind(s,s):L(J.get)?J.get.bind(s,s):De,ds=!L(J)&&L(J.set)?J.set.bind(s):De,it=uo({get:nt,set:ds});Object.defineProperty(r,M,{enumerable:!0,configurable:!0,get:()=>it.value,set:je=>it.value=je})}if(a)for(const M in a)qi(a[M],r,s,M);if(l){const M=L(l)?l.call(s):l;Reflect.ownKeys(M).forEach(J=>{ul(J,M[J])})}c&&Sn(c,t,"c");function X(M,J){I(J)?J.forEach(nt=>M(nt.bind(s))):J&&M(J.bind(s))}if(X(Ja,f),X(Hi,p),X(za,_),X(Ga,O),X(Ka,k),X(Wa,A),X(el,q),X(Za,Me),X(Xa,ie),X(Ya,N),X(Zr,x),X(Qa,V),I(Z))if(Z.length){const M=t.exposed||(t.exposed={});Z.forEach(J=>{Object.defineProperty(M,J,{get:()=>s[J],set:nt=>s[J]=nt})})}else t.exposed||(t.exposed={});R&&t.render===De&&(t.render=R),Se!=null&&(t.inheritAttrs=Se),Ce&&(t.components=Ce),Ke&&(t.directives=Ke),V&&Fi(t)}function nl(t,e,s=De){I(t)&&(t=Er(t));for(const r in t){const n=t[r];let i;te(n)?"default"in n?i=Yt(n.from||r,n.default,!0):i=Yt(n.from||r):i=Yt(n),ee(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Sn(t,e,s){Ue(I(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function qi(t,e,s,r){let n=r.includes(".")?ro(s,r):()=>s[r];if(ne(t)){const i=e[t];L(i)&&Ts(n,i)}else if(L(t))Ts(n,t.bind(s));else if(te(t))if(I(t))t.forEach(i=>qi(i,e,s,r));else{const i=L(t.handler)?t.handler.bind(s):e[t.handler];L(i)&&Ts(n,i,t)}}function en(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Rs(l,u,o,!0)),Rs(l,e,o)),te(e)&&i.set(e,l),l}function Rs(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Rs(t,i,s,!0),n&&n.forEach(o=>Rs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=il[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const il={data:Tn,props:En,emits:En,methods:Ht,computed:Ht,beforeCreate:ce,created:ce,beforeMount:ce,mounted:ce,beforeUpdate:ce,updated:ce,beforeDestroy:ce,beforeUnmount:ce,destroyed:ce,unmounted:ce,activated:ce,deactivated:ce,errorCaptured:ce,serverPrefetch:ce,components:Ht,directives:Ht,watch:al,provide:Tn,inject:ol};function Tn(t,e){return e?t?function(){return re(L(t)?t.call(this,this):t,L(e)?e.call(this,this):e)}:e:t}function ol(t,e){return Ht(Er(t),Er(e))}function Er(t){if(I(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ce(t,e){return t?[...new Set([].concat(t,e))]:e}function Ht(t,e){return t?re(Object.create(null),t,e):e}function En(t,e){return t?I(t)&&I(e)?[...new Set([...t,...e])]:re(Object.create(null),wn(t),wn(e??{})):e}function al(t,e){if(!t)return e;if(!e)return t;const s=re(Object.create(null),t);for(const r in e)s[r]=ce(t[r],e[r]);return s}function Ki(){return{app:null,config:{isNativeTag:Vo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ll=0;function cl(t,e){return function(r,n=null){L(r)||(r=re({},r)),n!=null&&!te(n)&&(n=null);const i=Ki(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:ll++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Vl,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&L(c.install)?(o.add(c),c.install(u,...f)):L(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,p){if(!l){const _=u._ceVNode||et(r,n);return _.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(_,c):t(_,c,p),l=!0,u._container=c,c.__vue_app__=u,rn(_.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ue(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=pt;pt=u;try{return c()}finally{pt=f}}};return u}}let pt=null;function ul(t,e){if(le){let s=le.provides;const r=le.parent&&le.parent.provides;r===s&&(s=le.provides=Object.create(r)),s[t]=e}}function Yt(t,e,s=!1){const r=le||xe;if(r||pt){const n=pt?pt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&L(e)?e.call(r&&r.proxy):e}}function hl(){return!!(le||xe||pt)}const Wi={},Vi=()=>Object.create(Wi),Ji=t=>Object.getPrototypeOf(t)===Wi;function fl(t,e,s,r=!1){const n={},i=Vi();t.propsDefaults=Object.create(null),zi(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:xa(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function dl(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=H(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let p=c[f];if(qs(t.emitsOptions,p))continue;const _=e[p];if(l)if(K(i,p))_!==i[p]&&(i[p]=_,u=!0);else{const O=tt(p);n[O]=Or(l,a,O,_,t,!1)}else _!==i[p]&&(i[p]=_,u=!0)}}}else{zi(t,e,n,i)&&(u=!0);let c;for(const f in a)(!e||!K(e,f)&&((c=_t(f))===f||!K(e,c)))&&(l?s&&(s[f]!==void 0||s[c]!==void 0)&&(n[f]=Or(l,a,f,void 0,t,!0)):delete n[f]);if(i!==a)for(const f in i)(!e||!K(e,f))&&(delete i[f],u=!0)}u&&He(t.attrs,"set","")}function zi(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Wt(l))continue;const u=e[l];let c;n&&K(n,c=tt(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:qs(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=H(s),u=a||Q;for(let c=0;c<i.length;c++){const f=i[c];s[f]=Or(n,l,f,u[f],t,!K(u,f))}}return o}function Or(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=K(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&L(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=cs(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===_t(s))&&(r=!0))}return r}const pl=new WeakMap;function Gi(t,e,s=!1){const r=s?pl:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!L(t)){const c=f=>{l=!0;const[p,_]=Gi(f,e,!0);re(o,p),_&&a.push(..._)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return te(t)&&r.set(t,Ot),Ot;if(I(i))for(let c=0;c<i.length;c++){const f=tt(i[c]);On(f)&&(o[f]=Q)}else if(i)for(const c in i){const f=tt(c);if(On(f)){const p=i[c],_=o[f]=I(p)||L(p)?{type:p}:re({},p),O=_.type;let k=!1,A=!0;if(I(O))for(let $=0;$<O.length;++$){const N=O[$],U=L(N)&&N.name;if(U==="Boolean"){k=!0;break}else U==="String"&&(A=!1)}else k=L(O)&&O.name==="Boolean";_[0]=k,_[1]=A,(k||K(_,"default"))&&a.push(f)}}const u=[o,a];return te(t)&&r.set(t,u),u}function On(t){return t[0]!=="$"&&!Wt(t)}const Yi=t=>t[0]==="_"||t==="$stable",tn=t=>I(t)?t.map(Le):[Le(t)],gl=(t,e,s)=>{if(e._n)return e;const r=Ba((...n)=>tn(e(...n)),s);return r._c=!1,r},Qi=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Yi(n))continue;const i=t[n];if(L(i))e[n]=gl(n,i,r);else if(i!=null){const o=tn(i);e[n]=()=>o}}},Xi=(t,e)=>{const s=tn(e);t.slots.default=()=>s},Zi=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},_l=(t,e,s)=>{const r=t.slots=Vi();if(t.vnode.shapeFlag&32){const n=e._;n?(Zi(r,e,s),s&&hi(r,"_",n,!0)):Qi(e,r)}else e&&Xi(t,e)},vl=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=Q;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Zi(n,e,s):(i=!e.$stable,Qi(e,n)),o=e}else e&&(Xi(t,e),o={default:1});if(i)for(const a in n)!Yi(a)&&o[a]==null&&delete n[a]},me=jl;function ml(t){return yl(t)}function yl(t,e){const s=Fs();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:p,setScopeId:_=De,insertStaticContent:O}=t,k=(h,d,g,y=null,v=null,m=null,T=void 0,S=null,w=!!d.dynamicChildren)=>{if(h===d)return;h&&!Ft(h,d)&&(y=ps(h),je(h,v,m,!0),h=null),d.patchFlag===-2&&(w=!1,d.dynamicChildren=null);const{type:b,ref:C,shapeFlag:E}=d;switch(b){case Ks:A(h,d,g,y);break;case ns:$(h,d,g,y);break;case lr:h==null&&N(d,g,y,T);break;case Be:Ce(h,d,g,y,v,m,T,S,w);break;default:E&1?R(h,d,g,y,v,m,T,S,w):E&6?Ke(h,d,g,y,v,m,T,S,w):(E&64||E&128)&&b.process(h,d,g,y,v,m,T,S,w,Dt)}C!=null&&v&&wr(C,h&&h.ref,m,d||h,!d)},A=(h,d,g,y)=>{if(h==null)r(d.el=a(d.children),g,y);else{const v=d.el=h.el;d.children!==h.children&&u(v,d.children)}},$=(h,d,g,y)=>{h==null?r(d.el=l(d.children||""),g,y):d.el=h.el},N=(h,d,g,y)=>{[h.el,h.anchor]=O(h.children,d,g,y,h.el,h.anchor)},U=({el:h,anchor:d},g,y)=>{let v;for(;h&&h!==d;)v=p(h),r(h,g,y),h=v;r(d,g,y)},x=({el:h,anchor:d})=>{let g;for(;h&&h!==d;)g=p(h),n(h),h=g;n(d)},R=(h,d,g,y,v,m,T,S,w)=>{d.type==="svg"?T="svg":d.type==="math"&&(T="mathml"),h==null?Me(d,g,y,v,m,T,S,w):V(h,d,v,m,T,S,w)},Me=(h,d,g,y,v,m,T,S)=>{let w,b;const{props:C,shapeFlag:E,transition:P,dirs:j}=h;if(w=h.el=o(h.type,m,C&&C.is,C),E&8?c(w,h.children):E&16&&q(h.children,w,null,y,v,or(h,m),T,S),j&&ot(h,null,y,"created"),ie(w,h,h.scopeId,T,y),C){for(const z in C)z!=="value"&&!Wt(z)&&i(w,z,null,C[z],m,y);"value"in C&&i(w,"value",null,C.value,m),(b=C.onVnodeBeforeMount)&&Re(b,y,h)}j&&ot(h,null,y,"beforeMount");const B=bl(v,P);B&&P.beforeEnter(w),r(w,d,g),((b=C&&C.onVnodeMounted)||B||j)&&me(()=>{b&&Re(b,y,h),B&&P.enter(w),j&&ot(h,null,y,"mounted")},v)},ie=(h,d,g,y,v)=>{if(g&&_(h,g),y)for(let m=0;m<y.length;m++)_(h,y[m]);if(v){let m=v.subTree;if(d===m||io(m.type)&&(m.ssContent===d||m.ssFallback===d)){const T=v.vnode;ie(h,T,T.scopeId,T.slotScopeIds,v.parent)}}},q=(h,d,g,y,v,m,T,S,w=0)=>{for(let b=w;b<h.length;b++){const C=h[b]=S?Ge(h[b]):Le(h[b]);k(null,C,d,g,y,v,m,T,S)}},V=(h,d,g,y,v,m,T)=>{const S=d.el=h.el;let{patchFlag:w,dynamicChildren:b,dirs:C}=d;w|=h.patchFlag&16;const E=h.props||Q,P=d.props||Q;let j;if(g&&at(g,!1),(j=P.onVnodeBeforeUpdate)&&Re(j,g,d,h),C&&ot(d,h,g,"beforeUpdate"),g&&at(g,!0),(E.innerHTML&&P.innerHTML==null||E.textContent&&P.textContent==null)&&c(S,""),b?Z(h.dynamicChildren,b,S,g,y,or(d,v),m):T||J(h,d,S,null,g,y,or(d,v),m,!1),w>0){if(w&16)Se(S,E,P,g,v);else if(w&2&&E.class!==P.class&&i(S,"class",null,P.class,v),w&4&&i(S,"style",E.style,P.style,v),w&8){const B=d.dynamicProps;for(let z=0;z<B.length;z++){const W=B[z],ge=E[W],oe=P[W];(oe!==ge||W==="value")&&i(S,W,ge,oe,v,g)}}w&1&&h.children!==d.children&&c(S,d.children)}else!T&&b==null&&Se(S,E,P,g,v);((j=P.onVnodeUpdated)||C)&&me(()=>{j&&Re(j,g,d,h),C&&ot(d,h,g,"updated")},y)},Z=(h,d,g,y,v,m,T)=>{for(let S=0;S<d.length;S++){const w=h[S],b=d[S],C=w.el&&(w.type===Be||!Ft(w,b)||w.shapeFlag&70)?f(w.el):g;k(w,b,C,null,y,v,m,T,!0)}},Se=(h,d,g,y,v)=>{if(d!==g){if(d!==Q)for(const m in d)!Wt(m)&&!(m in g)&&i(h,m,d[m],null,v,y);for(const m in g){if(Wt(m))continue;const T=g[m],S=d[m];T!==S&&m!=="value"&&i(h,m,S,T,v,y)}"value"in g&&i(h,"value",d.value,g.value,v)}},Ce=(h,d,g,y,v,m,T,S,w)=>{const b=d.el=h?h.el:a(""),C=d.anchor=h?h.anchor:a("");let{patchFlag:E,dynamicChildren:P,slotScopeIds:j}=d;j&&(S=S?S.concat(j):j),h==null?(r(b,g,y),r(C,g,y),q(d.children||[],g,C,v,m,T,S,w)):E>0&&E&64&&P&&h.dynamicChildren?(Z(h.dynamicChildren,P,g,v,m,T,S),(d.key!=null||v&&d===v.subTree)&&eo(h,d,!0)):J(h,d,g,C,v,m,T,S,w)},Ke=(h,d,g,y,v,m,T,S,w)=>{d.slotScopeIds=S,h==null?d.shapeFlag&512?v.ctx.activate(d,g,y,T,w):It(d,g,y,v,m,T,w):fs(h,d,w)},It=(h,d,g,y,v,m,T)=>{const S=h.component=Nl(h,y,v);if(Ni(h)&&(S.ctx.renderer=Dt),Bl(S,!1,T),S.asyncDep){if(v&&v.registerDep(S,X,T),!h.el){const w=S.subTree=et(ns);$(null,w,d,g)}}else X(S,h,d,g,v,m,T)},fs=(h,d,g)=>{const y=d.component=h.component;if(Al(h,d,g))if(y.asyncDep&&!y.asyncResolved){M(y,d,g);return}else y.next=d,y.update();else d.el=h.el,y.vnode=d},X=(h,d,g,y,v,m,T)=>{const S=()=>{if(h.isMounted){let{next:E,bu:P,u:j,parent:B,vnode:z}=h;{const _e=to(h);if(_e){E&&(E.el=z.el,M(h,E,T)),_e.asyncDep.then(()=>{h.isUnmounted||S()});return}}let W=E,ge;at(h,!1),E?(E.el=z.el,M(h,E,T)):E=z,P&&tr(P),(ge=E.props&&E.props.onVnodeBeforeUpdate)&&Re(ge,B,E,z),at(h,!0);const oe=ar(h),Ee=h.subTree;h.subTree=oe,k(Ee,oe,f(Ee.el),ps(Ee),h,v,m),E.el=oe.el,W===null&&Cl(h,oe.el),j&&me(j,v),(ge=E.props&&E.props.onVnodeUpdated)&&me(()=>Re(ge,B,E,z),v)}else{let E;const{el:P,props:j}=d,{bm:B,m:z,parent:W,root:ge,type:oe}=h,Ee=zt(d);if(at(h,!1),B&&tr(B),!Ee&&(E=j&&j.onVnodeBeforeMount)&&Re(E,W,d),at(h,!0),P&&dn){const _e=()=>{h.subTree=ar(h),dn(P,h.subTree,h,v,null)};Ee&&oe.__asyncHydrate?oe.__asyncHydrate(P,h,_e):_e()}else{ge.ce&&ge.ce._injectChildStyle(oe);const _e=h.subTree=ar(h);k(null,_e,g,y,h,v,m),d.el=_e.el}if(z&&me(z,v),!Ee&&(E=j&&j.onVnodeMounted)){const _e=d;me(()=>Re(E,W,_e),v)}(d.shapeFlag&256||W&&zt(W.vnode)&&W.vnode.shapeFlag&256)&&h.a&&me(h.a,v),h.isMounted=!0,d=g=y=null}};h.scope.on();const w=h.effect=new _i(S);h.scope.off();const b=h.update=w.run.bind(w),C=h.job=w.runIfDirty.bind(w);C.i=h,C.id=h.uid,w.scheduler=()=>Qr(C),at(h,!0),b()},M=(h,d,g)=>{d.component=h;const y=h.vnode.props;h.vnode=d,h.next=null,dl(h,d.props,y,g),vl(h,d.children,g),st(),bn(h),rt()},J=(h,d,g,y,v,m,T,S,w=!1)=>{const b=h&&h.children,C=h?h.shapeFlag:0,E=d.children,{patchFlag:P,shapeFlag:j}=d;if(P>0){if(P&128){ds(b,E,g,y,v,m,T,S,w);return}else if(P&256){nt(b,E,g,y,v,m,T,S,w);return}}j&8?(C&16&&Lt(b,v,m),E!==b&&c(g,E)):C&16?j&16?ds(b,E,g,y,v,m,T,S,w):Lt(b,v,m,!0):(C&8&&c(g,""),j&16&&q(E,g,y,v,m,T,S,w))},nt=(h,d,g,y,v,m,T,S,w)=>{h=h||Ot,d=d||Ot;const b=h.length,C=d.length,E=Math.min(b,C);let P;for(P=0;P<E;P++){const j=d[P]=w?Ge(d[P]):Le(d[P]);k(h[P],j,g,null,v,m,T,S,w)}b>C?Lt(h,v,m,!0,!1,E):q(d,g,y,v,m,T,S,w,E)},ds=(h,d,g,y,v,m,T,S,w)=>{let b=0;const C=d.length;let E=h.length-1,P=C-1;for(;b<=E&&b<=P;){const j=h[b],B=d[b]=w?Ge(d[b]):Le(d[b]);if(Ft(j,B))k(j,B,g,null,v,m,T,S,w);else break;b++}for(;b<=E&&b<=P;){const j=h[E],B=d[P]=w?Ge(d[P]):Le(d[P]);if(Ft(j,B))k(j,B,g,null,v,m,T,S,w);else break;E--,P--}if(b>E){if(b<=P){const j=P+1,B=j<C?d[j].el:y;for(;b<=P;)k(null,d[b]=w?Ge(d[b]):Le(d[b]),g,B,v,m,T,S,w),b++}}else if(b>P)for(;b<=E;)je(h[b],v,m,!0),b++;else{const j=b,B=b,z=new Map;for(b=B;b<=P;b++){const ve=d[b]=w?Ge(d[b]):Le(d[b]);ve.key!=null&&z.set(ve.key,b)}let W,ge=0;const oe=P-B+1;let Ee=!1,_e=0;const Ut=new Array(oe);for(b=0;b<oe;b++)Ut[b]=0;for(b=j;b<=E;b++){const ve=h[b];if(ge>=oe){je(ve,v,m,!0);continue}let $e;if(ve.key!=null)$e=z.get(ve.key);else for(W=B;W<=P;W++)if(Ut[W-B]===0&&Ft(ve,d[W])){$e=W;break}$e===void 0?je(ve,v,m,!0):(Ut[$e-B]=b+1,$e>=_e?_e=$e:Ee=!0,k(ve,d[$e],g,null,v,m,T,S,w),ge++)}const pn=Ee?wl(Ut):Ot;for(W=pn.length-1,b=oe-1;b>=0;b--){const ve=B+b,$e=d[ve],gn=ve+1<C?d[ve+1].el:y;Ut[b]===0?k(null,$e,g,gn,v,m,T,S,w):Ee&&(W<0||b!==pn[W]?it($e,g,gn,2):W--)}}},it=(h,d,g,y,v=null)=>{const{el:m,type:T,transition:S,children:w,shapeFlag:b}=h;if(b&6){it(h.component.subTree,d,g,y);return}if(b&128){h.suspense.move(d,g,y);return}if(b&64){T.move(h,d,g,Dt);return}if(T===Be){r(m,d,g);for(let E=0;E<w.length;E++)it(w[E],d,g,y);r(h.anchor,d,g);return}if(T===lr){U(h,d,g);return}if(y!==2&&b&1&&S)if(y===0)S.beforeEnter(m),r(m,d,g),me(()=>S.enter(m),v);else{const{leave:E,delayLeave:P,afterLeave:j}=S,B=()=>r(m,d,g),z=()=>{E(m,()=>{B(),j&&j()})};P?P(m,B,z):z()}else r(m,d,g)},je=(h,d,g,y=!1,v=!1)=>{const{type:m,props:T,ref:S,children:w,dynamicChildren:b,shapeFlag:C,patchFlag:E,dirs:P,cacheIndex:j}=h;if(E===-2&&(v=!1),S!=null&&wr(S,null,g,h,!0),j!=null&&(d.renderCache[j]=void 0),C&256){d.ctx.deactivate(h);return}const B=C&1&&P,z=!zt(h);let W;if(z&&(W=T&&T.onVnodeBeforeUnmount)&&Re(W,d,h),C&6)qo(h.component,g,y);else{if(C&128){h.suspense.unmount(g,y);return}B&&ot(h,null,d,"beforeUnmount"),C&64?h.type.remove(h,d,g,Dt,y):b&&!b.hasOnce&&(m!==Be||E>0&&E&64)?Lt(b,d,g,!1,!0):(m===Be&&E&384||!v&&C&16)&&Lt(w,d,g),y&&un(h)}(z&&(W=T&&T.onVnodeUnmounted)||B)&&me(()=>{W&&Re(W,d,h),B&&ot(h,null,d,"unmounted")},g)},un=h=>{const{type:d,el:g,anchor:y,transition:v}=h;if(d===Be){Ho(g,y);return}if(d===lr){x(h);return}const m=()=>{n(g),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(h.shapeFlag&1&&v&&!v.persisted){const{leave:T,delayLeave:S}=v,w=()=>T(g,m);S?S(h.el,m,w):w()}else m()},Ho=(h,d)=>{let g;for(;h!==d;)g=p(h),n(h),h=g;n(d)},qo=(h,d,g)=>{const{bum:y,scope:v,job:m,subTree:T,um:S,m:w,a:b}=h;kn(w),kn(b),y&&tr(y),v.stop(),m&&(m.flags|=8,je(T,h,d,g)),S&&me(S,d),me(()=>{h.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Lt=(h,d,g,y=!1,v=!1,m=0)=>{for(let T=m;T<h.length;T++)je(h[T],d,g,y,v)},ps=h=>{if(h.shapeFlag&6)return ps(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const d=p(h.anchor||h.el),g=d&&d[Ha];return g?p(g):d};let Zs=!1;const hn=(h,d,g)=>{h==null?d._vnode&&je(d._vnode,null,null,!0):k(d._vnode||null,h,d,null,null,null,g),d._vnode=h,Zs||(Zs=!0,bn(),Li(),Zs=!1)},Dt={p:k,um:je,m:it,r:un,mt:It,mc:q,pc:J,pbc:Z,n:ps,o:t};let fn,dn;return{render:hn,hydrate:fn,createApp:cl(hn,fn)}}function or({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function at({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function bl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function eo(t,e,s=!1){const r=t.children,n=e.children;if(I(r)&&I(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Ge(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&eo(o,a)),a.type===Ks&&(a.el=o.el)}}function wl(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function to(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:to(e)}function kn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Sl=Symbol.for("v-scx"),Tl=()=>Yt(Sl);function Ts(t,e,s){return so(t,e,s)}function so(t,e,s=Q){const{immediate:r,deep:n,flush:i,once:o}=s,a=re({},s),l=e&&r||!e&&i!=="post";let u;if(os){if(i==="sync"){const _=Tl();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!l){const _=()=>{};return _.stop=De,_.resume=De,_.pause=De,_}}const c=le;a.call=(_,O,k)=>Ue(_,c,O,k);let f=!1;i==="post"?a.scheduler=_=>{me(_,c&&c.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(_,O)=>{O?_():Qr(_)}),a.augmentJob=_=>{e&&(_.flags|=4),f&&(_.flags|=2,c&&(_.id=c.uid,_.i=c))};const p=Ua(t,e,a);return os&&(u?u.push(p):l&&p()),p}function El(t,e,s){const r=this.proxy,n=ne(t)?t.includes(".")?ro(r,t):()=>r[t]:t.bind(r,r);let i;L(e)?i=e:(i=e.handler,s=e);const o=cs(this),a=so(n,i.bind(r),s);return o(),a}function ro(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Ol=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${tt(e)}Modifiers`]||t[`${_t(e)}Modifiers`];function kl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||Q;let n=s;const i=e.startsWith("update:"),o=i&&Ol(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>ne(c)?c.trim():c)),o.number&&(n=s.map(ea)));let a,l=r[a=er(e)]||r[a=er(tt(e))];!l&&i&&(l=r[a=er(_t(e))]),l&&Ue(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ue(u,t,6,n)}}function no(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!L(t)){const l=u=>{const c=no(u,e,!0);c&&(a=!0,re(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(te(t)&&r.set(t,null),null):(I(i)?i.forEach(l=>o[l]=null):re(o,i),te(t)&&r.set(t,o),o)}function qs(t,e){return!t||!Ds(e)?!1:(e=e.slice(2).replace(/Once$/,""),K(t,e[0].toLowerCase()+e.slice(1))||K(t,_t(e))||K(t,e))}function ar(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:p,setupState:_,ctx:O,inheritAttrs:k}=t,A=$s(t);let $,N;try{if(s.shapeFlag&4){const x=n||r,R=x;$=Le(u.call(R,x,c,f,_,p,O)),N=a}else{const x=e;$=Le(x.length>1?x(f,{attrs:a,slots:o,emit:l}):x(f,null)),N=e.props?a:xl(a)}}catch(x){Qt.length=0,Bs(x,t,1),$=et(ns)}let U=$;if(N&&k!==!1){const x=Object.keys(N),{shapeFlag:R}=U;x.length&&R&7&&(i&&x.some(Dr)&&(N=Pl(N,i)),U=Pt(U,N,!1,!0))}return s.dirs&&(U=Pt(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&Xr(U,s.transition),$=U,$s(A),$}const xl=t=>{let e;for(const s in t)(s==="class"||s==="style"||Ds(s))&&((e||(e={}))[s]=t[s]);return e},Pl=(t,e)=>{const s={};for(const r in t)(!Dr(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Al(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?xn(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const p=c[f];if(o[p]!==r[p]&&!qs(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?xn(r,o,u):!0:!!o;return!1}function xn(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!qs(s,i))return!0}return!1}function Cl({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const io=t=>t.__isSuspense;function jl(t,e){e&&e.pendingBranch?I(t)?e.effects.push(...t):e.effects.push(t):Na(t)}const Be=Symbol.for("v-fgt"),Ks=Symbol.for("v-txt"),ns=Symbol.for("v-cmt"),lr=Symbol.for("v-stc"),Qt=[];let we=null;function Es(t=!1){Qt.push(we=t?null:[])}function $l(){Qt.pop(),we=Qt[Qt.length-1]||null}let is=1;function Pn(t){is+=t,t<0&&we&&(we.hasOnce=!0)}function Rl(t){return t.dynamicChildren=is>0?we||Ot:null,$l(),is>0&&we&&we.push(t),t}function Os(t,e,s,r,n,i){return Rl(be(t,e,s,r,n,i,!0))}function oo(t){return t?t.__v_isVNode===!0:!1}function Ft(t,e){return t.type===e.type&&t.key===e.key}const ao=({key:t})=>t??null,ks=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ne(t)||ee(t)||L(t)?{i:xe,r:t,k:e,f:!!s}:t:null);function be(t,e=null,s=null,r=0,n=null,i=t===Be?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ao(e),ref:e&&ks(e),scopeId:Ui,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:xe};return a?(sn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ne(s)?8:16),is>0&&!o&&we&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&we.push(l),l}const et=Il;function Il(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===tl)&&(t=ns),oo(t)){const a=Pt(t,e,!0);return s&&sn(a,s),is>0&&!i&&we&&(a.shapeFlag&6?we[we.indexOf(t)]=a:we.push(a)),a.patchFlag=-2,a}if(Wl(t)&&(t=t.__vccOpts),e){e=Ll(e);let{class:a,style:l}=e;a&&!ne(a)&&(e.class=Nr(a)),te(l)&&(zr(l)&&!I(l)&&(l=re({},l)),e.style=Fr(l))}const o=ne(t)?1:io(t)?128:qa(t)?64:te(t)?4:L(t)?2:0;return be(t,e,s,r,n,o,i,!0)}function Ll(t){return t?zr(t)||Ji(t)?re({},t):t:null}function Pt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Ul(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&ao(u),ref:e&&e.ref?s&&i?I(i)?i.concat(ks(e)):[i,ks(e)]:ks(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Be?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pt(t.ssContent),ssFallback:t.ssFallback&&Pt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Xr(c,l.clone(c)),c}function Dl(t=" ",e=0){return et(Ks,null,t,e)}function Le(t){return t==null||typeof t=="boolean"?et(ns):I(t)?et(Be,null,t.slice()):oo(t)?Ge(t):et(Ks,null,String(t))}function Ge(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Pt(t)}function sn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(I(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),sn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Ji(e)?e._ctx=xe:n===3&&xe&&(xe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else L(e)?(e={default:e,_ctx:xe},s=32):(e=String(e),r&64?(s=16,e=[Dl(e)]):s=8);t.children=e,t.shapeFlag|=s}function Ul(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Nr([e.class,r.class]));else if(n==="style")e.style=Fr([e.style,r.style]);else if(Ds(n)){const i=e[n],o=r[n];o&&i!==o&&!(I(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Re(t,e,s,r=null){Ue(t,e,7,[s,r])}const Ml=Ki();let Fl=0;function Nl(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Ml,i={uid:Fl++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new di(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gi(r,n),emitsOptions:no(r,n),emit:null,emitted:null,propsDefaults:Q,inheritAttrs:r.inheritAttrs,ctx:Q,data:Q,props:Q,attrs:Q,slots:Q,refs:Q,setupState:Q,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=kl.bind(null,i),t.ce&&t.ce(i),i}let le=null,Is,kr;{const t=Fs(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Is=e("__VUE_INSTANCE_SETTERS__",s=>le=s),kr=e("__VUE_SSR_SETTERS__",s=>os=s)}const cs=t=>{const e=le;return Is(t),t.scope.on(),()=>{t.scope.off(),Is(e)}},An=()=>{le&&le.scope.off(),Is(null)};function lo(t){return t.vnode.shapeFlag&4}let os=!1;function Bl(t,e=!1,s=!1){e&&kr(e);const{props:r,children:n}=t.vnode,i=lo(t);fl(t,r,i,e),_l(t,n,s);const o=i?Hl(t,e):void 0;return e&&kr(!1),o}function Hl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sl);const{setup:r}=s;if(r){st();const n=t.setupContext=r.length>1?Kl(t):null,i=cs(t),o=ls(r,t,0,[t.props,n]),a=ci(o);if(rt(),i(),(a||t.sp)&&!zt(t)&&Fi(t),a){if(o.then(An,An),e)return o.then(l=>{Cn(t,l,e)}).catch(l=>{Bs(l,t,0)});t.asyncDep=o}else Cn(t,o,e)}else co(t,e)}function Cn(t,e,s){L(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:te(e)&&(t.setupState=ji(e)),co(t,s)}let jn;function co(t,e,s){const r=t.type;if(!t.render){if(!e&&jn&&!r.render){const n=r.template||en(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=re(re({isCustomElement:i,delimiters:a},o),l);r.render=jn(n,u)}}t.render=r.render||De}{const n=cs(t);st();try{rl(t)}finally{rt(),n()}}}const ql={get(t,e){return ae(t,"get",""),t[e]}};function Kl(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,ql),slots:t.slots,emit:t.emit,expose:e}}function rn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ji(Gr(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Gt)return Gt[s](t)},has(e,s){return s in e||s in Gt}})):t.proxy}function Wl(t){return L(t)&&"__vccOpts"in t}const uo=(t,e)=>La(t,e,os),Vl="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xr;const $n=typeof window<"u"&&window.trustedTypes;if($n)try{xr=$n.createPolicy("vue",{createHTML:t=>t})}catch{}const ho=xr?t=>xr.createHTML(t):t=>t,Jl="http://www.w3.org/2000/svg",zl="http://www.w3.org/1998/Math/MathML",Ne=typeof document<"u"?document:null,Rn=Ne&&Ne.createElement("template"),Gl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Ne.createElementNS(Jl,t):e==="mathml"?Ne.createElementNS(zl,t):s?Ne.createElement(t,{is:s}):Ne.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Ne.createTextNode(t),createComment:t=>Ne.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ne.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Rn.innerHTML=ho(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Rn.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Yl=Symbol("_vtc");function Ql(t,e,s){const r=t[Yl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const In=Symbol("_vod"),Xl=Symbol("_vsh"),Zl=Symbol(""),ec=/(^|;)\s*display\s*:/;function tc(t,e,s){const r=t.style,n=ne(s);let i=!1;if(s&&!n){if(e)if(ne(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&xs(r,a,"")}else for(const o in e)s[o]==null&&xs(r,o,"");for(const o in s)o==="display"&&(i=!0),xs(r,o,s[o])}else if(n){if(e!==s){const o=r[Zl];o&&(s+=";"+o),r.cssText=s,i=ec.test(s)}}else e&&t.removeAttribute("style");In in t&&(t[In]=i?r.display:"",t[Xl]&&(r.display="none"))}const Ln=/\s*!important$/;function xs(t,e,s){if(I(s))s.forEach(r=>xs(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=sc(t,e);Ln.test(s)?t.setProperty(_t(r),s.replace(Ln,""),"important"):t[r]=s}}const Dn=["Webkit","Moz","ms"],cr={};function sc(t,e){const s=cr[e];if(s)return s;let r=tt(e);if(r!=="filter"&&r in t)return cr[e]=r;r=ui(r);for(let n=0;n<Dn.length;n++){const i=Dn[n]+r;if(i in t)return cr[e]=i}return e}const Un="http://www.w3.org/1999/xlink";function Mn(t,e,s,r,n,i=oa(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Un,e.slice(6,e.length)):t.setAttributeNS(Un,e,s):s==null||i&&!fi(s)?t.removeAttribute(e):t.setAttribute(e,i?"":jt(s)?String(s):s)}function Fn(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?ho(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=fi(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function rc(t,e,s,r){t.addEventListener(e,s,r)}function nc(t,e,s,r){t.removeEventListener(e,s,r)}const Nn=Symbol("_vei");function ic(t,e,s,r,n=null){const i=t[Nn]||(t[Nn]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=oc(e);if(r){const u=i[e]=cc(r,n);rc(t,a,u,l)}else o&&(nc(t,a,o,l),i[e]=void 0)}}const Bn=/(?:Once|Passive|Capture)$/;function oc(t){let e;if(Bn.test(t)){e={};let r;for(;r=t.match(Bn);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_t(t.slice(2)),e]}let ur=0;const ac=Promise.resolve(),lc=()=>ur||(ac.then(()=>ur=0),ur=Date.now());function cc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Ue(uc(r,s.value),e,5,[r])};return s.value=t,s.attached=lc(),s}function uc(t,e){if(I(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Hn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,hc=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Ql(t,r,o):e==="style"?tc(t,s,r):Ds(e)?Dr(e)||ic(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):fc(t,e,r,o))?(Fn(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Mn(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ne(r))?Fn(t,tt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Mn(t,e,r,o))};function fc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Hn(e)&&L(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Hn(e)&&ne(s)?!1:e in t}const dc=re({patchProp:hc},Gl);let qn;function pc(){return qn||(qn=ml(dc))}const gc=(...t)=>{const e=pc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=vc(r);if(!n)return;const i=e._component;!L(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,_c(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function _c(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function vc(t){return ne(t)?document.querySelector(t):t}var mc=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let fo;const Ws=t=>fo=t,po=Symbol();function Kn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Xt;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Xt||(Xt={}));function yc(){const t=pi(!0),e=t.run(()=>Yr({}));let s=[],r=[];const n=Gr({install(i){Ws(n),n._a=i,i.provide(po,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!mc?r.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const bc=()=>{};function Wn(t,e,s,r=bc){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&gi()&&aa(n),n}function bt(t,...e){t.slice().forEach(s=>{s(...e)})}const wc=t=>t(),Vn=Symbol(),hr=Symbol();function go(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Kn(n)&&Kn(r)&&t.hasOwnProperty(s)&&!ee(r)&&!dt(r)?t[s]=go(n,r):t[s]=r}return t}const{assign:We}=Object;function Sc(t){return!!(ee(t)&&t.effect)}function Tc(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=ja(s.state.value[t]);return We(c,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=Gr(uo(()=>{Ws(s);const _=s._s.get(t);return o[p].call(_,_)})),f),{}))}return l=Ec(t,u,e,s,r,!0),l}function Ec(t,e,s={},r,n,i){let o;const a=We({actions:{}},s),l={deep:!0};let u,c,f=[],p=[],_;const O=r.state.value[t];Yr({});let k;function A(q){let V;u=c=!1,typeof q=="function"?(q(r.state.value[t]),V={type:Xt.patchFunction,storeId:t,events:_}):(go(r.state.value[t],q),V={type:Xt.patchObject,payload:q,storeId:t,events:_});const Z=k=Symbol();Ri().then(()=>{k===Z&&(u=!0)}),c=!0,bt(f,V,r.state.value[t])}const $=function(){const{state:V}=s,Z=V?V():{};this.$patch(Se=>{We(Se,Z)})};function N(){o.stop(),f=[],p=[],r._s.delete(t)}const U=(q,V="")=>{if(Vn in q)return q[hr]=V,q;const Z=function(){Ws(r);const Se=Array.from(arguments),Ce=[],Ke=[];function It(M){Ce.push(M)}function fs(M){Ke.push(M)}bt(p,{args:Se,name:Z[hr],store:R,after:It,onError:fs});let X;try{X=q.apply(this&&this.$id===t?this:R,Se)}catch(M){throw bt(Ke,M),M}return X instanceof Promise?X.then(M=>(bt(Ce,M),M)).catch(M=>(bt(Ke,M),Promise.reject(M))):(bt(Ce,X),X)};return Z[Vn]=!0,Z[hr]=V,Z},x={_p:r,$id:t,$onAction:Wn.bind(null,p),$patch:A,$reset:$,$subscribe(q,V={}){const Z=Wn(f,q,V.detached,()=>Se()),Se=o.run(()=>Ts(()=>r.state.value[t],Ce=>{(V.flush==="sync"?c:u)&&q({storeId:t,type:Xt.direct,events:_},Ce)},We({},l,V)));return Z},$dispose:N},R=Ns(x);r._s.set(t,R);const ie=(r._a&&r._a.runWithContext||wc)(()=>r._e.run(()=>(o=pi()).run(()=>e({action:U}))));for(const q in ie){const V=ie[q];if(!(ee(V)&&!Sc(V)||dt(V))){if(typeof V=="function"){const Z=U(V,q);ie[q]=Z,a.actions[q]=V}}}return We(R,ie),We(H(R),ie),Object.defineProperty(R,"$state",{get:()=>r.state.value[t],set:q=>{A(V=>{We(V,q)})}}),r._p.forEach(q=>{We(R,o.run(()=>q({store:R,app:r._a,pinia:r,options:a})))}),O&&i&&s.hydrate&&s.hydrate(R.$state,O),u=!0,c=!0,R}function Oc(t,e,s){let r,n;typeof t=="string"?(r=t,n=e):(n=t,r=t.id);function i(o,a){const l=hl();return o=o||(l?Yt(po,null):null),o&&Ws(o),o=fo,o._s.has(r)||Tc(r,n,o),o._s.get(r)}return i.$id=r,i}const kc="modulepreload",xc=function(t){return"/honest-care-page/"+t},Jn={},At=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=xc(l),l in Jn)return;Jn[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":kc,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,_)=>{f.addEventListener("load",p),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Pc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>At(async()=>{const{default:r}=await Promise.resolve().then(()=>$t);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class nn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Ac extends nn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Cc extends nn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jc extends nn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Pr||(Pr={}));var $c=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Rc{constructor(e,{headers:s={},customFetch:r,region:n=Pr.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Pc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return $c(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(O=>{throw new Ac(O)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new Cc(c);if(!c.ok)throw new jc(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield c.json():p==="application/octet-stream"?_=yield c.blob():p==="text/event-stream"?_=c:p==="multipart/form-data"?_=yield c.formData():_=yield c.text(),{data:_,error:null}}catch(n){return{data:null,error:n}}})}}var Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ic(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var pe={},on={},Vs={},us={},Js={},zs={},Lc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ct=Lc();const Dc=Ct.fetch,_o=Ct.fetch.bind(Ct),vo=Ct.Headers,Uc=Ct.Request,Mc=Ct.Response,$t=Object.freeze(Object.defineProperty({__proto__:null,Headers:vo,Request:Uc,Response:Mc,default:_o,fetch:Dc},Symbol.toStringTag,{value:"Module"})),Fc=Ic($t);var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});class Nc extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Gs.default=Nc;var mo=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zs,"__esModule",{value:!0});const Bc=mo(Fc),Hc=mo(Gs);let qc=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Bc.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,f=null,p=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const $=await i.text();$===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=$:c=JSON.parse($))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),A=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&A&&A.length>1&&(f=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,p=406,_="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const k=await i.text();try{u=JSON.parse(k),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,_="OK")}catch{i.status===404&&k===""?(p=204,_="No Content"):u={message:k}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,_="OK"),u&&this.shouldThrowOnError)throw new Hc.default(u)}return{error:u,data:c,count:f,status:p,statusText:_}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}};zs.default=qc;var Kc=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Js,"__esModule",{value:!0});const Wc=Kc(zs);let Vc=class extends Wc.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Js.default=Vc;var Jc=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(us,"__esModule",{value:!0});const zc=Jc(Js);let Gc=class extends zc.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};us.default=Gc;var Yc=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vs,"__esModule",{value:!0});const Nt=Yc(us);let Qc=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Nt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Nt.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Nt.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new Nt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Nt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Vs.default=Qc;var Ys={},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.version=void 0;Qs.version="0.0.0-automated";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.DEFAULT_HEADERS=void 0;const Xc=Qs;Ys.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Xc.version}`};var yo=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(on,"__esModule",{value:!0});const Zc=yo(Vs),eu=yo(us),tu=Ys;let su=class bo{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},tu.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new Zc.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bo(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{a.searchParams.append(c,f)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new eu.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};on.default=su;var Rt=Te&&Te.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pe,"__esModule",{value:!0});pe.PostgrestError=pe.PostgrestBuilder=pe.PostgrestTransformBuilder=pe.PostgrestFilterBuilder=pe.PostgrestQueryBuilder=pe.PostgrestClient=void 0;const wo=Rt(on);pe.PostgrestClient=wo.default;const So=Rt(Vs);pe.PostgrestQueryBuilder=So.default;const To=Rt(us);pe.PostgrestFilterBuilder=To.default;const Eo=Rt(Js);pe.PostgrestTransformBuilder=Eo.default;const Oo=Rt(zs);pe.PostgrestBuilder=Oo.default;const ko=Rt(Gs);pe.PostgrestError=ko.default;var ru=pe.default={PostgrestClient:wo.default,PostgrestQueryBuilder:So.default,PostgrestFilterBuilder:To.default,PostgrestTransformBuilder:Eo.default,PostgrestBuilder:Oo.default,PostgrestError:ko.default};const{PostgrestClient:nu,PostgrestQueryBuilder:Qh,PostgrestFilterBuilder:Xh,PostgrestTransformBuilder:Zh,PostgrestBuilder:ef}=ru,iu="2.10.7",ou={"X-Client-Info":`realtime-js/${iu}`},au="1.0.0",xo=1e4,lu=1e3;var xt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xt||(xt={}));var ye;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ye||(ye={}));var ke;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ke||(ke={}));var Ar;(function(t){t.websocket="websocket"})(Ar||(Ar={}));var ht;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ht||(ht={}));class cu{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Po{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const zn=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=uu(o,t,e,n),i),{})},uu=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Ao(i,o):Cr(o)},Ao=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return pu(e,s)}switch(t){case G.bool:return hu(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return fu(e);case G.json:case G.jsonb:return du(e);case G.timestamp:return gu(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Cr(e);default:return Cr(e)}},Cr=t=>t,hu=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fu=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},du=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pu=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ao(e,a))}return t},gu=t=>typeof t=="string"?t.replace(" ","T"):t,Co=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class fr{constructor(e,s,r={},n=xo){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Gn;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Gn||(Gn={}));class Zt{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zt.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Zt.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Zt.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const p=c.map(A=>A.presence_ref),_=f.map(A=>A.presence_ref),O=c.filter(A=>_.indexOf(A.presence_ref)<0),k=f.filter(A=>p.indexOf(A.presence_ref)<0);O.length>0&&(a[u]=O),k.length>0&&(l[u]=k)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(_=>_.presence_ref),p=c.filter(_=>f.indexOf(_.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yn;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Yn||(Yn={}));var Qn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Qn||(Qn={}));var Xn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xn||(Xn={}));class an{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new fr(this,ke.join,this.params,this.timeout),this.rejoinTimer=new Po(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ke.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Zt(this),this.broadcastEndpointURL=Co(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:c})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,_=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,O=[];for(let k=0;k<_;k++){const A=p[k],{filter:{event:$,schema:N,table:U,filter:x}}=A,R=c&&c[k];if(R&&R.event===$&&R.schema===N&&R.table===U&&R.filter===x)O.push(Object.assign(Object.assign({},A),{id:R.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=l.body)===null||n===void 0?void 0:n.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ye.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ke.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new fr(this,ke.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new fr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ke;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(_=>{var O,k,A;return((O=_.filter)===null||O===void 0?void 0:O.event)==="*"||((A=(k=_.filter)===null||k===void 0?void 0:k.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(_=>_.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var O,k,A,$,N,U;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const x=_.id,R=(O=_.filter)===null||O===void 0?void 0:O.event;return x&&((k=s.ids)===null||k===void 0?void 0:k.includes(x))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const x=(N=($=_==null?void 0:_.filter)===null||$===void 0?void 0:$.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return x==="*"||x===((U=s==null?void 0:s.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof p=="object"&&"ids"in p){const O=p.data,{schema:k,table:A,commit_timestamp:$,type:N,errors:U}=O;p=Object.assign(Object.assign({},{schema:k,table:A,commit_timestamp:$,eventType:N,new:{},old:{},errors:U}),this._getPayloadRecords(O))}_.callback(p,r)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&an.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ke.close,{},e)}_onError(e){this._on(ke.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=zn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=zn(e.columns,e.old_record)),s}}const _u=()=>{},vu=typeof WebSocket<"u",mu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yu{constructor(e,s){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ou,this.params={},this.timeout=xo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=_u,this.conn=null,this.sendBuffer=[],this.serializer=new cu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>At(async()=>{const{default:l}=await Promise.resolve().then(()=>$t);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Ar.websocket}`,this.httpEndpoint=Co(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Po(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(vu){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new bu(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),At(async()=>{const{default:e}=await import("./browser-C0UtCkC_.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xt.connecting:return ht.Connecting;case xt.open:return ht.Open;case xt.closing:return ht.Closing;default:return ht.Closed}}isConnected(){return this.connectionState()===ht.Open}channel(e,s={config:{}}){const r=new an(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(ke.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:au}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;(o&&o===this.pendingHeartbeatRef||n===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ke.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(lu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([mu],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class bu{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=xt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ln extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function se(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wu extends ln{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class jr extends ln{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Su=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const jo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>At(async()=>{const{default:r}=await Promise.resolve().then(()=>$t);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Tu=()=>Su(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield At(()=>Promise.resolve().then(()=>$t),void 0)).Response:Response}),$r=t=>{if(Array.isArray(t))return t.map(s=>$r(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=$r(r)}),e};var vt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const dr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Eu=(t,e,s)=>vt(void 0,void 0,void 0,function*(){const r=yield Tu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new wu(dr(n),t.status||500))}).catch(n=>{e(new jr(dr(n),n))}):e(new jr(dr(t),t))}),Ou=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function hs(t,e,s,r,n,i){return vt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Ou(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Eu(l,a,r))})})}function Ls(t,e,s,r){return vt(this,void 0,void 0,function*(){return hs(t,"GET",e,s,r)})}function Ye(t,e,s,r,n){return vt(this,void 0,void 0,function*(){return hs(t,"POST",e,r,n,s)})}function ku(t,e,s,r,n){return vt(this,void 0,void 0,function*(){return hs(t,"PUT",e,r,n,s)})}function xu(t,e,s,r){return vt(this,void 0,void 0,function*(){return hs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function $o(t,e,s,r,n){return vt(this,void 0,void 0,function*(){return hs(t,"DELETE",e,r,n,s)})}var de=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Pu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Au{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=jo(n)}uploadOrUpdate(e,s,r,n){return de(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Zn),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield f.json();return f.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(se(i))return{data:null,error:i};throw i}})}upload(e,s,r){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return de(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Zn.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield f.json();return f.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(se(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return de(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Ye(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ln("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}update(e,s,r){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return de(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}copy(e,s,r){return de(this,void 0,void 0,function*(){try{return{data:{path:(yield Ye(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return de(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Ye(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return de(this,void 0,void 0,function*(){try{const n=yield Ye(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}download(e,s){return de(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ls(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}})}info(e){return de(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ls(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:$r(r),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}exists(e){return de(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield xu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(se(r)&&r instanceof jr){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return de(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}list(e,s,r){return de(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Pu),s),{prefix:e||""});return{data:yield Ye(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Cu="2.7.1",ju={"X-Client-Info":`storage-js/${Cu}`};var wt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class $u{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},ju),s),this.fetch=jo(r)}listBuckets(){return wt(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(se(e))return{data:null,error:e};throw e}})}getBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return wt(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return wt(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}emptyBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}deleteBucket(e){return wt(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}}class Ru extends $u{constructor(e,s={},r){super(e,s,r)}from(e){return new Au(this.url,this.headers,e,this.fetch)}}const Iu="2.45.6";let qt="";typeof Deno<"u"?qt="deno":typeof document<"u"?qt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qt="react-native":qt="node";const Lu={"X-Client-Info":`supabase-js-${qt}/${Iu}`},Du={headers:Lu},Uu={schema:"public"},Mu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fu={};var Nu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Bu=t=>{let e;return t?e=t:typeof fetch>"u"?e=_o:e=fetch,(...s)=>e(...s)},Hu=()=>typeof Headers>"u"?vo:Headers,qu=(t,e,s)=>{const r=Bu(s),n=Hu();return(i,o)=>Nu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Ku=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Wu(t){return t.replace(/\/$/,"")}function Vu(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Ku(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Ro="2.65.1",Ju="http://localhost:9999",zu="supabase.auth.token",Gu={"X-Client-Info":`gotrue-js/${Ro}`},ei=10,Rr="X-Supabase-Api-Version",Io={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Yu(t){return Math.round(Date.now()/1e3)+t}function Qu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Oe=()=>typeof document<"u",lt={tested:!1,writable:!1},es=()=>{if(!Oe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lt.tested)return lt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),lt.tested=!0,lt.writable=!0}catch{lt.tested=!0,lt.writable=!1}return lt.writable};function pr(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Lo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>At(async()=>{const{default:r}=await Promise.resolve().then(()=>$t);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Xu=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Do=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},ms=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ys=async(t,e)=>{await t.removeItem(e)};function Zu(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class Xs{constructor(){this.promise=new Xs.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Xs.promiseConstructor=Promise;function ti(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(Zu(r))}async function eh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function th(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function sh(t){return("0"+t.toString(16)).substr(-2)}function rh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,sh).join("")}async function nh(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function ih(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await nh(t);return ih(s)}async function St(t,e,s=!1){const r=rh();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Do(t,`${e}-code-verifier`,n);const i=await oh(r);return[i,r===i?"plain":"s256"]}const ah=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lh(t){const e=t.headers.get(Rr);if(!e||!e.match(ah))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class cn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ch extends cn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function uh(t){return D(t)&&t.name==="AuthApiError"}class Uo extends cn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class mt extends cn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Ve extends mt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hh(t){return D(t)&&t.name==="AuthSessionMissingError"}class gr extends mt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bs extends mt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ws extends mt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class si extends mt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ir extends mt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function _r(t){return D(t)&&t.name==="AuthRetryableFetchError"}class ri extends mt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var fh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const ut=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dh=[502,503,504];async function ni(t){var e;if(!Xu(t))throw new Ir(ut(t),0);if(dh.includes(t.status))throw new Ir(ut(t),t.status);let s;try{s=await t.json()}catch(i){throw new Uo(ut(i),i)}let r;const n=lh(t);if(n&&n.getTime()>=Io["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new ri(ut(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ve}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ri(ut(s),t.status,s.weak_password.reasons);throw new ch(ut(s),t.status||500,r)}const ph=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function F(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Rr]||(i[Rr]=Io["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await gh(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function gh(t,e,s,r,n,i){const o=ph(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Ir(ut(l),0)}if(a.ok||await ni(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await ni(l)}}function Je(t){var e;let s=null;yh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Yu(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function ii(t){const e=Je(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xe(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _h(t){return{data:t,error:null}}function vh(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=fh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function mh(t){return t}function yh(t){return t.access_token&&t.refresh_token&&t.expires_in}var bh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class wh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Lo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Xe})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=bh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:vh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(D(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xe})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:mh});if(c.error)throw c.error;const f=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return _.length>0&&(_.forEach(O=>{const k=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(O.split(";")[1].split("=")[1]);u[`${A}Page`]=k}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xe})}catch(s){if(D(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Xe})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Xe})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(D(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}}const Sh={getItem:t=>es()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{es()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{es()&&globalThis.localStorage.removeItem(t)}};function oi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Th(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tt={debug:!!(globalThis&&es()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mo extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Eh extends Mo{}async function Oh(t,e,s){Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Eh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Tt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}Th();const kh={url:Ju,storageKey:zu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Bt=30*1e3,ai=3;async function li(t,e,s){return await s()}class as{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=as.nextInstanceID,as.nextInstanceID+=1,this.instanceID>0&&Oe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},kh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new wh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Lo(n.fetch),this.lock=n.lock||li,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Oe()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Oh:this.lock=li,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:es()?this.storage=Sh:(this.memoryStorage={},this.storage=oi(this.memoryStorage)):(this.memoryStorage={},this.storage=oi(this.memoryStorage)),Oe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ro}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Oe()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:n,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return D(e)?{error:e}:{error:new Uo("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Je}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:f,options:p}=e;let _=null,O=null;this.flowType==="pkce"&&([_,O]=await St(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:_,code_challenge_method:O},xform:Je})}else if("phone"in e){const{phone:c,password:f,options:p}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Je})}else throw new bs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ii})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ii})}else throw new bs("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await ms(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Je});if(await ys(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new gr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Je}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await St(this.storage,this.storageKey));const{error:f}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new bs("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Je});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await St(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:_h})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Ve;const{error:n}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await F(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await F(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new bs("You must provide either an email or phone number and a type")}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xe}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ve}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Xe})})}catch(s){if(D(s))return hh(s)&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Ve;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await St(this.storage,this.storageKey));const{data:u,error:c}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Xe});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return ti(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ve;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=ti(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(D(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ve;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!Oe())throw new ws("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ws("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new si("Not a valid PKCE flow url.");const s=pr(window.location.href);if(e){if(!s.code)throw new si("No code detected.");const{data:N,error:U}=await this._exchangeCodeForSession(s.code);if(U)throw U;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:N.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new ws(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=s;if(!i||!a||!o||!u)throw new ws("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let p=c+f;l&&(p=parseInt(l));const _=p-c;_*1e3<=Bt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${f}s`);const O=p-f;c-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,p,c):c-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,p,c);const{data:k,error:A}=await this._getUser(i);if(A)throw A;const $={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:p,refresh_token:o,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:s.type},error:null}}catch(s){if(D(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=pr(window.location.href);return!!(Oe()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=pr(window.location.href),s=await ms(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(uh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Qu(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await St(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(D(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:p}=i;if(p)throw p;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",_,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Oe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await th(async n=>(n>0&&await eh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Je})),(n,i)=>{const o=200*Math.pow(2,n);return i&&_r(i)&&Date.now()+o-r<Bt})}catch(r){if(this._debug(s,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Oe()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await ms(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+ei;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${ei}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),_r(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Ve;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Xs;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ve;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),D(i)){const o={session:null,error:i};return _r(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Do(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ys(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Oe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/Bt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Bt}ms, refresh threshold is ${ai} ticks`),n<=ai&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Mo)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Oe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await St(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(D(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(D(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}as.nextInstanceID=0;const xh=as;class Ph extends xh{constructor(e){super(e)}}var Ah=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Ch{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Wu(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Uu,realtime:Fu,auth:Object.assign(Object.assign({},Mu),{storageKey:l}),global:Du},c=Vu(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=qu(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},c.realtime)),this.rest=new nu(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Rc(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ru(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Ah(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){var f;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ph({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(e){return new yu(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jh=(t,e,s)=>new Ch(t,e,s),$h="https://whfzxccudxbhxjqjimep.supabase.co",Rh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndoZnp4Y2N1ZHhiaHhqcWppbWVwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjk2MTU2NTcsImV4cCI6MjA0NTE5MTY1N30.OalLv9BLqdJ4fv81uKTgv-t4taT4IS2hNBTrrqkrzOg",Ps=jh($h,Rh),Fo=Oc({id:"auth",state:()=>({user:null}),getters:{isLoggedIn(t){return!!t.user}}});class No{constructor(){_n(this,"store");this.store=Fo()}async checkAuthState(){const{data:e,error:s}=await Ps.auth.getSession();if(s&&console.error("Error fetching session:",s.message),e!=null&&e.session)return this.store.user=e.session.user,e.session.user}async signInWithGoogle(){const e="https://findhonestcare.github.io/honest-care-page/",{error:s}=await Ps.auth.signInWithOAuth({provider:"google",options:{redirectTo:e}});s?console.error("Google Sign-In Error:",s.message):await this.checkAuthState()}async logout(){const{error:e}=await Ps.auth.signOut();if(e)console.error("Logout error:",e.message);else return this.store.user=null,null}}function Ih(){const t=new No,e=Fo();let s=null;const r=()=>{t.checkAuthState();const{data:i}=Ps.auth.onAuthStateChange(async(o,a)=>{a!=null&&a.user?e.user=a.user:e.user=null});s=i.subscription},n=()=>{s&&s.unsubscribe()};return Hi(r),Zr(n),{authService:t,authStore:e}}const Lh={class:"welcome-container"},Dh={class:"content-wrapper"},Uh={class:"right-section"},Mh={key:0},Fh={key:1},Nh=Mi({__name:"welcome_login",setup(t){const{authService:e,authStore:s}=Ih();return(r,n)=>(Es(),Os("div",Lh,[be("div",Dh,[n[6]||(n[6]=be("div",{class:"left-section"},[be("img",{src:"https://images.typeform.com/images/RA9hP7gdBnUP/image/default-firstframe.png",alt:"Welcome image",class:"welcome-image"})],-1)),be("div",Uh,[Ss(s).isLoggedIn?(Es(),Os("div",Fh,[n[4]||(n[4]=be("h2",null,"Hey! I'm Daniel. I can help you win coverage for your GLP-1 prescription.",-1)),n[5]||(n[5]=be("p",null,"Take 3 minutes to tell us about your case.",-1)),be("button",{onClick:n[1]||(n[1]=()=>console.log("TODO: Implement survey start"))},"Start survey")])):(Es(),Os("div",Mh,[n[2]||(n[2]=be("h2",null,"Hey! I'm Daniel. I can help you win coverage for your GLP-1 prescription.",-1)),n[3]||(n[3]=be("p",null,"Please sign in to continue.",-1)),be("button",{onClick:n[0]||(n[0]=(...i)=>Ss(e).signInWithGoogle&&Ss(e).signInWithGoogle(...i))},"Sign in with Google")]))])])]))}}),Bh=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Hh=Bh(Nh,[["__scopeId","data-v-b55f5ee4"]]),qh={class:"wrapper"},Kh=Mi({__name:"App",setup(t){return Yr(),new No,(e,s)=>(Es(),Os("header",null,[be("div",qh,[et(Hh)])]))}}),Bo=gc(Kh);Bo.use(yc());Bo.mount("#app");export{Vh as g};
