var FP=Object.defineProperty;var BP=(l,s,a)=>s in l?FP(l,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[s]=a;var Xr=(l,s,a)=>BP(l,typeof s!="symbol"?s+"":s,a);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function a(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(d){if(d.ep)return;d.ep=!0;const f=a(d);fetch(d.href,f)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function lc(l){const s=Object.create(null);for(const a of l.split(","))s[a]=1;return a=>a in s}const bt={},Ai=[],Gn=()=>{},HP=()=>!1,ua=l=>l.charCodeAt(0)===111&&l.charCodeAt(1)===110&&(l.charCodeAt(2)>122||l.charCodeAt(2)<97),uc=l=>l.startsWith("onUpdate:"),Bt=Object.assign,cc=(l,s)=>{const a=l.indexOf(s);a>-1&&l.splice(a,1)},QP=Object.prototype.hasOwnProperty,pt=(l,s)=>QP.call(l,s),Fe=Array.isArray,Di=l=>Qo(l)==="[object Map]",Wi=l=>Qo(l)==="[object Set]",Gf=l=>Qo(l)==="[object Date]",Ue=l=>typeof l=="function",Et=l=>typeof l=="string",Mn=l=>typeof l=="symbol",xt=l=>l!==null&&typeof l=="object",dc=l=>(xt(l)||Ue(l))&&Ue(l.then)&&Ue(l.catch),hg=Object.prototype.toString,Qo=l=>hg.call(l),zP=l=>Qo(l).slice(8,-1),gg=l=>Qo(l)==="[object Object]",pc=l=>Et(l)&&l!=="NaN"&&l[0]!=="-"&&""+parseInt(l,10)===l,Vo=lc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ca=l=>{const s=Object.create(null);return a=>s[a]||(s[a]=l(a))},UP=/-(\w)/g,Sn=ca(l=>l.replace(UP,(s,a)=>a?a.toUpperCase():"")),WP=/\B([A-Z])/g,di=ca(l=>l.replace(WP,"-$1").toLowerCase()),da=ca(l=>l.charAt(0).toUpperCase()+l.slice(1)),gu=ca(l=>l?`on${da(l)}`:""),_r=(l,s)=>!Object.is(l,s),Js=(l,...s)=>{for(let a=0;a<l.length;a++)l[a](...s)},yg=(l,s,a,u=!1)=>{Object.defineProperty(l,s,{configurable:!0,enumerable:!1,writable:u,value:a})},ea=l=>{const s=parseFloat(l);return isNaN(s)?l:s},$P=l=>{const s=Et(l)?Number(l):NaN;return isNaN(s)?l:s};let Kf;const pa=()=>Kf||(Kf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function De(l){if(Fe(l)){const s={};for(let a=0;a<l.length;a++){const u=l[a],d=Et(u)?ZP(u):De(u);if(d)for(const f in d)s[f]=d[f]}return s}else if(Et(l)||xt(l))return l}const JP=/;(?![^(]*\))/g,GP=/:([^]+)/,KP=/\/\*[^]*?\*\//g;function ZP(l){const s={};return l.replace(KP,"").split(JP).forEach(a=>{if(a){const u=a.split(GP);u.length>1&&(s[u[0].trim()]=u[1].trim())}}),s}function O(l){let s="";if(Et(l))s=l;else if(Fe(l))for(let a=0;a<l.length;a++){const u=O(l[a]);u&&(s+=u+" ")}else if(xt(l))for(const a in l)l[a]&&(s+=a+" ");return s.trim()}function Zf(l){if(!l)return null;let{class:s,style:a}=l;return s&&!Et(s)&&(l.class=O(s)),a&&(l.style=De(a)),l}const YP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",XP=lc(YP);function mg(l){return!!l||l===""}function e0(l,s){if(l.length!==s.length)return!1;let a=!0;for(let u=0;a&&u<l.length;u++)a=li(l[u],s[u]);return a}function li(l,s){if(l===s)return!0;let a=Gf(l),u=Gf(s);if(a||u)return a&&u?l.getTime()===s.getTime():!1;if(a=Mn(l),u=Mn(s),a||u)return l===s;if(a=Fe(l),u=Fe(s),a||u)return a&&u?e0(l,s):!1;if(a=xt(l),u=xt(s),a||u){if(!a||!u)return!1;const d=Object.keys(l).length,f=Object.keys(s).length;if(d!==f)return!1;for(const h in l){const g=l.hasOwnProperty(h),m=s.hasOwnProperty(h);if(g&&!m||!g&&m||!li(l[h],s[h]))return!1}}return String(l)===String(s)}function fc(l,s){return l.findIndex(a=>li(a,s))}const vg=l=>!!(l&&l.__v_isRef===!0),je=l=>Et(l)?l:l==null?"":Fe(l)||xt(l)&&(l.toString===hg||!Ue(l.toString))?vg(l)?je(l.value):JSON.stringify(l,bg,2):String(l),bg=(l,s)=>vg(s)?bg(l,s.value):Di(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((a,[u,d],f)=>(a[yu(u,f)+" =>"]=d,a),{})}:Wi(s)?{[`Set(${s.size})`]:[...s.values()].map(a=>yu(a))}:Mn(s)?yu(s):xt(s)&&!Fe(s)&&!gg(s)?String(s):s,yu=(l,s="")=>{var a;return Mn(l)?`Symbol(${(a=l.description)!=null?a:s})`:l};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let en;class Cg{constructor(s=!1){this.detached=s,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=en,!s&&en&&(this.index=(en.scopes||(en.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let s,a;if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].pause();for(s=0,a=this.effects.length;s<a;s++)this.effects[s].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let s,a;if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].resume();for(s=0,a=this.effects.length;s<a;s++)this.effects[s].resume()}}run(s){if(this._active){const a=en;try{return en=this,s()}finally{en=a}}}on(){en=this}off(){en=this.parent}stop(s){if(this._active){let a,u;for(a=0,u=this.effects.length;a<u;a++)this.effects[a].stop();for(a=0,u=this.cleanups.length;a<u;a++)this.cleanups[a]();if(this.scopes)for(a=0,u=this.scopes.length;a<u;a++)this.scopes[a].stop(!0);if(!this.detached&&this.parent&&!s){const d=this.parent.scopes.pop();d&&d!==this&&(this.parent.scopes[this.index]=d,d.index=this.index)}this.parent=void 0,this._active=!1}}}function wg(l){return new Cg(l)}function Pg(){return en}function t0(l,s=!1){en&&en.cleanups.push(l)}let Pt;const mu=new WeakSet;class xg{constructor(s){this.fn=s,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,en&&en.active&&en.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mu.has(this)&&(mu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Sg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yf(this),Tg(this);const s=Pt,a=kn;Pt=this,kn=!0;try{return this.fn()}finally{Og(this),Pt=s,kn=a,this.flags&=-3}}stop(){if(this.flags&1){for(let s=this.deps;s;s=s.nextDep)yc(s);this.deps=this.depsTail=void 0,Yf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Lu(this)&&this.run()}get dirty(){return Lu(this)}}let Vg=0,So,To;function Sg(l,s=!1){if(l.flags|=8,s){l.next=To,To=l;return}l.next=So,So=l}function hc(){Vg++}function gc(){if(--Vg>0)return;if(To){let s=To;for(To=void 0;s;){const a=s.next;s.next=void 0,s.flags&=-9,s=a}}let l;for(;So;){let s=So;for(So=void 0;s;){const a=s.next;if(s.next=void 0,s.flags&=-9,s.flags&1)try{s.trigger()}catch(u){l||(l=u)}s=a}}if(l)throw l}function Tg(l){for(let s=l.deps;s;s=s.nextDep)s.version=-1,s.prevActiveLink=s.dep.activeLink,s.dep.activeLink=s}function Og(l){let s,a=l.depsTail,u=a;for(;u;){const d=u.prevDep;u.version===-1?(u===a&&(a=d),yc(u),n0(u)):s=u,u.dep.activeLink=u.prevActiveLink,u.prevActiveLink=void 0,u=d}l.deps=s,l.depsTail=a}function Lu(l){for(let s=l.deps;s;s=s.nextDep)if(s.dep.version!==s.version||s.dep.computed&&(Rg(s.dep.computed)||s.dep.version!==s.version))return!0;return!!l._dirty}function Rg(l){if(l.flags&4&&!(l.flags&16)||(l.flags&=-17,l.globalVersion===ko))return;l.globalVersion=ko;const s=l.dep;if(l.flags|=2,s.version>0&&!l.isSSR&&l.deps&&!Lu(l)){l.flags&=-3;return}const a=Pt,u=kn;Pt=l,kn=!0;try{Tg(l);const d=l.fn(l._value);(s.version===0||_r(d,l._value))&&(l._value=d,s.version++)}catch(d){throw s.version++,d}finally{Pt=a,kn=u,Og(l),l.flags&=-3}}function yc(l,s=!1){const{dep:a,prevSub:u,nextSub:d}=l;if(u&&(u.nextSub=d,l.prevSub=void 0),d&&(d.prevSub=u,l.nextSub=void 0),a.subs===l&&(a.subs=u,!u&&a.computed)){a.computed.flags&=-5;for(let f=a.computed.deps;f;f=f.nextDep)yc(f,!0)}!s&&!--a.sc&&a.map&&a.map.delete(a.key)}function n0(l){const{prevDep:s,nextDep:a}=l;s&&(s.nextDep=a,l.prevDep=void 0),a&&(a.prevDep=s,l.nextDep=void 0)}let kn=!0;const Ig=[];function kr(){Ig.push(kn),kn=!1}function Mr(){const l=Ig.pop();kn=l===void 0?!0:l}function Yf(l){const{cleanup:s}=l;if(l.cleanup=void 0,s){const a=Pt;Pt=void 0;try{s()}finally{Pt=a}}}let ko=0;class r0{constructor(s,a){this.sub=s,this.dep=a,this.version=a.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class mc{constructor(s){this.computed=s,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(s){if(!Pt||!kn||Pt===this.computed)return;let a=this.activeLink;if(a===void 0||a.sub!==Pt)a=this.activeLink=new r0(Pt,this),Pt.deps?(a.prevDep=Pt.depsTail,Pt.depsTail.nextDep=a,Pt.depsTail=a):Pt.deps=Pt.depsTail=a,Eg(a);else if(a.version===-1&&(a.version=this.version,a.nextDep)){const u=a.nextDep;u.prevDep=a.prevDep,a.prevDep&&(a.prevDep.nextDep=u),a.prevDep=Pt.depsTail,a.nextDep=void 0,Pt.depsTail.nextDep=a,Pt.depsTail=a,Pt.deps===a&&(Pt.deps=u)}return a}trigger(s){this.version++,ko++,this.notify(s)}notify(s){hc();try{for(let a=this.subs;a;a=a.prevSub)a.sub.notify()&&a.sub.dep.notify()}finally{gc()}}}function Eg(l){if(l.dep.sc++,l.sub.flags&4){const s=l.dep.computed;if(s&&!l.dep.subs){s.flags|=20;for(let u=s.deps;u;u=u.nextDep)Eg(u)}const a=l.dep.subs;a!==l&&(l.prevSub=a,a&&(a.nextSub=l)),l.dep.subs=l}}const ta=new WeakMap,si=Symbol(""),ku=Symbol(""),Mo=Symbol("");function $t(l,s,a){if(kn&&Pt){let u=ta.get(l);u||ta.set(l,u=new Map);let d=u.get(a);d||(u.set(a,d=new mc),d.map=u,d.key=a),d.track()}}function or(l,s,a,u,d,f){const h=ta.get(l);if(!h){ko++;return}const g=m=>{m&&m.trigger()};if(hc(),s==="clear")h.forEach(g);else{const m=Fe(l),v=m&&pc(a);if(m&&a==="length"){const C=Number(u);h.forEach((T,I)=>{(I==="length"||I===Mo||!Mn(I)&&I>=C)&&g(T)})}else switch((a!==void 0||h.has(void 0))&&g(h.get(a)),v&&g(h.get(Mo)),s){case"add":m?v&&g(h.get("length")):(g(h.get(si)),Di(l)&&g(h.get(ku)));break;case"delete":m||(g(h.get(si)),Di(l)&&g(h.get(ku)));break;case"set":Di(l)&&g(h.get(si));break}}gc()}function i0(l,s){const a=ta.get(l);return a&&a.get(s)}function Si(l){const s=st(l);return s===l?s:($t(s,"iterate",Mo),Pn(l)?s:s.map(Jt))}function fa(l){return $t(l=st(l),"iterate",Mo),l}const o0={__proto__:null,[Symbol.iterator](){return vu(this,Symbol.iterator,Jt)},concat(...l){return Si(this).concat(...l.map(s=>Fe(s)?Si(s):s))},entries(){return vu(this,"entries",l=>(l[1]=Jt(l[1]),l))},every(l,s){return nr(this,"every",l,s,void 0,arguments)},filter(l,s){return nr(this,"filter",l,s,a=>a.map(Jt),arguments)},find(l,s){return nr(this,"find",l,s,Jt,arguments)},findIndex(l,s){return nr(this,"findIndex",l,s,void 0,arguments)},findLast(l,s){return nr(this,"findLast",l,s,Jt,arguments)},findLastIndex(l,s){return nr(this,"findLastIndex",l,s,void 0,arguments)},forEach(l,s){return nr(this,"forEach",l,s,void 0,arguments)},includes(...l){return bu(this,"includes",l)},indexOf(...l){return bu(this,"indexOf",l)},join(l){return Si(this).join(l)},lastIndexOf(...l){return bu(this,"lastIndexOf",l)},map(l,s){return nr(this,"map",l,s,void 0,arguments)},pop(){return mo(this,"pop")},push(...l){return mo(this,"push",l)},reduce(l,...s){return Xf(this,"reduce",l,s)},reduceRight(l,...s){return Xf(this,"reduceRight",l,s)},shift(){return mo(this,"shift")},some(l,s){return nr(this,"some",l,s,void 0,arguments)},splice(...l){return mo(this,"splice",l)},toReversed(){return Si(this).toReversed()},toSorted(l){return Si(this).toSorted(l)},toSpliced(...l){return Si(this).toSpliced(...l)},unshift(...l){return mo(this,"unshift",l)},values(){return vu(this,"values",Jt)}};function vu(l,s,a){const u=fa(l),d=u[s]();return u!==l&&!Pn(l)&&(d._next=d.next,d.next=()=>{const f=d._next();return f.value&&(f.value=a(f.value)),f}),d}const s0=Array.prototype;function nr(l,s,a,u,d,f){const h=fa(l),g=h!==l&&!Pn(l),m=h[s];if(m!==s0[s]){const T=m.apply(l,f);return g?Jt(T):T}let v=a;h!==l&&(g?v=function(T,I){return a.call(this,Jt(T),I,l)}:a.length>2&&(v=function(T,I){return a.call(this,T,I,l)}));const C=m.call(h,v,u);return g&&d?d(C):C}function Xf(l,s,a,u){const d=fa(l);let f=a;return d!==l&&(Pn(l)?a.length>3&&(f=function(h,g,m){return a.call(this,h,g,m,l)}):f=function(h,g,m){return a.call(this,h,Jt(g),m,l)}),d[s](f,...u)}function bu(l,s,a){const u=st(l);$t(u,"iterate",Mo);const d=u[s](...a);return(d===-1||d===!1)&&wc(a[0])?(a[0]=st(a[0]),u[s](...a)):d}function mo(l,s,a=[]){kr(),hc();const u=st(l)[s].apply(l,a);return gc(),Mr(),u}const a0=lc("__proto__,__v_isRef,__isVue"),_g=new Set(Object.getOwnPropertyNames(Symbol).filter(l=>l!=="arguments"&&l!=="caller").map(l=>Symbol[l]).filter(Mn));function l0(l){Mn(l)||(l=String(l));const s=st(this);return $t(s,"has",l),s.hasOwnProperty(l)}class Ag{constructor(s=!1,a=!1){this._isReadonly=s,this._isShallow=a}get(s,a,u){const d=this._isReadonly,f=this._isShallow;if(a==="__v_isReactive")return!d;if(a==="__v_isReadonly")return d;if(a==="__v_isShallow")return f;if(a==="__v_raw")return u===(d?f?v0:Mg:f?kg:Lg).get(s)||Object.getPrototypeOf(s)===Object.getPrototypeOf(u)?s:void 0;const h=Fe(s);if(!d){let m;if(h&&(m=o0[a]))return m;if(a==="hasOwnProperty")return l0}const g=Reflect.get(s,a,Lt(s)?s:u);return(Mn(a)?_g.has(a):a0(a))||(d||$t(s,"get",a),f)?g:Lt(g)?h&&pc(a)?g:g.value:xt(g)?d?qg(g):zo(g):g}}class Dg extends Ag{constructor(s=!1){super(!1,s)}set(s,a,u,d){let f=s[a];if(!this._isShallow){const m=ui(f);if(!Pn(u)&&!ui(u)&&(f=st(f),u=st(u)),!Fe(s)&&Lt(f)&&!Lt(u))return m?!1:(f.value=u,!0)}const h=Fe(s)&&pc(a)?Number(a)<s.length:pt(s,a),g=Reflect.set(s,a,u,Lt(s)?s:d);return s===st(d)&&(h?_r(u,f)&&or(s,"set",a,u):or(s,"add",a,u)),g}deleteProperty(s,a){const u=pt(s,a);s[a];const d=Reflect.deleteProperty(s,a);return d&&u&&or(s,"delete",a,void 0),d}has(s,a){const u=Reflect.has(s,a);return(!Mn(a)||!_g.has(a))&&$t(s,"has",a),u}ownKeys(s){return $t(s,"iterate",Fe(s)?"length":si),Reflect.ownKeys(s)}}class u0 extends Ag{constructor(s=!1){super(!0,s)}set(s,a){return!0}deleteProperty(s,a){return!0}}const c0=new Dg,d0=new u0,p0=new Dg(!0);const Mu=l=>l,js=l=>Reflect.getPrototypeOf(l);function f0(l,s,a){return function(...u){const d=this.__v_raw,f=st(d),h=Di(f),g=l==="entries"||l===Symbol.iterator&&h,m=l==="keys"&&h,v=d[l](...u),C=a?Mu:s?qu:Jt;return!s&&$t(f,"iterate",m?ku:si),{next(){const{value:T,done:I}=v.next();return I?{value:T,done:I}:{value:g?[C(T[0]),C(T[1])]:C(T),done:I}},[Symbol.iterator](){return this}}}}function Ns(l){return function(...s){return l==="delete"?!1:l==="clear"?void 0:this}}function h0(l,s){const a={get(d){const f=this.__v_raw,h=st(f),g=st(d);l||(_r(d,g)&&$t(h,"get",d),$t(h,"get",g));const{has:m}=js(h),v=s?Mu:l?qu:Jt;if(m.call(h,d))return v(f.get(d));if(m.call(h,g))return v(f.get(g));f!==h&&f.get(d)},get size(){const d=this.__v_raw;return!l&&$t(st(d),"iterate",si),Reflect.get(d,"size",d)},has(d){const f=this.__v_raw,h=st(f),g=st(d);return l||(_r(d,g)&&$t(h,"has",d),$t(h,"has",g)),d===g?f.has(d):f.has(d)||f.has(g)},forEach(d,f){const h=this,g=h.__v_raw,m=st(g),v=s?Mu:l?qu:Jt;return!l&&$t(m,"iterate",si),g.forEach((C,T)=>d.call(f,v(C),v(T),h))}};return Bt(a,l?{add:Ns("add"),set:Ns("set"),delete:Ns("delete"),clear:Ns("clear")}:{add(d){!s&&!Pn(d)&&!ui(d)&&(d=st(d));const f=st(this);return js(f).has.call(f,d)||(f.add(d),or(f,"add",d,d)),this},set(d,f){!s&&!Pn(f)&&!ui(f)&&(f=st(f));const h=st(this),{has:g,get:m}=js(h);let v=g.call(h,d);v||(d=st(d),v=g.call(h,d));const C=m.call(h,d);return h.set(d,f),v?_r(f,C)&&or(h,"set",d,f):or(h,"add",d,f),this},delete(d){const f=st(this),{has:h,get:g}=js(f);let m=h.call(f,d);m||(d=st(d),m=h.call(f,d)),g&&g.call(f,d);const v=f.delete(d);return m&&or(f,"delete",d,void 0),v},clear(){const d=st(this),f=d.size!==0,h=d.clear();return f&&or(d,"clear",void 0,void 0),h}}),["keys","values","entries",Symbol.iterator].forEach(d=>{a[d]=f0(d,l,s)}),a}function vc(l,s){const a=h0(l,s);return(u,d,f)=>d==="__v_isReactive"?!l:d==="__v_isReadonly"?l:d==="__v_raw"?u:Reflect.get(pt(a,d)&&d in u?a:u,d,f)}const g0={get:vc(!1,!1)},y0={get:vc(!1,!0)},m0={get:vc(!0,!1)};const Lg=new WeakMap,kg=new WeakMap,Mg=new WeakMap,v0=new WeakMap;function b0(l){switch(l){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function C0(l){return l.__v_skip||!Object.isExtensible(l)?0:b0(zP(l))}function zo(l){return ui(l)?l:Cc(l,!1,c0,g0,Lg)}function bc(l){return Cc(l,!1,p0,y0,kg)}function qg(l){return Cc(l,!0,d0,m0,Mg)}function Cc(l,s,a,u,d){if(!xt(l)||l.__v_raw&&!(s&&l.__v_isReactive))return l;const f=d.get(l);if(f)return f;const h=C0(l);if(h===0)return l;const g=new Proxy(l,h===2?u:a);return d.set(l,g),g}function Ar(l){return ui(l)?Ar(l.__v_raw):!!(l&&l.__v_isReactive)}function ui(l){return!!(l&&l.__v_isReadonly)}function Pn(l){return!!(l&&l.__v_isShallow)}function wc(l){return l?!!l.__v_raw:!1}function st(l){const s=l&&l.__v_raw;return s?st(s):l}function Pc(l){return!pt(l,"__v_skip")&&Object.isExtensible(l)&&yg(l,"__v_skip",!0),l}const Jt=l=>xt(l)?zo(l):l,qu=l=>xt(l)?qg(l):l;function Lt(l){return l?l.__v_isRef===!0:!1}function _e(l){return jg(l,!1)}function Dr(l){return jg(l,!0)}function jg(l,s){return Lt(l)?l:new w0(l,s)}class w0{constructor(s,a){this.dep=new mc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=a?s:st(s),this._value=a?s:Jt(s),this.__v_isShallow=a}get value(){return this.dep.track(),this._value}set value(s){const a=this._rawValue,u=this.__v_isShallow||Pn(s)||ui(s);s=u?s:st(s),_r(s,a)&&(this._rawValue=s,this._value=u?s:Jt(s),this.dep.trigger())}}function ju(l){l.dep&&l.dep.trigger()}function le(l){return Lt(l)?l.value:l}const P0={get:(l,s,a)=>s==="__v_raw"?l:le(Reflect.get(l,s,a)),set:(l,s,a,u)=>{const d=l[s];return Lt(d)&&!Lt(a)?(d.value=a,!0):Reflect.set(l,s,a,u)}};function Ng(l){return Ar(l)?l:new Proxy(l,P0)}function x0(l){const s=Fe(l)?new Array(l.length):{};for(const a in l)s[a]=S0(l,a);return s}class V0{constructor(s,a,u){this._object=s,this._key=a,this._defaultValue=u,this.__v_isRef=!0,this._value=void 0}get value(){const s=this._object[this._key];return this._value=s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}get dep(){return i0(st(this._object),this._key)}}function S0(l,s,a){const u=l[s];return Lt(u)?u:new V0(l,s,a)}class T0{constructor(s,a,u){this.fn=s,this.setter=a,this._value=void 0,this.dep=new mc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ko-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!a,this.isSSR=u}notify(){if(this.flags|=16,!(this.flags&8)&&Pt!==this)return Sg(this,!0),!0}get value(){const s=this.dep.track();return Rg(this),s&&(s.version=this.dep.version),this._value}set value(s){this.setter&&this.setter(s)}}function O0(l,s,a=!1){let u,d;return Ue(l)?u=l:(u=l.get,d=l.set),new T0(u,d,a)}const Fs={},na=new WeakMap;let ri;function R0(l,s=!1,a=ri){if(a){let u=na.get(a);u||na.set(a,u=[]),u.push(l)}}function I0(l,s,a=bt){const{immediate:u,deep:d,once:f,scheduler:h,augmentJob:g,call:m}=a,v=pe=>d?pe:Pn(pe)||d===!1||d===0?sr(pe,1):sr(pe);let C,T,I,L,j=!1,V=!1;if(Lt(l)?(T=()=>l.value,j=Pn(l)):Ar(l)?(T=()=>v(l),j=!0):Fe(l)?(V=!0,j=l.some(pe=>Ar(pe)||Pn(pe)),T=()=>l.map(pe=>{if(Lt(pe))return pe.value;if(Ar(pe))return v(pe);if(Ue(pe))return m?m(pe,2):pe()})):Ue(l)?s?T=m?()=>m(l,2):l:T=()=>{if(I){kr();try{I()}finally{Mr()}}const pe=ri;ri=C;try{return m?m(l,3,[L]):l(L)}finally{ri=pe}}:T=Gn,s&&d){const pe=T,ie=d===!0?1/0:d;T=()=>sr(pe(),ie)}const se=Pg(),ee=()=>{C.stop(),se&&cc(se.effects,C)};if(f&&s){const pe=s;s=(...ie)=>{pe(...ie),ee()}}let ce=V?new Array(l.length).fill(Fs):Fs;const ue=pe=>{if(!(!(C.flags&1)||!C.dirty&&!pe))if(s){const ie=C.run();if(d||j||(V?ie.some((Oe,He)=>_r(Oe,ce[He])):_r(ie,ce))){I&&I();const Oe=ri;ri=C;try{const He=[ie,ce===Fs?void 0:V&&ce[0]===Fs?[]:ce,L];m?m(s,3,He):s(...He),ce=ie}finally{ri=Oe}}}else C.run()};return g&&g(ue),C=new xg(T),C.scheduler=h?()=>h(ue,!1):ue,L=pe=>R0(pe,!1,C),I=C.onStop=()=>{const pe=na.get(C);if(pe){if(m)m(pe,4);else for(const ie of pe)ie();na.delete(C)}},s?u?ue(!0):ce=C.run():h?h(ue.bind(null,!0),!0):C.run(),ee.pause=C.pause.bind(C),ee.resume=C.resume.bind(C),ee.stop=ee,ee}function sr(l,s=1/0,a){if(s<=0||!xt(l)||l.__v_skip||(a=a||new Set,a.has(l)))return l;if(a.add(l),s--,Lt(l))sr(l.value,s,a);else if(Fe(l))for(let u=0;u<l.length;u++)sr(l[u],s,a);else if(Wi(l)||Di(l))l.forEach(u=>{sr(u,s,a)});else if(gg(l)){for(const u in l)sr(l[u],s,a);for(const u of Object.getOwnPropertySymbols(l))Object.prototype.propertyIsEnumerable.call(l,u)&&sr(l[u],s,a)}return l}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Uo(l,s,a,u){try{return u?l(...u):l()}catch(d){Wo(d,s,a)}}function Zn(l,s,a,u){if(Ue(l)){const d=Uo(l,s,a,u);return d&&dc(d)&&d.catch(f=>{Wo(f,s,a)}),d}if(Fe(l)){const d=[];for(let f=0;f<l.length;f++)d.push(Zn(l[f],s,a,u));return d}}function Wo(l,s,a,u=!0){const d=s?s.vnode:null,{errorHandler:f,throwUnhandledErrorInProduction:h}=s&&s.appContext.config||bt;if(s){let g=s.parent;const m=s.proxy,v=`https://vuejs.org/error-reference/#runtime-${a}`;for(;g;){const C=g.ec;if(C){for(let T=0;T<C.length;T++)if(C[T](l,m,v)===!1)return}g=g.parent}if(f){kr(),Uo(f,null,10,[l,m,v]),Mr();return}}E0(l,a,d,u,h)}function E0(l,s,a,u=!0,d=!1){if(d)throw l;console.error(l)}const tn=[];let Jn=-1;const Li=[];let Sr=null,Ei=0;const Fg=Promise.resolve();let ra=null;function $o(l){const s=ra||Fg;return l?s.then(this?l.bind(this):l):s}function _0(l){let s=Jn+1,a=tn.length;for(;s<a;){const u=s+a>>>1,d=tn[u],f=qo(d);f<l||f===l&&d.flags&2?s=u+1:a=u}return s}function xc(l){if(!(l.flags&1)){const s=qo(l),a=tn[tn.length-1];!a||!(l.flags&2)&&s>=qo(a)?tn.push(l):tn.splice(_0(s),0,l),l.flags|=1,Bg()}}function Bg(){ra||(ra=Fg.then(Qg))}function Nu(l){Fe(l)?Li.push(...l):Sr&&l.id===-1?Sr.splice(Ei+1,0,l):l.flags&1||(Li.push(l),l.flags|=1),Bg()}function eh(l,s,a=Jn+1){for(;a<tn.length;a++){const u=tn[a];if(u&&u.flags&2){if(l&&u.id!==l.uid)continue;tn.splice(a,1),a--,u.flags&4&&(u.flags&=-2),u(),u.flags&4||(u.flags&=-2)}}}function Hg(l){if(Li.length){const s=[...new Set(Li)].sort((a,u)=>qo(a)-qo(u));if(Li.length=0,Sr){Sr.push(...s);return}for(Sr=s,Ei=0;Ei<Sr.length;Ei++){const a=Sr[Ei];a.flags&4&&(a.flags&=-2),a.flags&8||a(),a.flags&=-2}Sr=null,Ei=0}}const qo=l=>l.id==null?l.flags&2?-1:1/0:l.id;function Qg(l){try{for(Jn=0;Jn<tn.length;Jn++){const s=tn[Jn];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),Uo(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;Jn<tn.length;Jn++){const s=tn[Jn];s&&(s.flags&=-2)}Jn=-1,tn.length=0,Hg(),ra=null,(tn.length||Li.length)&&Qg()}}let Mt=null,zg=null;function ia(l){const s=Mt;return Mt=l,zg=l&&l.type.__scopeId||null,s}function Gt(l,s=Mt,a){if(!s||l._n)return l;const u=(...d)=>{u._d&&ph(-1);const f=ia(s);let h;try{h=l(...d)}finally{ia(f),u._d&&ph(1)}return h};return u._n=!0,u._c=!0,u._d=!0,u}function yt(l,s){if(Mt===null)return l;const a=va(Mt),u=l.dirs||(l.dirs=[]);for(let d=0;d<s.length;d++){let[f,h,g,m=bt]=s[d];f&&(Ue(f)&&(f={mounted:f,updated:f}),f.deep&&sr(h),u.push({dir:f,instance:a,value:h,oldValue:void 0,arg:g,modifiers:m}))}return l}function ei(l,s,a,u){const d=l.dirs,f=s&&s.dirs;for(let h=0;h<d.length;h++){const g=d[h];f&&(g.oldValue=f[h].value);let m=g.dir[u];m&&(kr(),Zn(m,a,8,[l.el,g,l,s]),Mr())}}const Ug=Symbol("_vte"),A0=l=>l.__isTeleport,Oo=l=>l&&(l.disabled||l.disabled===""),D0=l=>l&&(l.defer||l.defer===""),th=l=>typeof SVGElement<"u"&&l instanceof SVGElement,nh=l=>typeof MathMLElement=="function"&&l instanceof MathMLElement,Fu=(l,s)=>{const a=l&&l.to;return Et(a)?s?s(a):null:a},L0={name:"Teleport",__isTeleport:!0,process(l,s,a,u,d,f,h,g,m,v){const{mc:C,pc:T,pbc:I,o:{insert:L,querySelector:j,createText:V,createComment:se}}=v,ee=Oo(s.props);let{shapeFlag:ce,children:ue,dynamicChildren:pe}=s;if(l==null){const ie=s.el=V(""),Oe=s.anchor=V("");L(ie,a,u),L(Oe,a,u);const He=(Re,ze)=>{ce&16&&(d&&d.isCE&&(d.ce._teleportTarget=Re),C(ue,Re,ze,d,f,h,g,m))},Me=()=>{const Re=s.target=Fu(s.props,j),ze=Wg(Re,s,V,L);Re&&(h!=="svg"&&th(Re)?h="svg":h!=="mathml"&&nh(Re)&&(h="mathml"),ee||(He(Re,ze),Gs(s,!1)))};ee&&(He(a,Oe),Gs(s,!0)),D0(s.props)?un(Me,f):Me()}else{s.el=l.el,s.targetStart=l.targetStart;const ie=s.anchor=l.anchor,Oe=s.target=l.target,He=s.targetAnchor=l.targetAnchor,Me=Oo(l.props),Re=Me?a:Oe,ze=Me?ie:He;if(h==="svg"||th(Oe)?h="svg":(h==="mathml"||nh(Oe))&&(h="mathml"),pe?(I(l.dynamicChildren,pe,Re,d,f,h,g),Oc(l,s,!0)):m||T(l,s,Re,ze,d,f,h,g,!1),ee)Me?s.props&&l.props&&s.props.to!==l.props.to&&(s.props.to=l.props.to):Bs(s,a,ie,v,1);else if((s.props&&s.props.to)!==(l.props&&l.props.to)){const ft=s.target=Fu(s.props,j);ft&&Bs(s,ft,null,v,0)}else Me&&Bs(s,Oe,He,v,1);Gs(s,ee)}},remove(l,s,a,{um:u,o:{remove:d}},f){const{shapeFlag:h,children:g,anchor:m,targetStart:v,targetAnchor:C,target:T,props:I}=l;if(T&&(d(v),d(C)),f&&d(m),h&16){const L=f||!Oo(I);for(let j=0;j<g.length;j++){const V=g[j];u(V,s,a,L,!!V.dynamicChildren)}}},move:Bs,hydrate:k0};function Bs(l,s,a,{o:{insert:u},m:d},f=2){f===0&&u(l.targetAnchor,s,a);const{el:h,anchor:g,shapeFlag:m,children:v,props:C}=l,T=f===2;if(T&&u(h,s,a),(!T||Oo(C))&&m&16)for(let I=0;I<v.length;I++)d(v[I],s,a,2);T&&u(g,s,a)}function k0(l,s,a,u,d,f,{o:{nextSibling:h,parentNode:g,querySelector:m,insert:v,createText:C}},T){const I=s.target=Fu(s.props,m);if(I){const L=Oo(s.props),j=I._lpa||I.firstChild;if(s.shapeFlag&16)if(L)s.anchor=T(h(l),s,g(l),a,u,d,f),s.targetStart=j,s.targetAnchor=j&&h(j);else{s.anchor=h(l);let V=j;for(;V;){if(V&&V.nodeType===8){if(V.data==="teleport start anchor")s.targetStart=V;else if(V.data==="teleport anchor"){s.targetAnchor=V,I._lpa=s.targetAnchor&&h(s.targetAnchor);break}}V=h(V)}s.targetAnchor||Wg(I,s,C,v),T(j&&h(j),s,I,a,u,d,f)}Gs(s,L)}return s.anchor&&h(s.anchor)}const M0=L0;function Gs(l,s){const a=l.ctx;if(a&&a.ut){let u,d;for(s?(u=l.el,d=l.anchor):(u=l.targetStart,d=l.targetAnchor);u&&u!==d;)u.nodeType===1&&u.setAttribute("data-v-owner",a.uid),u=u.nextSibling;a.ut()}}function Wg(l,s,a,u){const d=s.targetStart=a(""),f=s.targetAnchor=a("");return d[Ug]=f,l&&(u(d,l),u(f,l)),f}function Vc(l,s){l.shapeFlag&6&&l.component?(l.transition=s,Vc(l.component.subTree,s)):l.shapeFlag&128?(l.ssContent.transition=s.clone(l.ssContent),l.ssFallback.transition=s.clone(l.ssFallback)):l.transition=s}/*! #__NO_SIDE_EFFECTS__ */function G(l,s){return Ue(l)?Bt({name:l.name},s,{setup:l}):l}function $g(l){l.ids=[l.ids[0]+l.ids[2]+++"-",0,0]}function Bu(l,s,a,u,d=!1){if(Fe(l)){l.forEach((j,V)=>Bu(j,s&&(Fe(s)?s[V]:s),a,u,d));return}if(ki(u)&&!d)return;const f=u.shapeFlag&4?va(u.component):u.el,h=d?null:f,{i:g,r:m}=l,v=s&&s.r,C=g.refs===bt?g.refs={}:g.refs,T=g.setupState,I=st(T),L=T===bt?()=>!1:j=>pt(I,j);if(v!=null&&v!==m&&(Et(v)?(C[v]=null,L(v)&&(T[v]=null)):Lt(v)&&(v.value=null)),Ue(m))Uo(m,g,12,[h,C]);else{const j=Et(m),V=Lt(m);if(j||V){const se=()=>{if(l.f){const ee=j?L(m)?T[m]:C[m]:m.value;d?Fe(ee)&&cc(ee,f):Fe(ee)?ee.includes(f)||ee.push(f):j?(C[m]=[f],L(m)&&(T[m]=C[m])):(m.value=[f],l.k&&(C[l.k]=m.value))}else j?(C[m]=h,L(m)&&(T[m]=h)):V&&(m.value=h,l.k&&(C[l.k]=h))};h?(se.id=-1,un(se,a)):se()}}}pa().requestIdleCallback;pa().cancelIdleCallback;const ki=l=>!!l.type.__asyncLoader,Jg=l=>l.type.__isKeepAlive;function q0(l,s){Gg(l,"a",s)}function j0(l,s){Gg(l,"da",s)}function Gg(l,s,a=Ft){const u=l.__wdc||(l.__wdc=()=>{let d=a;for(;d;){if(d.isDeactivated)return;d=d.parent}return l()});if(ha(s,u,a),a){let d=a.parent;for(;d&&d.parent;)Jg(d.parent.vnode)&&N0(u,s,a,d),d=d.parent}}function N0(l,s,a,u){const d=ha(s,l,u,!0);Tn(()=>{cc(u[s],d)},a)}function ha(l,s,a=Ft,u=!1){if(a){const d=a[l]||(a[l]=[]),f=s.__weh||(s.__weh=(...h)=>{kr();const g=ci(a),m=Zn(s,a,l,h);return g(),Mr(),m});return u?d.unshift(f):d.push(f),f}}const lr=l=>(s,a=Ft)=>{(!No||l==="sp")&&ha(l,(...u)=>s(...u),a)},F0=lr("bm"),_t=lr("m"),B0=lr("bu"),Jo=lr("u"),qr=lr("bum"),Tn=lr("um"),H0=lr("sp"),Q0=lr("rtg"),z0=lr("rtc");function U0(l,s=Ft){ha("ec",l,s)}const W0="components",Kg=Symbol.for("v-ndc");function Zg(l){return Et(l)?$0(W0,l,!1)||l:l||Kg}function $0(l,s,a=!0,u=!1){const d=Mt||Ft;if(d){const f=d.type;{const g=Hx(f,!1);if(g&&(g===s||g===Sn(s)||g===da(Sn(s))))return f}const h=rh(d[l]||f[l],s)||rh(d.appContext[l],s);return!h&&u?f:h}}function rh(l,s){return l&&(l[s]||l[Sn(s)]||l[da(Sn(s))])}function Je(l,s,a,u){let d;const f=a,h=Fe(l);if(h||Et(l)){const g=h&&Ar(l);let m=!1;g&&(m=!Pn(l),l=fa(l)),d=new Array(l.length);for(let v=0,C=l.length;v<C;v++)d[v]=s(m?Jt(l[v]):l[v],v,void 0,f)}else if(typeof l=="number"){d=new Array(l);for(let g=0;g<l;g++)d[g]=s(g+1,g,void 0,f)}else if(xt(l))if(l[Symbol.iterator])d=Array.from(l,(g,m)=>s(g,m,void 0,f));else{const g=Object.keys(l);d=new Array(g.length);for(let m=0,v=g.length;m<v;m++){const C=g[m];d[m]=s(l[C],C,m,f)}}else d=[];return d}function J0(l,s){for(let a=0;a<s.length;a++){const u=s[a];if(Fe(u))for(let d=0;d<u.length;d++)l[u[d].name]=u[d].fn;else u&&(l[u.name]=u.key?(...d)=>{const f=u.fn(...d);return f&&(f.key=u.key),f}:u.fn)}return l}function Yg(l,s,a={},u,d){if(Mt.ce||Mt.parent&&ki(Mt.parent)&&Mt.parent.ce)return s!=="default"&&(a.name=s),x(),$(Te,null,[W("slot",a,u)],64);let f=l[s];f&&f._c&&(f._d=!1),x();const h=f&&Xg(f(a)),g=a.key||h&&h.key,m=$(Te,{key:(g&&!Mn(g)?g:`_${s}`)+(!h&&u?"_fb":"")},h||[],h&&l._===1?64:-2);return m.scopeId&&(m.slotScopeIds=[m.scopeId+"-s"]),f&&f._c&&(f._d=!0),m}function Xg(l){return l.some(s=>Ni(s)?!(s.type===Yn||s.type===Te&&!Xg(s.children)):!0)?l:null}const Hu=l=>l?Cy(l)?va(l):Hu(l.parent):null,Ro=Bt(Object.create(null),{$:l=>l,$el:l=>l.vnode.el,$data:l=>l.data,$props:l=>l.props,$attrs:l=>l.attrs,$slots:l=>l.slots,$refs:l=>l.refs,$parent:l=>Hu(l.parent),$root:l=>Hu(l.root),$host:l=>l.ce,$emit:l=>l.emit,$options:l=>Sc(l),$forceUpdate:l=>l.f||(l.f=()=>{xc(l.update)}),$nextTick:l=>l.n||(l.n=$o.bind(l.proxy)),$watch:l=>bx.bind(l)}),Cu=(l,s)=>l!==bt&&!l.__isScriptSetup&&pt(l,s),G0={get({_:l},s){if(s==="__v_skip")return!0;const{ctx:a,setupState:u,data:d,props:f,accessCache:h,type:g,appContext:m}=l;let v;if(s[0]!=="$"){const L=h[s];if(L!==void 0)switch(L){case 1:return u[s];case 2:return d[s];case 4:return a[s];case 3:return f[s]}else{if(Cu(u,s))return h[s]=1,u[s];if(d!==bt&&pt(d,s))return h[s]=2,d[s];if((v=l.propsOptions[0])&&pt(v,s))return h[s]=3,f[s];if(a!==bt&&pt(a,s))return h[s]=4,a[s];Qu&&(h[s]=0)}}const C=Ro[s];let T,I;if(C)return s==="$attrs"&&$t(l.attrs,"get",""),C(l);if((T=g.__cssModules)&&(T=T[s]))return T;if(a!==bt&&pt(a,s))return h[s]=4,a[s];if(I=m.config.globalProperties,pt(I,s))return I[s]},set({_:l},s,a){const{data:u,setupState:d,ctx:f}=l;return Cu(d,s)?(d[s]=a,!0):u!==bt&&pt(u,s)?(u[s]=a,!0):pt(l.props,s)||s[0]==="$"&&s.slice(1)in l?!1:(f[s]=a,!0)},has({_:{data:l,setupState:s,accessCache:a,ctx:u,appContext:d,propsOptions:f}},h){let g;return!!a[h]||l!==bt&&pt(l,h)||Cu(s,h)||(g=f[0])&&pt(g,h)||pt(u,h)||pt(Ro,h)||pt(d.config.globalProperties,h)},defineProperty(l,s,a){return a.get!=null?l._.accessCache[s]=0:pt(a,"value")&&this.set(l,s,a.value,null),Reflect.defineProperty(l,s,a)}};function K0(){return Z0().slots}function Z0(){const l=ma();return l.setupContext||(l.setupContext=Py(l))}function ih(l){return Fe(l)?l.reduce((s,a)=>(s[a]=null,s),{}):l}function Hs(l){const s=ma();let a=l();return Gu(),dc(a)&&(a=a.catch(u=>{throw ci(s),u})),[a,()=>ci(s)]}let Qu=!0;function Y0(l){const s=Sc(l),a=l.proxy,u=l.ctx;Qu=!1,s.beforeCreate&&oh(s.beforeCreate,l,"bc");const{data:d,computed:f,methods:h,watch:g,provide:m,inject:v,created:C,beforeMount:T,mounted:I,beforeUpdate:L,updated:j,activated:V,deactivated:se,beforeDestroy:ee,beforeUnmount:ce,destroyed:ue,unmounted:pe,render:ie,renderTracked:Oe,renderTriggered:He,errorCaptured:Me,serverPrefetch:Re,expose:ze,inheritAttrs:ft,components:St,directives:Rt,filters:et}=s;if(v&&X0(v,u,null),h)for(const Ie in h){const Ze=h[Ie];Ue(Ze)&&(u[Ie]=Ze.bind(a))}if(d){const Ie=d.call(a,a);xt(Ie)&&(l.data=zo(Ie))}if(Qu=!0,f)for(const Ie in f){const Ze=f[Ie],We=Ue(Ze)?Ze.bind(a,a):Ue(Ze.get)?Ze.get.bind(a,a):Gn,jn=!Ue(Ze)&&Ue(Ze.set)?Ze.set.bind(a):Gn,Ut=Ve({get:We,set:jn});Object.defineProperty(u,Ie,{enumerable:!0,configurable:!0,get:()=>Ut.value,set:Ht=>Ut.value=Ht})}if(g)for(const Ie in g)ey(g[Ie],u,a,Ie);if(m){const Ie=Ue(m)?m.call(a):m;Reflect.ownKeys(Ie).forEach(Ze=>{Ks(Ze,Ie[Ze])})}C&&oh(C,l,"c");function it(Ie,Ze){Fe(Ze)?Ze.forEach(We=>Ie(We.bind(a))):Ze&&Ie(Ze.bind(a))}if(it(F0,T),it(_t,I),it(B0,L),it(Jo,j),it(q0,V),it(j0,se),it(U0,Me),it(z0,Oe),it(Q0,He),it(qr,ce),it(Tn,pe),it(H0,Re),Fe(ze))if(ze.length){const Ie=l.exposed||(l.exposed={});ze.forEach(Ze=>{Object.defineProperty(Ie,Ze,{get:()=>a[Ze],set:We=>a[Ze]=We})})}else l.exposed||(l.exposed={});ie&&l.render===Gn&&(l.render=ie),ft!=null&&(l.inheritAttrs=ft),St&&(l.components=St),Rt&&(l.directives=Rt),Re&&$g(l)}function X0(l,s,a=Gn){Fe(l)&&(l=zu(l));for(const u in l){const d=l[u];let f;xt(d)?"default"in d?f=Kn(d.from||u,d.default,!0):f=Kn(d.from||u):f=Kn(d),Lt(f)?Object.defineProperty(s,u,{enumerable:!0,configurable:!0,get:()=>f.value,set:h=>f.value=h}):s[u]=f}}function oh(l,s,a){Zn(Fe(l)?l.map(u=>u.bind(s.proxy)):l.bind(s.proxy),s,a)}function ey(l,s,a,u){let d=u.includes(".")?py(a,u):()=>a[u];if(Et(l)){const f=s[l];Ue(f)&&xn(d,f)}else if(Ue(l))xn(d,l.bind(a));else if(xt(l))if(Fe(l))l.forEach(f=>ey(f,s,a,u));else{const f=Ue(l.handler)?l.handler.bind(a):s[l.handler];Ue(f)&&xn(d,f,l)}}function Sc(l){const s=l.type,{mixins:a,extends:u}=s,{mixins:d,optionsCache:f,config:{optionMergeStrategies:h}}=l.appContext,g=f.get(s);let m;return g?m=g:!d.length&&!a&&!u?m=s:(m={},d.length&&d.forEach(v=>oa(m,v,h,!0)),oa(m,s,h)),xt(s)&&f.set(s,m),m}function oa(l,s,a,u=!1){const{mixins:d,extends:f}=s;f&&oa(l,f,a,!0),d&&d.forEach(h=>oa(l,h,a,!0));for(const h in s)if(!(u&&h==="expose")){const g=ex[h]||a&&a[h];l[h]=g?g(l[h],s[h]):s[h]}return l}const ex={data:sh,props:ah,emits:ah,methods:Po,computed:Po,beforeCreate:Xt,created:Xt,beforeMount:Xt,mounted:Xt,beforeUpdate:Xt,updated:Xt,beforeDestroy:Xt,beforeUnmount:Xt,destroyed:Xt,unmounted:Xt,activated:Xt,deactivated:Xt,errorCaptured:Xt,serverPrefetch:Xt,components:Po,directives:Po,watch:nx,provide:sh,inject:tx};function sh(l,s){return s?l?function(){return Bt(Ue(l)?l.call(this,this):l,Ue(s)?s.call(this,this):s)}:s:l}function tx(l,s){return Po(zu(l),zu(s))}function zu(l){if(Fe(l)){const s={};for(let a=0;a<l.length;a++)s[l[a]]=l[a];return s}return l}function Xt(l,s){return l?[...new Set([].concat(l,s))]:s}function Po(l,s){return l?Bt(Object.create(null),l,s):s}function ah(l,s){return l?Fe(l)&&Fe(s)?[...new Set([...l,...s])]:Bt(Object.create(null),ih(l),ih(s??{})):s}function nx(l,s){if(!l)return s;if(!s)return l;const a=Bt(Object.create(null),l);for(const u in s)a[u]=Xt(l[u],s[u]);return a}function ty(){return{app:null,config:{isNativeTag:HP,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rx=0;function ix(l,s){return function(u,d=null){Ue(u)||(u=Bt({},u)),d!=null&&!xt(d)&&(d=null);const f=ty(),h=new WeakSet,g=[];let m=!1;const v=f.app={_uid:rx++,_component:u,_props:d,_container:null,_context:f,_instance:null,version:zx,get config(){return f.config},set config(C){},use(C,...T){return h.has(C)||(C&&Ue(C.install)?(h.add(C),C.install(v,...T)):Ue(C)&&(h.add(C),C(v,...T))),v},mixin(C){return f.mixins.includes(C)||f.mixins.push(C),v},component(C,T){return T?(f.components[C]=T,v):f.components[C]},directive(C,T){return T?(f.directives[C]=T,v):f.directives[C]},mount(C,T,I){if(!m){const L=v._ceVNode||W(u,d);return L.appContext=f,I===!0?I="svg":I===!1&&(I=void 0),T&&s?s(L,C):l(L,C,I),m=!0,v._container=C,C.__vue_app__=v,va(L.component)}},onUnmount(C){g.push(C)},unmount(){m&&(Zn(g,v._instance,16),l(null,v._container),delete v._container.__vue_app__)},provide(C,T){return f.provides[C]=T,v},runWithContext(C){const T=ai;ai=v;try{return C()}finally{ai=T}}};return v}}let ai=null;function Ks(l,s){if(Ft){let a=Ft.provides;const u=Ft.parent&&Ft.parent.provides;u===a&&(a=Ft.provides=Object.create(u)),a[l]=s}}function Kn(l,s,a=!1){const u=Ft||Mt;if(u||ai){const d=ai?ai._context.provides:u?u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:void 0;if(d&&l in d)return d[l];if(arguments.length>1)return a&&Ue(s)?s.call(u&&u.proxy):s}}function ox(){return!!(Ft||Mt||ai)}const ny={},ry=()=>Object.create(ny),iy=l=>Object.getPrototypeOf(l)===ny;function sx(l,s,a,u=!1){const d={},f=ry();l.propsDefaults=Object.create(null),oy(l,s,d,f);for(const h in l.propsOptions[0])h in d||(d[h]=void 0);a?l.props=u?d:bc(d):l.type.props?l.props=d:l.props=f,l.attrs=f}function ax(l,s,a,u){const{props:d,attrs:f,vnode:{patchFlag:h}}=l,g=st(d),[m]=l.propsOptions;let v=!1;if((u||h>0)&&!(h&16)){if(h&8){const C=l.vnode.dynamicProps;for(let T=0;T<C.length;T++){let I=C[T];if(ga(l.emitsOptions,I))continue;const L=s[I];if(m)if(pt(f,I))L!==f[I]&&(f[I]=L,v=!0);else{const j=Sn(I);d[j]=Uu(m,g,j,L,l,!1)}else L!==f[I]&&(f[I]=L,v=!0)}}}else{oy(l,s,d,f)&&(v=!0);let C;for(const T in g)(!s||!pt(s,T)&&((C=di(T))===T||!pt(s,C)))&&(m?a&&(a[T]!==void 0||a[C]!==void 0)&&(d[T]=Uu(m,g,T,void 0,l,!0)):delete d[T]);if(f!==g)for(const T in f)(!s||!pt(s,T))&&(delete f[T],v=!0)}v&&or(l.attrs,"set","")}function oy(l,s,a,u){const[d,f]=l.propsOptions;let h=!1,g;if(s)for(let m in s){if(Vo(m))continue;const v=s[m];let C;d&&pt(d,C=Sn(m))?!f||!f.includes(C)?a[C]=v:(g||(g={}))[C]=v:ga(l.emitsOptions,m)||(!(m in u)||v!==u[m])&&(u[m]=v,h=!0)}if(f){const m=st(a),v=g||bt;for(let C=0;C<f.length;C++){const T=f[C];a[T]=Uu(d,m,T,v[T],l,!pt(v,T))}}return h}function Uu(l,s,a,u,d,f){const h=l[a];if(h!=null){const g=pt(h,"default");if(g&&u===void 0){const m=h.default;if(h.type!==Function&&!h.skipFactory&&Ue(m)){const{propsDefaults:v}=d;if(a in v)u=v[a];else{const C=ci(d);u=v[a]=m.call(null,s),C()}}else u=m;d.ce&&d.ce._setProp(a,u)}h[0]&&(f&&!g?u=!1:h[1]&&(u===""||u===di(a))&&(u=!0))}return u}const lx=new WeakMap;function sy(l,s,a=!1){const u=a?lx:s.propsCache,d=u.get(l);if(d)return d;const f=l.props,h={},g=[];let m=!1;if(!Ue(l)){const C=T=>{m=!0;const[I,L]=sy(T,s,!0);Bt(h,I),L&&g.push(...L)};!a&&s.mixins.length&&s.mixins.forEach(C),l.extends&&C(l.extends),l.mixins&&l.mixins.forEach(C)}if(!f&&!m)return xt(l)&&u.set(l,Ai),Ai;if(Fe(f))for(let C=0;C<f.length;C++){const T=Sn(f[C]);lh(T)&&(h[T]=bt)}else if(f)for(const C in f){const T=Sn(C);if(lh(T)){const I=f[C],L=h[T]=Fe(I)||Ue(I)?{type:I}:Bt({},I),j=L.type;let V=!1,se=!0;if(Fe(j))for(let ee=0;ee<j.length;++ee){const ce=j[ee],ue=Ue(ce)&&ce.name;if(ue==="Boolean"){V=!0;break}else ue==="String"&&(se=!1)}else V=Ue(j)&&j.name==="Boolean";L[0]=V,L[1]=se,(V||pt(L,"default"))&&g.push(T)}}const v=[h,g];return xt(l)&&u.set(l,v),v}function lh(l){return l[0]!=="$"&&!Vo(l)}const ay=l=>l[0]==="_"||l==="$stable",Tc=l=>Fe(l)?l.map(Ln):[Ln(l)],ux=(l,s,a)=>{if(s._n)return s;const u=Gt((...d)=>Tc(s(...d)),a);return u._c=!1,u},ly=(l,s,a)=>{const u=l._ctx;for(const d in l){if(ay(d))continue;const f=l[d];if(Ue(f))s[d]=ux(d,f,u);else if(f!=null){const h=Tc(f);s[d]=()=>h}}},uy=(l,s)=>{const a=Tc(s);l.slots.default=()=>a},cy=(l,s,a)=>{for(const u in s)(a||u!=="_")&&(l[u]=s[u])},cx=(l,s,a)=>{const u=l.slots=ry();if(l.vnode.shapeFlag&32){const d=s._;d?(cy(u,s,a),a&&yg(u,"_",d,!0)):ly(s,u)}else s&&uy(l,s)},dx=(l,s,a)=>{const{vnode:u,slots:d}=l;let f=!0,h=bt;if(u.shapeFlag&32){const g=s._;g?a&&g===1?f=!1:cy(d,s,a):(f=!s.$stable,ly(s,d)),h=s}else s&&(uy(l,s),h={default:1});if(f)for(const g in d)!ay(g)&&h[g]==null&&delete d[g]},un=_x;function px(l){return fx(l)}function fx(l,s){const a=pa();a.__VUE__=!0;const{insert:u,remove:d,patchProp:f,createElement:h,createText:g,createComment:m,setText:v,setElementText:C,parentNode:T,nextSibling:I,setScopeId:L=Gn,insertStaticContent:j}=l,V=(A,q,U,Y=null,K=null,ne=null,fe=void 0,de=null,ae=!!q.dynamicChildren)=>{if(A===q)return;A&&!Ir(A,q)&&(Y=Z(A),Ht(A,K,ne,!0),A=null),q.patchFlag===-2&&(ae=!1,q.dynamicChildren=null);const{type:re,ref:Be,shapeFlag:be}=q;switch(re){case ya:se(A,q,U,Y);break;case Yn:ee(A,q,U,Y);break;case Zs:A==null&&ce(q,U,Y,fe);break;case Te:St(A,q,U,Y,K,ne,fe,de,ae);break;default:be&1?ie(A,q,U,Y,K,ne,fe,de,ae):be&6?Rt(A,q,U,Y,K,ne,fe,de,ae):(be&64||be&128)&&re.process(A,q,U,Y,K,ne,fe,de,ae,Ee)}Be!=null&&K&&Bu(Be,A&&A.ref,ne,q||A,!q)},se=(A,q,U,Y)=>{if(A==null)u(q.el=g(q.children),U,Y);else{const K=q.el=A.el;q.children!==A.children&&v(K,q.children)}},ee=(A,q,U,Y)=>{A==null?u(q.el=m(q.children||""),U,Y):q.el=A.el},ce=(A,q,U,Y)=>{[A.el,A.anchor]=j(A.children,q,U,Y,A.el,A.anchor)},ue=({el:A,anchor:q},U,Y)=>{let K;for(;A&&A!==q;)K=I(A),u(A,U,Y),A=K;u(q,U,Y)},pe=({el:A,anchor:q})=>{let U;for(;A&&A!==q;)U=I(A),d(A),A=U;d(q)},ie=(A,q,U,Y,K,ne,fe,de,ae)=>{q.type==="svg"?fe="svg":q.type==="math"&&(fe="mathml"),A==null?Oe(q,U,Y,K,ne,fe,de,ae):Re(A,q,K,ne,fe,de,ae)},Oe=(A,q,U,Y,K,ne,fe,de)=>{let ae,re;const{props:Be,shapeFlag:be,transition:Le,dirs:Qe}=A;if(ae=A.el=h(A.type,ne,Be&&Be.is,Be),be&8?C(ae,A.children):be&16&&Me(A.children,ae,null,Y,K,wu(A,ne),fe,de),Qe&&ei(A,null,Y,"created"),He(ae,A,A.scopeId,fe,Y),Be){for(const gt in Be)gt!=="value"&&!Vo(gt)&&f(ae,gt,null,Be[gt],ne,Y);"value"in Be&&f(ae,"value",null,Be.value,ne),(re=Be.onVnodeBeforeMount)&&$n(re,Y,A)}Qe&&ei(A,null,Y,"beforeMount");const Xe=hx(K,Le);Xe&&Le.beforeEnter(ae),u(ae,q,U),((re=Be&&Be.onVnodeMounted)||Xe||Qe)&&un(()=>{re&&$n(re,Y,A),Xe&&Le.enter(ae),Qe&&ei(A,null,Y,"mounted")},K)},He=(A,q,U,Y,K)=>{if(U&&L(A,U),Y)for(let ne=0;ne<Y.length;ne++)L(A,Y[ne]);if(K){let ne=K.subTree;if(q===ne||hy(ne.type)&&(ne.ssContent===q||ne.ssFallback===q)){const fe=K.vnode;He(A,fe,fe.scopeId,fe.slotScopeIds,K.parent)}}},Me=(A,q,U,Y,K,ne,fe,de,ae=0)=>{for(let re=ae;re<A.length;re++){const Be=A[re]=de?Tr(A[re]):Ln(A[re]);V(null,Be,q,U,Y,K,ne,fe,de)}},Re=(A,q,U,Y,K,ne,fe)=>{const de=q.el=A.el;let{patchFlag:ae,dynamicChildren:re,dirs:Be}=q;ae|=A.patchFlag&16;const be=A.props||bt,Le=q.props||bt;let Qe;if(U&&ti(U,!1),(Qe=Le.onVnodeBeforeUpdate)&&$n(Qe,U,q,A),Be&&ei(q,A,U,"beforeUpdate"),U&&ti(U,!0),(be.innerHTML&&Le.innerHTML==null||be.textContent&&Le.textContent==null)&&C(de,""),re?ze(A.dynamicChildren,re,de,U,Y,wu(q,K),ne):fe||Ze(A,q,de,null,U,Y,wu(q,K),ne,!1),ae>0){if(ae&16)ft(de,be,Le,U,K);else if(ae&2&&be.class!==Le.class&&f(de,"class",null,Le.class,K),ae&4&&f(de,"style",be.style,Le.style,K),ae&8){const Xe=q.dynamicProps;for(let gt=0;gt<Xe.length;gt++){const at=Xe[gt],qt=be[at],jt=Le[at];(jt!==qt||at==="value")&&f(de,at,qt,jt,K,U)}}ae&1&&A.children!==q.children&&C(de,q.children)}else!fe&&re==null&&ft(de,be,Le,U,K);((Qe=Le.onVnodeUpdated)||Be)&&un(()=>{Qe&&$n(Qe,U,q,A),Be&&ei(q,A,U,"updated")},Y)},ze=(A,q,U,Y,K,ne,fe)=>{for(let de=0;de<q.length;de++){const ae=A[de],re=q[de],Be=ae.el&&(ae.type===Te||!Ir(ae,re)||ae.shapeFlag&70)?T(ae.el):U;V(ae,re,Be,null,Y,K,ne,fe,!0)}},ft=(A,q,U,Y,K)=>{if(q!==U){if(q!==bt)for(const ne in q)!Vo(ne)&&!(ne in U)&&f(A,ne,q[ne],null,K,Y);for(const ne in U){if(Vo(ne))continue;const fe=U[ne],de=q[ne];fe!==de&&ne!=="value"&&f(A,ne,de,fe,K,Y)}"value"in U&&f(A,"value",q.value,U.value,K)}},St=(A,q,U,Y,K,ne,fe,de,ae)=>{const re=q.el=A?A.el:g(""),Be=q.anchor=A?A.anchor:g("");let{patchFlag:be,dynamicChildren:Le,slotScopeIds:Qe}=q;Qe&&(de=de?de.concat(Qe):Qe),A==null?(u(re,U,Y),u(Be,U,Y),Me(q.children||[],U,Be,K,ne,fe,de,ae)):be>0&&be&64&&Le&&A.dynamicChildren?(ze(A.dynamicChildren,Le,U,K,ne,fe,de),(q.key!=null||K&&q===K.subTree)&&Oc(A,q,!0)):Ze(A,q,U,Be,K,ne,fe,de,ae)},Rt=(A,q,U,Y,K,ne,fe,de,ae)=>{q.slotScopeIds=de,A==null?q.shapeFlag&512?K.ctx.activate(q,U,Y,fe,ae):et(q,U,Y,K,ne,fe,ae):H(A,q,ae)},et=(A,q,U,Y,K,ne,fe)=>{const de=A.component=jx(A,Y,K);if(Jg(A)&&(de.ctx.renderer=Ee),Nx(de,!1,fe),de.asyncDep){if(K&&K.registerDep(de,it,fe),!A.el){const ae=de.subTree=W(Yn);ee(null,ae,q,U)}}else it(de,A,q,U,K,ne,fe)},H=(A,q,U)=>{const Y=q.component=A.component;if(Sx(A,q,U))if(Y.asyncDep&&!Y.asyncResolved){Ie(Y,q,U);return}else Y.next=q,Y.update();else q.el=A.el,Y.vnode=q},it=(A,q,U,Y,K,ne,fe)=>{const de=()=>{if(A.isMounted){let{next:be,bu:Le,u:Qe,parent:Xe,vnode:gt}=A;{const Kt=dy(A);if(Kt){be&&(be.el=gt.el,Ie(A,be,fe)),Kt.asyncDep.then(()=>{A.isUnmounted||de()});return}}let at=be,qt;ti(A,!1),be?(be.el=gt.el,Ie(A,be,fe)):be=gt,Le&&Js(Le),(qt=be.props&&be.props.onVnodeBeforeUpdate)&&$n(qt,Xe,be,gt),ti(A,!0);const jt=Pu(A),pn=A.subTree;A.subTree=jt,V(pn,jt,T(pn.el),Z(pn),A,K,ne),be.el=jt.el,at===null&&Ic(A,jt.el),Qe&&un(Qe,K),(qt=be.props&&be.props.onVnodeUpdated)&&un(()=>$n(qt,Xe,be,gt),K)}else{let be;const{el:Le,props:Qe}=q,{bm:Xe,m:gt,parent:at,root:qt,type:jt}=A,pn=ki(q);if(ti(A,!1),Xe&&Js(Xe),!pn&&(be=Qe&&Qe.onVnodeBeforeMount)&&$n(be,at,q),ti(A,!0),Le&&Ct){const Kt=()=>{A.subTree=Pu(A),Ct(Le,A.subTree,A,K,null)};pn&&jt.__asyncHydrate?jt.__asyncHydrate(Le,A,Kt):Kt()}else{qt.ce&&qt.ce._injectChildStyle(jt);const Kt=A.subTree=Pu(A);V(null,Kt,U,Y,A,K,ne),q.el=Kt.el}if(gt&&un(gt,K),!pn&&(be=Qe&&Qe.onVnodeMounted)){const Kt=q;un(()=>$n(be,at,Kt),K)}(q.shapeFlag&256||at&&ki(at.vnode)&&at.vnode.shapeFlag&256)&&A.a&&un(A.a,K),A.isMounted=!0,q=U=Y=null}};A.scope.on();const ae=A.effect=new xg(de);A.scope.off();const re=A.update=ae.run.bind(ae),Be=A.job=ae.runIfDirty.bind(ae);Be.i=A,Be.id=A.uid,ae.scheduler=()=>xc(Be),ti(A,!0),re()},Ie=(A,q,U)=>{q.component=A;const Y=A.vnode.props;A.vnode=q,A.next=null,ax(A,q.props,Y,U),dx(A,q.children,U),kr(),eh(A),Mr()},Ze=(A,q,U,Y,K,ne,fe,de,ae=!1)=>{const re=A&&A.children,Be=A?A.shapeFlag:0,be=q.children,{patchFlag:Le,shapeFlag:Qe}=q;if(Le>0){if(Le&128){jn(re,be,U,Y,K,ne,fe,de,ae);return}else if(Le&256){We(re,be,U,Y,K,ne,fe,de,ae);return}}Qe&8?(Be&16&&rn(re,K,ne),be!==re&&C(U,be)):Be&16?Qe&16?jn(re,be,U,Y,K,ne,fe,de,ae):rn(re,K,ne,!0):(Be&8&&C(U,""),Qe&16&&Me(be,U,Y,K,ne,fe,de,ae))},We=(A,q,U,Y,K,ne,fe,de,ae)=>{A=A||Ai,q=q||Ai;const re=A.length,Be=q.length,be=Math.min(re,Be);let Le;for(Le=0;Le<be;Le++){const Qe=q[Le]=ae?Tr(q[Le]):Ln(q[Le]);V(A[Le],Qe,U,null,K,ne,fe,de,ae)}re>Be?rn(A,K,ne,!0,!1,be):Me(q,U,Y,K,ne,fe,de,ae,be)},jn=(A,q,U,Y,K,ne,fe,de,ae)=>{let re=0;const Be=q.length;let be=A.length-1,Le=Be-1;for(;re<=be&&re<=Le;){const Qe=A[re],Xe=q[re]=ae?Tr(q[re]):Ln(q[re]);if(Ir(Qe,Xe))V(Qe,Xe,U,null,K,ne,fe,de,ae);else break;re++}for(;re<=be&&re<=Le;){const Qe=A[be],Xe=q[Le]=ae?Tr(q[Le]):Ln(q[Le]);if(Ir(Qe,Xe))V(Qe,Xe,U,null,K,ne,fe,de,ae);else break;be--,Le--}if(re>be){if(re<=Le){const Qe=Le+1,Xe=Qe<Be?q[Qe].el:Y;for(;re<=Le;)V(null,q[re]=ae?Tr(q[re]):Ln(q[re]),U,Xe,K,ne,fe,de,ae),re++}}else if(re>Le)for(;re<=be;)Ht(A[re],K,ne,!0),re++;else{const Qe=re,Xe=re,gt=new Map;for(re=Xe;re<=Le;re++){const Wt=q[re]=ae?Tr(q[re]):Ln(q[re]);Wt.key!=null&&gt.set(Wt.key,re)}let at,qt=0;const jt=Le-Xe+1;let pn=!1,Kt=0;const jr=new Array(jt);for(re=0;re<jt;re++)jr[re]=0;for(re=Qe;re<=be;re++){const Wt=A[re];if(qt>=jt){Ht(Wt,K,ne,!0);continue}let Cn;if(Wt.key!=null)Cn=gt.get(Wt.key);else for(at=Xe;at<=Le;at++)if(jr[at-Xe]===0&&Ir(Wt,q[at])){Cn=at;break}Cn===void 0?Ht(Wt,K,ne,!0):(jr[Cn-Xe]=re+1,Cn>=Kt?Kt=Cn:pn=!0,V(Wt,q[Cn],U,null,K,ne,fe,de,ae),qt++)}const Ki=pn?gx(jr):Ai;for(at=Ki.length-1,re=jt-1;re>=0;re--){const Wt=Xe+re,Cn=q[Wt],Xo=Wt+1<Be?q[Wt+1].el:Y;jr[re]===0?V(null,Cn,U,Xo,K,ne,fe,de,ae):pn&&(at<0||re!==Ki[at]?Ut(Cn,U,Xo,2):at--)}}},Ut=(A,q,U,Y,K=null)=>{const{el:ne,type:fe,transition:de,children:ae,shapeFlag:re}=A;if(re&6){Ut(A.component.subTree,q,U,Y);return}if(re&128){A.suspense.move(q,U,Y);return}if(re&64){fe.move(A,q,U,Ee);return}if(fe===Te){u(ne,q,U);for(let be=0;be<ae.length;be++)Ut(ae[be],q,U,Y);u(A.anchor,q,U);return}if(fe===Zs){ue(A,q,U);return}if(Y!==2&&re&1&&de)if(Y===0)de.beforeEnter(ne),u(ne,q,U),un(()=>de.enter(ne),K);else{const{leave:be,delayLeave:Le,afterLeave:Qe}=de,Xe=()=>u(ne,q,U),gt=()=>{be(ne,()=>{Xe(),Qe&&Qe()})};Le?Le(ne,Xe,gt):gt()}else u(ne,q,U)},Ht=(A,q,U,Y=!1,K=!1)=>{const{type:ne,props:fe,ref:de,children:ae,dynamicChildren:re,shapeFlag:Be,patchFlag:be,dirs:Le,cacheIndex:Qe}=A;if(be===-2&&(K=!1),de!=null&&Bu(de,null,U,A,!0),Qe!=null&&(q.renderCache[Qe]=void 0),Be&256){q.ctx.deactivate(A);return}const Xe=Be&1&&Le,gt=!ki(A);let at;if(gt&&(at=fe&&fe.onVnodeBeforeUnmount)&&$n(at,q,A),Be&6)hi(A.component,U,Y);else{if(Be&128){A.suspense.unmount(U,Y);return}Xe&&ei(A,null,q,"beforeUnmount"),Be&64?A.type.remove(A,q,U,Ee,Y):re&&!re.hasOnce&&(ne!==Te||be>0&&be&64)?rn(re,q,U,!1,!0):(ne===Te&&be&384||!K&&Be&16)&&rn(ae,q,U),Y&&Xn(A)}(gt&&(at=fe&&fe.onVnodeUnmounted)||Xe)&&un(()=>{at&&$n(at,q,A),Xe&&ei(A,null,q,"unmounted")},U)},Xn=A=>{const{type:q,el:U,anchor:Y,transition:K}=A;if(q===Te){ur(U,Y);return}if(q===Zs){pe(A);return}const ne=()=>{d(U),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(A.shapeFlag&1&&K&&!K.persisted){const{leave:fe,delayLeave:de}=K,ae=()=>fe(U,ne);de?de(A.el,ne,ae):ae()}else ne()},ur=(A,q)=>{let U;for(;A!==q;)U=I(A),d(A),A=U;d(q)},hi=(A,q,U)=>{const{bum:Y,scope:K,job:ne,subTree:fe,um:de,m:ae,a:re}=A;uh(ae),uh(re),Y&&Js(Y),K.stop(),ne&&(ne.flags|=8,Ht(fe,A,q,U)),de&&un(de,q),un(()=>{A.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},rn=(A,q,U,Y=!1,K=!1,ne=0)=>{for(let fe=ne;fe<A.length;fe++)Ht(A[fe],q,U,Y,K)},Z=A=>{if(A.shapeFlag&6)return Z(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const q=I(A.anchor||A.el),U=q&&q[Ug];return U?I(U):q};let Pe=!1;const ye=(A,q,U)=>{A==null?q._vnode&&Ht(q._vnode,null,null,!0):V(q._vnode||null,A,q,null,null,null,U),q._vnode=A,Pe||(Pe=!0,eh(),Hg(),Pe=!1)},Ee={p:V,um:Ht,m:Ut,r:Xn,mt:et,mc:Me,pc:Ze,pbc:ze,n:Z,o:l};let nt,Ct;return{render:ye,hydrate:nt,createApp:ix(ye,nt)}}function wu({type:l,props:s},a){return a==="svg"&&l==="foreignObject"||a==="mathml"&&l==="annotation-xml"&&s&&s.encoding&&s.encoding.includes("html")?void 0:a}function ti({effect:l,job:s},a){a?(l.flags|=32,s.flags|=4):(l.flags&=-33,s.flags&=-5)}function hx(l,s){return(!l||l&&!l.pendingBranch)&&s&&!s.persisted}function Oc(l,s,a=!1){const u=l.children,d=s.children;if(Fe(u)&&Fe(d))for(let f=0;f<u.length;f++){const h=u[f];let g=d[f];g.shapeFlag&1&&!g.dynamicChildren&&((g.patchFlag<=0||g.patchFlag===32)&&(g=d[f]=Tr(d[f]),g.el=h.el),!a&&g.patchFlag!==-2&&Oc(h,g)),g.type===ya&&(g.el=h.el)}}function gx(l){const s=l.slice(),a=[0];let u,d,f,h,g;const m=l.length;for(u=0;u<m;u++){const v=l[u];if(v!==0){if(d=a[a.length-1],l[d]<v){s[u]=d,a.push(u);continue}for(f=0,h=a.length-1;f<h;)g=f+h>>1,l[a[g]]<v?f=g+1:h=g;v<l[a[f]]&&(f>0&&(s[u]=a[f-1]),a[f]=u)}}for(f=a.length,h=a[f-1];f-- >0;)a[f]=h,h=s[h];return a}function dy(l){const s=l.subTree.component;if(s)return s.asyncDep&&!s.asyncResolved?s:dy(s)}function uh(l){if(l)for(let s=0;s<l.length;s++)l[s].flags|=8}const yx=Symbol.for("v-scx"),mx=()=>Kn(yx);function vx(l,s){return Rc(l,null,s)}function xn(l,s,a){return Rc(l,s,a)}function Rc(l,s,a=bt){const{immediate:u,deep:d,flush:f,once:h}=a,g=Bt({},a),m=s&&u||!s&&f!=="post";let v;if(No){if(f==="sync"){const L=mx();v=L.__watcherHandles||(L.__watcherHandles=[])}else if(!m){const L=()=>{};return L.stop=Gn,L.resume=Gn,L.pause=Gn,L}}const C=Ft;g.call=(L,j,V)=>Zn(L,C,j,V);let T=!1;f==="post"?g.scheduler=L=>{un(L,C&&C.suspense)}:f!=="sync"&&(T=!0,g.scheduler=(L,j)=>{j?L():xc(L)}),g.augmentJob=L=>{s&&(L.flags|=4),T&&(L.flags|=2,C&&(L.id=C.uid,L.i=C))};const I=I0(l,s,g);return No&&(v?v.push(I):m&&I()),I}function bx(l,s,a){const u=this.proxy,d=Et(l)?l.includes(".")?py(u,l):()=>u[l]:l.bind(u,u);let f;Ue(s)?f=s:(f=s.handler,a=s);const h=ci(this),g=Rc(d,f.bind(u),a);return h(),g}function py(l,s){const a=s.split(".");return()=>{let u=l;for(let d=0;d<a.length&&u;d++)u=u[a[d]];return u}}const Cx=(l,s)=>s==="modelValue"||s==="model-value"?l.modelModifiers:l[`${s}Modifiers`]||l[`${Sn(s)}Modifiers`]||l[`${di(s)}Modifiers`];function wx(l,s,...a){if(l.isUnmounted)return;const u=l.vnode.props||bt;let d=a;const f=s.startsWith("update:"),h=f&&Cx(u,s.slice(7));h&&(h.trim&&(d=a.map(C=>Et(C)?C.trim():C)),h.number&&(d=a.map(ea)));let g,m=u[g=gu(s)]||u[g=gu(Sn(s))];!m&&f&&(m=u[g=gu(di(s))]),m&&Zn(m,l,6,d);const v=u[g+"Once"];if(v){if(!l.emitted)l.emitted={};else if(l.emitted[g])return;l.emitted[g]=!0,Zn(v,l,6,d)}}function fy(l,s,a=!1){const u=s.emitsCache,d=u.get(l);if(d!==void 0)return d;const f=l.emits;let h={},g=!1;if(!Ue(l)){const m=v=>{const C=fy(v,s,!0);C&&(g=!0,Bt(h,C))};!a&&s.mixins.length&&s.mixins.forEach(m),l.extends&&m(l.extends),l.mixins&&l.mixins.forEach(m)}return!f&&!g?(xt(l)&&u.set(l,null),null):(Fe(f)?f.forEach(m=>h[m]=null):Bt(h,f),xt(l)&&u.set(l,h),h)}function ga(l,s){return!l||!ua(s)?!1:(s=s.slice(2).replace(/Once$/,""),pt(l,s[0].toLowerCase()+s.slice(1))||pt(l,di(s))||pt(l,s))}function Pu(l){const{type:s,vnode:a,proxy:u,withProxy:d,propsOptions:[f],slots:h,attrs:g,emit:m,render:v,renderCache:C,props:T,data:I,setupState:L,ctx:j,inheritAttrs:V}=l,se=ia(l);let ee,ce;try{if(a.shapeFlag&4){const pe=d||u,ie=pe;ee=Ln(v.call(ie,pe,C,T,L,I,j)),ce=g}else{const pe=s;ee=Ln(pe.length>1?pe(T,{attrs:g,slots:h,emit:m}):pe(T,null)),ce=s.props?g:xx(g)}}catch(pe){Io.length=0,Wo(pe,l,1),ee=W(Yn)}let ue=ee;if(ce&&V!==!1){const pe=Object.keys(ce),{shapeFlag:ie}=ue;pe.length&&ie&7&&(f&&pe.some(uc)&&(ce=Vx(ce,f)),ue=Fi(ue,ce,!1,!0))}return a.dirs&&(ue=Fi(ue,null,!1,!0),ue.dirs=ue.dirs?ue.dirs.concat(a.dirs):a.dirs),a.transition&&Vc(ue,a.transition),ee=ue,ia(se),ee}function Px(l,s=!0){let a;for(let u=0;u<l.length;u++){const d=l[u];if(Ni(d)){if(d.type!==Yn||d.children==="v-if"){if(a)return;a=d}}else return}return a}const xx=l=>{let s;for(const a in l)(a==="class"||a==="style"||ua(a))&&((s||(s={}))[a]=l[a]);return s},Vx=(l,s)=>{const a={};for(const u in l)(!uc(u)||!(u.slice(9)in s))&&(a[u]=l[u]);return a};function Sx(l,s,a){const{props:u,children:d,component:f}=l,{props:h,children:g,patchFlag:m}=s,v=f.emitsOptions;if(s.dirs||s.transition)return!0;if(a&&m>=0){if(m&1024)return!0;if(m&16)return u?ch(u,h,v):!!h;if(m&8){const C=s.dynamicProps;for(let T=0;T<C.length;T++){const I=C[T];if(h[I]!==u[I]&&!ga(v,I))return!0}}}else return(d||g)&&(!g||!g.$stable)?!0:u===h?!1:u?h?ch(u,h,v):!0:!!h;return!1}function ch(l,s,a){const u=Object.keys(s);if(u.length!==Object.keys(l).length)return!0;for(let d=0;d<u.length;d++){const f=u[d];if(s[f]!==l[f]&&!ga(a,f))return!0}return!1}function Ic({vnode:l,parent:s},a){for(;s;){const u=s.subTree;if(u.suspense&&u.suspense.activeBranch===l&&(u.el=l.el),u===l)(l=s.vnode).el=a,s=s.parent;else break}}const hy=l=>l.__isSuspense;let Wu=0;const Tx={name:"Suspense",__isSuspense:!0,process(l,s,a,u,d,f,h,g,m,v){if(l==null)Ox(s,a,u,d,f,h,g,m,v);else{if(f&&f.deps>0&&!l.suspense.isInFallback){s.suspense=l.suspense,s.suspense.vnode=s,s.el=l.el;return}Rx(l,s,a,u,d,h,g,m,v)}},hydrate:Ix,normalize:Ex},gy=Tx;function jo(l,s){const a=l.props&&l.props[s];Ue(a)&&a()}function Ox(l,s,a,u,d,f,h,g,m){const{p:v,o:{createElement:C}}=m,T=C("div"),I=l.suspense=yy(l,d,u,s,T,a,f,h,g,m);v(null,I.pendingBranch=l.ssContent,T,null,u,I,f,h),I.deps>0?(jo(l,"onPending"),jo(l,"onFallback"),v(null,l.ssFallback,s,a,u,null,f,h),Mi(I,l.ssFallback)):I.resolve(!1,!0)}function Rx(l,s,a,u,d,f,h,g,{p:m,um:v,o:{createElement:C}}){const T=s.suspense=l.suspense;T.vnode=s,s.el=l.el;const I=s.ssContent,L=s.ssFallback,{activeBranch:j,pendingBranch:V,isInFallback:se,isHydrating:ee}=T;if(V)T.pendingBranch=I,Ir(I,V)?(m(V,I,T.hiddenContainer,null,d,T,f,h,g),T.deps<=0?T.resolve():se&&(ee||(m(j,L,a,u,d,null,f,h,g),Mi(T,L)))):(T.pendingId=Wu++,ee?(T.isHydrating=!1,T.activeBranch=V):v(V,d,T),T.deps=0,T.effects.length=0,T.hiddenContainer=C("div"),se?(m(null,I,T.hiddenContainer,null,d,T,f,h,g),T.deps<=0?T.resolve():(m(j,L,a,u,d,null,f,h,g),Mi(T,L))):j&&Ir(I,j)?(m(j,I,a,u,d,T,f,h,g),T.resolve(!0)):(m(null,I,T.hiddenContainer,null,d,T,f,h,g),T.deps<=0&&T.resolve()));else if(j&&Ir(I,j))m(j,I,a,u,d,T,f,h,g),Mi(T,I);else if(jo(s,"onPending"),T.pendingBranch=I,I.shapeFlag&512?T.pendingId=I.component.suspenseId:T.pendingId=Wu++,m(null,I,T.hiddenContainer,null,d,T,f,h,g),T.deps<=0)T.resolve();else{const{timeout:ce,pendingId:ue}=T;ce>0?setTimeout(()=>{T.pendingId===ue&&T.fallback(L)},ce):ce===0&&T.fallback(L)}}function yy(l,s,a,u,d,f,h,g,m,v,C=!1){const{p:T,m:I,um:L,n:j,o:{parentNode:V,remove:se}}=v;let ee;const ce=Ax(l);ce&&s&&s.pendingBranch&&(ee=s.pendingId,s.deps++);const ue=l.props?$P(l.props.timeout):void 0,pe=f,ie={vnode:l,parent:s,parentComponent:a,namespace:h,container:u,hiddenContainer:d,deps:0,pendingId:Wu++,timeout:typeof ue=="number"?ue:-1,activeBranch:null,pendingBranch:null,isInFallback:!C,isHydrating:C,isUnmounted:!1,effects:[],resolve(Oe=!1,He=!1){const{vnode:Me,activeBranch:Re,pendingBranch:ze,pendingId:ft,effects:St,parentComponent:Rt,container:et}=ie;let H=!1;ie.isHydrating?ie.isHydrating=!1:Oe||(H=Re&&ze.transition&&ze.transition.mode==="out-in",H&&(Re.transition.afterLeave=()=>{ft===ie.pendingId&&(I(ze,et,f===pe?j(Re):f,0),Nu(St))}),Re&&(V(Re.el)===et&&(f=j(Re)),L(Re,Rt,ie,!0)),H||I(ze,et,f,0)),Mi(ie,ze),ie.pendingBranch=null,ie.isInFallback=!1;let it=ie.parent,Ie=!1;for(;it;){if(it.pendingBranch){it.effects.push(...St),Ie=!0;break}it=it.parent}!Ie&&!H&&Nu(St),ie.effects=[],ce&&s&&s.pendingBranch&&ee===s.pendingId&&(s.deps--,s.deps===0&&!He&&s.resolve()),jo(Me,"onResolve")},fallback(Oe){if(!ie.pendingBranch)return;const{vnode:He,activeBranch:Me,parentComponent:Re,container:ze,namespace:ft}=ie;jo(He,"onFallback");const St=j(Me),Rt=()=>{ie.isInFallback&&(T(null,Oe,ze,St,Re,null,ft,g,m),Mi(ie,Oe))},et=Oe.transition&&Oe.transition.mode==="out-in";et&&(Me.transition.afterLeave=Rt),ie.isInFallback=!0,L(Me,Re,null,!0),et||Rt()},move(Oe,He,Me){ie.activeBranch&&I(ie.activeBranch,Oe,He,Me),ie.container=Oe},next(){return ie.activeBranch&&j(ie.activeBranch)},registerDep(Oe,He,Me){const Re=!!ie.pendingBranch;Re&&ie.deps++;const ze=Oe.vnode.el;Oe.asyncDep.catch(ft=>{Wo(ft,Oe,0)}).then(ft=>{if(Oe.isUnmounted||ie.isUnmounted||ie.pendingId!==Oe.suspenseId)return;Oe.asyncResolved=!0;const{vnode:St}=Oe;Ku(Oe,ft,!1),ze&&(St.el=ze);const Rt=!ze&&Oe.subTree.el;He(Oe,St,V(ze||Oe.subTree.el),ze?null:j(Oe.subTree),ie,h,Me),Rt&&se(Rt),Ic(Oe,St.el),Re&&--ie.deps===0&&ie.resolve()})},unmount(Oe,He){ie.isUnmounted=!0,ie.activeBranch&&L(ie.activeBranch,a,Oe,He),ie.pendingBranch&&L(ie.pendingBranch,a,Oe,He)}};return ie}function Ix(l,s,a,u,d,f,h,g,m){const v=s.suspense=yy(s,u,a,l.parentNode,document.createElement("div"),null,d,f,h,g,!0),C=m(l,v.pendingBranch=s.ssContent,a,v,f,h);return v.deps===0&&v.resolve(!1,!0),C}function Ex(l){const{shapeFlag:s,children:a}=l,u=s&32;l.ssContent=dh(u?a.default:a),l.ssFallback=u?dh(a.fallback):W(Yn)}function dh(l){let s;if(Ue(l)){const a=ji&&l._c;a&&(l._d=!1,x()),l=l(),a&&(l._d=!0,s=dn,my())}return Fe(l)&&(l=Px(l)),l=Ln(l),s&&!l.dynamicChildren&&(l.dynamicChildren=s.filter(a=>a!==l)),l}function _x(l,s){s&&s.pendingBranch?Fe(l)?s.effects.push(...l):s.effects.push(l):Nu(l)}function Mi(l,s){l.activeBranch=s;const{vnode:a,parentComponent:u}=l;let d=s.el;for(;!d&&s.component;)s=s.component.subTree,d=s.el;a.el=d,u&&u.subTree===a&&(u.vnode.el=d,Ic(u,d))}function Ax(l){const s=l.props&&l.props.suspensible;return s!=null&&s!==!1}const Te=Symbol.for("v-fgt"),ya=Symbol.for("v-txt"),Yn=Symbol.for("v-cmt"),Zs=Symbol.for("v-stc"),Io=[];let dn=null;function x(l=!1){Io.push(dn=l?null:[])}function my(){Io.pop(),dn=Io[Io.length-1]||null}let ji=1;function ph(l){ji+=l,l<0&&dn&&(dn.hasOnce=!0)}function vy(l){return l.dynamicChildren=ji>0?dn||Ai:null,my(),ji>0&&dn&&dn.push(l),l}function R(l,s,a,u,d,f){return vy(F(l,s,a,u,d,f,!0))}function $(l,s,a,u,d){return vy(W(l,s,a,u,d,!0))}function Ni(l){return l?l.__v_isVNode===!0:!1}function Ir(l,s){return l.type===s.type&&l.key===s.key}const by=({key:l})=>l??null,Ys=({ref:l,ref_key:s,ref_for:a})=>(typeof l=="number"&&(l=""+l),l!=null?Et(l)||Lt(l)||Ue(l)?{i:Mt,r:l,k:s,f:!!a}:l:null);function F(l,s=null,a=null,u=0,d=null,f=l===Te?0:1,h=!1,g=!1){const m={__v_isVNode:!0,__v_skip:!0,type:l,props:s,key:s&&by(s),ref:s&&Ys(s),scopeId:zg,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:f,patchFlag:u,dynamicProps:d,dynamicChildren:null,appContext:null,ctx:Mt};return g?(Ec(m,a),f&128&&l.normalize(m)):a&&(m.shapeFlag|=Et(a)?8:16),ji>0&&!h&&dn&&(m.patchFlag>0||f&6)&&m.patchFlag!==32&&dn.push(m),m}const W=Dx;function Dx(l,s=null,a=null,u=0,d=null,f=!1){if((!l||l===Kg)&&(l=Yn),Ni(l)){const g=Fi(l,s,!0);return a&&Ec(g,a),ji>0&&!f&&dn&&(g.shapeFlag&6?dn[dn.indexOf(l)]=g:dn.push(g)),g.patchFlag=-2,g}if(Qx(l)&&(l=l.__vccOpts),s){s=$u(s);let{class:g,style:m}=s;g&&!Et(g)&&(s.class=O(g)),xt(m)&&(wc(m)&&!Fe(m)&&(m=Bt({},m)),s.style=De(m))}const h=Et(l)?1:hy(l)?128:A0(l)?64:xt(l)?4:Ue(l)?2:0;return F(l,s,a,u,d,h,f,!0)}function $u(l){return l?wc(l)||iy(l)?Bt({},l):l:null}function Fi(l,s,a=!1,u=!1){const{props:d,ref:f,patchFlag:h,children:g,transition:m}=l,v=s?kt(d||{},s):d,C={__v_isVNode:!0,__v_skip:!0,type:l.type,props:v,key:v&&by(v),ref:s&&s.ref?a&&f?Fe(f)?f.concat(Ys(s)):[f,Ys(s)]:Ys(s):f,scopeId:l.scopeId,slotScopeIds:l.slotScopeIds,children:g,target:l.target,targetStart:l.targetStart,targetAnchor:l.targetAnchor,staticCount:l.staticCount,shapeFlag:l.shapeFlag,patchFlag:s&&l.type!==Te?h===-1?16:h|16:h,dynamicProps:l.dynamicProps,dynamicChildren:l.dynamicChildren,appContext:l.appContext,dirs:l.dirs,transition:m,component:l.component,suspense:l.suspense,ssContent:l.ssContent&&Fi(l.ssContent),ssFallback:l.ssFallback&&Fi(l.ssFallback),el:l.el,anchor:l.anchor,ctx:l.ctx,ce:l.ce};return m&&u&&Vc(C,m.clone(C)),C}function Lx(l=" ",s=0){return W(ya,null,l,s)}function kx(l,s){const a=W(Zs,null,l);return a.staticCount=s,a}function k(l="",s=!1){return s?(x(),$(Yn,null,l)):W(Yn,null,l)}function Ln(l){return l==null||typeof l=="boolean"?W(Yn):Fe(l)?W(Te,null,l.slice()):Ni(l)?Tr(l):W(ya,null,String(l))}function Tr(l){return l.el===null&&l.patchFlag!==-1||l.memo?l:Fi(l)}function Ec(l,s){let a=0;const{shapeFlag:u}=l;if(s==null)s=null;else if(Fe(s))a=16;else if(typeof s=="object")if(u&65){const d=s.default;d&&(d._c&&(d._d=!1),Ec(l,d()),d._c&&(d._d=!0));return}else{a=32;const d=s._;!d&&!iy(s)?s._ctx=Mt:d===3&&Mt&&(Mt.slots._===1?s._=1:(s._=2,l.patchFlag|=1024))}else Ue(s)?(s={default:s,_ctx:Mt},a=32):(s=String(s),u&64?(a=16,s=[Lx(s)]):a=8);l.children=s,l.shapeFlag|=a}function kt(...l){const s={};for(let a=0;a<l.length;a++){const u=l[a];for(const d in u)if(d==="class")s.class!==u.class&&(s.class=O([s.class,u.class]));else if(d==="style")s.style=De([s.style,u.style]);else if(ua(d)){const f=s[d],h=u[d];h&&f!==h&&!(Fe(f)&&f.includes(h))&&(s[d]=f?[].concat(f,h):h)}else d!==""&&(s[d]=u[d])}return s}function $n(l,s,a,u=null){Zn(l,s,7,[a,u])}const Mx=ty();let qx=0;function jx(l,s,a){const u=l.type,d=(s?s.appContext:l.appContext)||Mx,f={uid:qx++,vnode:l,type:u,parent:s,appContext:d,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Cg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(d.provides),ids:s?s.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sy(u,d),emitsOptions:fy(u,d),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:u.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return f.ctx={_:f},f.root=s?s.root:f,f.emit=wx.bind(null,f),l.ce&&l.ce(f),f}let Ft=null;const ma=()=>Ft||Mt;let sa,Ju;{const l=pa(),s=(a,u)=>{let d;return(d=l[a])||(d=l[a]=[]),d.push(u),f=>{d.length>1?d.forEach(h=>h(f)):d[0](f)}};sa=s("__VUE_INSTANCE_SETTERS__",a=>Ft=a),Ju=s("__VUE_SSR_SETTERS__",a=>No=a)}const ci=l=>{const s=Ft;return sa(l),l.scope.on(),()=>{l.scope.off(),sa(s)}},Gu=()=>{Ft&&Ft.scope.off(),sa(null)};function Cy(l){return l.vnode.shapeFlag&4}let No=!1;function Nx(l,s=!1,a=!1){s&&Ju(s);const{props:u,children:d}=l.vnode,f=Cy(l);sx(l,u,f,s),cx(l,d,a);const h=f?Fx(l,s):void 0;return s&&Ju(!1),h}function Fx(l,s){const a=l.type;l.accessCache=Object.create(null),l.proxy=new Proxy(l.ctx,G0);const{setup:u}=a;if(u){kr();const d=l.setupContext=u.length>1?Py(l):null,f=ci(l),h=Uo(u,l,0,[l.props,d]),g=dc(h);if(Mr(),f(),(g||l.sp)&&!ki(l)&&$g(l),g){if(h.then(Gu,Gu),s)return h.then(m=>{Ku(l,m,s)}).catch(m=>{Wo(m,l,0)});l.asyncDep=h}else Ku(l,h,s)}else wy(l,s)}function Ku(l,s,a){Ue(s)?l.type.__ssrInlineRender?l.ssrRender=s:l.render=s:xt(s)&&(l.setupState=Ng(s)),wy(l,a)}let fh;function wy(l,s,a){const u=l.type;if(!l.render){if(!s&&fh&&!u.render){const d=u.template||Sc(l).template;if(d){const{isCustomElement:f,compilerOptions:h}=l.appContext.config,{delimiters:g,compilerOptions:m}=u,v=Bt(Bt({isCustomElement:f,delimiters:g},h),m);u.render=fh(d,v)}}l.render=u.render||Gn}{const d=ci(l);kr();try{Y0(l)}finally{Mr(),d()}}}const Bx={get(l,s){return $t(l,"get",""),l[s]}};function Py(l){const s=a=>{l.exposed=a||{}};return{attrs:new Proxy(l.attrs,Bx),slots:l.slots,emit:l.emit,expose:s}}function va(l){return l.exposed?l.exposeProxy||(l.exposeProxy=new Proxy(Ng(Pc(l.exposed)),{get(s,a){if(a in s)return s[a];if(a in Ro)return Ro[a](l)},has(s,a){return a in s||a in Ro}})):l.proxy}function Hx(l,s=!0){return Ue(l)?l.displayName||l.name:l.name||s&&l.__name}function Qx(l){return Ue(l)&&"__vccOpts"in l}const Ve=(l,s)=>O0(l,s,No);function xy(l,s,a){const u=arguments.length;return u===2?xt(s)&&!Fe(s)?Ni(s)?W(l,null,[s]):W(l,s):W(l,null,s):(u>3?a=Array.prototype.slice.call(arguments,2):u===3&&Ni(a)&&(a=[a]),W(l,s,a))}const zx="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zu;const hh=typeof window<"u"&&window.trustedTypes;if(hh)try{Zu=hh.createPolicy("vue",{createHTML:l=>l})}catch{}const Vy=Zu?l=>Zu.createHTML(l):l=>l,Ux="http://www.w3.org/2000/svg",Wx="http://www.w3.org/1998/Math/MathML",ir=typeof document<"u"?document:null,gh=ir&&ir.createElement("template"),$x={insert:(l,s,a)=>{s.insertBefore(l,a||null)},remove:l=>{const s=l.parentNode;s&&s.removeChild(l)},createElement:(l,s,a,u)=>{const d=s==="svg"?ir.createElementNS(Ux,l):s==="mathml"?ir.createElementNS(Wx,l):a?ir.createElement(l,{is:a}):ir.createElement(l);return l==="select"&&u&&u.multiple!=null&&d.setAttribute("multiple",u.multiple),d},createText:l=>ir.createTextNode(l),createComment:l=>ir.createComment(l),setText:(l,s)=>{l.nodeValue=s},setElementText:(l,s)=>{l.textContent=s},parentNode:l=>l.parentNode,nextSibling:l=>l.nextSibling,querySelector:l=>ir.querySelector(l),setScopeId(l,s){l.setAttribute(s,"")},insertStaticContent(l,s,a,u,d,f){const h=a?a.previousSibling:s.lastChild;if(d&&(d===f||d.nextSibling))for(;s.insertBefore(d.cloneNode(!0),a),!(d===f||!(d=d.nextSibling)););else{gh.innerHTML=Vy(u==="svg"?`<svg>${l}</svg>`:u==="mathml"?`<math>${l}</math>`:l);const g=gh.content;if(u==="svg"||u==="mathml"){const m=g.firstChild;for(;m.firstChild;)g.appendChild(m.firstChild);g.removeChild(m)}s.insertBefore(g,a)}return[h?h.nextSibling:s.firstChild,a?a.previousSibling:s.lastChild]}},Jx=Symbol("_vtc");function Gx(l,s,a){const u=l[Jx];u&&(s=(s?[s,...u]:[...u]).join(" ")),s==null?l.removeAttribute("class"):a?l.setAttribute("class",s):l.className=s}const aa=Symbol("_vod"),Sy=Symbol("_vsh"),nn={beforeMount(l,{value:s},{transition:a}){l[aa]=l.style.display==="none"?"":l.style.display,a&&s?a.beforeEnter(l):vo(l,s)},mounted(l,{value:s},{transition:a}){a&&s&&a.enter(l)},updated(l,{value:s,oldValue:a},{transition:u}){!s!=!a&&(u?s?(u.beforeEnter(l),vo(l,!0),u.enter(l)):u.leave(l,()=>{vo(l,!1)}):vo(l,s))},beforeUnmount(l,{value:s}){vo(l,s)}};function vo(l,s){l.style.display=s?l[aa]:"none",l[Sy]=!s}const Kx=Symbol(""),Zx=/(^|;)\s*display\s*:/;function Yx(l,s,a){const u=l.style,d=Et(a);let f=!1;if(a&&!d){if(s)if(Et(s))for(const h of s.split(";")){const g=h.slice(0,h.indexOf(":")).trim();a[g]==null&&Xs(u,g,"")}else for(const h in s)a[h]==null&&Xs(u,h,"");for(const h in a)h==="display"&&(f=!0),Xs(u,h,a[h])}else if(d){if(s!==a){const h=u[Kx];h&&(a+=";"+h),u.cssText=a,f=Zx.test(a)}}else s&&l.removeAttribute("style");aa in l&&(l[aa]=f?u.display:"",l[Sy]&&(u.display="none"))}const yh=/\s*!important$/;function Xs(l,s,a){if(Fe(a))a.forEach(u=>Xs(l,s,u));else if(a==null&&(a=""),s.startsWith("--"))l.setProperty(s,a);else{const u=Xx(l,s);yh.test(a)?l.setProperty(di(u),a.replace(yh,""),"important"):l[u]=a}}const mh=["Webkit","Moz","ms"],xu={};function Xx(l,s){const a=xu[s];if(a)return a;let u=Sn(s);if(u!=="filter"&&u in l)return xu[s]=u;u=da(u);for(let d=0;d<mh.length;d++){const f=mh[d]+u;if(f in l)return xu[s]=f}return s}const vh="http://www.w3.org/1999/xlink";function bh(l,s,a,u,d,f=XP(s)){u&&s.startsWith("xlink:")?a==null?l.removeAttributeNS(vh,s.slice(6,s.length)):l.setAttributeNS(vh,s,a):a==null||f&&!mg(a)?l.removeAttribute(s):l.setAttribute(s,f?"":Mn(a)?String(a):a)}function Ch(l,s,a,u,d){if(s==="innerHTML"||s==="textContent"){a!=null&&(l[s]=s==="innerHTML"?Vy(a):a);return}const f=l.tagName;if(s==="value"&&f!=="PROGRESS"&&!f.includes("-")){const g=f==="OPTION"?l.getAttribute("value")||"":l.value,m=a==null?l.type==="checkbox"?"on":"":String(a);(g!==m||!("_value"in l))&&(l.value=m),a==null&&l.removeAttribute(s),l._value=a;return}let h=!1;if(a===""||a==null){const g=typeof l[s];g==="boolean"?a=mg(a):a==null&&g==="string"?(a="",h=!0):g==="number"&&(a=0,h=!0)}try{l[s]=a}catch{}h&&l.removeAttribute(d||s)}function ar(l,s,a,u){l.addEventListener(s,a,u)}function eV(l,s,a,u){l.removeEventListener(s,a,u)}const wh=Symbol("_vei");function tV(l,s,a,u,d=null){const f=l[wh]||(l[wh]={}),h=f[s];if(u&&h)h.value=u;else{const[g,m]=nV(s);if(u){const v=f[s]=oV(u,d);ar(l,g,v,m)}else h&&(eV(l,g,h,m),f[s]=void 0)}}const Ph=/(?:Once|Passive|Capture)$/;function nV(l){let s;if(Ph.test(l)){s={};let u;for(;u=l.match(Ph);)l=l.slice(0,l.length-u[0].length),s[u[0].toLowerCase()]=!0}return[l[2]===":"?l.slice(3):di(l.slice(2)),s]}let Vu=0;const rV=Promise.resolve(),iV=()=>Vu||(rV.then(()=>Vu=0),Vu=Date.now());function oV(l,s){const a=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=a.attached)return;Zn(sV(u,a.value),s,5,[u])};return a.value=l,a.attached=iV(),a}function sV(l,s){if(Fe(s)){const a=l.stopImmediatePropagation;return l.stopImmediatePropagation=()=>{a.call(l),l._stopped=!0},s.map(u=>d=>!d._stopped&&u&&u(d))}else return s}const xh=l=>l.charCodeAt(0)===111&&l.charCodeAt(1)===110&&l.charCodeAt(2)>96&&l.charCodeAt(2)<123,aV=(l,s,a,u,d,f)=>{const h=d==="svg";s==="class"?Gx(l,u,h):s==="style"?Yx(l,a,u):ua(s)?uc(s)||tV(l,s,a,u,f):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):lV(l,s,u,h))?(Ch(l,s,u),!l.tagName.includes("-")&&(s==="value"||s==="checked"||s==="selected")&&bh(l,s,u,h,f,s!=="value")):l._isVueCE&&(/[A-Z]/.test(s)||!Et(u))?Ch(l,Sn(s),u,f,s):(s==="true-value"?l._trueValue=u:s==="false-value"&&(l._falseValue=u),bh(l,s,u,h))};function lV(l,s,a,u){if(u)return!!(s==="innerHTML"||s==="textContent"||s in l&&xh(s)&&Ue(a));if(s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&l.tagName==="INPUT"||s==="type"&&l.tagName==="TEXTAREA")return!1;if(s==="width"||s==="height"){const d=l.tagName;if(d==="IMG"||d==="VIDEO"||d==="CANVAS"||d==="SOURCE")return!1}return xh(s)&&Et(a)?!1:s in l}const Lr=l=>{const s=l.props["onUpdate:modelValue"]||!1;return Fe(s)?a=>Js(s,a):s};function uV(l){l.target.composing=!0}function Vh(l){const s=l.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const Vn=Symbol("_assign"),cV={created(l,{modifiers:{lazy:s,trim:a,number:u}},d){l[Vn]=Lr(d);const f=u||d.props&&d.props.type==="number";ar(l,s?"change":"input",h=>{if(h.target.composing)return;let g=l.value;a&&(g=g.trim()),f&&(g=ea(g)),l[Vn](g)}),a&&ar(l,"change",()=>{l.value=l.value.trim()}),s||(ar(l,"compositionstart",uV),ar(l,"compositionend",Vh),ar(l,"change",Vh))},mounted(l,{value:s}){l.value=s??""},beforeUpdate(l,{value:s,oldValue:a,modifiers:{lazy:u,trim:d,number:f}},h){if(l[Vn]=Lr(h),l.composing)return;const g=(f||l.type==="number")&&!/^0\d/.test(l.value)?ea(l.value):l.value,m=s??"";g!==m&&(document.activeElement===l&&l.type!=="range"&&(u&&s===a||d&&l.value.trim()===m)||(l.value=m))}},_c={deep:!0,created(l,s,a){l[Vn]=Lr(a),ar(l,"change",()=>{const u=l._modelValue,d=Bi(l),f=l.checked,h=l[Vn];if(Fe(u)){const g=fc(u,d),m=g!==-1;if(f&&!m)h(u.concat(d));else if(!f&&m){const v=[...u];v.splice(g,1),h(v)}}else if(Wi(u)){const g=new Set(u);f?g.add(d):g.delete(d),h(g)}else h(Ty(l,f))})},mounted:Sh,beforeUpdate(l,s,a){l[Vn]=Lr(a),Sh(l,s,a)}};function Sh(l,{value:s,oldValue:a},u){l._modelValue=s;let d;if(Fe(s))d=fc(s,u.props.value)>-1;else if(Wi(s))d=s.has(u.props.value);else{if(s===a)return;d=li(s,Ty(l,!0))}l.checked!==d&&(l.checked=d)}const ba={created(l,{value:s},a){l.checked=li(s,a.props.value),l[Vn]=Lr(a),ar(l,"change",()=>{l[Vn](Bi(l))})},beforeUpdate(l,{value:s,oldValue:a},u){l[Vn]=Lr(u),s!==a&&(l.checked=li(s,u.props.value))}},dV={deep:!0,created(l,{value:s,modifiers:{number:a}},u){const d=Wi(s);ar(l,"change",()=>{const f=Array.prototype.filter.call(l.options,h=>h.selected).map(h=>a?ea(Bi(h)):Bi(h));l[Vn](l.multiple?d?new Set(f):f:f[0]),l._assigning=!0,$o(()=>{l._assigning=!1})}),l[Vn]=Lr(u)},mounted(l,{value:s}){Th(l,s)},beforeUpdate(l,s,a){l[Vn]=Lr(a)},updated(l,{value:s}){l._assigning||Th(l,s)}};function Th(l,s){const a=l.multiple,u=Fe(s);if(!(a&&!u&&!Wi(s))){for(let d=0,f=l.options.length;d<f;d++){const h=l.options[d],g=Bi(h);if(a)if(u){const m=typeof g;m==="string"||m==="number"?h.selected=s.some(v=>String(v)===String(g)):h.selected=fc(s,g)>-1}else h.selected=s.has(g);else if(li(Bi(h),s)){l.selectedIndex!==d&&(l.selectedIndex=d);return}}!a&&l.selectedIndex!==-1&&(l.selectedIndex=-1)}}function Bi(l){return"_value"in l?l._value:l.value}function Ty(l,s){const a=s?"_trueValue":"_falseValue";return a in l?l[a]:s}const pV=Bt({patchProp:aV},$x);let Oh;function fV(){return Oh||(Oh=px(pV))}const hV=(...l)=>{const s=fV().createApp(...l),{mount:a}=s;return s.mount=u=>{const d=yV(u);if(!d)return;const f=s._component;!Ue(f)&&!f.render&&!f.template&&(f.template=d.innerHTML),d.nodeType===1&&(d.textContent="");const h=a(d,!1,gV(d));return d instanceof Element&&(d.removeAttribute("v-cloak"),d.setAttribute("data-v-app","")),h},s};function gV(l){if(l instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&l instanceof MathMLElement)return"mathml"}function yV(l){return Et(l)?document.querySelector(l):l}var mV=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Oy;const Ca=l=>Oy=l,Ry=Symbol();function Rh(l){return l&&typeof l=="object"&&Object.prototype.toString.call(l)==="[object Object]"&&typeof l.toJSON!="function"}var Eo;(function(l){l.direct="direct",l.patchObject="patch object",l.patchFunction="patch function"})(Eo||(Eo={}));function vV(){const l=wg(!0),s=l.run(()=>_e({}));let a=[],u=[];const d=Pc({install(f){Ca(d),d._a=f,f.provide(Ry,d),f.config.globalProperties.$pinia=d,u.forEach(h=>a.push(h)),u=[]},use(f){return!this._a&&!mV?u.push(f):a.push(f),this},_p:a,_a:null,_e:l,_s:new Map,state:s});return d}const bV=()=>{};function Ih(l,s,a,u=bV){l.push(s);const d=()=>{const f=l.indexOf(s);f>-1&&(l.splice(f,1),u())};return!a&&Pg()&&t0(d),d}function Ti(l,...s){l.slice().forEach(a=>{a(...s)})}const CV=l=>l(),Eh=Symbol(),Su=Symbol();function Iy(l,s){l instanceof Map&&s instanceof Map?s.forEach((a,u)=>l.set(u,a)):l instanceof Set&&s instanceof Set&&s.forEach(l.add,l);for(const a in s){if(!s.hasOwnProperty(a))continue;const u=s[a],d=l[a];Rh(d)&&Rh(u)&&l.hasOwnProperty(a)&&!Lt(u)&&!Ar(u)?l[a]=Iy(d,u):l[a]=u}return l}const{assign:Pr}=Object;function wV(l){return!!(Lt(l)&&l.effect)}function PV(l,s,a,u){const{state:d,actions:f,getters:h}=s,g=a.state.value[l];let m;function v(){g||(a.state.value[l]=d?d():{});const C=x0(a.state.value[l]);return Pr(C,f,Object.keys(h||{}).reduce((T,I)=>(T[I]=Pc(Ve(()=>{Ca(a);const L=a._s.get(l);return h[I].call(L,L)})),T),{}))}return m=xV(l,v,s,a,u,!0),m}function xV(l,s,a={},u,d,f){let h;const g=Pr({actions:{}},a),m={deep:!0};let v,C,T=[],I=[],L;const j=u.state.value[l];_e({});let V;function se(Me){let Re;v=C=!1,typeof Me=="function"?(Me(u.state.value[l]),Re={type:Eo.patchFunction,storeId:l,events:L}):(Iy(u.state.value[l],Me),Re={type:Eo.patchObject,payload:Me,storeId:l,events:L});const ze=V=Symbol();$o().then(()=>{V===ze&&(v=!0)}),C=!0,Ti(T,Re,u.state.value[l])}const ee=function(){const{state:Re}=a,ze=Re?Re():{};this.$patch(ft=>{Pr(ft,ze)})};function ce(){h.stop(),T=[],I=[],u._s.delete(l)}const ue=(Me,Re="")=>{if(Eh in Me)return Me[Su]=Re,Me;const ze=function(){Ca(u);const ft=Array.from(arguments),St=[],Rt=[];function et(Ie){St.push(Ie)}function H(Ie){Rt.push(Ie)}Ti(I,{args:ft,name:ze[Su],store:ie,after:et,onError:H});let it;try{it=Me.apply(this&&this.$id===l?this:ie,ft)}catch(Ie){throw Ti(Rt,Ie),Ie}return it instanceof Promise?it.then(Ie=>(Ti(St,Ie),Ie)).catch(Ie=>(Ti(Rt,Ie),Promise.reject(Ie))):(Ti(St,it),it)};return ze[Eh]=!0,ze[Su]=Re,ze},pe={_p:u,$id:l,$onAction:Ih.bind(null,I),$patch:se,$reset:ee,$subscribe(Me,Re={}){const ze=Ih(T,Me,Re.detached,()=>ft()),ft=h.run(()=>xn(()=>u.state.value[l],St=>{(Re.flush==="sync"?C:v)&&Me({storeId:l,type:Eo.direct,events:L},St)},Pr({},m,Re)));return ze},$dispose:ce},ie=zo(pe);u._s.set(l,ie);const He=(u._a&&u._a.runWithContext||CV)(()=>u._e.run(()=>(h=wg()).run(()=>s({action:ue}))));for(const Me in He){const Re=He[Me];if(!(Lt(Re)&&!wV(Re)||Ar(Re))){if(typeof Re=="function"){const ze=ue(Re,Me);He[Me]=ze,g.actions[Me]=Re}}}return Pr(ie,He),Pr(st(ie),He),Object.defineProperty(ie,"$state",{get:()=>u.state.value[l],set:Me=>{se(Re=>{Pr(Re,Me)})}}),u._p.forEach(Me=>{Pr(ie,h.run(()=>Me({store:ie,app:u._a,pinia:u,options:g})))}),j&&f&&a.hydrate&&a.hydrate(ie.$state,j),v=!0,C=!0,ie}function VV(l,s,a){let u,d;typeof l=="string"?(u=l,d=s):(d=l,u=l.id);function f(h,g){const m=ox();return h=h||(m?Kn(Ry,null):null),h&&Ca(h),h=Oy,h._s.has(u)||PV(u,d,h),h._s.get(u)}return f.$id=u,f}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _i=typeof document<"u";function Ey(l){return typeof l=="object"||"displayName"in l||"props"in l||"__vccOpts"in l}function SV(l){return l.__esModule||l[Symbol.toStringTag]==="Module"||l.default&&Ey(l.default)}const ht=Object.assign;function Tu(l,s){const a={};for(const u in s){const d=s[u];a[u]=qn(d)?d.map(l):l(d)}return a}const _o=()=>{},qn=Array.isArray,_y=/#/g,TV=/&/g,OV=/\//g,RV=/=/g,IV=/\?/g,Ay=/\+/g,EV=/%5B/g,_V=/%5D/g,Dy=/%5E/g,AV=/%60/g,Ly=/%7B/g,DV=/%7C/g,ky=/%7D/g,LV=/%20/g;function Ac(l){return encodeURI(""+l).replace(DV,"|").replace(EV,"[").replace(_V,"]")}function kV(l){return Ac(l).replace(Ly,"{").replace(ky,"}").replace(Dy,"^")}function Yu(l){return Ac(l).replace(Ay,"%2B").replace(LV,"+").replace(_y,"%23").replace(TV,"%26").replace(AV,"`").replace(Ly,"{").replace(ky,"}").replace(Dy,"^")}function MV(l){return Yu(l).replace(RV,"%3D")}function qV(l){return Ac(l).replace(_y,"%23").replace(IV,"%3F")}function jV(l){return l==null?"":qV(l).replace(OV,"%2F")}function Fo(l){try{return decodeURIComponent(""+l)}catch{}return""+l}const NV=/\/$/,FV=l=>l.replace(NV,"");function Ou(l,s,a="/"){let u,d={},f="",h="";const g=s.indexOf("#");let m=s.indexOf("?");return g<m&&g>=0&&(m=-1),m>-1&&(u=s.slice(0,m),f=s.slice(m+1,g>-1?g:s.length),d=l(f)),g>-1&&(u=u||s.slice(0,g),h=s.slice(g,s.length)),u=zV(u??s,a),{fullPath:u+(f&&"?")+f+h,path:u,query:d,hash:Fo(h)}}function BV(l,s){const a=s.query?l(s.query):"";return s.path+(a&&"?")+a+(s.hash||"")}function _h(l,s){return!s||!l.toLowerCase().startsWith(s.toLowerCase())?l:l.slice(s.length)||"/"}function HV(l,s,a){const u=s.matched.length-1,d=a.matched.length-1;return u>-1&&u===d&&Hi(s.matched[u],a.matched[d])&&My(s.params,a.params)&&l(s.query)===l(a.query)&&s.hash===a.hash}function Hi(l,s){return(l.aliasOf||l)===(s.aliasOf||s)}function My(l,s){if(Object.keys(l).length!==Object.keys(s).length)return!1;for(const a in l)if(!QV(l[a],s[a]))return!1;return!0}function QV(l,s){return qn(l)?Ah(l,s):qn(s)?Ah(s,l):l===s}function Ah(l,s){return qn(s)?l.length===s.length&&l.every((a,u)=>a===s[u]):l.length===1&&l[0]===s}function zV(l,s){if(l.startsWith("/"))return l;if(!l)return s;const a=s.split("/"),u=l.split("/"),d=u[u.length-1];(d===".."||d===".")&&u.push("");let f=a.length-1,h,g;for(h=0;h<u.length;h++)if(g=u[h],g!==".")if(g==="..")f>1&&f--;else break;return a.slice(0,f).join("/")+"/"+u.slice(h).join("/")}const wr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Bo;(function(l){l.pop="pop",l.push="push"})(Bo||(Bo={}));var Ao;(function(l){l.back="back",l.forward="forward",l.unknown=""})(Ao||(Ao={}));function UV(l){if(!l)if(_i){const s=document.querySelector("base");l=s&&s.getAttribute("href")||"/",l=l.replace(/^\w+:\/\/[^\/]+/,"")}else l="/";return l[0]!=="/"&&l[0]!=="#"&&(l="/"+l),FV(l)}const WV=/^[^#]+#/;function $V(l,s){return l.replace(WV,"#")+s}function JV(l,s){const a=document.documentElement.getBoundingClientRect(),u=l.getBoundingClientRect();return{behavior:s.behavior,left:u.left-a.left-(s.left||0),top:u.top-a.top-(s.top||0)}}const wa=()=>({left:window.scrollX,top:window.scrollY});function GV(l){let s;if("el"in l){const a=l.el,u=typeof a=="string"&&a.startsWith("#"),d=typeof a=="string"?u?document.getElementById(a.slice(1)):document.querySelector(a):a;if(!d)return;s=JV(d,l)}else s=l;"scrollBehavior"in document.documentElement.style?window.scrollTo(s):window.scrollTo(s.left!=null?s.left:window.scrollX,s.top!=null?s.top:window.scrollY)}function Dh(l,s){return(history.state?history.state.position-s:-1)+l}const Xu=new Map;function KV(l,s){Xu.set(l,s)}function ZV(l){const s=Xu.get(l);return Xu.delete(l),s}let YV=()=>location.protocol+"//"+location.host;function qy(l,s){const{pathname:a,search:u,hash:d}=s,f=l.indexOf("#");if(f>-1){let g=d.includes(l.slice(f))?l.slice(f).length:1,m=d.slice(g);return m[0]!=="/"&&(m="/"+m),_h(m,"")}return _h(a,l)+u+d}function XV(l,s,a,u){let d=[],f=[],h=null;const g=({state:I})=>{const L=qy(l,location),j=a.value,V=s.value;let se=0;if(I){if(a.value=L,s.value=I,h&&h===j){h=null;return}se=V?I.position-V.position:0}else u(L);d.forEach(ee=>{ee(a.value,j,{delta:se,type:Bo.pop,direction:se?se>0?Ao.forward:Ao.back:Ao.unknown})})};function m(){h=a.value}function v(I){d.push(I);const L=()=>{const j=d.indexOf(I);j>-1&&d.splice(j,1)};return f.push(L),L}function C(){const{history:I}=window;I.state&&I.replaceState(ht({},I.state,{scroll:wa()}),"")}function T(){for(const I of f)I();f=[],window.removeEventListener("popstate",g),window.removeEventListener("beforeunload",C)}return window.addEventListener("popstate",g),window.addEventListener("beforeunload",C,{passive:!0}),{pauseListeners:m,listen:v,destroy:T}}function Lh(l,s,a,u=!1,d=!1){return{back:l,current:s,forward:a,replaced:u,position:window.history.length,scroll:d?wa():null}}function e1(l){const{history:s,location:a}=window,u={value:qy(l,a)},d={value:s.state};d.value||f(u.value,{back:null,current:u.value,forward:null,position:s.length-1,replaced:!0,scroll:null},!0);function f(m,v,C){const T=l.indexOf("#"),I=T>-1?(a.host&&document.querySelector("base")?l:l.slice(T))+m:YV()+l+m;try{s[C?"replaceState":"pushState"](v,"",I),d.value=v}catch(L){console.error(L),a[C?"replace":"assign"](I)}}function h(m,v){const C=ht({},s.state,Lh(d.value.back,m,d.value.forward,!0),v,{position:d.value.position});f(m,C,!0),u.value=m}function g(m,v){const C=ht({},d.value,s.state,{forward:m,scroll:wa()});f(C.current,C,!0);const T=ht({},Lh(u.value,m,null),{position:C.position+1},v);f(m,T,!1),u.value=m}return{location:u,state:d,push:g,replace:h}}function t1(l){l=UV(l);const s=e1(l),a=XV(l,s.state,s.location,s.replace);function u(f,h=!0){h||a.pauseListeners(),history.go(f)}const d=ht({location:"",base:l,go:u,createHref:$V.bind(null,l)},s,a);return Object.defineProperty(d,"location",{enumerable:!0,get:()=>s.location.value}),Object.defineProperty(d,"state",{enumerable:!0,get:()=>s.state.value}),d}function n1(l){return typeof l=="string"||l&&typeof l=="object"}function jy(l){return typeof l=="string"||typeof l=="symbol"}const Ny=Symbol("");var kh;(function(l){l[l.aborted=4]="aborted",l[l.cancelled=8]="cancelled",l[l.duplicated=16]="duplicated"})(kh||(kh={}));function Qi(l,s){return ht(new Error,{type:l,[Ny]:!0},s)}function rr(l,s){return l instanceof Error&&Ny in l&&(s==null||!!(l.type&s))}const Mh="[^/]+?",r1={sensitive:!1,strict:!1,start:!0,end:!0},i1=/[.+*?^${}()[\]/\\]/g;function o1(l,s){const a=ht({},r1,s),u=[];let d=a.start?"^":"";const f=[];for(const v of l){const C=v.length?[]:[90];a.strict&&!v.length&&(d+="/");for(let T=0;T<v.length;T++){const I=v[T];let L=40+(a.sensitive?.25:0);if(I.type===0)T||(d+="/"),d+=I.value.replace(i1,"\\$&"),L+=40;else if(I.type===1){const{value:j,repeatable:V,optional:se,regexp:ee}=I;f.push({name:j,repeatable:V,optional:se});const ce=ee||Mh;if(ce!==Mh){L+=10;try{new RegExp(`(${ce})`)}catch(pe){throw new Error(`Invalid custom RegExp for param "${j}" (${ce}): `+pe.message)}}let ue=V?`((?:${ce})(?:/(?:${ce}))*)`:`(${ce})`;T||(ue=se&&v.length<2?`(?:/${ue})`:"/"+ue),se&&(ue+="?"),d+=ue,L+=20,se&&(L+=-8),V&&(L+=-20),ce===".*"&&(L+=-50)}C.push(L)}u.push(C)}if(a.strict&&a.end){const v=u.length-1;u[v][u[v].length-1]+=.7000000000000001}a.strict||(d+="/?"),a.end?d+="$":a.strict&&(d+="(?:/|$)");const h=new RegExp(d,a.sensitive?"":"i");function g(v){const C=v.match(h),T={};if(!C)return null;for(let I=1;I<C.length;I++){const L=C[I]||"",j=f[I-1];T[j.name]=L&&j.repeatable?L.split("/"):L}return T}function m(v){let C="",T=!1;for(const I of l){(!T||!C.endsWith("/"))&&(C+="/"),T=!1;for(const L of I)if(L.type===0)C+=L.value;else if(L.type===1){const{value:j,repeatable:V,optional:se}=L,ee=j in v?v[j]:"";if(qn(ee)&&!V)throw new Error(`Provided param "${j}" is an array but it is not repeatable (* or + modifiers)`);const ce=qn(ee)?ee.join("/"):ee;if(!ce)if(se)I.length<2&&(C.endsWith("/")?C=C.slice(0,-1):T=!0);else throw new Error(`Missing required param "${j}"`);C+=ce}}return C||"/"}return{re:h,score:u,keys:f,parse:g,stringify:m}}function s1(l,s){let a=0;for(;a<l.length&&a<s.length;){const u=s[a]-l[a];if(u)return u;a++}return l.length<s.length?l.length===1&&l[0]===80?-1:1:l.length>s.length?s.length===1&&s[0]===80?1:-1:0}function Fy(l,s){let a=0;const u=l.score,d=s.score;for(;a<u.length&&a<d.length;){const f=s1(u[a],d[a]);if(f)return f;a++}if(Math.abs(d.length-u.length)===1){if(qh(u))return 1;if(qh(d))return-1}return d.length-u.length}function qh(l){const s=l[l.length-1];return l.length>0&&s[s.length-1]<0}const a1={type:0,value:""},l1=/[a-zA-Z0-9_]/;function u1(l){if(!l)return[[]];if(l==="/")return[[a1]];if(!l.startsWith("/"))throw new Error(`Invalid path "${l}"`);function s(L){throw new Error(`ERR (${a})/"${v}": ${L}`)}let a=0,u=a;const d=[];let f;function h(){f&&d.push(f),f=[]}let g=0,m,v="",C="";function T(){v&&(a===0?f.push({type:0,value:v}):a===1||a===2||a===3?(f.length>1&&(m==="*"||m==="+")&&s(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),f.push({type:1,value:v,regexp:C,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):s("Invalid state to consume buffer"),v="")}function I(){v+=m}for(;g<l.length;){if(m=l[g++],m==="\\"&&a!==2){u=a,a=4;continue}switch(a){case 0:m==="/"?(v&&T(),h()):m===":"?(T(),a=1):I();break;case 4:I(),a=u;break;case 1:m==="("?a=2:l1.test(m)?I():(T(),a=0,m!=="*"&&m!=="?"&&m!=="+"&&g--);break;case 2:m===")"?C[C.length-1]=="\\"?C=C.slice(0,-1)+m:a=3:C+=m;break;case 3:T(),a=0,m!=="*"&&m!=="?"&&m!=="+"&&g--,C="";break;default:s("Unknown state");break}}return a===2&&s(`Unfinished custom RegExp for param "${v}"`),T(),h(),d}function c1(l,s,a){const u=o1(u1(l.path),a),d=ht(u,{record:l,parent:s,children:[],alias:[]});return s&&!d.record.aliasOf==!s.record.aliasOf&&s.children.push(d),d}function d1(l,s){const a=[],u=new Map;s=Bh({strict:!1,end:!0,sensitive:!1},s);function d(T){return u.get(T)}function f(T,I,L){const j=!L,V=Nh(T);V.aliasOf=L&&L.record;const se=Bh(s,T),ee=[V];if("alias"in T){const pe=typeof T.alias=="string"?[T.alias]:T.alias;for(const ie of pe)ee.push(Nh(ht({},V,{components:L?L.record.components:V.components,path:ie,aliasOf:L?L.record:V})))}let ce,ue;for(const pe of ee){const{path:ie}=pe;if(I&&ie[0]!=="/"){const Oe=I.record.path,He=Oe[Oe.length-1]==="/"?"":"/";pe.path=I.record.path+(ie&&He+ie)}if(ce=c1(pe,I,se),L?L.alias.push(ce):(ue=ue||ce,ue!==ce&&ue.alias.push(ce),j&&T.name&&!Fh(ce)&&h(T.name)),By(ce)&&m(ce),V.children){const Oe=V.children;for(let He=0;He<Oe.length;He++)f(Oe[He],ce,L&&L.children[He])}L=L||ce}return ue?()=>{h(ue)}:_o}function h(T){if(jy(T)){const I=u.get(T);I&&(u.delete(T),a.splice(a.indexOf(I),1),I.children.forEach(h),I.alias.forEach(h))}else{const I=a.indexOf(T);I>-1&&(a.splice(I,1),T.record.name&&u.delete(T.record.name),T.children.forEach(h),T.alias.forEach(h))}}function g(){return a}function m(T){const I=h1(T,a);a.splice(I,0,T),T.record.name&&!Fh(T)&&u.set(T.record.name,T)}function v(T,I){let L,j={},V,se;if("name"in T&&T.name){if(L=u.get(T.name),!L)throw Qi(1,{location:T});se=L.record.name,j=ht(jh(I.params,L.keys.filter(ue=>!ue.optional).concat(L.parent?L.parent.keys.filter(ue=>ue.optional):[]).map(ue=>ue.name)),T.params&&jh(T.params,L.keys.map(ue=>ue.name))),V=L.stringify(j)}else if(T.path!=null)V=T.path,L=a.find(ue=>ue.re.test(V)),L&&(j=L.parse(V),se=L.record.name);else{if(L=I.name?u.get(I.name):a.find(ue=>ue.re.test(I.path)),!L)throw Qi(1,{location:T,currentLocation:I});se=L.record.name,j=ht({},I.params,T.params),V=L.stringify(j)}const ee=[];let ce=L;for(;ce;)ee.unshift(ce.record),ce=ce.parent;return{name:se,path:V,params:j,matched:ee,meta:f1(ee)}}l.forEach(T=>f(T));function C(){a.length=0,u.clear()}return{addRoute:f,resolve:v,removeRoute:h,clearRoutes:C,getRoutes:g,getRecordMatcher:d}}function jh(l,s){const a={};for(const u of s)u in l&&(a[u]=l[u]);return a}function Nh(l){const s={path:l.path,redirect:l.redirect,name:l.name,meta:l.meta||{},aliasOf:l.aliasOf,beforeEnter:l.beforeEnter,props:p1(l),children:l.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in l?l.components||null:l.component&&{default:l.component}};return Object.defineProperty(s,"mods",{value:{}}),s}function p1(l){const s={},a=l.props||!1;if("component"in l)s.default=a;else for(const u in l.components)s[u]=typeof a=="object"?a[u]:a;return s}function Fh(l){for(;l;){if(l.record.aliasOf)return!0;l=l.parent}return!1}function f1(l){return l.reduce((s,a)=>ht(s,a.meta),{})}function Bh(l,s){const a={};for(const u in l)a[u]=u in s?s[u]:l[u];return a}function h1(l,s){let a=0,u=s.length;for(;a!==u;){const f=a+u>>1;Fy(l,s[f])<0?u=f:a=f+1}const d=g1(l);return d&&(u=s.lastIndexOf(d,u-1)),u}function g1(l){let s=l;for(;s=s.parent;)if(By(s)&&Fy(l,s)===0)return s}function By({record:l}){return!!(l.name||l.components&&Object.keys(l.components).length||l.redirect)}function y1(l){const s={};if(l===""||l==="?")return s;const u=(l[0]==="?"?l.slice(1):l).split("&");for(let d=0;d<u.length;++d){const f=u[d].replace(Ay," "),h=f.indexOf("="),g=Fo(h<0?f:f.slice(0,h)),m=h<0?null:Fo(f.slice(h+1));if(g in s){let v=s[g];qn(v)||(v=s[g]=[v]),v.push(m)}else s[g]=m}return s}function Hh(l){let s="";for(let a in l){const u=l[a];if(a=MV(a),u==null){u!==void 0&&(s+=(s.length?"&":"")+a);continue}(qn(u)?u.map(f=>f&&Yu(f)):[u&&Yu(u)]).forEach(f=>{f!==void 0&&(s+=(s.length?"&":"")+a,f!=null&&(s+="="+f))})}return s}function m1(l){const s={};for(const a in l){const u=l[a];u!==void 0&&(s[a]=qn(u)?u.map(d=>d==null?null:""+d):u==null?u:""+u)}return s}const v1=Symbol(""),Qh=Symbol(""),Dc=Symbol(""),Hy=Symbol(""),ec=Symbol("");function bo(){let l=[];function s(u){return l.push(u),()=>{const d=l.indexOf(u);d>-1&&l.splice(d,1)}}function a(){l=[]}return{add:s,list:()=>l.slice(),reset:a}}function Or(l,s,a,u,d,f=h=>h()){const h=u&&(u.enterCallbacks[d]=u.enterCallbacks[d]||[]);return()=>new Promise((g,m)=>{const v=I=>{I===!1?m(Qi(4,{from:a,to:s})):I instanceof Error?m(I):n1(I)?m(Qi(2,{from:s,to:I})):(h&&u.enterCallbacks[d]===h&&typeof I=="function"&&h.push(I),g())},C=f(()=>l.call(u&&u.instances[d],s,a,v));let T=Promise.resolve(C);l.length<3&&(T=T.then(v)),T.catch(I=>m(I))})}function Ru(l,s,a,u,d=f=>f()){const f=[];for(const h of l)for(const g in h.components){let m=h.components[g];if(!(s!=="beforeRouteEnter"&&!h.instances[g]))if(Ey(m)){const C=(m.__vccOpts||m)[s];C&&f.push(Or(C,a,u,h,g,d))}else{let v=m();f.push(()=>v.then(C=>{if(!C)throw new Error(`Couldn't resolve component "${g}" at "${h.path}"`);const T=SV(C)?C.default:C;h.mods[g]=C,h.components[g]=T;const L=(T.__vccOpts||T)[s];return L&&Or(L,a,u,h,g,d)()}))}}return f}function zh(l){const s=Kn(Dc),a=Kn(Hy),u=Ve(()=>{const m=le(l.to);return s.resolve(m)}),d=Ve(()=>{const{matched:m}=u.value,{length:v}=m,C=m[v-1],T=a.matched;if(!C||!T.length)return-1;const I=T.findIndex(Hi.bind(null,C));if(I>-1)return I;const L=Uh(m[v-2]);return v>1&&Uh(C)===L&&T[T.length-1].path!==L?T.findIndex(Hi.bind(null,m[v-2])):I}),f=Ve(()=>d.value>-1&&P1(a.params,u.value.params)),h=Ve(()=>d.value>-1&&d.value===a.matched.length-1&&My(a.params,u.value.params));function g(m={}){return w1(m)?s[le(l.replace)?"replace":"push"](le(l.to)).catch(_o):Promise.resolve()}return{route:u,href:Ve(()=>u.value.href),isActive:f,isExactActive:h,navigate:g}}const b1=G({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zh,setup(l,{slots:s}){const a=zo(zh(l)),{options:u}=Kn(Dc),d=Ve(()=>({[Wh(l.activeClass,u.linkActiveClass,"router-link-active")]:a.isActive,[Wh(l.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:a.isExactActive}));return()=>{const f=s.default&&s.default(a);return l.custom?f:xy("a",{"aria-current":a.isExactActive?l.ariaCurrentValue:null,href:a.href,onClick:a.navigate,class:d.value},f)}}}),C1=b1;function w1(l){if(!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)&&!l.defaultPrevented&&!(l.button!==void 0&&l.button!==0)){if(l.currentTarget&&l.currentTarget.getAttribute){const s=l.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(s))return}return l.preventDefault&&l.preventDefault(),!0}}function P1(l,s){for(const a in s){const u=s[a],d=l[a];if(typeof u=="string"){if(u!==d)return!1}else if(!qn(d)||d.length!==u.length||u.some((f,h)=>f!==d[h]))return!1}return!0}function Uh(l){return l?l.aliasOf?l.aliasOf.path:l.path:""}const Wh=(l,s,a)=>l??s??a,x1=G({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(l,{attrs:s,slots:a}){const u=Kn(ec),d=Ve(()=>l.route||u.value),f=Kn(Qh,0),h=Ve(()=>{let v=le(f);const{matched:C}=d.value;let T;for(;(T=C[v])&&!T.components;)v++;return v}),g=Ve(()=>d.value.matched[h.value]);Ks(Qh,Ve(()=>h.value+1)),Ks(v1,g),Ks(ec,d);const m=_e();return xn(()=>[m.value,g.value,l.name],([v,C,T],[I,L,j])=>{C&&(C.instances[T]=v,L&&L!==C&&v&&v===I&&(C.leaveGuards.size||(C.leaveGuards=L.leaveGuards),C.updateGuards.size||(C.updateGuards=L.updateGuards))),v&&C&&(!L||!Hi(C,L)||!I)&&(C.enterCallbacks[T]||[]).forEach(V=>V(v))},{flush:"post"}),()=>{const v=d.value,C=l.name,T=g.value,I=T&&T.components[C];if(!I)return $h(a.default,{Component:I,route:v});const L=T.props[C],j=L?L===!0?v.params:typeof L=="function"?L(v):L:null,se=xy(I,ht({},j,s,{onVnodeUnmounted:ee=>{ee.component.isUnmounted&&(T.instances[C]=null)},ref:m}));return $h(a.default,{Component:se,route:v})||se}}});function $h(l,s){if(!l)return null;const a=l(s);return a.length===1?a[0]:a}const Qy=x1;function V1(l){const s=d1(l.routes,l),a=l.parseQuery||y1,u=l.stringifyQuery||Hh,d=l.history,f=bo(),h=bo(),g=bo(),m=Dr(wr);let v=wr;_i&&l.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const C=Tu.bind(null,Z=>""+Z),T=Tu.bind(null,jV),I=Tu.bind(null,Fo);function L(Z,Pe){let ye,Ee;return jy(Z)?(ye=s.getRecordMatcher(Z),Ee=Pe):Ee=Z,s.addRoute(Ee,ye)}function j(Z){const Pe=s.getRecordMatcher(Z);Pe&&s.removeRoute(Pe)}function V(){return s.getRoutes().map(Z=>Z.record)}function se(Z){return!!s.getRecordMatcher(Z)}function ee(Z,Pe){if(Pe=ht({},Pe||m.value),typeof Z=="string"){const q=Ou(a,Z,Pe.path),U=s.resolve({path:q.path},Pe),Y=d.createHref(q.fullPath);return ht(q,U,{params:I(U.params),hash:Fo(q.hash),redirectedFrom:void 0,href:Y})}let ye;if(Z.path!=null)ye=ht({},Z,{path:Ou(a,Z.path,Pe.path).path});else{const q=ht({},Z.params);for(const U in q)q[U]==null&&delete q[U];ye=ht({},Z,{params:T(q)}),Pe.params=T(Pe.params)}const Ee=s.resolve(ye,Pe),nt=Z.hash||"";Ee.params=C(I(Ee.params));const Ct=BV(u,ht({},Z,{hash:kV(nt),path:Ee.path})),A=d.createHref(Ct);return ht({fullPath:Ct,hash:nt,query:u===Hh?m1(Z.query):Z.query||{}},Ee,{redirectedFrom:void 0,href:A})}function ce(Z){return typeof Z=="string"?Ou(a,Z,m.value.path):ht({},Z)}function ue(Z,Pe){if(v!==Z)return Qi(8,{from:Pe,to:Z})}function pe(Z){return He(Z)}function ie(Z){return pe(ht(ce(Z),{replace:!0}))}function Oe(Z){const Pe=Z.matched[Z.matched.length-1];if(Pe&&Pe.redirect){const{redirect:ye}=Pe;let Ee=typeof ye=="function"?ye(Z):ye;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=ce(Ee):{path:Ee},Ee.params={}),ht({query:Z.query,hash:Z.hash,params:Ee.path!=null?{}:Z.params},Ee)}}function He(Z,Pe){const ye=v=ee(Z),Ee=m.value,nt=Z.state,Ct=Z.force,A=Z.replace===!0,q=Oe(ye);if(q)return He(ht(ce(q),{state:typeof q=="object"?ht({},nt,q.state):nt,force:Ct,replace:A}),Pe||ye);const U=ye;U.redirectedFrom=Pe;let Y;return!Ct&&HV(u,Ee,ye)&&(Y=Qi(16,{to:U,from:Ee}),Ut(Ee,Ee,!0,!1)),(Y?Promise.resolve(Y):ze(U,Ee)).catch(K=>rr(K)?rr(K,2)?K:jn(K):Ze(K,U,Ee)).then(K=>{if(K){if(rr(K,2))return He(ht({replace:A},ce(K.to),{state:typeof K.to=="object"?ht({},nt,K.to.state):nt,force:Ct}),Pe||U)}else K=St(U,Ee,!0,A,nt);return ft(U,Ee,K),K})}function Me(Z,Pe){const ye=ue(Z,Pe);return ye?Promise.reject(ye):Promise.resolve()}function Re(Z){const Pe=ur.values().next().value;return Pe&&typeof Pe.runWithContext=="function"?Pe.runWithContext(Z):Z()}function ze(Z,Pe){let ye;const[Ee,nt,Ct]=S1(Z,Pe);ye=Ru(Ee.reverse(),"beforeRouteLeave",Z,Pe);for(const q of Ee)q.leaveGuards.forEach(U=>{ye.push(Or(U,Z,Pe))});const A=Me.bind(null,Z,Pe);return ye.push(A),rn(ye).then(()=>{ye=[];for(const q of f.list())ye.push(Or(q,Z,Pe));return ye.push(A),rn(ye)}).then(()=>{ye=Ru(nt,"beforeRouteUpdate",Z,Pe);for(const q of nt)q.updateGuards.forEach(U=>{ye.push(Or(U,Z,Pe))});return ye.push(A),rn(ye)}).then(()=>{ye=[];for(const q of Ct)if(q.beforeEnter)if(qn(q.beforeEnter))for(const U of q.beforeEnter)ye.push(Or(U,Z,Pe));else ye.push(Or(q.beforeEnter,Z,Pe));return ye.push(A),rn(ye)}).then(()=>(Z.matched.forEach(q=>q.enterCallbacks={}),ye=Ru(Ct,"beforeRouteEnter",Z,Pe,Re),ye.push(A),rn(ye))).then(()=>{ye=[];for(const q of h.list())ye.push(Or(q,Z,Pe));return ye.push(A),rn(ye)}).catch(q=>rr(q,8)?q:Promise.reject(q))}function ft(Z,Pe,ye){g.list().forEach(Ee=>Re(()=>Ee(Z,Pe,ye)))}function St(Z,Pe,ye,Ee,nt){const Ct=ue(Z,Pe);if(Ct)return Ct;const A=Pe===wr,q=_i?history.state:{};ye&&(Ee||A?d.replace(Z.fullPath,ht({scroll:A&&q&&q.scroll},nt)):d.push(Z.fullPath,nt)),m.value=Z,Ut(Z,Pe,ye,A),jn()}let Rt;function et(){Rt||(Rt=d.listen((Z,Pe,ye)=>{if(!hi.listening)return;const Ee=ee(Z),nt=Oe(Ee);if(nt){He(ht(nt,{replace:!0}),Ee).catch(_o);return}v=Ee;const Ct=m.value;_i&&KV(Dh(Ct.fullPath,ye.delta),wa()),ze(Ee,Ct).catch(A=>rr(A,12)?A:rr(A,2)?(He(A.to,Ee).then(q=>{rr(q,20)&&!ye.delta&&ye.type===Bo.pop&&d.go(-1,!1)}).catch(_o),Promise.reject()):(ye.delta&&d.go(-ye.delta,!1),Ze(A,Ee,Ct))).then(A=>{A=A||St(Ee,Ct,!1),A&&(ye.delta&&!rr(A,8)?d.go(-ye.delta,!1):ye.type===Bo.pop&&rr(A,20)&&d.go(-1,!1)),ft(Ee,Ct,A)}).catch(_o)}))}let H=bo(),it=bo(),Ie;function Ze(Z,Pe,ye){jn(Z);const Ee=it.list();return Ee.length?Ee.forEach(nt=>nt(Z,Pe,ye)):console.error(Z),Promise.reject(Z)}function We(){return Ie&&m.value!==wr?Promise.resolve():new Promise((Z,Pe)=>{H.add([Z,Pe])})}function jn(Z){return Ie||(Ie=!Z,et(),H.list().forEach(([Pe,ye])=>Z?ye(Z):Pe()),H.reset()),Z}function Ut(Z,Pe,ye,Ee){const{scrollBehavior:nt}=l;if(!_i||!nt)return Promise.resolve();const Ct=!ye&&ZV(Dh(Z.fullPath,0))||(Ee||!ye)&&history.state&&history.state.scroll||null;return $o().then(()=>nt(Z,Pe,Ct)).then(A=>A&&GV(A)).catch(A=>Ze(A,Z,Pe))}const Ht=Z=>d.go(Z);let Xn;const ur=new Set,hi={currentRoute:m,listening:!0,addRoute:L,removeRoute:j,clearRoutes:s.clearRoutes,hasRoute:se,getRoutes:V,resolve:ee,options:l,push:pe,replace:ie,go:Ht,back:()=>Ht(-1),forward:()=>Ht(1),beforeEach:f.add,beforeResolve:h.add,afterEach:g.add,onError:it.add,isReady:We,install(Z){const Pe=this;Z.component("RouterLink",C1),Z.component("RouterView",Qy),Z.config.globalProperties.$router=Pe,Object.defineProperty(Z.config.globalProperties,"$route",{enumerable:!0,get:()=>le(m)}),_i&&!Xn&&m.value===wr&&(Xn=!0,pe(d.location).catch(nt=>{}));const ye={};for(const nt in wr)Object.defineProperty(ye,nt,{get:()=>m.value[nt],enumerable:!0});Z.provide(Dc,Pe),Z.provide(Hy,bc(ye)),Z.provide(ec,m);const Ee=Z.unmount;ur.add(Z),Z.unmount=function(){ur.delete(Z),ur.size<1&&(v=wr,Rt&&Rt(),Rt=null,m.value=wr,Xn=!1,Ie=!1),Ee()}}};function rn(Z){return Z.reduce((Pe,ye)=>Pe.then(()=>Re(ye)),Promise.resolve())}return hi}function S1(l,s){const a=[],u=[],d=[],f=Math.max(s.matched.length,l.matched.length);for(let h=0;h<f;h++){const g=s.matched[h];g&&(l.matched.find(v=>Hi(v,g))?u.push(g):a.push(g));const m=l.matched[h];m&&(s.matched.find(v=>Hi(v,m))||d.push(m))}return[a,u,d]}const T1="modulepreload",O1=function(l){return"/gh-pages-test/"+l},Jh={},zi=function(s,a,u){let d=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));d=Promise.allSettled(a.map(m=>{if(m=O1(m),m in Jh)return;Jh[m]=!0;const v=m.endsWith(".css"),C=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${C}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":T1,v||(T.as="script"),T.crossOrigin="",T.href=m,g&&T.setAttribute("nonce",g),document.head.appendChild(T),v)return new Promise((I,L)=>{T.addEventListener("load",I),T.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${m}`)))})}))}function f(h){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=h,window.dispatchEvent(g),!g.defaultPrevented)throw h}return d.then(h=>{for(const g of h||[])g.status==="rejected"&&f(g.reason);return s().catch(f)})},R1=l=>{let s;return l?s=l:typeof fetch>"u"?s=(...a)=>zi(async()=>{const{default:u}=await Promise.resolve().then(()=>$i);return{default:u}},void 0).then(({default:u})=>u(...a)):s=fetch,(...a)=>s(...a)};class Lc extends Error{constructor(s,a="FunctionsError",u){super(s),this.name=a,this.context=u}}class I1 extends Lc{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class E1 extends Lc{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class _1 extends Lc{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var tc;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(tc||(tc={}));var A1=function(l,s,a,u){function d(f){return f instanceof a?f:new a(function(h){h(f)})}return new(a||(a=Promise))(function(f,h){function g(C){try{v(u.next(C))}catch(T){h(T)}}function m(C){try{v(u.throw(C))}catch(T){h(T)}}function v(C){C.done?f(C.value):d(C.value).then(g,m)}v((u=u.apply(l,s||[])).next())})};class D1{constructor(s,{headers:a={},customFetch:u,region:d=tc.Any}={}){this.url=s,this.headers=a,this.region=d,this.fetch=R1(u)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,a={}){var u;return A1(this,void 0,void 0,function*(){try{const{headers:d,method:f,body:h}=a;let g={},{region:m}=a;m||(m=this.region),m&&m!=="any"&&(g["x-region"]=m);let v;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",v=h):typeof h=="string"?(g["Content-Type"]="text/plain",v=h):typeof FormData<"u"&&h instanceof FormData?v=h:(g["Content-Type"]="application/json",v=JSON.stringify(h)));const C=yield this.fetch(`${this.url}/${s}`,{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),d),body:v}).catch(j=>{throw new I1(j)}),T=C.headers.get("x-relay-error");if(T&&T==="true")throw new E1(C);if(!C.ok)throw new _1(C);let I=((u=C.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),L;return I==="application/json"?L=yield C.json():I==="application/octet-stream"?L=yield C.blob():I==="text/event-stream"?L=C:I==="multipart/form-data"?L=yield C.formData():L=yield C.text(),{data:L,error:null}}catch(d){return{data:null,error:d}}})}}var bn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cA(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function L1(l){if(l.__esModule)return l;var s=l.default;if(typeof s=="function"){var a=function u(){return this instanceof u?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(l).forEach(function(u){var d=Object.getOwnPropertyDescriptor(l,u);Object.defineProperty(a,u,d.get?d:{enumerable:!0,get:function(){return l[u]}})}),a}var cn={},kc={},Pa={},Go={},xa={},Va={},k1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ui=k1();const M1=Ui.fetch,zy=Ui.fetch.bind(Ui),Uy=Ui.Headers,q1=Ui.Request,j1=Ui.Response,$i=Object.freeze(Object.defineProperty({__proto__:null,Headers:Uy,Request:q1,Response:j1,default:zy,fetch:M1},Symbol.toStringTag,{value:"Module"})),N1=L1($i);var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});class F1 extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}Sa.default=F1;var Wy=bn&&bn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Va,"__esModule",{value:!0});const B1=Wy(N1),H1=Wy(Sa);let Q1=class{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=B1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=Object.assign({},this.headers),this.headers[s]=a,this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,g,m;let v=null,C=null,T=null,I=f.status,L=f.statusText;if(f.ok){if(this.method!=="HEAD"){const ee=await f.text();ee===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=ee:C=JSON.parse(ee))}const V=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),se=(g=f.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");V&&se&&se.length>1&&(T=parseInt(se[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(v={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,T=null,I=406,L="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const V=await f.text();try{v=JSON.parse(V),Array.isArray(v)&&f.status===404&&(C=[],v=null,I=200,L="OK")}catch{f.status===404&&V===""?(I=204,L="No Content"):v={message:V}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,I=200,L="OK"),v&&this.shouldThrowOnError)throw new H1.default(v)}return{error:v,data:C,count:T,status:I,statusText:L}});return this.shouldThrowOnError||(d=d.catch(f=>{var h,g,m;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(g=f==null?void 0:f.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(m=f==null?void 0:f.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),d.then(s,a)}};Va.default=Q1;var z1=bn&&bn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(xa,"__esModule",{value:!0});const U1=z1(Va);let W1=class extends U1.default{select(s){let a=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${s}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,a,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(h,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var g;const m=[s?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${v}"; options=${m};`,h==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xa.default=W1;var $1=bn&&bn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Go,"__esModule",{value:!0});const J1=$1(xa);let G1=class extends J1.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const u=Array.from(new Set(a)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${f}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,u])=>{this.url.searchParams.append(a,`eq.${u}`)}),this}not(s,a,u){return this.url.searchParams.append(s,`not.${a}.${u}`),this}or(s,{foreignTable:a,referencedTable:u=a}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,a,u){return this.url.searchParams.append(s,`${a}.${u}`),this}};Go.default=G1;var K1=bn&&bn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Pa,"__esModule",{value:!0});const Co=K1(Go);let Z1=class{constructor(s,{headers:a={},schema:u,fetch:d}){this.url=s,this.headers=a,this.schema=u,this.fetch=d}select(s,{head:a=!1,count:u}={}){const d=a?"HEAD":"GET";let f=!1;const h=(s??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",h),u&&(this.headers.Prefer=`count=${u}`),new Co.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:a,defaultToNull:u=!0}={}){const d="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),a&&f.push(`count=${a}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(s)){const h=s.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(h.length>0){const g=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",g.join(","))}}return new Co.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){const h="POST",g=[`resolution=${u?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(s)){const m=s.reduce((v,C)=>v.concat(Object.keys(C)),[]);if(m.length>0){const v=[...new Set(m)].map(C=>`"${C}"`);this.url.searchParams.set("columns",v.join(","))}}return new Co.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:a}={}){const u="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),a&&d.push(`count=${a}`),this.headers.Prefer=d.join(","),new Co.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const a="DELETE",u=[];return s&&u.push(`count=${s}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new Co.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Pa.default=Z1;var Ta={},Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.version=void 0;Oa.version="0.0.0-automated";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.DEFAULT_HEADERS=void 0;const Y1=Oa;Ta.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Y1.version}`};var $y=bn&&bn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(kc,"__esModule",{value:!0});const X1=$y(Pa),eS=$y(Go),tS=Ta;let nS=class Jy{constructor(s,{headers:a={},schema:u,fetch:d}={}){this.url=s,this.headers=Object.assign(Object.assign({},tS.DEFAULT_HEADERS),a),this.schemaName=u,this.fetch=d}from(s){const a=new URL(`${this.url}/${s}`);return new X1.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new Jy(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:u=!1,get:d=!1,count:f}={}){let h;const g=new URL(`${this.url}/rpc/${s}`);let m;u||d?(h=u?"HEAD":"GET",Object.entries(a).filter(([C,T])=>T!==void 0).map(([C,T])=>[C,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([C,T])=>{g.searchParams.append(C,T)})):(h="POST",m=a);const v=Object.assign({},this.headers);return f&&(v.Prefer=`count=${f}`),new eS.default({method:h,url:g,headers:v,schema:this.schemaName,body:m,fetch:this.fetch,allowEmpty:!1})}};kc.default=nS;var Ji=bn&&bn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(cn,"__esModule",{value:!0});cn.PostgrestError=cn.PostgrestBuilder=cn.PostgrestTransformBuilder=cn.PostgrestFilterBuilder=cn.PostgrestQueryBuilder=cn.PostgrestClient=void 0;const Gy=Ji(kc);cn.PostgrestClient=Gy.default;const Ky=Ji(Pa);cn.PostgrestQueryBuilder=Ky.default;const Zy=Ji(Go);cn.PostgrestFilterBuilder=Zy.default;const Yy=Ji(xa);cn.PostgrestTransformBuilder=Yy.default;const Xy=Ji(Va);cn.PostgrestBuilder=Xy.default;const em=Ji(Sa);cn.PostgrestError=em.default;var rS=cn.default={PostgrestClient:Gy.default,PostgrestQueryBuilder:Ky.default,PostgrestFilterBuilder:Zy.default,PostgrestTransformBuilder:Yy.default,PostgrestBuilder:Xy.default,PostgrestError:em.default};const{PostgrestClient:iS,PostgrestQueryBuilder:gA,PostgrestFilterBuilder:yA,PostgrestTransformBuilder:mA,PostgrestBuilder:vA}=rS,oS="2.10.7",sS={"X-Client-Info":`realtime-js/${oS}`},aS="1.0.0",tm=1e4,lS=1e3;var qi;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(qi||(qi={}));var mn;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(mn||(mn={}));var Dn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Dn||(Dn={}));var nc;(function(l){l.websocket="websocket"})(nc||(nc={}));var oi;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(oi||(oi={}));class uS{constructor(){this.HEADER_LENGTH=1}decode(s,a){return s.constructor===ArrayBuffer?a(this._binaryDecode(s)):a(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const a=new DataView(s),u=new TextDecoder;return this._decodeBroadcast(s,a,u)}_decodeBroadcast(s,a,u){const d=a.getUint8(1),f=a.getUint8(2);let h=this.HEADER_LENGTH+2;const g=u.decode(s.slice(h,h+d));h=h+d;const m=u.decode(s.slice(h,h+f));h=h+f;const v=JSON.parse(u.decode(s.slice(h,s.byteLength)));return{ref:null,topic:g,event:m,payload:v}}}class nm{constructor(s,a){this.callback=s,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wt;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(wt||(wt={}));const Gh=(l,s,a={})=>{var u;const d=(u=a.skipTypes)!==null&&u!==void 0?u:[];return Object.keys(s).reduce((f,h)=>(f[h]=cS(h,l,s,d),f),{})},cS=(l,s,a,u)=>{const d=s.find(g=>g.name===l),f=d==null?void 0:d.type,h=a[l];return f&&!u.includes(f)?rm(f,h):rc(h)},rm=(l,s)=>{if(l.charAt(0)==="_"){const a=l.slice(1,l.length);return hS(s,a)}switch(l){case wt.bool:return dS(s);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return pS(s);case wt.json:case wt.jsonb:return fS(s);case wt.timestamp:return gS(s);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return rc(s);default:return rc(s)}},rc=l=>l,dS=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},pS=l=>{if(typeof l=="string"){const s=parseFloat(l);if(!Number.isNaN(s))return s}return l},fS=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(s){return console.log(`JSON parse error: ${s}`),l}return l},hS=(l,s)=>{if(typeof l!="string")return l;const a=l.length-1,u=l[a];if(l[0]==="{"&&u==="}"){let f;const h=l.slice(1,a);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(g=>rm(s,g))}return l},gS=l=>typeof l=="string"?l.replace(" ","T"):l,im=l=>{let s=l;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class Iu{constructor(s,a,u={},d=tm){this.channel=s,this.event=a,this.payload=u,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,a){var u;return this._hasReceived(s)&&a((u=this.receivedResp)===null||u===void 0?void 0:u.response),this.recHooks.push({status:s,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:a}){this.recHooks.filter(u=>u.status===s).forEach(u=>u.callback(a))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var Kh;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Kh||(Kh={}));class Do{constructor(s,a){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},d=>{const{onJoin:f,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Do.syncState(this.state,d,f,h),this.pendingDiffs.forEach(m=>{this.state=Do.syncDiff(this.state,m,f,h)}),this.pendingDiffs=[],g()}),this.channel._on(u.diff,{},d=>{const{onJoin:f,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Do.syncDiff(this.state,d,f,h),g())}),this.onJoin((d,f,h)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:f,newPresences:h})}),this.onLeave((d,f,h)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,a,u,d){const f=this.cloneDeep(s),h=this.transformState(a),g={},m={};return this.map(f,(v,C)=>{h[v]||(m[v]=C)}),this.map(h,(v,C)=>{const T=f[v];if(T){const I=C.map(se=>se.presence_ref),L=T.map(se=>se.presence_ref),j=C.filter(se=>L.indexOf(se.presence_ref)<0),V=T.filter(se=>I.indexOf(se.presence_ref)<0);j.length>0&&(g[v]=j),V.length>0&&(m[v]=V)}else g[v]=C}),this.syncDiff(f,{joins:g,leaves:m},u,d)}static syncDiff(s,a,u,d){const{joins:f,leaves:h}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return u||(u=()=>{}),d||(d=()=>{}),this.map(f,(g,m)=>{var v;const C=(v=s[g])!==null&&v!==void 0?v:[];if(s[g]=this.cloneDeep(m),C.length>0){const T=s[g].map(L=>L.presence_ref),I=C.filter(L=>T.indexOf(L.presence_ref)<0);s[g].unshift(...I)}u(g,C,m)}),this.map(h,(g,m)=>{let v=s[g];if(!v)return;const C=m.map(T=>T.presence_ref);v=v.filter(T=>C.indexOf(T.presence_ref)<0),s[g]=v,d(g,v,m),v.length===0&&delete s[g]}),s}static map(s,a){return Object.getOwnPropertyNames(s).map(u=>a(u,s[u]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((a,u)=>{const d=s[u];return"metas"in d?a[u]=d.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):a[u]=d,a},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zh;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Zh||(Zh={}));var Yh;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Yh||(Yh={}));var Xh;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Xh||(Xh={}));class Mc{constructor(s,a={config:{}},u){this.topic=s,this.params=a,this.socket=u,this.bindings={},this.state=mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Iu(this,Dn.join,this.params,this.timeout),this.rejoinTimer=new nm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mn.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dn.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Do(this),this.broadcastEndpointURL=im(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,a=this.timeout){var u,d;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:f,presence:h,private:g}}=this.params;this._onError(C=>s&&s("CHANNEL_ERROR",C)),this._onClose(()=>s&&s("CLOSED"));const m={},v={broadcast:f,presence:h,postgres_changes:(d=(u=this.bindings.postgres_changes)===null||u===void 0?void 0:u.map(C=>C.filter))!==null&&d!==void 0?d:[],private:g};this.socket.accessToken&&(m.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",({postgres_changes:C})=>{var T;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),C===void 0){s&&s("SUBSCRIBED");return}else{const I=this.bindings.postgres_changes,L=(T=I==null?void 0:I.length)!==null&&T!==void 0?T:0,j=[];for(let V=0;V<L;V++){const se=I[V],{filter:{event:ee,schema:ce,table:ue,filter:pe}}=se,ie=C&&C[V];if(ie&&ie.event===ee&&ie.schema===ce&&ie.table===ue&&ie.filter===pe)j.push(Object.assign(Object.assign({},se),{id:ie.id}));else{this.unsubscribe(),s&&s("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,s&&s("SUBSCRIBED");return}}).receive("error",C=>{s&&s("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{s&&s("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(s,a={}){return await this.send({type:"presence",event:"track",payload:s},a.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,a,u){return this._on(s,a,u)}async send(s,a={}){var u,d;if(!this._canPush()&&s.type==="broadcast"){const{event:f,payload:h}=s,g={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(u=a.timeout)!==null&&u!==void 0?u:this.timeout);return await((d=m.body)===null||d===void 0?void 0:d.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,g,m;const v=this._push(s.type,s,a.timeout||this.timeout);s.type==="broadcast"&&!(!((m=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&f("ok"),v.receive("ok",()=>f("ok")),v.receive("error",()=>f("error")),v.receive("timeout",()=>f("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=mn.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(u=>{const d=new Iu(this,Dn.leave,{},s);d.receive("ok",()=>{a(),u("ok")}).receive("timeout",()=>{a(),u("timed out")}).receive("error",()=>{u("error")}),d.send(),this._canPush()||d.trigger("ok",{})})}async _fetchWithTimeout(s,a,u){const d=new AbortController,f=setTimeout(()=>d.abort(),u),h=await this.socket.fetch(s,Object.assign(Object.assign({},a),{signal:d.signal}));return clearTimeout(f),h}_push(s,a,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Iu(this,s,a,u);return this._canPush()?d.send():(d.startTimeout(),this.pushBuffer.push(d)),d}_onMessage(s,a,u){return a}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,a,u){var d,f;const h=s.toLocaleLowerCase(),{close:g,error:m,leave:v,join:C}=Dn;if(u&&[g,m,v,C].indexOf(h)>=0&&u!==this._joinRef())return;let I=this._onMessage(h,a,u);if(a&&!I)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(L=>{var j,V,se;return((j=L.filter)===null||j===void 0?void 0:j.event)==="*"||((se=(V=L.filter)===null||V===void 0?void 0:V.event)===null||se===void 0?void 0:se.toLocaleLowerCase())===h}).map(L=>L.callback(I,u)):(f=this.bindings[h])===null||f===void 0||f.filter(L=>{var j,V,se,ee,ce,ue;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in L){const pe=L.id,ie=(j=L.filter)===null||j===void 0?void 0:j.event;return pe&&((V=a.ids)===null||V===void 0?void 0:V.includes(pe))&&(ie==="*"||(ie==null?void 0:ie.toLocaleLowerCase())===((se=a.data)===null||se===void 0?void 0:se.type.toLocaleLowerCase()))}else{const pe=(ce=(ee=L==null?void 0:L.filter)===null||ee===void 0?void 0:ee.event)===null||ce===void 0?void 0:ce.toLocaleLowerCase();return pe==="*"||pe===((ue=a==null?void 0:a.event)===null||ue===void 0?void 0:ue.toLocaleLowerCase())}else return L.type.toLocaleLowerCase()===h}).map(L=>{if(typeof I=="object"&&"ids"in I){const j=I.data,{schema:V,table:se,commit_timestamp:ee,type:ce,errors:ue}=j;I=Object.assign(Object.assign({},{schema:V,table:se,commit_timestamp:ee,eventType:ce,new:{},old:{},errors:ue}),this._getPayloadRecords(j))}L.callback(I,u)})}_isClosed(){return this.state===mn.closed}_isJoined(){return this.state===mn.joined}_isJoining(){return this.state===mn.joining}_isLeaving(){return this.state===mn.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,a,u){const d=s.toLocaleLowerCase(),f={type:d,filter:a,callback:u};return this.bindings[d]?this.bindings[d].push(f):this.bindings[d]=[f],this}_off(s,a){const u=s.toLocaleLowerCase();return this.bindings[u]=this.bindings[u].filter(d=>{var f;return!(((f=d.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===u&&Mc.isEqual(d.filter,a))}),this}static isEqual(s,a){if(Object.keys(s).length!==Object.keys(a).length)return!1;for(const u in s)if(s[u]!==a[u])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Dn.close,{},s)}_onError(s){this._on(Dn.error,{},a=>s(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mn.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const a={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(a.new=Gh(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(a.old=Gh(s.columns,s.old_record)),a}}const yS=()=>{},mS=typeof WebSocket<"u",vS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bS{constructor(s,a){var u;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=sS,this.params={},this.timeout=tm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=yS,this.conn=null,this.sendBuffer=[],this.serializer=new uS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=f=>{let h;return f?h=f:typeof fetch>"u"?h=(...g)=>zi(async()=>{const{default:m}=await Promise.resolve().then(()=>$i);return{default:m}},void 0).then(({default:m})=>m(...g)):h=fetch,(...g)=>h(...g)},this.endPoint=`${s}/${nc.websocket}`,this.httpEndpoint=im(s),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.headers&&(this.headers=Object.assign(Object.assign({},this.headers),a.headers)),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const d=(u=a==null?void 0:a.params)===null||u===void 0?void 0:u.apikey;if(d&&(this.accessToken=d,this.apiKey=d),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:f=>[1e3,2e3,5e3,1e4][f-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(f,h)=>h(JSON.stringify(f)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new nm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(mS){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new CS(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),zi(async()=>{const{default:s}=await import("./browser-vNEgQHOD.js").then(a=>a.b);return{default:s}},[]).then(({default:s})=>{this.conn=new s(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(s,a){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(s){const a=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const s=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.disconnect(),s}log(s,a,u){this.logger(s,a,u)}connectionState(){switch(this.conn&&this.conn.readyState){case qi.connecting:return oi.Connecting;case qi.open:return oi.Open;case qi.closing:return oi.Closing;default:return oi.Closed}}isConnected(){return this.connectionState()===oi.Open}channel(s,a={config:{}}){const u=new Mc(`realtime:${s}`,a,this);return this.channels.push(u),u}push(s){const{topic:a,event:u,payload:d,ref:f}=s,h=()=>{this.encode(s,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${a} ${u} (${f})`,d),this.isConnected()?h():this.sendBuffer.push(h)}setAuth(s){this.accessToken=s,this.channels.forEach(a=>{s&&a.updateJoinPayload({access_token:s}),a.joinedOnce&&a._isJoined()&&a._push(Dn.access_token,{access_token:s})})}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let a=this.channels.find(u=>u.topic===s&&(u._isJoined()||u._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${s}"`),a.unsubscribe())}_remove(s){this.channels=this.channels.filter(a=>a._joinRef()!==s._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aS}))}_onConnMessage(s){this.decode(s.data,a=>{let{topic:u,event:d,payload:f,ref:h}=a;(h&&h===this.pendingHeartbeatRef||d===(f==null?void 0:f.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${f.status||""} ${u} ${d} ${h&&"("+h+")"||""}`,f),this.channels.filter(g=>g._isMember(u)).forEach(g=>g._trigger(d,f,h)),this.stateChangeCallbacks.message.forEach(g=>g(a))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(s=>s())}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(s))}_onConnError(s){this.log("transport",s.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(Dn.error))}_appendParams(s,a){if(Object.keys(a).length===0)return s;const u=s.match(/\?/)?"&":"?",d=new URLSearchParams(a);return`${s}${u}${d}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_sendHeartbeat(){var s;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(s=this.conn)===null||s===void 0||s.close(lS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(s){let a;if(s)a=s;else{const u=new Blob([vS],{type:"application/javascript"});a=URL.createObjectURL(u)}return a}}class CS{constructor(s,a,u){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=qi.connecting,this.send=()=>{},this.url=null,this.url=s,this.close=u.close}}class qc extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function Nt(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class wS extends qc{constructor(s,a){super(s),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ic extends qc{constructor(s,a){super(s),this.name="StorageUnknownError",this.originalError=a}}var PS=function(l,s,a,u){function d(f){return f instanceof a?f:new a(function(h){h(f)})}return new(a||(a=Promise))(function(f,h){function g(C){try{v(u.next(C))}catch(T){h(T)}}function m(C){try{v(u.throw(C))}catch(T){h(T)}}function v(C){C.done?f(C.value):d(C.value).then(g,m)}v((u=u.apply(l,s||[])).next())})};const om=l=>{let s;return l?s=l:typeof fetch>"u"?s=(...a)=>zi(async()=>{const{default:u}=await Promise.resolve().then(()=>$i);return{default:u}},void 0).then(({default:u})=>u(...a)):s=fetch,(...a)=>s(...a)},xS=()=>PS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zi(()=>Promise.resolve().then(()=>$i),void 0)).Response:Response}),oc=l=>{if(Array.isArray(l))return l.map(a=>oc(a));if(typeof l=="function"||l!==Object(l))return l;const s={};return Object.entries(l).forEach(([a,u])=>{const d=a.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));s[d]=oc(u)}),s};var pi=function(l,s,a,u){function d(f){return f instanceof a?f:new a(function(h){h(f)})}return new(a||(a=Promise))(function(f,h){function g(C){try{v(u.next(C))}catch(T){h(T)}}function m(C){try{v(u.throw(C))}catch(T){h(T)}}function v(C){C.done?f(C.value):d(C.value).then(g,m)}v((u=u.apply(l,s||[])).next())})};const Eu=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),VS=(l,s,a)=>pi(void 0,void 0,void 0,function*(){const u=yield xS();l instanceof u&&!(a!=null&&a.noResolveJson)?l.json().then(d=>{s(new wS(Eu(d),l.status||500))}).catch(d=>{s(new ic(Eu(d),d))}):s(new ic(Eu(l),l))}),SS=(l,s,a,u)=>{const d={method:l,headers:(s==null?void 0:s.headers)||{}};return l==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),u&&(d.body=JSON.stringify(u)),Object.assign(Object.assign({},d),a))};function Ko(l,s,a,u,d,f){return pi(this,void 0,void 0,function*(){return new Promise((h,g)=>{l(a,SS(s,u,d,f)).then(m=>{if(!m.ok)throw m;return u!=null&&u.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>VS(m,g,u))})})}function la(l,s,a,u){return pi(this,void 0,void 0,function*(){return Ko(l,"GET",s,a,u)})}function Rr(l,s,a,u,d){return pi(this,void 0,void 0,function*(){return Ko(l,"POST",s,u,d,a)})}function TS(l,s,a,u,d){return pi(this,void 0,void 0,function*(){return Ko(l,"PUT",s,u,d,a)})}function OS(l,s,a,u){return pi(this,void 0,void 0,function*(){return Ko(l,"HEAD",s,Object.assign(Object.assign({},a),{noResolveJson:!0}),u)})}function sm(l,s,a,u,d){return pi(this,void 0,void 0,function*(){return Ko(l,"DELETE",s,u,d,a)})}var ln=function(l,s,a,u){function d(f){return f instanceof a?f:new a(function(h){h(f)})}return new(a||(a=Promise))(function(f,h){function g(C){try{v(u.next(C))}catch(T){h(T)}}function m(C){try{v(u.throw(C))}catch(T){h(T)}}function v(C){C.done?f(C.value):d(C.value).then(g,m)}v((u=u.apply(l,s||[])).next())})};const RS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class IS{constructor(s,a={},u,d){this.url=s,this.headers=a,this.bucketId=u,this.fetch=om(d)}uploadOrUpdate(s,a,u,d){return ln(this,void 0,void 0,function*(){try{let f;const h=Object.assign(Object.assign({},eg),d);let g=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&u instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),m&&f.append("metadata",this.encodeMetadata(m)),f.append("",u)):typeof FormData<"u"&&u instanceof FormData?(f=u,f.append("cacheControl",h.cacheControl),m&&f.append("metadata",this.encodeMetadata(m))):(f=u,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,m&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),d!=null&&d.headers&&(g=Object.assign(Object.assign({},g),d.headers));const v=this._removeEmptyFolders(a),C=this._getFinalPath(v),T=yield this.fetch(`${this.url}/object/${C}`,Object.assign({method:s,body:f,headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{})),I=yield T.json();return T.ok?{data:{path:v,id:I.Id,fullPath:I.Key},error:null}:{data:null,error:I}}catch(f){if(Nt(f))return{data:null,error:f};throw f}})}upload(s,a,u){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,a,u)})}uploadToSignedUrl(s,a,u,d){return ln(this,void 0,void 0,function*(){const f=this._removeEmptyFolders(s),h=this._getFinalPath(f),g=new URL(this.url+`/object/upload/sign/${h}`);g.searchParams.set("token",a);try{let m;const v=Object.assign({upsert:eg.upsert},d),C=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&u instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",u)):typeof FormData<"u"&&u instanceof FormData?(m=u,m.append("cacheControl",v.cacheControl)):(m=u,C["cache-control"]=`max-age=${v.cacheControl}`,C["content-type"]=v.contentType);const T=yield this.fetch(g.toString(),{method:"PUT",body:m,headers:C}),I=yield T.json();return T.ok?{data:{path:f,fullPath:I.Key},error:null}:{data:null,error:I}}catch(m){if(Nt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(s,a){return ln(this,void 0,void 0,function*(){try{let u=this._getFinalPath(s);const d=Object.assign({},this.headers);a!=null&&a.upsert&&(d["x-upsert"]="true");const f=yield Rr(this.fetch,`${this.url}/object/upload/sign/${u}`,{},{headers:d}),h=new URL(this.url+f.url),g=h.searchParams.get("token");if(!g)throw new qc("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:g},error:null}}catch(u){if(Nt(u))return{data:null,error:u};throw u}})}update(s,a,u){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,a,u)})}move(s,a,u){return ln(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:a,destinationBucket:u==null?void 0:u.destinationBucket},{headers:this.headers}),error:null}}catch(d){if(Nt(d))return{data:null,error:d};throw d}})}copy(s,a,u){return ln(this,void 0,void 0,function*(){try{return{data:{path:(yield Rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:a,destinationBucket:u==null?void 0:u.destinationBucket},{headers:this.headers})).Key},error:null}}catch(d){if(Nt(d))return{data:null,error:d};throw d}})}createSignedUrl(s,a,u){return ln(this,void 0,void 0,function*(){try{let d=this._getFinalPath(s),f=yield Rr(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:a},u!=null&&u.transform?{transform:u.transform}:{}),{headers:this.headers});const h=u!=null&&u.download?`&download=${u.download===!0?"":u.download}`:"";return f={signedUrl:encodeURI(`${this.url}${f.signedURL}${h}`)},{data:f,error:null}}catch(d){if(Nt(d))return{data:null,error:d};throw d}})}createSignedUrls(s,a,u){return ln(this,void 0,void 0,function*(){try{const d=yield Rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:s},{headers:this.headers}),f=u!=null&&u.download?`&download=${u.download===!0?"":u.download}`:"";return{data:d.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${f}`):null})),error:null}}catch(d){if(Nt(d))return{data:null,error:d};throw d}})}download(s,a){return ln(this,void 0,void 0,function*(){const d=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",f=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),h=f?`?${f}`:"";try{const g=this._getFinalPath(s);return{data:yield(yield la(this.fetch,`${this.url}/${d}/${g}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(Nt(g))return{data:null,error:g};throw g}})}info(s){return ln(this,void 0,void 0,function*(){const a=this._getFinalPath(s);try{const u=yield la(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:oc(u),error:null}}catch(u){if(Nt(u))return{data:null,error:u};throw u}})}exists(s){return ln(this,void 0,void 0,function*(){const a=this._getFinalPath(s);try{return yield OS(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(u){if(Nt(u)&&u instanceof ic){const d=u.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:u}}throw u}})}getPublicUrl(s,a){const u=this._getFinalPath(s),d=[],f=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";f!==""&&d.push(f);const g=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});m!==""&&d.push(m);let v=d.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${u}${v}`)}}}remove(s){return ln(this,void 0,void 0,function*(){try{return{data:yield sm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(a){if(Nt(a))return{data:null,error:a};throw a}})}list(s,a,u){return ln(this,void 0,void 0,function*(){try{const d=Object.assign(Object.assign(Object.assign({},RS),a),{prefix:s||""});return{data:yield Rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},u),error:null}}catch(d){if(Nt(d))return{data:null,error:d};throw d}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}}const ES="2.7.1",_S={"X-Client-Info":`storage-js/${ES}`};var Oi=function(l,s,a,u){function d(f){return f instanceof a?f:new a(function(h){h(f)})}return new(a||(a=Promise))(function(f,h){function g(C){try{v(u.next(C))}catch(T){h(T)}}function m(C){try{v(u.throw(C))}catch(T){h(T)}}function v(C){C.done?f(C.value):d(C.value).then(g,m)}v((u=u.apply(l,s||[])).next())})};class AS{constructor(s,a={},u){this.url=s,this.headers=Object.assign(Object.assign({},_S),a),this.fetch=om(u)}listBuckets(){return Oi(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}getBucket(s){return Oi(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(a){if(Nt(a))return{data:null,error:a};throw a}})}createBucket(s,a={public:!1}){return Oi(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(Nt(u))return{data:null,error:u};throw u}})}updateBucket(s,a){return Oi(this,void 0,void 0,function*(){try{return{data:yield TS(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(Nt(u))return{data:null,error:u};throw u}})}emptyBucket(s){return Oi(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(Nt(a))return{data:null,error:a};throw a}})}deleteBucket(s){return Oi(this,void 0,void 0,function*(){try{return{data:yield sm(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(a){if(Nt(a))return{data:null,error:a};throw a}})}}class DS extends AS{constructor(s,a={},u){super(s,a,u)}from(s){return new IS(this.url,this.headers,s,this.fetch)}}const LS="2.45.6";let xo="";typeof Deno<"u"?xo="deno":typeof document<"u"?xo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xo="react-native":xo="node";const kS={"X-Client-Info":`supabase-js-${xo}/${LS}`},MS={headers:kS},qS={schema:"public"},jS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NS={};var FS=function(l,s,a,u){function d(f){return f instanceof a?f:new a(function(h){h(f)})}return new(a||(a=Promise))(function(f,h){function g(C){try{v(u.next(C))}catch(T){h(T)}}function m(C){try{v(u.throw(C))}catch(T){h(T)}}function v(C){C.done?f(C.value):d(C.value).then(g,m)}v((u=u.apply(l,s||[])).next())})};const BS=l=>{let s;return l?s=l:typeof fetch>"u"?s=zy:s=fetch,(...a)=>s(...a)},HS=()=>typeof Headers>"u"?Uy:Headers,QS=(l,s,a)=>{const u=BS(a),d=HS();return(f,h)=>FS(void 0,void 0,void 0,function*(){var g;const m=(g=yield s())!==null&&g!==void 0?g:l;let v=new d(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",l),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),u(f,Object.assign(Object.assign({},h),{headers:v}))})};var zS=function(l,s,a,u){function d(f){return f instanceof a?f:new a(function(h){h(f)})}return new(a||(a=Promise))(function(f,h){function g(C){try{v(u.next(C))}catch(T){h(T)}}function m(C){try{v(u.throw(C))}catch(T){h(T)}}function v(C){C.done?f(C.value):d(C.value).then(g,m)}v((u=u.apply(l,s||[])).next())})};function US(l){return l.replace(/\/$/,"")}function WS(l,s){const{db:a,auth:u,realtime:d,global:f}=l,{db:h,auth:g,realtime:m,global:v}=s,C={db:Object.assign(Object.assign({},h),a),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},m),d),global:Object.assign(Object.assign({},v),f),accessToken:()=>zS(this,void 0,void 0,function*(){return""})};return l.accessToken?C.accessToken=l.accessToken:delete C.accessToken,C}const am="2.65.1",$S="http://localhost:9999",JS="supabase.auth.token",GS={"X-Client-Info":`gotrue-js/${am}`},tg=10,sc="X-Supabase-Api-Version",lm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function KS(l){return Math.round(Date.now()/1e3)+l}function ZS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const s=Math.random()*16|0;return(l=="x"?s:s&3|8).toString(16)})}const An=()=>typeof document<"u",ni={tested:!1,writable:!1},Lo=()=>{if(!An())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ni.tested)return ni.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),ni.tested=!0,ni.writable=!0}catch{ni.tested=!0,ni.writable=!1}return ni.writable};function _u(l){const s={},a=new URL(l);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((d,f)=>{s[f]=d})}catch{}return a.searchParams.forEach((u,d)=>{s[d]=u}),s}const um=l=>{let s;return l?s=l:typeof fetch>"u"?s=(...a)=>zi(async()=>{const{default:u}=await Promise.resolve().then(()=>$i);return{default:u}},void 0).then(({default:u})=>u(...a)):s=fetch,(...a)=>s(...a)},YS=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",cm=async(l,s,a)=>{await l.setItem(s,JSON.stringify(a))},Qs=async(l,s)=>{const a=await l.getItem(s);if(!a)return null;try{return JSON.parse(a)}catch{return a}},zs=async(l,s)=>{await l.removeItem(s)};function XS(l){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let a="",u,d,f,h,g,m,v,C=0;for(l=l.replace("-","+").replace("_","/");C<l.length;)h=s.indexOf(l.charAt(C++)),g=s.indexOf(l.charAt(C++)),m=s.indexOf(l.charAt(C++)),v=s.indexOf(l.charAt(C++)),u=h<<2|g>>4,d=(g&15)<<4|m>>2,f=(m&3)<<6|v,a=a+String.fromCharCode(u),m!=64&&d!=0&&(a=a+String.fromCharCode(d)),v!=64&&f!=0&&(a=a+String.fromCharCode(f));return a}class Ra{constructor(){this.promise=new Ra.promiseConstructor((s,a)=>{this.resolve=s,this.reject=a})}}Ra.promiseConstructor=Promise;function ng(l){const s=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,a=l.split(".");if(a.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!s.test(a[1]))throw new Error("JWT is not valid: payload is not in base64url format");const u=a[1];return JSON.parse(XS(u))}async function eT(l){return await new Promise(s=>{setTimeout(()=>s(null),l)})}function tT(l,s){return new Promise((u,d)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await l(f);if(!s(f,null,h)){u(h);return}}catch(h){if(!s(f,h)){d(h);return}}})()})}function nT(l){return("0"+l.toString(16)).substr(-2)}function rT(){const s=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=a.length;let d="";for(let f=0;f<56;f++)d+=a.charAt(Math.floor(Math.random()*u));return d}return crypto.getRandomValues(s),Array.from(s,nT).join("")}async function iT(l){const a=new TextEncoder().encode(l),u=await crypto.subtle.digest("SHA-256",a),d=new Uint8Array(u);return Array.from(d).map(f=>String.fromCharCode(f)).join("")}function oT(l){return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sT(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const a=await iT(l);return oT(a)}async function Ri(l,s,a=!1){const u=rT();let d=u;a&&(d+="/PASSWORD_RECOVERY"),await cm(l,`${s}-code-verifier`,d);const f=await sT(u);return[f,u===f?"plain":"s256"]}const aT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lT(l){const s=l.headers.get(sc);if(!s||!s.match(aT))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}class jc extends Error{constructor(s,a,u){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=u}}function Ye(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class uT extends jc{constructor(s,a,u){super(s,a,u),this.name="AuthApiError",this.status=a,this.code=u}}function cT(l){return Ye(l)&&l.name==="AuthApiError"}class dm extends jc{constructor(s,a){super(s),this.name="AuthUnknownError",this.originalError=a}}class fi extends jc{constructor(s,a,u,d){super(s,u,d),this.name=a,this.status=u}}class xr extends fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dT(l){return Ye(l)&&l.name==="AuthSessionMissingError"}class Au extends fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Us extends fi{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Ws extends fi{constructor(s,a=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rg extends fi{constructor(s,a=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ac extends fi{constructor(s,a){super(s,"AuthRetryableFetchError",a,void 0)}}function Du(l){return Ye(l)&&l.name==="AuthRetryableFetchError"}class ig extends fi{constructor(s,a,u){super(s,"AuthWeakPasswordError",a,"weak_password"),this.reasons=u}}var pT=function(l,s){var a={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&s.indexOf(u)<0&&(a[u]=l[u]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,u=Object.getOwnPropertySymbols(l);d<u.length;d++)s.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(l,u[d])&&(a[u[d]]=l[u[d]]);return a};const ii=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),fT=[502,503,504];async function og(l){var s;if(!YS(l))throw new ac(ii(l),0);if(fT.includes(l.status))throw new ac(ii(l),l.status);let a;try{a=await l.json()}catch(f){throw new dm(ii(f),f)}let u;const d=lT(l);if(d&&d.getTime()>=lm["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?u=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(u=a.error_code),u){if(u==="weak_password")throw new ig(ii(a),l.status,((s=a.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(u==="session_not_found")throw new xr}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new ig(ii(a),l.status,a.weak_password.reasons);throw new uT(ii(a),l.status||500,u)}const hT=(l,s,a,u)=>{const d={method:l,headers:(s==null?void 0:s.headers)||{}};return l==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),d.body=JSON.stringify(u),Object.assign(Object.assign({},d),a))};async function tt(l,s,a,u){var d;const f=Object.assign({},u==null?void 0:u.headers);f[sc]||(f[sc]=lm["2024-01-01"].name),u!=null&&u.jwt&&(f.Authorization=`Bearer ${u.jwt}`);const h=(d=u==null?void 0:u.query)!==null&&d!==void 0?d:{};u!=null&&u.redirectTo&&(h.redirect_to=u.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await gT(l,s,a+g,{headers:f,noResolveJson:u==null?void 0:u.noResolveJson},{},u==null?void 0:u.body);return u!=null&&u.xform?u==null?void 0:u.xform(m):{data:Object.assign({},m),error:null}}async function gT(l,s,a,u,d,f){const h=hT(s,u,d,f);let g;try{g=await l(a,Object.assign({},h))}catch(m){throw console.error(m),new ac(ii(m),0)}if(g.ok||await og(g),u!=null&&u.noResolveJson)return g;try{return await g.json()}catch(m){await og(m)}}function Vr(l){var s;let a=null;bT(l)&&(a=Object.assign({},l),l.expires_at||(a.expires_at=KS(l.expires_in)));const u=(s=l.user)!==null&&s!==void 0?s:l;return{data:{session:a,user:u},error:null}}function sg(l){const s=Vr(l);return!s.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0)&&(s.data.weak_password=l.weak_password),s}function Er(l){var s;return{data:{user:(s=l.user)!==null&&s!==void 0?s:l},error:null}}function yT(l){return{data:l,error:null}}function mT(l){const{action_link:s,email_otp:a,hashed_token:u,redirect_to:d,verification_type:f}=l,h=pT(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:s,email_otp:a,hashed_token:u,redirect_to:d,verification_type:f},m=Object.assign({},h);return{data:{properties:g,user:m},error:null}}function vT(l){return l}function bT(l){return l.access_token&&l.refresh_token&&l.expires_in}var CT=function(l,s){var a={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&s.indexOf(u)<0&&(a[u]=l[u]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,u=Object.getOwnPropertySymbols(l);d<u.length;d++)s.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(l,u[d])&&(a[u[d]]=l[u[d]]);return a};class wT{constructor({url:s="",headers:a={},fetch:u}){this.url=s,this.headers=a,this.fetch=um(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,a="global"){try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(u){if(Ye(u))return{data:null,error:u};throw u}}async inviteUserByEmail(s,a={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Er})}catch(u){if(Ye(u))return{data:{user:null},error:u};throw u}}async generateLink(s){try{const{options:a}=s,u=CT(s,["options"]),d=Object.assign(Object.assign({},u),a);return"newEmail"in u&&(d.new_email=u==null?void 0:u.newEmail,delete d.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:mT,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(Ye(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(s){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:Er})}catch(a){if(Ye(a))return{data:{user:null},error:a};throw a}}async listUsers(s){var a,u,d,f,h,g,m;try{const v={nextPage:null,lastPage:0,total:0},C=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(u=(a=s==null?void 0:s.page)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:"",per_page:(f=(d=s==null?void 0:s.perPage)===null||d===void 0?void 0:d.toString())!==null&&f!==void 0?f:""},xform:vT});if(C.error)throw C.error;const T=await C.json(),I=(h=C.headers.get("x-total-count"))!==null&&h!==void 0?h:0,L=(m=(g=C.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return L.length>0&&(L.forEach(j=>{const V=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),se=JSON.parse(j.split(";")[1].split("=")[1]);v[`${se}Page`]=V}),v.total=parseInt(I)),{data:Object.assign(Object.assign({},T),v),error:null}}catch(v){if(Ye(v))return{data:{users:[]},error:v};throw v}}async getUserById(s){try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:Er})}catch(a){if(Ye(a))return{data:{user:null},error:a};throw a}}async updateUserById(s,a){try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:a,headers:this.headers,xform:Er})}catch(u){if(Ye(u))return{data:{user:null},error:u};throw u}}async deleteUser(s,a=!1){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:a},xform:Er})}catch(u){if(Ye(u))return{data:{user:null},error:u};throw u}}async _listFactors(s){try{const{data:a,error:u}=await tt(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:a,error:u}}catch(a){if(Ye(a))return{data:null,error:a};throw a}}async _deleteFactor(s){try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(a){if(Ye(a))return{data:null,error:a};throw a}}}const PT={getItem:l=>Lo()?globalThis.localStorage.getItem(l):null,setItem:(l,s)=>{Lo()&&globalThis.localStorage.setItem(l,s)},removeItem:l=>{Lo()&&globalThis.localStorage.removeItem(l)}};function ag(l={}){return{getItem:s=>l[s]||null,setItem:(s,a)=>{l[s]=a},removeItem:s=>{delete l[s]}}}function xT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ii={debug:!!(globalThis&&Lo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pm extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class VT extends pm{}async function ST(l,s,a){Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,s);const u=new globalThis.AbortController;return s>0&&setTimeout(()=>{u.abort(),Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},s),await globalThis.navigator.locks.request(l,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},async d=>{if(d){Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,d.name);try{return await a()}finally{Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,d.name)}}else{if(s===0)throw Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new VT(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Ii.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}})}xT();const TT={url:$S,storageKey:JS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},wo=30*1e3,lg=3;async function ug(l,s,a){return await a()}class Ho{constructor(s){var a,u;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ho.nextInstanceID,Ho.nextInstanceID+=1,this.instanceID>0&&An()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const d=Object.assign(Object.assign({},TT),s);if(this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.persistSession=d.persistSession,this.storageKey=d.storageKey,this.autoRefreshToken=d.autoRefreshToken,this.admin=new wT({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=um(d.fetch),this.lock=d.lock||ug,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,d.lock?this.lock=d.lock:An()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=ST:this.lock=ug,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?d.storage?this.storage=d.storage:Lo()?this.storage=PT:(this.memoryStorage={},this.storage=ag(this.memoryStorage)):(this.memoryStorage={},this.storage=ag(this.memoryStorage)),An()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${am}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const s=An()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",s),s||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:a,error:u}=await this._getSessionFromURL(s);if(u)return this._debug("#_initialize()","error detecting session from URL",u),(u==null?void 0:u.code)==="identity_already_exists"?{error:u}:(await this._removeSession(),{error:u});const{session:d,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Ye(s)?{error:s}:{error:new dm("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var a,u,d;try{const f=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(u=(a=s==null?void 0:s.options)===null||a===void 0?void 0:a.data)!==null&&u!==void 0?u:{},gotrue_meta_security:{captcha_token:(d=s==null?void 0:s.options)===null||d===void 0?void 0:d.captchaToken}},xform:Vr}),{data:h,error:g}=f;if(g||!h)return{data:{user:null,session:null},error:g};const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(f){if(Ye(f))return{data:{user:null,session:null},error:f};throw f}}async signUp(s){var a,u,d;try{let f;if("email"in s){const{email:C,password:T,options:I}=s;let L=null,j=null;this.flowType==="pkce"&&([L,j]=await Ri(this.storage,this.storageKey)),f=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:I==null?void 0:I.emailRedirectTo,body:{email:C,password:T,data:(a=I==null?void 0:I.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:I==null?void 0:I.captchaToken},code_challenge:L,code_challenge_method:j},xform:Vr})}else if("phone"in s){const{phone:C,password:T,options:I}=s;f=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:C,password:T,data:(u=I==null?void 0:I.data)!==null&&u!==void 0?u:{},channel:(d=I==null?void 0:I.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:I==null?void 0:I.captchaToken}},xform:Vr})}else throw new Us("You must provide either an email or phone number and a password");const{data:h,error:g}=f;if(g||!h)return{data:{user:null,session:null},error:g};const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(f){if(Ye(f))return{data:{user:null,session:null},error:f};throw f}}async signInWithPassword(s){try{let a;if("email"in s){const{email:f,password:h,options:g}=s;a=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:sg})}else if("phone"in s){const{phone:f,password:h,options:g}=s;a=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:sg})}else throw new Us("You must provide either an email or phone number and a password");const{data:u,error:d}=a;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Au}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign({user:u.user,session:u.session},u.weak_password?{weakPassword:u.weak_password}:null),error:d})}catch(a){if(Ye(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(s){var a,u,d,f;return await this._handleProviderSignIn(s.provider,{redirectTo:(a=s.options)===null||a===void 0?void 0:a.redirectTo,scopes:(u=s.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=s.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(f=s.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async _exchangeCodeForSession(s){const a=await Qs(this.storage,`${this.storageKey}-code-verifier`),[u,d]=(a??"").split("/");try{const{data:f,error:h}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:u},xform:Vr});if(await zs(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!f||!f.session||!f.user?{data:{user:null,session:null,redirectType:null},error:new Au}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:Object.assign(Object.assign({},f),{redirectType:d??null}),error:h})}catch(f){if(Ye(f))return{data:{user:null,session:null,redirectType:null},error:f};throw f}}async signInWithIdToken(s){try{const{options:a,provider:u,token:d,access_token:f,nonce:h}=s,g=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:u,id_token:d,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Vr}),{data:m,error:v}=g;return v?{data:{user:null,session:null},error:v}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Au}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:v})}catch(a){if(Ye(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(s){var a,u,d,f,h;try{if("email"in s){const{email:g,options:m}=s;let v=null,C=null;this.flowType==="pkce"&&([v,C]=await Ri(this.storage,this.storageKey));const{error:T}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:C},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:T}}if("phone"in s){const{phone:g,options:m}=s,{data:v,error:C}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(d=m==null?void 0:m.data)!==null&&d!==void 0?d:{},create_user:(f=m==null?void 0:m.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:C}}throw new Us("You must provide either an email or phone number.")}catch(g){if(Ye(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(s){var a,u;try{let d,f;"options"in s&&(d=(a=s.options)===null||a===void 0?void 0:a.redirectTo,f=(u=s.options)===null||u===void 0?void 0:u.captchaToken);const{data:h,error:g}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:f}}),redirectTo:d,xform:Vr});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,v=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(d){if(Ye(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithSSO(s){var a,u,d;try{let f=null,h=null;return this.flowType==="pkce"&&([f,h]=await Ri(this.storage,this.storageKey)),await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(u=(a=s.options)===null||a===void 0?void 0:a.redirectTo)!==null&&u!==void 0?u:void 0}),!((d=s==null?void 0:s.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:yT})}catch(f){if(Ye(f))return{data:null,error:f};throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:a},error:u}=s;if(u)throw u;if(!a)throw new xr;const{error:d}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:d}})}catch(s){if(Ye(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const a=`${this.url}/resend`;if("email"in s){const{email:u,type:d,options:f}=s,{error:h}=await tt(this.fetch,"POST",a,{headers:this.headers,body:{email:u,type:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in s){const{phone:u,type:d,options:f}=s,{data:h,error:g}=await tt(this.fetch,"POST",a,{headers:this.headers,body:{phone:u,type:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g}}throw new Us("You must provide either an email or phone number and a type")}catch(a){if(Ye(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(s,a){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const u=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await u,await a()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const u=a();for(this.pendingInLock.push((async()=>{try{await u}catch{}})()),await u;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await u}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await s(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const a=await Qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?s=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const u=s.expires_at?s.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${u?"":" not"} expired`,"expires_at",s.expires_at),!u){if(this.storage.isServer){let h=this.suppressGetSessionWarning;s=new Proxy(s,{get:(m,v,C)=>(!h&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,v,C))})}return{data:{session:s},error:null}}const{session:d,error:f}=await this._callRefreshToken(s.refresh_token);return f?{data:{session:null},error:f}:{data:{session:d},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:Er}):await this._useSession(async a=>{var u,d,f;const{data:h,error:g}=a;if(g)throw g;return!(!((u=h.session)===null||u===void 0)&&u.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xr}:await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0,xform:Er})})}catch(a){if(Ye(a))return dT(a)&&(await this._removeSession(),await zs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(s,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,a))}async _updateUser(s,a={}){try{return await this._useSession(async u=>{const{data:d,error:f}=u;if(f)throw f;if(!d.session)throw new xr;const h=d.session;let g=null,m=null;this.flowType==="pkce"&&s.email!=null&&([g,m]=await Ri(this.storage,this.storageKey));const{data:v,error:C}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:g,code_challenge_method:m}),jwt:h.access_token,xform:Er});if(C)throw C;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(u){if(Ye(u))return{data:{user:null},error:u};throw u}}_decodeJWT(s){return ng(s)}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new xr;const a=Date.now()/1e3;let u=a,d=!0,f=null;const h=ng(s.access_token);if(h.exp&&(u=h.exp,d=u<=a),d){const{session:g,error:m}=await this._callRefreshToken(s.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!g)return{data:{user:null,session:null},error:null};f=g}else{const{data:g,error:m}=await this._getUser(s.access_token);if(m)throw m;f={access_token:s.access_token,refresh_token:s.refresh_token,user:g.user,token_type:"bearer",expires_in:u-a,expires_at:u},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return{data:{user:f.user,session:f},error:null}}catch(a){if(Ye(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async a=>{var u;if(!s){const{data:h,error:g}=a;if(g)throw g;s=(u=h.session)!==null&&u!==void 0?u:void 0}if(!(s!=null&&s.refresh_token))throw new xr;const{session:d,error:f}=await this._callRefreshToken(s.refresh_token);return f?{data:{user:null,session:null},error:f}:d?{data:{user:d.user,session:d},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(Ye(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(s){try{if(!An())throw new Ws("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ws("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!s)throw new rg("Not a valid PKCE flow url.");const a=_u(window.location.href);if(s){if(!a.code)throw new rg("No code detected.");const{data:ce,error:ue}=await this._exchangeCodeForSession(a.code);if(ue)throw ue;const pe=new URL(window.location.href);return pe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",pe.toString()),{data:{session:ce.session,redirectType:null},error:null}}if(a.error||a.error_description||a.error_code)throw new Ws(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});const{provider_token:u,provider_refresh_token:d,access_token:f,refresh_token:h,expires_in:g,expires_at:m,token_type:v}=a;if(!f||!g||!h||!v)throw new Ws("No session defined in URL");const C=Math.round(Date.now()/1e3),T=parseInt(g);let I=C+T;m&&(I=parseInt(m));const L=I-C;L*1e3<=wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${L}s, should have been closer to ${T}s`);const j=I-T;C-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,I,C):C-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,I,C);const{data:V,error:se}=await this._getUser(f);if(se)throw se;const ee={provider_token:u,provider_refresh_token:d,access_token:f,expires_in:T,expires_at:I,refresh_token:h,token_type:v,user:V.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ee,redirectType:a.type},error:null}}catch(a){if(Ye(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantFlow(){const s=_u(window.location.href);return!!(An()&&(s.access_token||s.error_description))}async _isPKCEFlow(){const s=_u(window.location.href),a=await Qs(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&a)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async a=>{var u;const{data:d,error:f}=a;if(f)return{error:f};const h=(u=d.session)===null||u===void 0?void 0:u.access_token;if(h){const{error:g}=await this.admin.signOut(h,s);if(g&&!(cT(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return s!=="others"&&(await this._removeSession(),await zs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const a=ZS(),u={id:a,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,u),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:u}}}async _emitInitialSession(s){return await this._useSession(async a=>{var u,d;try{const{data:{session:f},error:h}=a;if(h)throw h;await((u=this.stateChangeEmitters.get(s))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",s,"session",f)}catch(f){await((d=this.stateChangeEmitters.get(s))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",f),console.error(f)}})}async resetPasswordForEmail(s,a={}){let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ri(this.storage,this.storageKey,!0));try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:u,code_challenge_method:d,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(f){if(Ye(f))return{data:null,error:f};throw f}}async getUserIdentities(){var s;try{const{data:a,error:u}=await this.getUser();if(u)throw u;return{data:{identities:(s=a.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(a){if(Ye(a))return{data:null,error:a};throw a}}async linkIdentity(s){var a;try{const{data:u,error:d}=await this._useSession(async f=>{var h,g,m,v,C;const{data:T,error:I}=f;if(I)throw I;const L=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(h=s.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=s.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=s.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",L,{headers:this.headers,jwt:(C=(v=T.session)===null||v===void 0?void 0:v.access_token)!==null&&C!==void 0?C:void 0})});if(d)throw d;return An()&&!(!((a=s.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u==null?void 0:u.url),{data:{provider:s.provider,url:u==null?void 0:u.url},error:null}}catch(u){if(Ye(u))return{data:{provider:s.provider,url:null},error:u};throw u}}async unlinkIdentity(s){try{return await this._useSession(async a=>{var u,d;const{data:f,error:h}=a;if(h)throw h;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})})}catch(a){if(Ye(a))return{data:null,error:a};throw a}}async _refreshAccessToken(s){const a=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(a,"begin");try{const u=Date.now();return await tT(async d=>(d>0&&await eT(200*Math.pow(2,d-1)),this._debug(a,"refreshing attempt",d),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Vr})),(d,f)=>{const h=200*Math.pow(2,d);return f&&Du(f)&&Date.now()+h-u<wo})}catch(u){if(this._debug(a,"error",u),Ye(u))return{data:{session:null,user:null},error:u};throw u}finally{this._debug(a,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,a){const u=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",a,"url",u),An()&&!a.skipBrowserRedirect&&window.location.assign(u),{data:{provider:s,url:u},error:null}}async _recoverAndRefresh(){var s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const u=await Qs(this.storage,this.storageKey);if(this._debug(a,"session from storage",u),!this._isValidSession(u)){this._debug(a,"session is not valid"),u!==null&&await this._removeSession();return}const d=Math.round(Date.now()/1e3),f=((s=u.expires_at)!==null&&s!==void 0?s:1/0)<d+tg;if(this._debug(a,`session has${f?"":" not"} expired with margin of ${tg}s`),f){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),Du(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(a,"error",u),console.error(u);return}finally{this._debug(a,"end")}}async _callRefreshToken(s){var a,u;if(!s)throw new xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Ra;const{data:f,error:h}=await this._refreshAccessToken(s);if(h)throw h;if(!f.session)throw new xr;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const g={session:f.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(f){if(this._debug(d,"error",f),Ye(f)){const h={session:null,error:f};return Du(f)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(h),h}throw(u=this.refreshingDeferred)===null||u===void 0||u.reject(f),f}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(s,a,u=!0){const d=`#_notifyAllSubscribers(${s})`;this._debug(d,"begin",a,`broadcast = ${u}`);try{this.broadcastChannel&&u&&this.broadcastChannel.postMessage({event:s,session:a});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(s,a)}catch(m){f.push(m)}});if(await Promise.all(h),f.length>0){for(let g=0;g<f.length;g+=1)console.error(f[g]);throw f[0]}}finally{this._debug(d,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await cm(this.storage,this.storageKey,s)}async _removeSession(){this._debug("#_removeSession()"),await zs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&An()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),wo);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async a=>{const{data:{session:u}}=a;if(!u||!u.refresh_token||!u.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((u.expires_at*1e3-s)/wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${wo}ms, refresh threshold is ${lg} ticks`),d<=lg&&await this._callRefreshToken(u.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof pm)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!An()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const a=`#_onVisibilityChanged(${s})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,a,u){const d=[`provider=${encodeURIComponent(a)}`];if(u!=null&&u.redirectTo&&d.push(`redirect_to=${encodeURIComponent(u.redirectTo)}`),u!=null&&u.scopes&&d.push(`scopes=${encodeURIComponent(u.scopes)}`),this.flowType==="pkce"){const[f,h]=await Ri(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});d.push(g.toString())}if(u!=null&&u.queryParams){const f=new URLSearchParams(u.queryParams);d.push(f.toString())}return u!=null&&u.skipBrowserRedirect&&d.push(`skip_http_redirect=${u.skipBrowserRedirect}`),`${s}?${d.join("&")}`}async _unenroll(s){try{return await this._useSession(async a=>{var u;const{data:d,error:f}=a;return f?{data:null,error:f}:await tt(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(u=d==null?void 0:d.session)===null||u===void 0?void 0:u.access_token})})}catch(a){if(Ye(a))return{data:null,error:a};throw a}}async _enroll(s){try{return await this._useSession(async a=>{var u,d;const{data:f,error:h}=a;if(h)return{data:null,error:h};const g=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:m,error:v}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(u=f==null?void 0:f.session)===null||u===void 0?void 0:u.access_token});return v?{data:null,error:v}:(s.factorType==="totp"&&(!((d=m==null?void 0:m.totp)===null||d===void 0)&&d.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(a){if(Ye(a))return{data:null,error:a};throw a}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var u;const{data:d,error:f}=a;if(f)return{data:null,error:f};const{data:h,error:g}=await tt(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(u=d==null?void 0:d.session)===null||u===void 0?void 0:u.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:g})})}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var u;const{data:d,error:f}=a;return f?{data:null,error:f}:await tt(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(u=d==null?void 0:d.session)===null||u===void 0?void 0:u.access_token})})}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(s){const{data:a,error:u}=await this._challenge({factorId:s.factorId});return u?{data:null,error:u}:await this._verify({factorId:s.factorId,challengeId:a.id,code:s.code})}async _listFactors(){const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const u=(s==null?void 0:s.factors)||[],d=u.filter(h=>h.factor_type==="totp"&&h.status==="verified"),f=u.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:u,totp:d,phone:f},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var a,u;const{data:{session:d},error:f}=s;if(f)return{data:null,error:f};if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const h=this._decodeJWT(d.access_token);let g=null;h.aal&&(g=h.aal);let m=g;((u=(a=d.user.factors)===null||a===void 0?void 0:a.filter(T=>T.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(m="aal2");const C=h.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:C},error:null}}))}}Ho.nextInstanceID=0;const OT=Ho;class RT extends OT{constructor(s){super(s)}}var IT=function(l,s,a,u){function d(f){return f instanceof a?f:new a(function(h){h(f)})}return new(a||(a=Promise))(function(f,h){function g(C){try{v(u.next(C))}catch(T){h(T)}}function m(C){try{v(u.throw(C))}catch(T){h(T)}}function v(C){C.done?f(C.value):d(C.value).then(g,m)}v((u=u.apply(l,s||[])).next())})};class ET{constructor(s,a,u){var d,f,h;if(this.supabaseUrl=s,this.supabaseKey=a,!s)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const g=US(s);this.realtimeUrl=`${g}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${g}/auth/v1`,this.storageUrl=`${g}/storage/v1`,this.functionsUrl=`${g}/functions/v1`;const m=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v={db:qS,realtime:NS,auth:Object.assign(Object.assign({},jS),{storageKey:m}),global:MS},C=WS(u??{},v);this.storageKey=(d=C.auth.storageKey)!==null&&d!==void 0?d:"",this.headers=(f=C.global.headers)!==null&&f!==void 0?f:{},C.accessToken?(this.accessToken=C.accessToken,this.auth=new Proxy({},{get:(T,I)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(I)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=C.auth)!==null&&h!==void 0?h:{},this.headers,C.global.fetch),this.fetch=QS(a,this._getAccessToken.bind(this),C.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},C.realtime)),this.rest=new iS(`${g}/rest/v1`,{headers:this.headers,schema:C.db.schema,fetch:this.fetch}),C.accessToken||this._listenForAuthEvents()}get functions(){return new D1(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new DS(this.storageUrl,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},u={}){return this.rest.rpc(s,a,u)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,a;return IT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:u}=yield this.auth.getSession();return(a=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:u,storage:d,storageKey:f,flowType:h,lock:g,debug:m},v,C){var T;const I={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RT({url:this.authUrl,headers:Object.assign(Object.assign({},I),v),storageKey:f,autoRefreshToken:s,persistSession:a,detectSessionInUrl:u,storage:d,flowType:h,lock:g,debug:m,fetch:C,hasCustomAuthorizationHeader:(T="Authorization"in this.headers)!==null&&T!==void 0?T:!1})}_initRealtimeClient(s){return new bS(this.realtimeUrl,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,u)=>{this._handleTokenChanged(a,"CLIENT",u==null?void 0:u.access_token)})}_handleTokenChanged(s,a,u){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==u?(this.realtime.setAuth(u??null),this.changedAccessToken=u):s==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _T=(l,s,a)=>new ET(l,s,a),AT="https://whfzxccudxbhxjqjimep.supabase.co",DT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndoZnp4Y2N1ZHhiaHhqcWppbWVwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjk2MTU2NTcsImV4cCI6MjA0NTE5MTY1N30.OalLv9BLqdJ4fv81uKTgv-t4taT4IS2hNBTrrqkrzOg",vn=_T(AT,DT),fm=VV({id:"auth",state:()=>({user:null}),getters:{isLoggedIn(l){return!!l.user}}});class LT{constructor(){Xr(this,"store");this.store=fm()}async checkAuthState(){const{data:s,error:a}=await vn.auth.getSession();if(a&&console.error("Error fetching session:",a.message),s!=null&&s.session)return this.store.user=s.session.user,s.session.user}async signInWithGoogle(){const s="https://mario-filipovic.github.io/gh-pages-test/",{error:a}=await vn.auth.signInWithOAuth({provider:"google",options:{redirectTo:s}});a?console.error("Google Sign-In Error:",a.message):await this.checkAuthState()}async logout(){const{error:s}=await vn.auth.signOut();if(s)console.error("Logout error:",s.message);else return this.store.user=null,null}}function kT(){const l=new LT,s=fm();let a=null;const u=()=>{l.checkAuthState();const{data:f}=vn.auth.onAuthStateChange(async(h,g)=>{g!=null&&g.user?s.user=g.user:s.user=null});a=f.subscription},d=()=>{a&&a.unsubscribe()};return _t(u),Tn(d),{authService:l,authStore:s}}const MT={class:"welcome-container"},qT={class:"content-wrapper"},jT={class:"right-section"},NT={key:0},FT={key:1},BT=G({__name:"welcome_login",setup(l){const{authService:s,authStore:a}=kT();return(u,d)=>(x(),R("div",MT,[F("div",qT,[d[6]||(d[6]=F("div",{class:"left-section"},[F("img",{src:"https://images.typeform.com/images/RA9hP7gdBnUP/image/default-firstframe.png",alt:"Welcome image",class:"welcome-image"})],-1)),F("div",jT,[le(a).isLoggedIn?(x(),R("div",FT,[d[4]||(d[4]=F("h2",null,"Hey! I'm Daniel. I can help you win coverage for your GLP-1 prescription.",-1)),d[5]||(d[5]=F("p",null,"Take 3 minutes to tell us about your case.",-1)),F("button",{onClick:d[1]||(d[1]=()=>u.$router.push("/survey"))},"Start survey")])):(x(),R("div",NT,[d[2]||(d[2]=F("h2",null,"Hey! I'm Daniel. I can help you win coverage for your GLP-1 prescription.",-1)),d[3]||(d[3]=F("p",null,"Please sign in to continue. ",-1)),F("button",{onClick:d[0]||(d[0]=(...f)=>le(s).signInWithGoogle&&le(s).signInWithGoogle(...f))},"Sign in with Google")]))])])]))}}),HT=(l,s)=>{const a=l.__vccOpts||l;for(const[u,d]of s)a[u]=d;return a},QT=HT(BT,[["__scopeId","data-v-9de21210"]]);var hm={exports:{}};/*!
 * surveyjs - Survey JavaScript library v1.12.7
 * Copyright (c) 2015-2024 Devsoft Baltic OÜ  - http://surveyjs.io/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */(function(l,s){(function(u,d){l.exports=d()})(bn,function(){return function(a){var u={};function d(f){if(u[f])return u[f].exports;var h=u[f]={i:f,l:!1,exports:{}};return a[f].call(h.exports,h,h.exports,d),h.l=!0,h.exports}return d.m=a,d.c=u,d.d=function(f,h,g){d.o(f,h)||Object.defineProperty(f,h,{enumerable:!0,get:g})},d.r=function(f){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},d.t=function(f,h){if(h&1&&(f=d(f)),h&8||h&4&&typeof f=="object"&&f&&f.__esModule)return f;var g=Object.create(null);if(d.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:f}),h&2&&typeof f!="string")for(var m in f)d.d(g,m,(function(v){return f[v]}).bind(null,m));return g},d.n=function(f){var h=f&&f.__esModule?function(){return f.default}:function(){return f};return d.d(h,"a",h),h},d.o=function(f,h){return Object.prototype.hasOwnProperty.call(f,h)},d.p="",d(d.s="./src/entries/core.ts")}({"./packages/survey-core/src/images sync \\.svg$":function(a,u,d){var f={"./ArrowDown_34x34.svg":"./packages/survey-core/src/images/ArrowDown_34x34.svg","./ArrowLeft.svg":"./packages/survey-core/src/images/ArrowLeft.svg","./ArrowRight.svg":"./packages/survey-core/src/images/ArrowRight.svg","./Arrow_downGREY_10x10.svg":"./packages/survey-core/src/images/Arrow_downGREY_10x10.svg","./ChangeCamera.svg":"./packages/survey-core/src/images/ChangeCamera.svg","./ChooseFile.svg":"./packages/survey-core/src/images/ChooseFile.svg","./Clear.svg":"./packages/survey-core/src/images/Clear.svg","./CloseCamera.svg":"./packages/survey-core/src/images/CloseCamera.svg","./DefaultFile.svg":"./packages/survey-core/src/images/DefaultFile.svg","./Delete.svg":"./packages/survey-core/src/images/Delete.svg","./Down_34x34.svg":"./packages/survey-core/src/images/Down_34x34.svg","./Left.svg":"./packages/survey-core/src/images/Left.svg","./ModernBooleanCheckChecked.svg":"./packages/survey-core/src/images/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./packages/survey-core/src/images/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./packages/survey-core/src/images/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./packages/survey-core/src/images/ModernCheck.svg","./ModernRadio.svg":"./packages/survey-core/src/images/ModernRadio.svg","./More.svg":"./packages/survey-core/src/images/More.svg","./NavMenu_24x24.svg":"./packages/survey-core/src/images/NavMenu_24x24.svg","./ProgressButton.svg":"./packages/survey-core/src/images/ProgressButton.svg","./ProgressButtonV2.svg":"./packages/survey-core/src/images/ProgressButtonV2.svg","./RemoveFile.svg":"./packages/survey-core/src/images/RemoveFile.svg","./Right.svg":"./packages/survey-core/src/images/Right.svg","./SearchClear.svg":"./packages/survey-core/src/images/SearchClear.svg","./ShowCamera.svg":"./packages/survey-core/src/images/ShowCamera.svg","./TakePicture.svg":"./packages/survey-core/src/images/TakePicture.svg","./TakePicture_24x24.svg":"./packages/survey-core/src/images/TakePicture_24x24.svg","./TimerCircle.svg":"./packages/survey-core/src/images/TimerCircle.svg","./V2Check.svg":"./packages/survey-core/src/images/V2Check.svg","./V2Check_24x24.svg":"./packages/survey-core/src/images/V2Check_24x24.svg","./V2DragElement_16x16.svg":"./packages/survey-core/src/images/V2DragElement_16x16.svg","./back-to-panel_16x16.svg":"./packages/survey-core/src/images/back-to-panel_16x16.svg","./chevron.svg":"./packages/survey-core/src/images/chevron.svg","./clear_16x16.svg":"./packages/survey-core/src/images/clear_16x16.svg","./close_16x16.svg":"./packages/survey-core/src/images/close_16x16.svg","./collapseDetail.svg":"./packages/survey-core/src/images/collapseDetail.svg","./drag-n-drop.svg":"./packages/survey-core/src/images/drag-n-drop.svg","./expandDetail.svg":"./packages/survey-core/src/images/expandDetail.svg","./full-screen_16x16.svg":"./packages/survey-core/src/images/full-screen_16x16.svg","./loading.svg":"./packages/survey-core/src/images/loading.svg","./minimize_16x16.svg":"./packages/survey-core/src/images/minimize_16x16.svg","./next_16x16.svg":"./packages/survey-core/src/images/next_16x16.svg","./no-image.svg":"./packages/survey-core/src/images/no-image.svg","./ranking-arrows.svg":"./packages/survey-core/src/images/ranking-arrows.svg","./ranking-dash.svg":"./packages/survey-core/src/images/ranking-dash.svg","./rating-star-2.svg":"./packages/survey-core/src/images/rating-star-2.svg","./rating-star-small-2.svg":"./packages/survey-core/src/images/rating-star-small-2.svg","./rating-star-small.svg":"./packages/survey-core/src/images/rating-star-small.svg","./rating-star.svg":"./packages/survey-core/src/images/rating-star.svg","./restore_16x16.svg":"./packages/survey-core/src/images/restore_16x16.svg","./search.svg":"./packages/survey-core/src/images/search.svg"};function h(m){var v=g(m);return d(v)}function g(m){if(!d.o(f,m)){var v=new Error("Cannot find module '"+m+"'");throw v.code="MODULE_NOT_FOUND",v}return f[m]}h.keys=function(){return Object.keys(f)},h.resolve=g,a.exports=h,h.id="./packages/survey-core/src/images sync \\.svg$"},"./packages/survey-core/src/images/ArrowDown_34x34.svg":function(a,u){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><polygon class="st0" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></svg>'},"./packages/survey-core/src/images/ArrowLeft.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./packages/survey-core/src/images/ArrowRight.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>'},"./packages/survey-core/src/images/Arrow_downGREY_10x10.svg":function(a,u){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 10" xml:space="preserve"><polygon class="st0" points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./packages/survey-core/src/images/ChangeCamera.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23 12.0037C23 14.2445 21.7794 16.3052 19.5684 17.8257C19.3984 17.9458 19.1983 18.0058 19.0082 18.0058C18.688 18.0058 18.3779 17.8557 18.1778 17.5756C17.8677 17.1155 17.9777 16.4953 18.4379 16.1852C20.0887 15.0448 21.0091 13.5643 21.0091 12.0138C21.0091 8.70262 16.9673 6.01171 12.005 6.01171C11.4948 6.01171 10.9945 6.04172 10.5043 6.09173L11.7149 7.30215C12.105 7.69228 12.105 8.32249 11.7149 8.71263C11.5148 8.9127 11.2647 9.00273 11.0045 9.00273C10.7444 9.00273 10.4943 8.90269 10.2942 8.71263L6.58254 5.00136L10.2842 1.2901C10.6744 0.899964 11.3047 0.899964 11.6949 1.2901C12.085 1.68023 12.085 2.31045 11.6949 2.70058L10.3042 4.09105C10.8545 4.03103 11.4147 4.00102 11.985 4.00102C18.0578 4.00102 22.99 7.59225 22.99 12.0037H23ZM12.2851 15.2949C11.895 15.685 11.895 16.3152 12.2851 16.7054L13.4957 17.9158C13.0055 17.9758 12.4952 17.9958 11.995 17.9958C7.03274 17.9958 2.99091 15.3049 2.99091 11.9937C2.99091 10.4332 3.90132 8.95271 5.56207 7.82232C6.02228 7.51222 6.13233 6.89201 5.82219 6.43185C5.51205 5.97169 4.89177 5.86166 4.43156 6.17176C2.22055 7.69228 1 9.76299 1 11.9937C1 16.4052 5.93224 19.9965 12.005 19.9965C12.5753 19.9965 13.1355 19.9665 13.6858 19.9064L12.2951 21.2969C11.905 21.6871 11.905 22.3173 12.2951 22.7074C12.4952 22.9075 12.7453 22.9975 13.0055 22.9975C13.2656 22.9975 13.5157 22.8975 13.7158 22.7074L17.4275 18.9961L13.7158 15.2849C13.3256 14.8947 12.6953 14.8947 12.3051 15.2849L12.2851 15.2949Z"></path></svg>'},"./packages/survey-core/src/images/ChooseFile.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9V7C22 5.9 21.1 5 20 5H12L10 3H4C2.9 3 2 3.9 2 5V9V10V21H22L24 9H22ZM4 5H9.2L10.6 6.4L11.2 7H12H20V9H4V5ZM20.3 19H4V11H21.6L20.3 19Z"></path></svg>'},"./packages/survey-core/src/images/Clear.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.4 14.6C0.600003 15.4 0.600003 16.6 1.4 17.4L6 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.8L2.8 16L6.2 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.6 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./packages/survey-core/src/images/CloseCamera.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.41 12L20.7 4.71C21.09 4.32 21.09 3.69 20.7 3.3C20.31 2.91 19.68 2.91 19.29 3.3L12 10.59L4.71 3.29C4.32 2.9 3.68 2.9 3.29 3.29C2.9 3.68 2.9 4.32 3.29 4.71L10.58 12L3.29 19.29C2.9 19.68 2.9 20.31 3.29 20.7C3.49 20.9 3.74 20.99 4 20.99C4.26 20.99 4.51 20.89 4.71 20.7L12 13.41L19.29 20.7C19.49 20.9 19.74 20.99 20 20.99C20.26 20.99 20.51 20.89 20.71 20.7C21.1 20.31 21.1 19.68 20.71 19.29L13.42 12H13.41Z"></path></svg>'},"./packages/survey-core/src/images/DefaultFile.svg":function(a,u){a.exports='<svg viewBox="0 0 56 68" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_9011_41219)"><path d="M54.83 10.83L45.17 1.17C44.7982 0.798664 44.357 0.504208 43.8714 0.303455C43.3858 0.102703 42.8654 -0.000411943 42.34 1.2368e-06H6C4.4087 1.2368e-06 2.88257 0.632142 1.75735 1.75736C0.632136 2.88258 0 4.4087 0 6V62C0 63.5913 0.632136 65.1174 1.75735 66.2426C2.88257 67.3679 4.4087 68 6 68H50C51.5913 68 53.1174 67.3679 54.2426 66.2426C55.3679 65.1174 56 63.5913 56 62V13.66C56.0004 13.1346 55.8973 12.6142 55.6965 12.1286C55.4958 11.643 55.2013 11.2018 54.83 10.83ZM44 2.83L53.17 12H48C46.9391 12 45.9217 11.5786 45.1716 10.8284C44.4214 10.0783 44 9.06087 44 8V2.83ZM54 62C54 63.0609 53.5786 64.0783 52.8284 64.8284C52.0783 65.5786 51.0609 66 50 66H6C4.93913 66 3.92172 65.5786 3.17157 64.8284C2.42142 64.0783 2 63.0609 2 62V6C2 4.93914 2.42142 3.92172 3.17157 3.17157C3.92172 2.42143 4.93913 2 6 2H42V8C42 9.5913 42.6321 11.1174 43.7574 12.2426C44.8826 13.3679 46.4087 14 48 14H54V62ZM14 24H42V26H14V24ZM14 30H42V32H14V30ZM14 36H42V38H14V36ZM14 42H42V44H14V42Z" fill="#909090"></path></g><defs><clipPath id="clip0_9011_41219"><rect width="56" height="68" fill="white"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images/Delete.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>'},"./packages/survey-core/src/images/Down_34x34.svg":function(a,u){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><g><path class="st0" d="M33,34H0V0h33c0.6,0,1,0.4,1,1v32C34,33.6,33.6,34,33,34z"></path><polygon class="st1" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></g></svg>'},"./packages/survey-core/src/images/Left.svg":function(a,u){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="11,12 9,14 3,8 9,2 11,4 7,8 "></polygon></svg>'},"./packages/survey-core/src/images/ModernBooleanCheckChecked.svg":function(a,u){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./packages/survey-core/src/images/ModernBooleanCheckInd.svg":function(a,u){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./packages/survey-core/src/images/ModernBooleanCheckUnchecked.svg":function(a,u){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./packages/survey-core/src/images/ModernCheck.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./packages/survey-core/src/images/ModernRadio.svg":function(a,u){a.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./packages/survey-core/src/images/More.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>'},"./packages/survey-core/src/images/NavMenu_24x24.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16 7H2V5H16V7ZM2 11V13H22V11H2ZM2 19H10V17H2V19Z" fill="black" fill-opacity="0.45"></path></svg>'},"./packages/survey-core/src/images/ProgressButton.svg":function(a,u){a.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./packages/survey-core/src/images/ProgressButtonV2.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./packages/survey-core/src/images/RemoveFile.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./packages/survey-core/src/images/Right.svg":function(a,u){a.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="5,4 7,2 13,8 7,14 5,12 9,8 "></polygon></svg>'},"./packages/survey-core/src/images/SearchClear.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./packages/survey-core/src/images/ShowCamera.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z" fill="black" fill-opacity="0.45"></path></svg>'},"./packages/survey-core/src/images/TakePicture.svg":function(a,u){a.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M27 6H23.8C23.34 6 22.92 5.77 22.66 5.39L22.25 4.78C21.51 3.66 20.26 3 18.92 3H13.06C11.72 3 10.48 3.67 9.73 4.78L9.32 5.39C9.07 5.77 8.64 6 8.18 6H4.98C2.79 6 1 7.79 1 10V24C1 26.21 2.79 28 5 28H27C29.21 28 31 26.21 31 24V10C31 7.79 29.21 6 27 6ZM29 24C29 25.1 28.1 26 27 26H5C3.9 26 3 25.1 3 24V10C3 8.9 3.9 8 5 8H8.2C9.33 8 10.38 7.44 11 6.5L11.41 5.89C11.78 5.33 12.41 5 13.07 5H18.93C19.6 5 20.22 5.33 20.59 5.89L21 6.5C21.62 7.44 22.68 8 23.8 8H27C28.1 8 29 8.9 29 10V24ZM16 9C12.13 9 9 12.13 9 16C9 19.87 12.13 23 16 23C19.87 23 23 19.87 23 16C23 12.13 19.87 9 16 9ZM16 21C13.24 21 11 18.76 11 16C11 13.24 13.24 11 16 11C18.76 11 21 13.24 21 16C21 18.76 18.76 21 16 21ZM17 13C17 13.55 16.55 14 16 14C14.9 14 14 14.9 14 16C14 16.55 13.55 17 13 17C12.45 17 12 16.55 12 16C12 13.79 13.79 12 16 12C16.55 12 17 12.45 17 13Z"></path></svg>'},"./packages/survey-core/src/images/TakePicture_24x24.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z"></path></svg>'},"./packages/survey-core/src/images/TimerCircle.svg":function(a,u){a.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./packages/survey-core/src/images/V2Check.svg":function(a,u){a.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.00001 15.8L2.60001 10.4L4.00001 9L8.00001 13L16 5L17.4 6.4L8.00001 15.8Z"></path></svg>'},"./packages/survey-core/src/images/V2Check_24x24.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>'},"./packages/survey-core/src/images/V2DragElement_16x16.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H13C13.2652 3 13.5196 3.10536 13.7071 3.29289C13.8946 3.48043 14 3.73478 14 4C14 4.26522 13.8946 4.51957 13.7071 4.70711C13.5196 4.89464 13.2652 5 13 5H3C2.73478 5 2.48043 4.89464 2.29289 4.70711C2.10536 4.51957 2 4.26522 2 4ZM13 7H3C2.73478 7 2.48043 7.10536 2.29289 7.29289C2.10536 7.48043 2 7.73478 2 8C2 8.26522 2.10536 8.51957 2.29289 8.70711C2.48043 8.89464 2.73478 9 3 9H13C13.2652 9 13.5196 8.89464 13.7071 8.70711C13.8946 8.51957 14 8.26522 14 8C14 7.73478 13.8946 7.48043 13.7071 7.29289C13.5196 7.10536 13.2652 7 13 7ZM13 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 12.2652 2.10536 12.5196 2.29289 12.7071C2.48043 12.8946 2.73478 13 3 13H13C13.2652 13 13.5196 12.8946 13.7071 12.7071C13.8946 12.5196 14 12.2652 14 12C14 11.7348 13.8946 11.4804 13.7071 11.2929C13.5196 11.1054 13.2652 11 13 11Z"></path></svg>'},"./packages/survey-core/src/images/back-to-panel_16x16.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15.0001 6C15.0001 6.55 14.5501 7 14.0001 7H10.0001C9.45006 7 9.00006 6.55 9.00006 6V2C9.00006 1.45 9.45006 1 10.0001 1C10.5501 1 11.0001 1.45 11.0001 2V3.59L13.2901 1.29C13.4901 1.09 13.7401 1 14.0001 1C14.2601 1 14.5101 1.1 14.7101 1.29C15.1001 1.68 15.1001 2.31 14.7101 2.7L12.4201 4.99H14.0101C14.5601 4.99 15.0101 5.44 15.0101 5.99L15.0001 6ZM6.00006 9H2.00006C1.45006 9 1.00006 9.45 1.00006 10C1.00006 10.55 1.45006 11 2.00006 11H3.59006L1.29006 13.29C0.900059 13.68 0.900059 14.31 1.29006 14.7C1.68006 15.09 2.31006 15.09 2.70006 14.7L4.99006 12.41V14C4.99006 14.55 5.44006 15 5.99006 15C6.54006 15 6.99006 14.55 6.99006 14V10C6.99006 9.45 6.54006 9 5.99006 9H6.00006Z"></path></svg>'},"./packages/survey-core/src/images/chevron.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15L17 10H7L12 15Z"></path></svg>'},"./packages/survey-core/src/images/clear_16x16.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./packages/survey-core/src/images/close_16x16.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.43 8.0025L13.7 3.7225C14.09 3.3325 14.09 2.6925 13.7 2.2925C13.31 1.9025 12.67 1.9025 12.27 2.2925L7.99 6.5725L3.72 2.3025C3.33 1.9025 2.69 1.9025 2.3 2.3025C1.9 2.6925 1.9 3.3325 2.3 3.7225L6.58 8.0025L2.3 12.2825C1.91 12.6725 1.91 13.3125 2.3 13.7125C2.69 14.1025 3.33 14.1025 3.73 13.7125L8.01 9.4325L12.29 13.7125C12.68 14.1025 13.32 14.1025 13.72 13.7125C14.11 13.3225 14.11 12.6825 13.72 12.2825L9.44 8.0025H9.43Z"></path></svg>'},"./packages/survey-core/src/images/collapseDetail.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images/drag-n-drop.svg":function(a,u){a.exports='<svg viewBox="0 0 10 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 2C6 0.9 6.9 0 8 0C9.1 0 10 0.9 10 2C10 3.1 9.1 4 8 4C6.9 4 6 3.1 6 2ZM2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM8 12C6.9 12 6 12.9 6 14C6 15.1 6.9 16 8 16C9.1 16 10 15.1 10 14C10 12.9 9.1 12 8 12ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z"></path></svg>'},"./packages/survey-core/src/images/expandDetail.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images/full-screen_16x16.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.71 10.71L4.42 13H6.01C6.56 13 7.01 13.45 7.01 14C7.01 14.55 6.56 15 6.01 15H2C1.45 15 1 14.55 1 14V10C1 9.45 1.45 9 2 9C2.55 9 3 9.45 3 10V11.59L5.29 9.3C5.68 8.91 6.31 8.91 6.7 9.3C7.09 9.69 7.09 10.32 6.7 10.71H6.71ZM14 1H10C9.45 1 9 1.45 9 2C9 2.55 9.45 3 10 3H11.59L9.3 5.29C8.91 5.68 8.91 6.31 9.3 6.7C9.5 6.9 9.75 6.99 10.01 6.99C10.27 6.99 10.52 6.89 10.72 6.7L13.01 4.41V6C13.01 6.55 13.46 7 14.01 7C14.56 7 15.01 6.55 15.01 6V2C15.01 1.45 14.56 1 14.01 1H14Z"></path></svg>'},"./packages/survey-core/src/images/loading.svg":function(a,u){a.exports='<svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_885_24957)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z" fill="#19B394"></path></g><defs><clipPath id="clip0_885_24957"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>'},"./packages/survey-core/src/images/minimize_16x16.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 9H3C2.45 9 2 8.55 2 8C2 7.45 2.45 7 3 7H13C13.55 7 14 7.45 14 8C14 8.55 13.55 9 13 9Z"></path></svg>'},"./packages/survey-core/src/images/next_16x16.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M5.64648 12.6465L6.34648 13.3465L11.7465 8.04648L6.34648 2.64648L5.64648 3.34648L10.2465 8.04648L5.64648 12.6465Z"></path></svg>'},"./packages/survey-core/src/images/no-image.svg":function(a,u){a.exports='<svg viewBox="0 0 48 48"><g opacity="0.5"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></g></svg>'},"./packages/survey-core/src/images/ranking-arrows.svg":function(a,u){a.exports='<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>'},"./packages/survey-core/src/images/ranking-dash.svg":function(a,u){a.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./packages/survey-core/src/images/rating-star-2.svg":function(a,u){a.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.3981 33.1305L24 32.9206L23.6019 33.1305L15.8715 37.2059L17.3542 28.5663L17.43 28.1246L17.1095 27.8113L10.83 21.6746L19.4965 20.4049L19.9405 20.3399L20.1387 19.9373L24 12.0936L27.8613 19.9373L28.0595 20.3399L28.5035 20.4049L37.17 21.6746L30.8905 27.8113L30.57 28.1246L30.6458 28.5663L32.1285 37.2059L24.3981 33.1305Z" stroke-width="1.70746"></path></svg>'},"./packages/survey-core/src/images/rating-star-small-2.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>'},"./packages/survey-core/src/images/rating-star-small.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z"></path></g></svg>'},"./packages/survey-core/src/images/rating-star.svg":function(a,u){a.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z"></path></g></svg>'},"./packages/survey-core/src/images/restore_16x16.svg":function(a,u){a.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 13H4C2.9 13 2 12.1 2 11V5C2 3.9 2.9 3 4 3H12C13.1 3 14 3.9 14 5V11C14 12.1 13.1 13 12 13ZM4 5V11H12V5H4Z"></path></svg>'},"./packages/survey-core/src/images/search.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>'},"./packages/survey-core/src/images/smiley sync \\.svg$":function(a,u,d){var f={"./average.svg":"./packages/survey-core/src/images/smiley/average.svg","./excellent.svg":"./packages/survey-core/src/images/smiley/excellent.svg","./good.svg":"./packages/survey-core/src/images/smiley/good.svg","./normal.svg":"./packages/survey-core/src/images/smiley/normal.svg","./not-good.svg":"./packages/survey-core/src/images/smiley/not-good.svg","./perfect.svg":"./packages/survey-core/src/images/smiley/perfect.svg","./poor.svg":"./packages/survey-core/src/images/smiley/poor.svg","./terrible.svg":"./packages/survey-core/src/images/smiley/terrible.svg","./very-good.svg":"./packages/survey-core/src/images/smiley/very-good.svg","./very-poor.svg":"./packages/survey-core/src/images/smiley/very-poor.svg"};function h(m){var v=g(m);return d(v)}function g(m){if(!d.o(f,m)){var v=new Error("Cannot find module '"+m+"'");throw v.code="MODULE_NOT_FOUND",v}return f[m]}h.keys=function(){return Object.keys(f)},h.resolve=g,a.exports=h,h.id="./packages/survey-core/src/images/smiley sync \\.svg$"},"./packages/survey-core/src/images/smiley/average.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>'},"./packages/survey-core/src/images/smiley/excellent.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'},"./packages/survey-core/src/images/smiley/good.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>'},"./packages/survey-core/src/images/smiley/normal.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>'},"./packages/survey-core/src/images/smiley/not-good.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>'},"./packages/survey-core/src/images/smiley/perfect.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>'},"./packages/survey-core/src/images/smiley/poor.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>'},"./packages/survey-core/src/images/smiley/terrible.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>'},"./packages/survey-core/src/images/smiley/very-good.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>'},"./packages/survey-core/src/images/smiley/very-poor.svg":function(a,u){a.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.50999C4.47291 4.50999 4.08291 4.24999 3.94291 3.83999C3.76291 3.31999 4.03291 2.74999 4.55291 2.56999L8.32291 1.24999C8.84291 1.05999 9.41291 1.33999 9.59291 1.85999C9.77291 2.37999 9.50291 2.94999 8.98291 3.12999L5.20291 4.44999C5.09291 4.48999 4.98291 4.50999 4.87291 4.50999H4.88291ZM19.8129 3.88999C20.0229 3.37999 19.7729 2.78999 19.2629 2.58999L15.5529 1.06999C15.0429 0.859992 14.4529 1.10999 14.2529 1.61999C14.0429 2.12999 14.2929 2.71999 14.8029 2.91999L18.5029 4.42999C18.6229 4.47999 18.7529 4.49999 18.8829 4.49999C19.2729 4.49999 19.6529 4.26999 19.8129 3.87999V3.88999ZM3.50291 5.99999C2.64291 6.36999 1.79291 6.87999 1.00291 7.47999C0.79291 7.63999 0.64291 7.86999 0.59291 8.13999C0.48291 8.72999 0.87291 9.28999 1.45291 9.39999C2.04291 9.50999 2.60291 9.11999 2.71291 8.53999C2.87291 7.68999 3.12291 6.82999 3.50291 5.98999V5.99999ZM21.0429 8.54999C21.6029 10.48 24.2429 8.83999 22.7529 7.47999C21.9629 6.87999 21.1129 6.36999 20.2529 5.99999C20.6329 6.83999 20.8829 7.69999 21.0429 8.54999ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 9.99999 11.8829 9.99999C7.47291 9.99999 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'},"./src/entries/core.ts":function(a,u,d){d.r(u),d.d(u,"Version",function(){return Ls}),d.d(u,"ReleaseDate",function(){return tu}),d.d(u,"checkLibraryVersion",function(){return rC}),d.d(u,"setLicenseKey",function(){return iC}),d.d(u,"slk",function(){return $p}),d.d(u,"hasLicense",function(){return oC}),d.d(u,"settings",function(){return N}),d.d(u,"Helpers",function(){return g}),d.d(u,"AnswerCountValidator",function(){return md}),d.d(u,"EmailValidator",function(){return Ga}),d.d(u,"NumericValidator",function(){return gd}),d.d(u,"RegexValidator",function(){return vd}),d.d(u,"SurveyValidator",function(){return Qr}),d.d(u,"TextValidator",function(){return yd}),d.d(u,"ValidatorResult",function(){return En}),d.d(u,"ExpressionValidator",function(){return bd}),d.d(u,"ValidatorRunner",function(){return hd}),d.d(u,"ItemValue",function(){return ke}),d.d(u,"Base",function(){return $e}),d.d(u,"Event",function(){return Da}),d.d(u,"EventBase",function(){return Rn}),d.d(u,"ArrayChanges",function(){return Fr}),d.d(u,"ComputedUpdater",function(){return At}),d.d(u,"SurveyError",function(){return an}),d.d(u,"SurveyElementCore",function(){return is}),d.d(u,"SurveyElement",function(){return Qt}),d.d(u,"DragTypeOverMeEnum",function(){return Ha}),d.d(u,"CalculatedValue",function(){return Pd}),d.d(u,"CustomError",function(){return wn}),d.d(u,"AnswerRequiredError",function(){return ud}),d.d(u,"OneAnswerRequiredError",function(){return cd}),d.d(u,"RequreNumericError",function(){return dd}),d.d(u,"ExceedSizeError",function(){return pd}),d.d(u,"LocalizableString",function(){return In}),d.d(u,"LocalizableStrings",function(){return td}),d.d(u,"HtmlConditionItem",function(){return xd}),d.d(u,"UrlConditionItem",function(){return Vd}),d.d(u,"ChoicesRestful",function(){return zr}),d.d(u,"ChoicesRestfull",function(){return mv}),d.d(u,"FunctionFactory",function(){return We}),d.d(u,"registerFunction",function(){return jn}),d.d(u,"ConditionRunner",function(){return on}),d.d(u,"ExpressionRunner",function(){return Nr}),d.d(u,"ExpressionExecutor",function(){return Kc}),d.d(u,"Operand",function(){return yi}),d.d(u,"Const",function(){return _a}),d.d(u,"BinaryOperand",function(){return Uc}),d.d(u,"Variable",function(){return Wc}),d.d(u,"FunctionOperand",function(){return $c}),d.d(u,"ArrayOperand",function(){return es}),d.d(u,"UnaryOperand",function(){return Ea}),d.d(u,"ConditionsParser",function(){return Jc}),d.d(u,"ProcessValue",function(){return Ie}),d.d(u,"JsonError",function(){return Oe}),d.d(u,"JsonIncorrectTypeError",function(){return ze}),d.d(u,"JsonMetadata",function(){return ie}),d.d(u,"JsonMetadataClass",function(){return pe}),d.d(u,"JsonMissingTypeError",function(){return Re}),d.d(u,"JsonMissingTypeErrorBase",function(){return Me}),d.d(u,"JsonObject",function(){return et}),d.d(u,"JsonObjectProperty",function(){return ce}),d.d(u,"JsonRequiredPropertyError",function(){return ft}),d.d(u,"JsonUnknownPropertyError",function(){return He}),d.d(u,"Serializer",function(){return H}),d.d(u,"property",function(){return V}),d.d(u,"propertyArray",function(){return ee}),d.d(u,"MatrixDropdownCell",function(){return ul}),d.d(u,"MatrixDropdownRowModelBase",function(){return Ur}),d.d(u,"QuestionMatrixDropdownModelBase",function(){return bi}),d.d(u,"MatrixDropdownColumn",function(){return oo}),d.d(u,"matrixDropdownColumnTypes",function(){return ol}),d.d(u,"QuestionMatrixDropdownRenderedCell",function(){return Qn}),d.d(u,"QuestionMatrixDropdownRenderedRow",function(){return al}),d.d(u,"QuestionMatrixDropdownRenderedErrorRow",function(){return Ad}),d.d(u,"QuestionMatrixDropdownRenderedTable",function(){return ll}),d.d(u,"MatrixDropdownRowModel",function(){return Ld}),d.d(u,"QuestionMatrixDropdownModel",function(){return cl}),d.d(u,"MatrixDynamicRowModel",function(){return jd}),d.d(u,"QuestionMatrixDynamicModel",function(){return gl}),d.d(u,"MatrixRowModel",function(){return np}),d.d(u,"MatrixCells",function(){return rp}),d.d(u,"QuestionMatrixModel",function(){return Tl}),d.d(u,"QuestionMatrixBaseModel",function(){return tl}),d.d(u,"MultipleTextItemModel",function(){return El}),d.d(u,"MultipleTextCell",function(){return Al}),d.d(u,"MultipleTextErrorCell",function(){return fp}),d.d(u,"MutlipleTextErrorRow",function(){return pp}),d.d(u,"MutlipleTextRow",function(){return _l}),d.d(u,"QuestionMultipleTextModel",function(){return Ts}),d.d(u,"MultipleTextEditorModel",function(){return dp}),d.d(u,"PanelModel",function(){return ws}),d.d(u,"PanelModelBase",function(){return Cs}),d.d(u,"QuestionRowModel",function(){return $d}),d.d(u,"FlowPanelModel",function(){return hp}),d.d(u,"PageModel",function(){return lo}),d.d(u,"DefaultTitleModel",function(){return ab}),d.d(u,"Question",function(){return zt}),d.d(u,"QuestionNonValue",function(){return Os}),d.d(u,"QuestionEmptyModel",function(){return gp}),d.d(u,"QuestionCheckboxBase",function(){return uo}),d.d(u,"QuestionSelectBase",function(){return bl}),d.d(u,"QuestionCheckboxModel",function(){return po}),d.d(u,"QuestionTagboxModel",function(){return Dl}),d.d(u,"QuestionRankingModel",function(){return Ll}),d.d(u,"QuestionCommentModel",function(){return kl}),d.d(u,"QuestionDropdownModel",function(){return co}),d.d(u,"QuestionFactory",function(){return lt}),d.d(u,"ElementFactory",function(){return pr}),d.d(u,"QuestionFileModel",function(){return ql}),d.d(u,"QuestionFilePage",function(){return Pp}),d.d(u,"QuestionHtmlModel",function(){return jl}),d.d(u,"QuestionRadiogroupModel",function(){return Nl}),d.d(u,"QuestionRatingModel",function(){return Bl}),d.d(u,"RenderedRatingItem",function(){return Is}),d.d(u,"QuestionExpressionModel",function(){return il}),d.d(u,"QuestionTextBase",function(){return Vs}),d.d(u,"CharacterCounter",function(){return sp}),d.d(u,"QuestionTextModel",function(){return Ss}),d.d(u,"QuestionBooleanModel",function(){return Hl}),d.d(u,"QuestionImagePickerModel",function(){return fo}),d.d(u,"ImageItemValue",function(){return Sp}),d.d(u,"QuestionImageModel",function(){return Ql}),d.d(u,"QuestionSignaturePadModel",function(){return Ul}),d.d(u,"QuestionPanelDynamicModel",function(){return $l}),d.d(u,"QuestionPanelDynamicItem",function(){return Yt}),d.d(u,"SurveyTimer",function(){return yl}),d.d(u,"SurveyTimerModel",function(){return Bd}),d.d(u,"tryFocusPage",function(){return Gd}),d.d(u,"createTOCListModel",function(){return Kd}),d.d(u,"getTocRootCss",function(){return Yd}),d.d(u,"TOCModel",function(){return $r}),d.d(u,"SurveyProgressModel",function(){return jb}),d.d(u,"ProgressButtons",function(){return Jd}),d.d(u,"ProgressButtonsResponsivityManager",function(){return Kv}),d.d(u,"SurveyModel",function(){return fr}),d.d(u,"SurveyTrigger",function(){return Kr}),d.d(u,"SurveyTriggerComplete",function(){return _p}),d.d(u,"SurveyTriggerSetValue",function(){return Ap}),d.d(u,"SurveyTriggerVisible",function(){return Ep}),d.d(u,"SurveyTriggerCopyValue",function(){return kp}),d.d(u,"SurveyTriggerRunExpression",function(){return Lp}),d.d(u,"SurveyTriggerSkip",function(){return Dp}),d.d(u,"Trigger",function(){return Ip}),d.d(u,"PopupSurveyModel",function(){return qp}),d.d(u,"SurveyWindowModel",function(){return Fb}),d.d(u,"TextPreProcessor",function(){return nl}),d.d(u,"Notifier",function(){return Hd}),d.d(u,"Cover",function(){return bs}),d.d(u,"CoverCell",function(){return Qd}),d.d(u,"dxSurveyService",function(){return Fd}),d.d(u,"englishStrings",function(){return m}),d.d(u,"surveyLocalization",function(){return v}),d.d(u,"surveyStrings",function(){return C}),d.d(u,"QuestionCustomWidget",function(){return Cd}),d.d(u,"CustomWidgetCollection",function(){return Ka}),d.d(u,"QuestionCustomModel",function(){return Ed}),d.d(u,"QuestionCompositeModel",function(){return _d}),d.d(u,"ComponentQuestionJSON",function(){return Rd}),d.d(u,"ComponentCollection",function(){return ds}),d.d(u,"ListModel",function(){return Yi}),d.d(u,"MultiSelectListModel",function(){return yp}),d.d(u,"PopupModel",function(){return Xi}),d.d(u,"createDialogOptions",function(){return Dm}),d.d(u,"PopupBaseViewModel",function(){return Pl}),d.d(u,"PopupDropdownViewModel",function(){return Vl}),d.d(u,"PopupModalViewModel",function(){return Jl}),d.d(u,"createPopupViewModel",function(){return Qb}),d.d(u,"createPopupModalViewModel",function(){return Hb}),d.d(u,"DropdownListModel",function(){return xs}),d.d(u,"DropdownMultiSelectListModel",function(){return mp}),d.d(u,"QuestionButtonGroupModel",function(){return Fp}),d.d(u,"ButtonGroupItemModel",function(){return zb}),d.d(u,"ButtonGroupItemValue",function(){return Np}),d.d(u,"IsMobile",function(){return ys}),d.d(u,"IsTouch",function(){return It}),d.d(u,"_setIsTouch",function(){return Iv}),d.d(u,"confirmAction",function(){return nd}),d.d(u,"confirmActionAsync",function(){return to}),d.d(u,"detectIEOrEdge",function(){return no}),d.d(u,"doKey2ClickUp",function(){return sd}),d.d(u,"doKey2ClickDown",function(){return Gm}),d.d(u,"doKey2ClickBlur",function(){return od}),d.d(u,"loadFileFromBase64",function(){return rd}),d.d(u,"increaseHeightByContent",function(){return Wa}),d.d(u,"createSvg",function(){return Wm}),d.d(u,"chooseFiles",function(){return ld}),d.d(u,"sanitizeEditableContent",function(){return Ym}),d.d(u,"prepareElementForVerticalAnimation",function(){return Hn}),d.d(u,"cleanHtmlElementAfterAnimation",function(){return hn}),d.d(u,"classesToSelector",function(){return Bn}),d.d(u,"InputMaskBase",function(){return As}),d.d(u,"InputMaskPattern",function(){return Xl}),d.d(u,"InputMaskNumeric",function(){return eu}),d.d(u,"InputMaskDateTime",function(){return zp}),d.d(u,"InputMaskCurrency",function(){return Wp}),d.d(u,"CssClassBuilder",function(){return J}),d.d(u,"TextAreaModel",function(){return us}),d.d(u,"surveyCss",function(){return Dt}),d.d(u,"defaultV2Css",function(){return ms}),d.d(u,"defaultV2ThemeName",function(){return Nd}),d.d(u,"DragDropCore",function(){return pl}),d.d(u,"DragDropChoices",function(){return vp}),d.d(u,"DragDropRankingSelectToRank",function(){return Cp}),d.d(u,"StylesManager",function(){return Gp}),d.d(u,"defaultStandardCss",function(){return br}),d.d(u,"modernCss",function(){return Kp}),d.d(u,"SvgIconRegistry",function(){return Zp}),d.d(u,"SvgRegistry",function(){return nu}),d.d(u,"SvgBundleViewModel",function(){return mC}),d.d(u,"RendererFactory",function(){return wd}),d.d(u,"ResponsivityManager",function(){return La}),d.d(u,"VerticalResponsivityManager",function(){return Rm}),d.d(u,"unwrap",function(){return Jm}),d.d(u,"getOriginalEvent",function(){return Km}),d.d(u,"getElement",function(){return Qa}),d.d(u,"createDropdownActionModel",function(){return km}),d.d(u,"createDropdownActionModelAdvanced",function(){return Ma}),d.d(u,"createPopupModelWithListModel",function(){return qa}),d.d(u,"getActionDropdownButtonTarget",function(){return Mm}),d.d(u,"BaseAction",function(){return ts}),d.d(u,"Action",function(){return ot}),d.d(u,"ActionDropdownViewModel",function(){return qm}),d.d(u,"AnimationUtils",function(){return ja}),d.d(u,"AnimationPropertyUtils",function(){return Xc}),d.d(u,"AnimationGroupUtils",function(){return Na}),d.d(u,"AnimationProperty",function(){return rs}),d.d(u,"AnimationBoolean",function(){return Fa}),d.d(u,"AnimationGroup",function(){return cr}),d.d(u,"AnimationTab",function(){return Ba}),d.d(u,"AdaptiveActionContainer",function(){return ns}),d.d(u,"defaultActionBarCss",function(){return ka}),d.d(u,"ActionContainer",function(){return Nn}),d.d(u,"DragOrClickHelper",function(){return fl}),d.d(u,"Model",function(){return fr});var f=function(){function i(){}return i.isAvailable=function(){return typeof window<"u"},i.isFileReaderAvailable=function(){return i.isAvailable()?!!window.FileReader:!1},i.getLocation=function(){if(i.isAvailable())return window.location},i.getVisualViewport=function(){return i.isAvailable()?window.visualViewport:null},i.getInnerWidth=function(){if(i.isAvailable())return window.innerWidth},i.getInnerHeight=function(){return i.isAvailable()?window.innerHeight:null},i.getWindow=function(){if(i.isAvailable())return window},i.hasOwn=function(t){if(i.isAvailable())return t in window},i.getSelection=function(){if(i.isAvailable()&&window.getSelection)return window.getSelection()},i.requestAnimationFrame=function(t){if(i.isAvailable())return window.requestAnimationFrame(t)},i.addEventListener=function(t,e){i.isAvailable()&&window.addEventListener(t,e)},i.removeEventListener=function(t,e){i.isAvailable()&&window.removeEventListener(t,e)},i.matchMedia=function(t){return!i.isAvailable()||typeof window.matchMedia>"u"?null:window.matchMedia(t)},i}(),h=function(){function i(){}return i.isAvailable=function(){return typeof document<"u"},i.getBody=function(){if(i.isAvailable())return document.body},i.getDocumentElement=function(){if(i.isAvailable())return document.documentElement},i.getDocument=function(){if(i.isAvailable())return document},i.getCookie=function(){if(i.isAvailable())return document.cookie},i.setCookie=function(t){i.isAvailable()&&(document.cookie=t)},i.activeElementBlur=function(){if(i.isAvailable()){var t=document.activeElement;t&&t.blur&&t.blur()}},i.createElement=function(t){if(i.isAvailable())return document.createElement(t)},i.getComputedStyle=function(t){return i.isAvailable()?document.defaultView.getComputedStyle(t):new CSSStyleDeclaration},i.addEventListener=function(t,e){i.isAvailable()&&document.addEventListener(t,e)},i.removeEventListener=function(t,e){i.isAvailable()&&document.removeEventListener(t,e)},i}(),g=function(){function i(){}return i.isValueEmpty=function(t){if(Array.isArray(t)&&t.length===0)return!0;if(t&&i.isValueObject(t)&&t.constructor===Object){for(var e in t)if(!i.isValueEmpty(t[e]))return!1;return!0}return!t&&t!==0&&t!==!1},i.isArrayContainsEqual=function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++){for(var r=0;r<e.length&&!i.isTwoValueEquals(t[n],e[r]);r++);if(r===e.length)return!1}return!0},i.isArraysEqual=function(t,e,n,r,o){if(n===void 0&&(n=!1),!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;if(n){for(var c=[],p=[],y=0;y<t.length;y++)c.push(t[y]),p.push(e[y]);c.sort(),p.sort(),t=c,e=p}for(var y=0;y<t.length;y++)if(!i.isTwoValueEquals(t[y],e[y],n,r,o))return!1;return!0},i.compareStrings=function(t,e){var n=N.comparator.normalizeTextCallback;if(t&&(t=n(t,"compare").trim()),e&&(e=n(e,"compare").trim()),!t&&!e)return 0;if(!t)return-1;if(!e)return 1;if(t===e)return 0;for(var r=-1,o=0;o<t.length&&o<e.length;o++){if(this.isCharDigit(t[o])&&this.isCharDigit(e[o])){r=o;break}if(t[o]!==e[o])break}if(r>-1){var c=this.getNumberFromStr(t,r),p=this.getNumberFromStr(e,r);if(!Number.isNaN(c)&&!Number.isNaN(p)&&c!==p)return c>p?1:-1}return t>e?1:-1},i.isTwoValueEquals=function(t,e,n,r,o){if(n===void 0&&(n=!1),t===e||Array.isArray(t)&&t.length===0&&typeof e>"u"||Array.isArray(e)&&e.length===0&&typeof t>"u"||t==null&&e===""||e==null&&t==="")return!0;if(o===void 0&&(o=N.comparator.trimStrings),r===void 0&&(r=N.comparator.caseSensitive),typeof t=="string"&&typeof e=="string"){var c=N.comparator.normalizeTextCallback;return t=c(t,"compare"),e=c(e,"compare"),o&&(t=t.trim(),e=e.trim()),r||(t=t.toLowerCase(),e=e.toLowerCase()),t===e}if(t instanceof Date&&e instanceof Date)return t.getTime()==e.getTime();if(i.isConvertibleToNumber(t)&&i.isConvertibleToNumber(e)&&parseInt(t)===parseInt(e)&&parseFloat(t)===parseFloat(e))return!0;if(!i.isValueEmpty(t)&&i.isValueEmpty(e)||i.isValueEmpty(t)&&!i.isValueEmpty(e))return!1;if((t===!0||t===!1)&&typeof e=="string")return t.toString()===e.toLocaleLowerCase();if((e===!0||e===!1)&&typeof t=="string")return e.toString()===t.toLocaleLowerCase();if(!i.isValueObject(t)&&!i.isValueObject(e))return t==e;if(!i.isValueObject(t)||!i.isValueObject(e))return!1;if(t.equals&&e.equals)return t.equals(e);if(Array.isArray(t)&&Array.isArray(e))return i.isArraysEqual(t,e,n,r,o);for(var p in t)if(t.hasOwnProperty(p)&&(!e.hasOwnProperty(p)||!this.isTwoValueEquals(t[p],e[p],n,r,o)))return!1;for(p in e)if(e.hasOwnProperty(p)&&!t.hasOwnProperty(p))return!1;return!0},i.randomizeArray=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t},i.getUnbindValue=function(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(i.getUnbindValue(t[n]));return e}return t&&i.isValueObject(t)&&!(t instanceof Date)?JSON.parse(JSON.stringify(t)):t},i.createCopy=function(t){var e={};if(!t)return e;for(var n in t)e[n]=t[n];return e},i.isConvertibleToNumber=function(t){return t!=null&&!Array.isArray(t)&&!isNaN(t)},i.isValueObject=function(t,e){return t instanceof Object&&(!e||!Array.isArray(t))},i.isNumber=function(t){return!isNaN(this.getNumber(t))},i.getNumber=function(t){var e=i.getNumberCore(t);return N.parseNumber(t,e)},i.getNumberCore=function(t){if(typeof t=="string"){if(!t.trim())return NaN;if(t.indexOf("0x")==0)return t.length>32?NaN:parseInt(t);if(i.isStringHasOperator(t))return NaN}t=this.prepareStringToNumber(t);var e=parseFloat(t);return isNaN(e)||!isFinite(t)?NaN:e},i.isStringHasOperator=function(t){if(t.lastIndexOf("-")>0||t.lastIndexOf("+")>0)return!1;for(var e="*^/%",n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1},i.prepareStringToNumber=function(t){if(typeof t!="string"||!t)return t;var e=t.indexOf(",");return e>-1&&t.indexOf(",",e+1)<0?t.replace(",","."):t},i.getMaxLength=function(t,e){return t<0&&(t=e),t>0?t:null},i.getRemainingCharacterCounterText=function(t,e){if(!e||e<=0||!N.showMaxLengthIndicator)return"";var n=t?t.length:"0";return[n,e].join("/")},i.getNumberByIndex=function(t,e,n){if(t<0)return"";var r=1,o="",c=".",p=!0,y="A",b="",E=function(Ce){if(!Ce)return!1;for(var ve=0;ve<Ce.length;ve++)if(i.isCharDigit(Ce[ve]))return!0;return!1};if(e){b=e;for(var M=b.length-1,Q=E(b),X=function(){return Q&&!i.isCharDigit(b[M])||i.isCharNotLetterAndDigit(b[M])};M>=0&&X();)M--;var oe="";for(M<b.length-1&&(oe=b.substring(M+1),b=b.substring(0,M+1)),M=b.length-1;M>=0&&!(X()||(M--,!Q)););y=b.substring(M+1),o=b.substring(0,M+1),parseInt(y)?r=parseInt(y):y.length==1&&(p=!1),(oe||o)&&(c=oe)}if(n>-1&&E(o)&&(o=this.getNumberByIndex(n,o)),p){for(var we=(t+r).toString();we.length<y.length;)we="0"+we;return o+we+c}return o+String.fromCharCode(y.charCodeAt(0)+t)+c},i.isCharNotLetterAndDigit=function(t){return t.toUpperCase()==t.toLowerCase()&&!i.isCharDigit(t)},i.isCharDigit=function(t){return t>="0"&&t<="9"},i.getNumberFromStr=function(t,e){if(!this.isCharDigit(t[e]))return NaN;for(var n="";e<t.length&&this.isCharDigit(t[e]);)n+=t[e],e++;return n?this.getNumber(n):NaN},i.countDecimals=function(t){if(i.isNumber(t)&&Math.floor(t)!==t){var e=t.toString().split(".");return e.length>1&&e[1].length||0}return 0},i.correctAfterPlusMinis=function(t,e,n){var r=i.countDecimals(t),o=i.countDecimals(e);if(r>0||o>0){var c=Math.max(r,o);n=parseFloat(n.toFixed(c))}return n},i.sumAnyValues=function(t,e){if(!i.isNumber(t)||!i.isNumber(e)){if(Array.isArray(t)&&Array.isArray(e))return[].concat(t).concat(e);if(Array.isArray(t)||Array.isArray(e)){var n=Array.isArray(t)?t:e,r=n===t?e:t;if(typeof r=="string"){var o=n.join(", ");return n===t?o+r:r+o}if(typeof r=="number"){for(var c=0,p=0;p<n.length;p++)typeof n[p]=="number"&&(c=i.correctAfterPlusMinis(c,n[p],c+n[p]));return i.correctAfterPlusMinis(c,r,c+r)}}return t+e}return typeof t=="string"||typeof e=="string"?t+e:i.correctAfterPlusMinis(t,e,t+e)},i.correctAfterMultiple=function(t,e,n){var r=i.countDecimals(t)+i.countDecimals(e);return r>0&&(n=parseFloat(n.toFixed(r))),n},i.convertArrayValueToObject=function(t,e,n){n===void 0&&(n=void 0);var r=new Array;if(!t||!Array.isArray(t))return r;for(var o=0;o<t.length;o++){var c=void 0;Array.isArray(n)&&(c=i.findObjByPropValue(n,e,t[o])),c||(c={},c[e]=t[o]),r.push(c)}return r},i.findObjByPropValue=function(t,e,n){for(var r=0;r<t.length;r++)if(i.isTwoValueEquals(t[r][e],n))return t[r]},i.convertArrayObjectToValue=function(t,e){var n=new Array;if(!t||!Array.isArray(t))return n;for(var r=0;r<t.length;r++){var o=t[r]?t[r][e]:void 0;i.isValueEmpty(o)||n.push(o)}return n},i.convertDateToString=function(t){var e=function(n){return n<10?"0"+n.toString():n.toString()};return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())},i.convertDateTimeToString=function(t){var e=function(n){return n<10?"0"+n.toString():n.toString()};return this.convertDateToString(t)+" "+e(t.getHours())+":"+e(t.getMinutes())},i.convertValToQuestionVal=function(t,e){return t instanceof Date?e==="datetime-local"?i.convertDateTimeToString(t):i.convertDateToString(t):this.getUnbindValue(t)},i.compareVerions=function(t,e){if(!t&&!e)return 0;for(var n=t.split("."),r=e.split("."),o=n.length,c=r.length,p=0;p<o&&p<c;p++){var y=n[p],b=r[p];if(y.length===b.length){if(y!==b)return y<b?-1:1}else return y.length<b.length?-1:1}return o===c?0:o<c?-1:1},i.isUrlYoutubeVideo=function(t){if(!t)return!1;var e=["www.youtube.com","m.youtube.com","youtube.com","youtu.be"];t=t.toLowerCase(),t=t.replace(/^https?:\/\//,"");for(var n=0;n<e.length;n++)if(t.indexOf(e[n]+"/")===0)return!0;return!1},i}();String.prototype.format||(String.prototype.format=function(){var i=arguments;return this.replace(/{(\d+)}/g,function(t,e){return typeof i[e]<"u"?i[e]:t})});var m={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",refuseItemText:"Refuse to answer",dontKnowItemText:"Don't know",selectAllItemText:"Select All",deselectAllItemText:"Deselect all",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain any visible elements.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"You have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Select...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",eachRowUniqueError:"Each row must have a unique value.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} option(s).",maxSelectError:"Please select no more than {0} option(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",noUploadFilesHandler:"Files cannot be uploaded. Please add a handler for the 'onUploadFiles' event.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file selected",filePlaceholder:"Drag and drop a file here or click the button below to select a file to upload.",confirmDelete:"Are you sure you want to delete this record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",showDetails:"Show Details",hideDetails:"Hide Details",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",savingExceedSize:"Your response exceeds 64KB. Please reduce the size of your file(s) and try again or contact the survey owner.",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",signaturePlaceHolder:"Sign here",signaturePlaceHolderReadOnly:"No signature",chooseFileCaption:"Select File",takePhotoCaption:"Take Photo",photoPlaceholder:"Click the button below to take a photo using the camera.",fileOrPhotoPlaceholder:"Drag and drop or select a file to upload or take a photo using the camera.",replaceFileCaption:"Replace file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",noEntriesText:`No entries yet.
Click the button below to add a new entry.`,noEntriesReadonlyText:"No entries",tabTitlePlaceholder:"New Panel",more:"More",tagboxDoneButtonCaption:"OK",selectToRankEmptyRankedAreaText:"All choices are selected for ranking",selectToRankEmptyUnrankedAreaText:"Drag choices here to rank them",ok:"OK",cancel:"Cancel"},v={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},localeNamesInEnglish:{},localeDirections:{},supportedLocales:[],useEnglishNames:!1,get showNamesInEnglish(){return this.useEnglishNames},set showNamesInEnglish(i){this.useEnglishNames=i},setupLocale:function(i,t,e,n,r){this.locales[i]=t,this.localeNames[i]=e,this.localeNamesInEnglish[i]=n,r!==void 0&&(this.localeDirections[i]=r)},get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(i){i==="cz"&&(i="cs"),this.currentLocaleValue=i},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(i){i==="cz"&&(i="cs"),this.defaultLocaleValue=i},getLocaleStrings:function(i){return this.locales[i]},getString:function(i,t){var e=this;t===void 0&&(t=null);var n=new Array,r=function(y){var b=e.locales[y];b&&n.push(b)},o=function(y){if(y){r(y);var b=y.indexOf("-");b<1||(y=y.substring(0,b),r(y))}};o(t),o(this.currentLocale),o(this.defaultLocale),this.defaultLocale!=="en"&&r("en");for(var c=0;c<n.length;c++){var p=n[c][i];if(p!==void 0)return p}return this.onGetExternalString(i,t)},getLocaleName:function(i,t){if(!i)return"";t===void 0&&(t=this.showNamesInEnglish);var e=t?this.localeNamesInEnglish:this.localeNames,n=t?this.localeNames:this.localeNamesInEnglish;return e[i]||n[i]||i},getLocales:function(i){var t=this;i===void 0&&(i=!1);var e=[];e.push("");var n=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){n={};for(var r=0;r<this.supportedLocales.length;r++)n[this.supportedLocales[r]]=!0}for(var o in n)i&&o==this.defaultLocale||e.push(o);var c=function(p){return t.getLocaleName(p).toLowerCase()};return e.sort(function(p,y){var b=c(p),E=c(y);return b===E?0:b<E?-1:1}),e},onGetExternalString:function(i,t){}},C=m;v.locales.en=m,v.localeNames.en="english";var T=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),I=function(i,t){for(var e=0,n=t.length,r=i.length;e<n;e++,r++)i[r]=t[e];return i};function L(i,t,e){var n=i.getLocalizableString(e);if(!n){var r=void 0;typeof t.localizable=="object"&&t.localizable.defaultStr&&(r=t.localizable.defaultStr),n=i.createLocalizableString(e,i,!0,r),typeof t.localizable=="object"&&typeof t.localizable.onGetTextCallback=="function"&&(n.onGetTextCallback=t.localizable.onGetTextCallback)}}function j(i,t,e){L(i,t,e);var n=i.getLocalizableStringText(e);if(n)return n;if(typeof t.localizable=="object"&&t.localizable.defaultStr){var r=i.getLocale?i.getLocale():"";return v.getString(t.localizable.defaultStr,r)}return""}function V(i){return i===void 0&&(i={}),function(t,e){var n=function(r,o){if(o&&typeof o=="object"&&o.type===At.ComputedUpdaterType){$e.startCollectDependencies(function(){return r[e]=o.updater()},r,e);var c=o.updater(),p=$e.finishCollectDependencies();return o.setDependencies(p),r.dependencies[e]&&r.dependencies[e].dispose(),r.dependencies[e]=o,c}return o};!i||!i.localizable?Object.defineProperty(t,e,{get:function(){var r=null;return i&&(typeof i.getDefaultValue=="function"&&(r=i.getDefaultValue(this)),i.defaultValue!==void 0&&(r=i.defaultValue)),this.getPropertyValue(e,r)},set:function(r){var o=n(this,r),c=this.getPropertyValue(e);this.setPropertyValue(e,o),i&&i.onSet&&i.onSet(o,this,c)}}):(Object.defineProperty(t,e,{get:function(){return j(this,i,e)},set:function(r){L(this,i,e);var o=n(this,r);this.setLocalizableStringText(e,o),i&&i.onSet&&i.onSet(o,this)}}),Object.defineProperty(t,typeof i.localizable=="object"&&i.localizable.name?i.localizable.name:"loc"+e.charAt(0).toUpperCase()+e.slice(1),{get:function(){return L(this,i,e),this.getLocalizableString(e)}}))}}function se(i,t,e){i.ensureArray(e,function(n,r){var o=t?t.onPush:null;o&&o(n,r,i)},function(n,r){var o=t?t.onRemove:null;o&&o(n,r,i)})}function ee(i){return function(t,e){Object.defineProperty(t,e,{get:function(){return se(this,i,e),this.getPropertyValue(e)},set:function(n){se(this,i,e);var r=this.getPropertyValue(e);n!==r&&(r?r.splice.apply(r,I([0,r.length],n||[])):this.setPropertyValue(e,n),i&&i.onSet&&i.onSet(n,this))}})}}var ce=function(){function i(t,e,n){n===void 0&&(n=!1),this.name=e,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=t,this.isRequiredValue=n,this.idValue=i.Index++}return Object.defineProperty(i.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(t){t==="itemvalues"&&(t="itemvalue[]"),t==="textitems"&&(t="textitem[]"),this.typeValue=t,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(t){t!==this.isRequired&&(this.isRequiredValue=t,this.classInfo&&this.classInfo.resetAllProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(t){this.isUniqueValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"uniquePropertyName",{get:function(){return this.uniquePropertyValue},set:function(t){this.uniquePropertyValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),i.prototype.getDefaultValue=function(t){var e=this.defaultValueFunc?this.defaultValueFunc(t):this.defaultValueValue;return i.getItemValuesDefaultValue&&H.isDescendantOf(this.className,"itemvalue")&&(e=i.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),e},Object.defineProperty(i.prototype,"defaultValue",{get:function(){return this.getDefaultValue(void 0)},set:function(t){this.defaultValueValue=t},enumerable:!1,configurable:!0}),i.prototype.isDefaultValue=function(t){return this.isDefaultValueByObj(void 0,t)},i.prototype.isDefaultValueByObj=function(t,e){var n=this.getDefaultValue(t);return g.isValueEmpty(n)?this.isLocalizable?e==null:e===!1&&(this.type=="boolean"||this.type=="switch")&&!this.defaultValueFunc||e===""||g.isValueEmpty(e):g.isTwoValueEquals(e,n,!1,!0,!1)},i.prototype.getSerializableValue=function(t){return this.onSerializeValue?this.onSerializeValue(t):this.getValue(t)},i.prototype.getValue=function(t){return this.onGetValue?(t=this.getOriginalObj(t),this.onGetValue(t)):this.serializationProperty&&t[this.serializationProperty]?t[this.serializationProperty].getJson():t[this.name]},i.prototype.getPropertyValue=function(t){return this.isLocalizable?t[this.serializationProperty]?t[this.serializationProperty].text:null:this.getValue(t)},Object.defineProperty(i.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),i.prototype.settingValue=function(t,e){return!this.onSettingValue||t.isLoadingFromJson?e:this.onSettingValue(t,e)},i.prototype.setValue=function(t,e,n){this.onSetValue?(t=this.getOriginalObj(t),this.onSetValue(t,e,n)):this.serializationProperty&&t[this.serializationProperty]?t[this.serializationProperty].setJson(e):(e&&typeof e=="string"&&(this.type=="number"&&(e=parseInt(e)),(this.type=="boolean"||this.type=="switch")&&(e=e.toLowerCase()==="true")),t[this.name]=e)},i.prototype.validateValue=function(t){var e=this.choices;return!Array.isArray(e)||e.length===0?!0:e.indexOf(t)>-1},i.prototype.getObjType=function(t){return this.classNamePart?t.replace(this.classNamePart,""):t},Object.defineProperty(i.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),i.prototype.getChoices=function(t,e){return e===void 0&&(e=null),this.choicesValue!=null?this.choicesValue:this.choicesfunc!=null?this.choicesfunc(t,e):null},i.prototype.setChoices=function(t,e){e===void 0&&(e=null),this.choicesValue=t,this.choicesfunc=e},i.prototype.getBaseValue=function(){return this.baseValue?typeof this.baseValue=="function"?this.baseValue():this.baseValue:""},i.prototype.setBaseValue=function(t){this.baseValue=t},Object.defineProperty(i.prototype,"readOnly",{get:function(){return this.readOnlyValue!=null?this.readOnlyValue:!1},set:function(t){this.readOnlyValue=t},enumerable:!1,configurable:!0}),i.prototype.isEnable=function(t){return this.readOnly?!1:!t||!this.enableIf?!0:this.enableIf(this.getOriginalObj(t))},i.prototype.isVisible=function(t,e){e===void 0&&(e=null);var n=!this.layout||!t||this.layout===t;return!this.visible||!n?!1:this.visibleIf&&e?this.visibleIf(this.getOriginalObj(e)):!0},i.prototype.getOriginalObj=function(t){if(t&&t.getOriginalObj){var e=t.getOriginalObj();if(e&&H.findProperty(e.getType(),this.name))return e}return t},Object.defineProperty(i.prototype,"visible",{get:function(){return this.visibleValue!=null?this.visibleValue:!0},set:function(t){this.visibleValue=t},enumerable:!1,configurable:!0}),i.prototype.isAvailableInVersion=function(t){return this.alternativeName||this.oldName?!0:this.isAvailableInVersionCore(t)},i.prototype.getSerializedName=function(t){return this.alternativeName?this.isAvailableInVersionCore(t)?this.name:this.alternativeName||this.oldName:this.name},i.prototype.getSerializedProperty=function(t,e){return!this.oldName||this.isAvailableInVersionCore(e)?this:!t||!t.getType?null:H.findProperty(t.getType(),this.oldName)},i.prototype.isAvailableInVersionCore=function(t){return!t||!this.version?!0:g.compareVerions(this.version,t)<=0},Object.defineProperty(i.prototype,"isLocalizable",{get:function(){return this.isLocalizableValue!=null?this.isLocalizableValue:!1},set:function(t){this.isLocalizableValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(t){this.dataListValue=t},enumerable:!1,configurable:!0}),i.prototype.mergeWith=function(t){for(var e=i.mergableValues,n=0;n<e.length;n++)this.mergeValue(t,e[n])},i.prototype.addDependedProperty=function(t){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(t)<0&&this.dependedProperties.push(t)},i.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},i.prototype.schemaType=function(){if(this.className!=="choicesByUrl")return this.className==="string"?this.className:this.className||this.baseClassName?"array":this.type=="switch"?"boolean":this.type=="boolean"||this.type=="number"?this.type:"string"},i.prototype.schemaRef=function(){if(this.className)return this.className},i.prototype.mergeValue=function(t,e){this[e]==null&&t[e]!=null&&(this[e]=t[e])},i.Index=1,i.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","oldName","layout","version","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","overridingProperty","showMode","dependedProperties","visibleIf","enableIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],i}(),ue=function(){function i(){}return i.addProperty=function(t,e){t=t.toLowerCase();var n=i.properties;n[t]||(n[t]=[]),n[t].push(e)},i.removeProperty=function(t,e){t=t.toLowerCase();var n=i.properties;if(n[t]){for(var r=n[t],o=0;o<r.length;o++)if(r[o].name==e){n[t].splice(o,1);break}}},i.removeAllProperties=function(t){t=t.toLowerCase(),delete i.properties[t]},i.addClass=function(t,e){t=t.toLowerCase(),e&&(e=e.toLowerCase()),i.parentClasses[t]=e},i.getProperties=function(t){t=t.toLowerCase();for(var e=[],n=i.properties;t;){var r=n[t];if(r)for(var o=0;o<r.length;o++)e.push(r[o]);t=i.parentClasses[t]}return e},i.createProperties=function(t){!t||!t.getType||i.createPropertiesCore(t,t.getType())},i.createPropertiesCore=function(t,e){var n=i.properties;n[e]&&i.createPropertiesInObj(t,n[e]);var r=i.parentClasses[e];r&&i.createPropertiesCore(t,r)},i.createPropertiesInObj=function(t,e){for(var n=0;n<e.length;n++)i.createPropertyInObj(t,e[n])},i.createPropertyInObj=function(t,e){if(!i.checkIsPropertyExists(t,e.name)&&!(e.serializationProperty&&i.checkIsPropertyExists(t,e.serializationProperty))){if(e.isLocalizable&&e.serializationProperty&&t.createCustomLocalizableObj){var n=t.createCustomLocalizableObj(e.name);n.defaultValue=e.defaultValue;var r={get:function(){return t.getLocalizableString(e.name)}};Object.defineProperty(t,e.serializationProperty,r);var o={get:function(){return t.getLocalizableStringText(e.name)},set:function(y){t.setLocalizableStringText(e.name,y)}};Object.defineProperty(t,e.name,o)}else{var c=e.defaultValue,p=e.isArray||e.type==="multiplevalues";if(typeof t.createNewArray=="function"&&(H.isDescendantOf(e.className,"itemvalue")?(t.createNewArray(e.name,function(y){y.locOwner=t,y.ownerPropertyName=e.name}),p=!0):p&&t.createNewArray(e.name),p&&(Array.isArray(c)&&t.setPropertyValue(e.name,c),c=null)),t.getPropertyValue&&t.setPropertyValue){var o={get:function(){return e.onGetValue?e.onGetValue(t):t.getPropertyValue(e.name,c)},set:function(b){e.onSetValue?e.onSetValue(t,b,null):t.setPropertyValue(e.name,b)}};Object.defineProperty(t,e.name,o)}}(e.type==="condition"||e.type==="expression")&&e.onExecuteExpression&&t.addExpressionProperty(e.name,e.onExecuteExpression)}},i.checkIsPropertyExists=function(t,e){return t.hasOwnProperty(e)||t[e]},i.properties={},i.parentClasses={},i}(),pe=function(){function i(t,e,n,r){n===void 0&&(n=null),r===void 0&&(r=null),this.name=t,this.creator=n,this.parentName=r,t=t.toLowerCase(),this.isCustomValue=!n&&t!=="survey",this.parentName&&(this.parentName=this.parentName.toLowerCase(),ue.addClass(t,this.parentName),n&&this.makeParentRegularClass()),this.properties=new Array;for(var o=0;o<e.length;o++)this.createProperty(e[o],this.isCustom)}return i.prototype.find=function(t){for(var e=0;e<this.properties.length;e++)if(this.properties[e].name==t)return this.properties[e];return null},i.prototype.findProperty=function(t){return this.fillAllProperties(),this.hashProperties[t]},i.prototype.getAllProperties=function(){return this.fillAllProperties(),this.allProperties},i.prototype.getRequiredProperties=function(){if(this.requiredProperties)return this.requiredProperties;this.requiredProperties=[];for(var t=this.getAllProperties(),e=0;e<t.length;e++)t[e].isRequired&&this.requiredProperties.push(t[e]);return this.requiredProperties},i.prototype.resetAllProperties=function(){this.allProperties=void 0,this.requiredProperties=void 0,this.hashProperties=void 0;for(var t=H.getChildrenClasses(this.name),e=0;e<t.length;e++)t[e].resetAllProperties()},Object.defineProperty(i.prototype,"isCustom",{get:function(){return this.isCustomValue},enumerable:!1,configurable:!0}),i.prototype.fillAllProperties=function(){var t=this;if(!this.allProperties){this.allProperties=[],this.hashProperties={};var e={};this.properties.forEach(function(o){return e[o.name]=o});var n=this.parentName?H.findClass(this.parentName):null;if(n){var r=n.getAllProperties();r.forEach(function(o){var c=e[o.name];c?(c.mergeWith(o),t.addPropCore(c)):t.addPropCore(o)})}this.properties.forEach(function(o){t.hashProperties[o.name]||t.addPropCore(o)})}},i.prototype.addPropCore=function(t){this.allProperties.push(t),this.hashProperties[t.name]=t,t.alternativeName&&(this.hashProperties[t.alternativeName]=t)},i.prototype.isOverridedProp=function(t){return!!this.parentName&&!!H.findProperty(this.parentName,t)},i.prototype.hasRegularChildClass=function(){if(this.isCustom){this.isCustomValue=!1;for(var t=0;t<this.properties.length;t++)this.properties[t].isCustom=!1;ue.removeAllProperties(this.name),this.makeParentRegularClass()}},i.prototype.makeParentRegularClass=function(){if(this.parentName){var t=H.findClass(this.parentName);t&&t.hasRegularChildClass()}},i.prototype.createProperty=function(t,e){e===void 0&&(e=!1);var n=typeof t=="string"?t:t.name;if(n){var r=null,o=n.indexOf(i.typeSymbol);o>-1&&(r=n.substring(o+1),n=n.substring(0,o));var c=this.getIsPropertyNameRequired(n)||!!t.isRequired;n=this.getPropertyName(n);var p=new ce(this,n,c);if(r&&(p.type=r),typeof t=="object"){if(t.type&&(p.type=t.type),t.default!==void 0&&(p.defaultValue=t.default),t.defaultFunc!==void 0&&(p.defaultValueFunc=t.defaultFunc),g.isValueEmpty(t.isSerializable)||(p.isSerializable=t.isSerializable),g.isValueEmpty(t.isLightSerializable)||(p.isLightSerializable=t.isLightSerializable),g.isValueEmpty(t.maxLength)||(p.maxLength=t.maxLength),t.displayName!==void 0&&(p.displayName=t.displayName),g.isValueEmpty(t.category)||(p.category=t.category),g.isValueEmpty(t.categoryIndex)||(p.categoryIndex=t.categoryIndex),g.isValueEmpty(t.nextToProperty)||(p.nextToProperty=t.nextToProperty),g.isValueEmpty(t.overridingProperty)||(p.overridingProperty=t.overridingProperty),g.isValueEmpty(t.visibleIndex)||(p.visibleIndex=t.visibleIndex),g.isValueEmpty(t.showMode)||(p.showMode=t.showMode),g.isValueEmpty(t.maxValue)||(p.maxValue=t.maxValue),g.isValueEmpty(t.minValue)||(p.minValue=t.minValue),g.isValueEmpty(t.dataList)||(p.dataList=t.dataList),g.isValueEmpty(t.isDynamicChoices)||(p.isDynamicChoices=t.isDynamicChoices),g.isValueEmpty(t.isBindable)||(p.isBindable=t.isBindable),g.isValueEmpty(t.isUnique)||(p.isUnique=t.isUnique),g.isValueEmpty(t.uniqueProperty)||(p.uniquePropertyName=t.uniqueProperty),g.isValueEmpty(t.isArray)||(p.isArray=t.isArray),(t.visible===!0||t.visible===!1)&&(p.visible=t.visible),t.visibleIf&&(p.visibleIf=t.visibleIf),t.enableIf&&(p.enableIf=t.enableIf),t.onExecuteExpression&&(p.onExecuteExpression=t.onExecuteExpression),t.onPropertyEditorUpdate&&(p.onPropertyEditorUpdate=t.onPropertyEditorUpdate),t.readOnly===!0&&(p.readOnly=!0),t.availableInMatrixColumn===!0&&(p.availableInMatrixColumn=!0),t.choices){var y=typeof t.choices=="function"?t.choices:null,b=typeof t.choices!="function"?t.choices:null;p.setChoices(b,y)}t.baseValue&&p.setBaseValue(t.baseValue),t.onSerializeValue&&(p.onSerializeValue=t.onSerializeValue),t.onGetValue&&(p.onGetValue=t.onGetValue),t.onSetValue&&(p.onSetValue=t.onSetValue),t.onSettingValue&&(p.onSettingValue=t.onSettingValue),t.isLocalizable&&(t.serializationProperty="loc"+p.name),t.serializationProperty&&(p.serializationProperty=t.serializationProperty,p.serializationProperty&&p.serializationProperty.indexOf("loc")==0&&(p.isLocalizable=!0)),t.isLocalizable&&(p.isLocalizable=t.isLocalizable),t.className&&(p.className=t.className),t.baseClassName&&(p.baseClassName=t.baseClassName,p.isArray=!0),p.isArray===!0&&(p.isArray=!0),t.classNamePart&&(p.classNamePart=t.classNamePart),t.alternativeName&&(p.alternativeName=t.alternativeName),t.oldName&&(p.oldName=t.oldName),t.layout&&(p.layout=t.layout),t.version&&(p.version=t.version),t.dependsOn&&this.addDependsOnProperties(p,t.dependsOn)}return this.properties.push(p),e&&!this.isOverridedProp(p.name)&&(p.isCustom=!0,ue.addProperty(this.name,p)),p}},i.prototype.addDependsOnProperties=function(t,e){var n=Array.isArray(e)?e:[e];t.dependsOn=n;for(var r=0;r<n.length;r++)this.addDependsOnProperty(t,n[r])},i.prototype.addDependsOnProperty=function(t,e){var n=this.find(e);n||(n=H.findProperty(this.parentName,e)),n&&n.addDependedProperty(t.name)},i.prototype.getIsPropertyNameRequired=function(t){return t.length>0&&t[0]==i.requiredSymbol},i.prototype.getPropertyName=function(t){return this.getIsPropertyNameRequired(t)&&(t=t.slice(1)),t},i.requiredSymbol="!",i.typeSymbol=":",i}(),ie=function(){function i(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.dynamicPropsCache={}}return i.prototype.getObjPropertyValue=function(t,e){if(this.isObjWrapper(t)&&this.isNeedUseObjWrapper(t,e)){var n=t.getOriginalObj(),r=H.findProperty(n.getType(),e);if(r)return this.getObjPropertyValueCore(n,r)}var o=H.findProperty(t.getType(),e);return o?this.getObjPropertyValueCore(t,o):t[e]},i.prototype.setObjPropertyValue=function(t,e,n){if(t[e]!==n)if(t[e]&&t[e].setJson)t[e].setJson(n);else{if(Array.isArray(n)){for(var r=[],o=0;o<n.length;o++)r.push(n[o]);n=r}t[e]=n}},i.prototype.getObjPropertyValueCore=function(t,e){if(!e.isSerializable)return t[e.name];if(e.isLocalizable){if(e.isArray)return t[e.name];if(e.serializationProperty)return t[e.serializationProperty].text}return t.getPropertyValue(e.name)},i.prototype.isObjWrapper=function(t){return!!t.getOriginalObj&&!!t.getOriginalObj()},i.prototype.isNeedUseObjWrapper=function(t,e){if(!t.getDynamicProperties)return!0;var n=t.getDynamicProperties();if(!Array.isArray(n))return!1;for(var r=0;r<n.length;r++)if(n[r].name===e)return!0;return!1},i.prototype.addClass=function(t,e,n,r){n===void 0&&(n=null),r===void 0&&(r=null),t=t.toLowerCase();var o=new pe(t,e,n,r);if(this.classes[t]=o,r){r=r.toLowerCase();var c=this.childrenClasses[r];c||(this.childrenClasses[r]=[]),this.childrenClasses[r].push(o)}return o},i.prototype.removeClass=function(t){var e=this.findClass(t);if(e&&(delete this.classes[e.name],e.parentName)){var n=this.childrenClasses[e.parentName].indexOf(e);n>-1&&this.childrenClasses[e.parentName].splice(n,1)}},i.prototype.overrideClassCreatore=function(t,e){this.overrideClassCreator(t,e)},i.prototype.overrideClassCreator=function(t,e){t=t.toLowerCase();var n=this.findClass(t);n&&(n.creator=e)},i.prototype.getProperties=function(t){var e=this.findClass(t);return e?e.getAllProperties():[]},i.prototype.getPropertiesByObj=function(t){var e=t&&t.getType?t.getType():void 0;if(!e)return[];for(var n=this.getProperties(e),r=this.getDynamicPropertiesByObj(t),o=r.length-1;o>=0;o--)this.findProperty(e,r[o].name)&&r.splice(o,1);return r.length===0?n:[].concat(n).concat(r)},i.prototype.addDynamicPropertiesIntoObj=function(t,e,n){var r=this;n.forEach(function(o){r.addDynamicPropertyIntoObj(t,e,o.name,!1),o.serializationProperty&&r.addDynamicPropertyIntoObj(t,e,o.serializationProperty,!0),o.alternativeName&&r.addDynamicPropertyIntoObj(t,e,o.alternativeName,!1)})},i.prototype.addDynamicPropertyIntoObj=function(t,e,n,r){var o={configurable:!0,get:function(){return e[n]}};r||(o.set=function(c){e[n]=c}),Object.defineProperty(t,n,o)},i.prototype.getDynamicPropertiesByObj=function(t,e){if(e===void 0&&(e=null),!t||!t.getType)return[];if(t.getDynamicProperties)return t.getDynamicProperties();if(!t.getDynamicType&&!e)return[];var n=e||t.getDynamicType();return this.getDynamicPropertiesByTypes(t.getType(),n)},i.prototype.getDynamicPropertiesByTypes=function(t,e,n){if(!e)return[];var r=e+"-"+t;if(this.dynamicPropsCache[r])return this.dynamicPropsCache[r];var o=this.getProperties(e);if(!o||o.length==0)return[];for(var c={},p=this.getProperties(t),y=0;y<p.length;y++)c[p[y].name]=p[y];var b=[];n||(n=[]);for(var E=0;E<o.length;E++){var M=o[E];n.indexOf(M.name)<0&&this.canAddDybamicProp(M,c[M.name])&&b.push(M)}return this.dynamicPropsCache[r]=b,b},i.prototype.canAddDybamicProp=function(t,e){if(!e)return!0;if(t===e)return!1;for(var n=t.classInfo;n&&n.parentName;){if(t=this.findProperty(n.parentName,t.name),t&&t===e)return!0;n=t?t.classInfo:void 0}return!1},i.prototype.hasOriginalProperty=function(t,e){return!!this.getOriginalProperty(t,e)},i.prototype.getOriginalProperty=function(t,e){var n=this.findProperty(t.getType(),e);return n||(this.isObjWrapper(t)?this.findProperty(t.getOriginalObj().getType(),e):null)},i.prototype.getProperty=function(t,e){var n=this.findProperty(t,e);if(!n)return n;var r=this.findClass(t);if(n.classInfo===r)return n;var o=new ce(r,n.name,n.isRequired);return o.mergeWith(n),o.isArray=n.isArray,r.properties.push(o),r.resetAllProperties(),o},i.prototype.findProperty=function(t,e){var n=this.findClass(t);return n?n.findProperty(e):null},i.prototype.findProperties=function(t,e){var n=new Array,r=this.findClass(t);if(!r)return n;for(var o=0;o<e.length;o++){var c=r.findProperty(e[o]);c&&n.push(c)}return n},i.prototype.getAllPropertiesByName=function(t){for(var e=new Array,n=this.getAllClasses(),r=0;r<n.length;r++)for(var o=this.findClass(n[r]),c=0;c<o.properties.length;c++)if(o.properties[c].name==t){e.push(o.properties[c]);break}return e},i.prototype.getAllClasses=function(){var t=new Array;for(var e in this.classes)t.push(e);return t},i.prototype.createClass=function(t,e){e===void 0&&(e=void 0),t=t.toLowerCase();var n=this.findClass(t);if(!n)return null;if(n.creator)return n.creator(e);for(var r=n.parentName;r;){if(n=this.findClass(r),!n)return null;if(r=n.parentName,n.creator)return this.createCustomType(t,n.creator,e)}return null},i.prototype.createCustomType=function(t,e,n){n===void 0&&(n=void 0),t=t.toLowerCase();var r=e(n),o=t,c=r.getTemplate?r.getTemplate():r.getType();return r.getType=function(){return o},r.getTemplate=function(){return c},ue.createProperties(r),r},i.prototype.getChildrenClasses=function(t,e){e===void 0&&(e=!1),t=t.toLowerCase();var n=[];return this.fillChildrenClasses(t,e,n),n},i.prototype.getRequiredProperties=function(t){var e=this.findClass(t);if(!e)return[];for(var n=e.getRequiredProperties(),r=[],o=0;o<n.length;o++)r.push(n[o].name);return r},i.prototype.addProperties=function(t,e){t=t.toLowerCase();for(var n=this.findClass(t),r=0;r<e.length;r++)this.addCustomPropertyCore(n,e[r])},i.prototype.addProperty=function(t,e){return this.addCustomPropertyCore(this.findClass(t),e)},i.prototype.addCustomPropertyCore=function(t,e){if(!t)return null;var n=t.createProperty(e,!0);return n&&(this.clearDynamicPropsCache(t),t.resetAllProperties()),n},i.prototype.removeProperty=function(t,e){var n=this.findClass(t);if(!n)return!1;var r=n.find(e);r&&(this.clearDynamicPropsCache(n),this.removePropertyFromClass(n,r),n.resetAllProperties(),ue.removeProperty(n.name,e))},i.prototype.clearDynamicPropsCache=function(t){this.dynamicPropsCache={}},i.prototype.removePropertyFromClass=function(t,e){var n=t.properties.indexOf(e);n<0||t.properties.splice(n,1)},i.prototype.fillChildrenClasses=function(t,e,n){var r=this.childrenClasses[t];if(r)for(var o=0;o<r.length;o++)(!e||r[o].creator)&&n.push(r[o]),this.fillChildrenClasses(r[o].name,e,n)},i.prototype.findClass=function(t){t=t.toLowerCase();var e=this.classes[t];if(!e){var n=this.alternativeNames[t];if(n&&n!=t)return this.findClass(n)}return e},i.prototype.isDescendantOf=function(t,e){if(!t||!e)return!1;t=t.toLowerCase(),e=e.toLowerCase();var n=this.findClass(t);if(!n)return!1;var r=n;do{if(r.name===e)return!0;r=this.classes[r.parentName]}while(r);return!1},i.prototype.addAlterNativeClassName=function(t,e){this.alternativeNames[e.toLowerCase()]=t.toLowerCase()},i.prototype.generateSchema=function(t){t===void 0&&(t=void 0),t||(t="survey");var e=this.findClass(t);if(!e)return null;var n={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{locstring:this.generateLocStrClass()}};return this.generateSchemaProperties(e,n,n.definitions,!0),n},i.prototype.generateLocStrClass=function(){var t={},e=H.findProperty("survey","locale");if(e){var n=e.getChoices(null);Array.isArray(n)&&(n.indexOf("en")<0&&n.splice(0,0,"en"),n.splice(0,0,"default"),n.forEach(function(r){r&&(t[r]={type:"string"})}))}return{$id:"locstring",type:"object",properties:t}},i.prototype.generateSchemaProperties=function(t,e,n,r){if(t){var o=e.properties,c=[];(t.name==="question"||t.name==="panel")&&(o.type={type:"string"},c.push("type"));for(var p=0;p<t.properties.length;p++){var y=t.properties[p];t.parentName&&H.findProperty(t.parentName,y.name)||(o[y.name]=this.generateSchemaProperty(y,n,r),y.isRequired&&c.push(y.name))}c.length>0&&(e.required=c)}},i.prototype.generateSchemaProperty=function(t,e,n){if(t.isLocalizable)return{oneOf:[{type:"string"},{$ref:this.getChemeRefName("locstring",n)}]};var r=t.schemaType(),o=t.schemaRef(),c={};if(r&&(c.type=r),t.hasChoices){var p=t.getChoices(null);Array.isArray(p)&&p.length>0&&(c.enum=this.getChoicesValues(p))}if(o&&(r==="array"?t.className==="string"?c.items={type:t.className}:c.items={$ref:this.getChemeRefName(t.className,n)}:c.$ref=this.getChemeRefName(o,n),this.generateChemaClass(t.className,e,!1)),t.baseClassName){var y=this.getChildrenClasses(t.baseClassName,!0);t.baseClassName=="question"&&y.push(this.findClass("panel")),c.items={anyOf:[]};for(var b=0;b<y.length;b++){var E=y[b].name;c.items.anyOf.push({$ref:this.getChemeRefName(E,n)}),this.generateChemaClass(E,e,!1)}}return c},i.prototype.getChemeRefName=function(t,e){return e?"#/definitions/"+t:t},i.prototype.generateChemaClass=function(t,e,n){if(!e[t]){var r=this.findClass(t);if(r){var o=!!r.parentName&&r.parentName!="base";o&&this.generateChemaClass(r.parentName,e,n);var c={type:"object",$id:t};e[t]=c;var p={properties:{}};this.generateSchemaProperties(r,p,e,n),o?c.allOf=[{$ref:this.getChemeRefName(r.parentName,n)},{properties:p.properties}]:c.properties=p.properties,Array.isArray(p.required)&&(c.required=p.required)}}},i.prototype.getChoicesValues=function(t){var e=new Array;return t.forEach(function(n){typeof n=="object"&&n.value!==void 0?e.push(n.value):e.push(n)}),e},i}(),Oe=function(){function i(t,e){this.type=t,this.message=e,this.description="",this.at=-1,this.end=-1}return i.prototype.getFullDescription=function(){return this.message+(this.description?`
`+this.description:"")},i}(),He=function(i){T(t,i);function t(e,n){var r=i.call(this,"unknownproperty","Unknown property in class '"+n+"': '"+e+"'.")||this;return r.propertyName=e,r.className=n,r}return t}(Oe),Me=function(i){T(t,i);function t(e,n,r){var o=i.call(this,n,r)||this;return o.baseClassName=e,o.type=n,o.message=r,o}return t}(Oe),Re=function(i){T(t,i);function t(e,n){var r=i.call(this,n,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+e+"'.")||this;return r.propertyName=e,r.baseClassName=n,r}return t}(Me),ze=function(i){T(t,i);function t(e,n){var r=i.call(this,n,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+e+"'.")||this;return r.propertyName=e,r.baseClassName=n,r}return t}(Me),ft=function(i){T(t,i);function t(e,n){var r=i.call(this,"requiredproperty","The property '"+e+"' is required in class '"+n+"'.")||this;return r.propertyName=e,r.className=n,r}return t}(Oe),St=function(i){T(t,i);function t(e,n){var r=i.call(this,"arrayproperty","The property '"+e+"' should be an array in '"+n+"'.")||this;return r.propertyName=e,r.className=n,r}return t}(Oe),Rt=function(i){T(t,i);function t(e,n){var r=i.call(this,"incorrectvalue","The property value: '"+n+"' is incorrect for property '"+e.name+"'.")||this;return r.property=e,r.value=n,r}return t}(Oe),et=function(){function i(){this.errors=new Array,this.lightSerializing=!1}return Object.defineProperty(i,"metaData",{get:function(){return i.metaDataValue},enumerable:!1,configurable:!0}),i.prototype.toJsonObject=function(t,e){return this.toJsonObjectCore(t,null,e)},i.prototype.toObject=function(t,e,n){this.toObjectCore(t,e,n);var r=this.getRequiredError(e,t);r&&this.addNewError(r,t,e)},i.prototype.toObjectCore=function(t,e,n){if(t){var r=null,o=void 0,c=!0;if(e.getType&&(o=e.getType(),r=H.getProperties(o),c=!!o&&!H.isDescendantOf(o,"itemvalue")),!!r){e.startLoadingFromJson&&e.startLoadingFromJson(t),r=this.addDynamicProperties(e,t,r),this.options=n;var p={};p[i.typePropertyName]=!0;var y={};for(var b in t)this.setPropertyValueToObj(t,e,b,r,p,y,o,c,n);this.options=void 0,e.endLoadingFromJson&&e.endLoadingFromJson()}}},i.prototype.setPropertyValueToObj=function(t,e,n,r,o,c,p,y,b){var E=this;if(!o[n]){if(n===i.positionPropertyName){e[n]=t[n];return}var M=this.findProperty(r,n);if(!M&&y&&this.addNewError(new He(n.toString(),p),t,e),M){var Q=M.dependsOn;Array.isArray(Q)&&(c[n]=!0,Q.forEach(function(X){c[X]||E.setPropertyValueToObj(t,e,X,r,o,c,p,y,b)})),this.valueToObj(t[n],e,M,t,b),o[n]=!0}}},i.prototype.toJsonObjectCore=function(t,e,n){if(!t||!t.getType)return t;if(!t.isSurvey&&typeof t.getData=="function")return t.getData();var r={};e!=null&&!e.className&&(r[i.typePropertyName]=e.getObjType(t.getType()));var o=n===!0;return(!n||n===!0)&&(n={}),o&&(n.storeDefaults=o),this.propertiesToJson(t,H.getProperties(t.getType()),r,n),this.propertiesToJson(t,this.getDynamicProperties(t),r,n),r},i.prototype.getDynamicProperties=function(t){return H.getDynamicPropertiesByObj(t)},i.prototype.addDynamicProperties=function(t,e,n){if(!t.getDynamicPropertyName&&!t.getDynamicProperties)return n;if(t.getDynamicPropertyName){var r=t.getDynamicPropertyName();if(!r)return n;r&&e[r]&&(t[r]=e[r])}var o=this.getDynamicProperties(t);return o.length===0?n:[].concat(n).concat(o)},i.prototype.propertiesToJson=function(t,e,n,r){for(var o=0;o<e.length;o++)this.valueToJson(t,n,e[o],r)},i.prototype.valueToJson=function(t,e,n,r){r||(r={}),!(n.isSerializable===!1||n.isLightSerializable===!1&&this.lightSerializing)&&(r.version&&!n.isAvailableInVersion(r.version)||this.valueToJsonCore(t,e,n,r))},i.prototype.valueToJsonCore=function(t,e,n,r){var o=n.getSerializedProperty(t,r.version);if(o&&o!==n){this.valueToJsonCore(t,e,o,r);return}var c=n.getSerializableValue(t);if(!(!r.storeDefaults&&n.isDefaultValueByObj(t,c))){if(this.isValueArray(c)){for(var p=[],y=0;y<c.length;y++)p.push(this.toJsonObjectCore(c[y],n,r));c=p.length>0?p:null}else c=this.toJsonObjectCore(c,n,r);if(c!=null){var b=n.getSerializedName(r.version),E=typeof t.getPropertyValue=="function"&&t.getPropertyValue(b,null)!==null;(r.storeDefaults&&E||!n.isDefaultValueByObj(t,c))&&(!H.onSerializingProperty||!H.onSerializingProperty(t,n,c,e))&&(e[b]=this.removePosOnValueToJson(n,c))}}},i.prototype.valueToObj=function(t,e,n,r,o){if(t!=null){if(this.removePos(n,t),n!=null&&n.hasToUseSetValue){n.setValue(e,t,this);return}if(n.isArray&&!Array.isArray(t)&&t){t=[t];var c=r&&n.alternativeName&&r[n.alternativeName]?n.alternativeName:n.name;this.addNewError(new St(c,e.getType()),r||t,e)}if(this.isValueArray(t)){this.valueToArray(t,e,n.name,n,o);return}var p=this.createNewObj(t,n);p.newObj&&(this.toObjectCore(t,p.newObj,o),t=p.newObj),p.error||(n!=null?(n.setValue(e,t,this),o&&o.validatePropertyValues&&(n.validateValue(t)||this.addNewError(new Rt(n,t),r,e))):e[n.name]=t)}},i.prototype.removePosOnValueToJson=function(t,e){return!t.isCustom||!e||this.removePosFromObj(e),e},i.prototype.removePos=function(t,e){!t||!t.type||t.type.indexOf("value")<0||this.removePosFromObj(e)},i.prototype.removePosFromObj=function(t){if(!(!t||typeof t.getType=="function")){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.removePosFromObj(t[e]);if(typeof t=="object"){t[i.positionPropertyName]&&delete t[i.positionPropertyName];for(var n in t)this.removePosFromObj(t[n])}}},i.prototype.isValueArray=function(t){return t&&Array.isArray(t)},i.prototype.createNewObj=function(t,e){var n={newObj:null,error:null},r=this.getClassNameForNewObj(t,e);return n.newObj=r?H.createClass(r,t):null,n.error=this.checkNewObjectOnErrors(n.newObj,t,e,r),n},i.prototype.getClassNameForNewObj=function(t,e){var n=e!=null&&e.className?e.className:void 0;if(n||(n=t[i.typePropertyName]),!n)return n;n=n.toLowerCase();var r=e.classNamePart;return r&&n.indexOf(r)<0&&(n+=r),n},i.prototype.checkNewObjectOnErrors=function(t,e,n,r){var o=null;return t?o=this.getRequiredError(t,e):n.baseClassName&&(r?o=new ze(n.name,n.baseClassName):o=new Re(n.name,n.baseClassName)),o&&this.addNewError(o,e,t),o},i.prototype.getRequiredError=function(t,e){if(!t.getType||typeof t.getData=="function")return null;var n=H.findClass(t.getType());if(!n)return null;var r=n.getRequiredProperties();if(!Array.isArray(r))return null;for(var o=0;o<r.length;o++){var c=r[o];if(g.isValueEmpty(c.defaultValue)&&!e[c.name])return new ft(c.name,t.getType())}return null},i.prototype.addNewError=function(t,e,n){if(t.jsonObj=e,t.element=n,this.errors.push(t),!!e){var r=e[i.positionPropertyName];r&&(t.at=r.start,t.end=r.end)}},i.prototype.valueToArray=function(t,e,n,r,o){if(!(e[n]&&!this.isValueArray(e[n]))){e[n]&&t.length>0&&e[n].splice(0,e[n].length);var c=e[n]?e[n]:[];this.addValuesIntoArray(t,c,r,o),e[n]||(e[n]=c)}},i.prototype.addValuesIntoArray=function(t,e,n,r){for(var o=0;o<t.length;o++){var c=this.createNewObj(t[o],n);c.newObj?(t[o].name&&(c.newObj.name=t[o].name),t[o].valueName&&(c.newObj.valueName=t[o].valueName.toString()),e.push(c.newObj),this.toObjectCore(t[o],c.newObj,r)):c.error||e.push(t[o])}},i.prototype.findProperty=function(t,e){if(!t)return null;for(var n=0;n<t.length;n++){var r=t[n];if(r.name==e||r.alternativeName==e)return r}return null},i.typePropertyName="type",i.positionPropertyName="pos",i.metaDataValue=new ie,i}(),H=et.metaData,it="@survey",Ie=function(){function i(){this.values=null,this.properties=null}return i.prototype.getFirstName=function(t,e){if(e===void 0&&(e=null),!t)return t;var n="";if(e&&(n=this.getFirstPropertyName(t,e),n))return n;for(var r=0;r<t.length;r++){var o=t[r];if(o=="."||o=="[")break;n+=o}return n},i.prototype.hasValue=function(t,e){e===void 0&&(e=null),e||(e=this.values);var n=this.getValueCore(t,e);return n.hasValue},i.prototype.getValue=function(t,e){e===void 0&&(e=null),e||(e=this.values);var n=this.getValueCore(t,e);return n.value},i.prototype.setValue=function(t,e,n){if(e){var r=this.getNonNestedObject(t,e,!0);r&&(t=r.value,e=r.text,t&&e&&(t[e]=n))}},i.prototype.getValueInfo=function(t){if(t.path){t.value=this.getValueFromPath(t.path,this.values),t.hasValue=t.value!==null&&!g.isValueEmpty(t.value),!t.hasValue&&t.path.length>1&&t.path[t.path.length-1]=="length"&&(t.hasValue=!0,t.value=0);return}var e=this.getValueCore(t.name,this.values);t.value=e.value,t.hasValue=e.hasValue,t.path=e.hasValue?e.path:null,t.sctrictCompare=e.sctrictCompare},i.prototype.isAnyKeyChanged=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(r){var o=r.toLowerCase();if(t.hasOwnProperty(r)||r!==o&&t.hasOwnProperty(o))return!0;var c=this.getFirstName(r);if(t.hasOwnProperty(c)){if(r===c)return!0;var p=t[c];if(p!=null){if(!p.hasOwnProperty("oldValue")||!p.hasOwnProperty("newValue"))return!0;var y={};y[c]=p.oldValue;var b=this.getValue(r,y);y[c]=p.newValue;var E=this.getValue(r,y);if(!g.isTwoValueEquals(b,E,!1,!1,!1))return!0}}}}return!1},i.prototype.getValueFromPath=function(t,e){if(t.length===2&&t[0]===it)return this.getValueFromSurvey(t[1]);for(var n=0;e&&n<t.length;){var r=t[n];if(g.isNumber(r)&&Array.isArray(e)&&r>=e.length)return null;e=e[r],n++}return e},i.prototype.getValueCore=function(t,e){var n=this.getQuestionDirectly(t);if(n)return{hasValue:!0,value:n.value,path:[t],sctrictCompare:n.requireStrictCompare};var r=this.getValueFromValues(t,e);if(t&&!r.hasValue){var o=this.getValueFromSurvey(t);o!==void 0&&(r.hasValue=!0,r.value=o,r.path=[it,t])}return r},i.prototype.getQuestionDirectly=function(t){if(this.properties&&this.properties.survey)return this.properties.survey.getQuestionByValueName(t)},i.prototype.getValueFromSurvey=function(t){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(t.toLocaleLowerCase())},i.prototype.getValueFromValues=function(t,e){var n={hasValue:!1,value:null,path:null},r=e;if(!r&&r!==0&&r!==!1)return n;t&&t.lastIndexOf(".length")>-1&&t.lastIndexOf(".length")===t.length-7&&(n.value=0,n.hasValue=!0);var o=this.getNonNestedObject(r,t,!1);return o&&(n.path=o.path,n.value=o.text?this.getObjectValue(o.value,o.text):o.value,n.hasValue=!g.isValueEmpty(n.value)),n},i.prototype.getNonNestedObject=function(t,e,n){for(var r=new Array,o=0,c=this.getNonNestedObjectCore(t,e,n,r);!c&&o<r.length;)o=r.length,c=this.getNonNestedObjectCore(t,e,n,r);return c},i.prototype.getNonNestedObjectCore=function(t,e,n,r){var o=this.getFirstPropertyName(e,t,n,r);o&&r.push(o);for(var c=o?[o]:null;e!=o&&t;){var p=e[0]=="[";if(p){var y=this.getObjInArray(t,e);if(!y)return null;t=y.value,e=y.text,c.push(y.index)}else{if(!o&&e==this.getFirstName(e))return{value:t,text:e,path:c};if(t=this.getObjectValue(t,o),g.isValueEmpty(t)&&!n)return null;e=e.substring(o.length)}e&&e[0]=="."&&(e=e.substring(1)),o=this.getFirstPropertyName(e,t,n,r),o&&c.push(o)}return{value:t,text:e,path:c}},i.prototype.getObjInArray=function(t,e){if(!Array.isArray(t))return null;for(var n=1,r="";n<e.length&&e[n]!="]";)r+=e[n],n++;return e=n<e.length?e.substring(n+1):"",n=this.getIntValue(r),n<0||n>=t.length?null:{value:t[n],text:e,index:n}},i.prototype.getFirstPropertyName=function(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=void 0),!t||(e||(e={}),e.hasOwnProperty(t)))return t;var o=t.toLowerCase(),c=o[0],p=c.toUpperCase();for(var y in e)if(!(Array.isArray(r)&&r.indexOf(y)>-1)){var b=y[0];if(b===p||b===c){var E=y.toLowerCase();if(E==o)return y;if(o.length<=E.length)continue;var M=o[E.length];if(M!="."&&M!="[")continue;if(E==o.substring(0,E.length))return y}}if(n&&t[0]!=="["){var Q=t.indexOf(".");return Q>-1&&(t=t.substring(0,Q),e[t]={}),t}return""},i.prototype.getObjectValue=function(t,e){return e?t[e]:null},i.prototype.getIntValue=function(t){return t=="0"||(t|0)>0&&t%1==0?Number(t):-1},i}(),Ze=function(){function i(){}return i.disposedObjectChangedProperty=function(t,e){i.warn('An attempt to set a property "'+t+'" of a disposed object "'+e+'"')},i.inCorrectQuestionValue=function(t,e){var n=JSON.stringify(e,null,3);i.warn("An attempt to assign an incorrect value"+n+' to the following question: "'+t+'"')},i.warn=function(t){console.warn(t)},i.error=function(t){console.error(t)},i}(),We=function(){function i(){this.functionHash={},this.isAsyncHash={}}return i.prototype.register=function(t,e,n){n===void 0&&(n=!1),this.functionHash[t]=e,n&&(this.isAsyncHash[t]=!0)},i.prototype.unregister=function(t){delete this.functionHash[t],delete this.isAsyncHash[t]},i.prototype.hasFunction=function(t){return!!this.functionHash[t]},i.prototype.isAsyncFunction=function(t){return!!this.isAsyncHash[t]},i.prototype.clear=function(){this.functionHash={}},i.prototype.getAll=function(){var t=[];for(var e in this.functionHash)t.push(e);return t.sort()},i.prototype.run=function(t,e,n,r){n===void 0&&(n=null);var o=this.functionHash[t];if(!o)return Ze.warn("Unknown function name: "+t),null;var c={func:o};if(n)for(var p in n)c[p]=n[p];return c.func(e,r)},i.Instance=new i,i}(),jn=We.Instance.register;function Ut(i,t){if(i!=null)if(Array.isArray(i))for(var e=0;e<i.length;e++)Ut(i[e],t);else g.isNumber(i)&&(i=g.getNumber(i)),t.push(i)}function Ht(i){var t=[];Ut(i,t);for(var e=0,n=0;n<t.length;n++)e=g.correctAfterPlusMinis(e,t[n],e+t[n]);return e}We.Instance.register("sum",Ht);function Xn(i,t){var e=[];Ut(i,e);for(var n=void 0,r=0;r<e.length;r++)n===void 0&&(n=e[r]),t?n>e[r]&&(n=e[r]):n<e[r]&&(n=e[r]);return n}function ur(i){return Xn(i,!0)}We.Instance.register("min",ur);function hi(i){return Xn(i,!1)}We.Instance.register("max",hi);function rn(i){var t=[];return Ut(i,t),t.length}We.Instance.register("count",rn);function Z(i){var t=[];Ut(i,t);var e=Ht(i);return t.length>0?e/t.length:0}We.Instance.register("avg",Z);function Pe(i,t){if(i.length<2||i.length>3)return null;var e=i[0];if(!e||!Array.isArray(e)&&!Array.isArray(Object.keys(e)))return null;var n=i[1];if(typeof n!="string"&&!(n instanceof String))return null;var r=i.length>2?i[2]:void 0;if(typeof r!="string"&&!(r instanceof String)&&(r=void 0),!r){var o=Array.isArray(t)&&t.length>2?t[2]:void 0;o&&o.toString()&&(r=o.toString())}return{data:e,name:n,expression:r}}function ye(i){return typeof i=="string"?g.isNumber(i)?g.getNumber(i):void 0:i}function Ee(i,t,e,n,r,o){if(!i||g.isValueEmpty(i[t])||o&&!o.run(i))return e;var c=r?ye(i[t]):1;return n(e,c)}function nt(i,t,e,n){n===void 0&&(n=!0);var r=Pe(i,t);if(r){var o=r.expression?new on(r.expression):void 0;o&&o.isAsync&&(o=void 0);var c=void 0;if(Array.isArray(r.data))for(var p=0;p<r.data.length;p++)c=Ee(r.data[p],r.name,c,e,n,o);else for(var y in r.data)c=Ee(r.data[y],r.name,c,e,n,o);return c}}function Ct(i,t){var e=nt(i,t,function(n,r){return n==null&&(n=0),r==null||r==null?n:g.correctAfterPlusMinis(n,r,n+r)});return e!==void 0?e:0}We.Instance.register("sumInArray",Ct);function A(i,t){return nt(i,t,function(e,n){return e==null?n:n==null||n==null||e<n?e:n})}We.Instance.register("minInArray",A);function q(i,t){return nt(i,t,function(e,n){return e==null?n:n==null||n==null||e>n?e:n})}We.Instance.register("maxInArray",q);function U(i,t){var e=nt(i,t,function(n,r){return n==null&&(n=0),r==null||r==null?n:n+1},!1);return e!==void 0?e:0}We.Instance.register("countInArray",U);function Y(i,t){var e=U(i,t);return e==0?0:Ct(i,t)/e}We.Instance.register("avgInArray",Y);function K(i){return!i&&i.length!==3?"":i[0]?i[1]:i[2]}We.Instance.register("iif",K);function ne(i){return!i&&i.length<1||!i[0]?null:new Date(i[0])}We.Instance.register("getDate",ne);function fe(i,t,e){if(e==="days")return at([i,t]);var n=i?new Date(i):new Date,r=t?new Date(t):new Date,o=r.getFullYear()-n.getFullYear();e=e||"years";var c=o*12+r.getMonth()-n.getMonth();return r.getDate()<n.getDate()&&(c-=1),e==="months"?c:~~(c/12)}function de(i){return!Array.isArray(i)||i.length<1||!i[0]?null:fe(i[0],void 0,(i.length>1?i[1]:"")||"years")}We.Instance.register("age",de);function ae(i){return!Array.isArray(i)||i.length<2||!i[0]||!i[1]?null:fe(i[0],i[1],(i.length>2?i[2]:"")||"days")}We.Instance.register("dateDiff",ae);function re(i){if(!i)return!1;for(var t=i.questions,e=0;e<t.length;e++)if(!t[e].validate(!1))return!1;return!0}function Be(i){if(!i&&i.length<1||!i[0]||!this.survey)return!1;var t=i[0],e=this.survey.getPageByName(t);if(e||(e=this.survey.getPanelByName(t)),!e){var n=this.survey.getQuestionByName(t);if(!n||!Array.isArray(n.panels))return!1;if(i.length>1)i[1]<n.panels.length&&(e=n.panels[i[1]]);else{for(var r=0;r<n.panels.length;r++)if(!re(n.panels[r]))return!1;return!0}}return re(e)}We.Instance.register("isContainerReady",Be);function be(){return this.survey&&this.survey.isDisplayMode}We.Instance.register("isDisplayMode",be);function Le(){return new Date}We.Instance.register("currentDate",Le);function Qe(i){var t=new Date;return N.localization.useLocalTimeZone?t.setHours(0,0,0,0):t.setUTCHours(0,0,0,0),Array.isArray(i)&&i.length==1&&t.setDate(t.getDate()+i[0]),t}We.Instance.register("today",Qe);function Xe(i){if(!(i.length!==1||!i[0]))return new Date(i[0]).getFullYear()}We.Instance.register("getYear",Xe);function gt(){return new Date().getFullYear()}We.Instance.register("currentYear",gt);function at(i){if(!Array.isArray(i)||i.length!==2||!i[0]||!i[1])return 0;var t=new Date(i[0]),e=new Date(i[1]),n=Math.abs(e-t);return Math.ceil(n/(1e3*60*60*24))}We.Instance.register("diffDays",at);function qt(i){var t=Qe(void 0);return i&&i[0]&&(t=new Date(i[0])),t}function jt(i){var t=qt(i);return t.getFullYear()}We.Instance.register("year",jt);function pn(i){var t=qt(i);return t.getMonth()+1}We.Instance.register("month",pn);function Kt(i){var t=qt(i);return t.getDate()}We.Instance.register("day",Kt);function jr(i){var t=qt(i);return t.getDay()}We.Instance.register("weekday",jr);function Ki(i,t){if(!(!i||!t)){for(var e=i.question;e&&e.parent;){var n=e.parent.getQuestionByName(t);if(n)return n;e=e.parentQuestion}for(var r=["row","panel","survey"],o=0;o<r.length;o++){var c=i[r[o]];if(c&&c.getQuestionByName){var n=c.getQuestionByName(t);if(n)return n}}return null}}function Wt(i,t){return t.length>1&&!g.isValueEmpty(t[1])?i.getDisplayValue(!0,t[1]):i.displayValue}function Cn(i){var t=this,e=Ki(this,i[0]);if(!e)return"";if(e.isReady)this.returnResult(Wt(e,i));else{var n=function(r,o){r.isReady&&(r.onReadyChanged.remove(n),t.returnResult(Wt(r,i)))};e.onReadyChanged.add(n)}}We.Instance.register("displayValue",Cn,!0);function Xo(i){if(!(i.length!==2||!i[0]||!i[1])){var t=Ki(this,i[0]);return t?t[i[1]]:void 0}}We.Instance.register("propertyValue",Xo);function vm(i){if(i.length<2)return"";var t=i[0];if(!t||typeof t!="string")return"";var e=i[1];if(!g.isNumber(e))return"";var n=i.length>2?i[2]:void 0;return g.isNumber(n)?t.substring(e,n):t.substring(e)}We.Instance.register("substring",vm);var gi=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yi=function(){function i(){}return i.prototype.toString=function(t){return""},i.prototype.hasFunction=function(){return!1},i.prototype.hasAsyncFunction=function(){return!1},i.prototype.addToAsyncList=function(t){},i.prototype.isEqual=function(t){return!!t&&t.getType()===this.getType()&&this.isContentEqual(t)},i.prototype.areOperatorsEquals=function(t,e){return!t&&!e||!!t&&t.isEqual(e)},i}(),Uc=function(i){gi(t,i);function t(e,n,r,o){n===void 0&&(n=null),r===void 0&&(r=null),o===void 0&&(o=!1);var c=i.call(this)||this;return c.operatorName=e,c.left=n,c.right=r,c.isArithmeticValue=o,o?c.consumer=On.binaryFunctions.arithmeticOp(e):c.consumer=On.binaryFunctions[e],c.consumer==null&&On.throwInvalidOperatorError(e),c}return Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return this.getIsOperandRequireStrict(this.left)||this.getIsOperandRequireStrict(this.right)},enumerable:!1,configurable:!0}),t.prototype.getIsOperandRequireStrict=function(e){return!!e&&e.requireStrictCompare},t.prototype.getType=function(){return"binary"},Object.defineProperty(t.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isConjunction",{get:function(){return this.operatorName=="or"||this.operatorName=="and"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),t.prototype.isContentEqual=function(e){var n=e;return n.operator===this.operator&&this.areOperatorsEquals(this.left,n.left)&&this.areOperatorsEquals(this.right,n.right)},t.prototype.evaluateParam=function(e,n){return e==null?null:e.evaluate(n)},t.prototype.evaluate=function(e){return this.consumer.call(this,this.evaluateParam(this.left,e),this.evaluateParam(this.right,e),this.requireStrictCompare)},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}return"("+On.safeToString(this.left,e)+" "+On.operatorToString(this.operatorName)+" "+On.safeToString(this.right,e)+")"},t.prototype.setVariables=function(e){this.left!=null&&this.left.setVariables(e),this.right!=null&&this.right.setVariables(e)},t.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},t.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},t.prototype.addToAsyncList=function(e){this.left&&this.left.addToAsyncList(e),this.right&&this.right.addToAsyncList(e)},t}(yi),Ea=function(i){gi(t,i);function t(e,n){var r=i.call(this)||this;return r.expressionValue=e,r.operatorName=n,r.consumer=On.unaryFunctions[n],r.consumer==null&&On.throwInvalidOperatorError(n),r}return Object.defineProperty(t.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"unary"},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}return On.operatorToString(this.operatorName)+" "+this.expression.toString(e)},t.prototype.isContentEqual=function(e){var n=e;return n.operator==this.operator&&this.areOperatorsEquals(this.expression,n.expression)},t.prototype.hasFunction=function(){return this.expression.hasFunction()},t.prototype.hasAsyncFunction=function(){return this.expression.hasAsyncFunction()},t.prototype.addToAsyncList=function(e){this.expression.addToAsyncList(e)},t.prototype.evaluate=function(e){var n=this.expression.evaluate(e);return this.consumer.call(this,n)},t.prototype.setVariables=function(e){this.expression.setVariables(e)},t}(yi),es=function(i){gi(t,i);function t(e){var n=i.call(this)||this;return n.values=e,n}return t.prototype.getType=function(){return"array"},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}return"["+this.values.map(function(r){return r.toString(e)}).join(", ")+"]"},t.prototype.evaluate=function(e){return this.values.map(function(n){return n.evaluate(e)})},t.prototype.setVariables=function(e){this.values.forEach(function(n){n.setVariables(e)})},t.prototype.hasFunction=function(){return this.values.some(function(e){return e.hasFunction()})},t.prototype.hasAsyncFunction=function(){return this.values.some(function(e){return e.hasAsyncFunction()})},t.prototype.addToAsyncList=function(e){this.values.forEach(function(n){return n.addToAsyncList(e)})},t.prototype.isContentEqual=function(e){var n=e;if(n.values.length!==this.values.length)return!1;for(var r=0;r<this.values.length;r++)if(!n.values[r].isEqual(this.values[r]))return!1;return!0},t}(yi),_a=function(i){gi(t,i);function t(e){var n=i.call(this)||this;return n.value=e,n}return t.prototype.getType=function(){return"const"},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}return this.value.toString()},Object.defineProperty(t.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(){return this.getCorrectValue(this.value)},t.prototype.setVariables=function(e){},t.prototype.getCorrectValue=function(e){if(!e||typeof e!="string")return e;if(On.isBooleanValue(e))return e.toLowerCase()==="true";if(e.length>1&&this.isQuote(e[0])&&this.isQuote(e[e.length-1]))return e.substring(1,e.length-1);if(g.isNumber(e)){if(e[0]==="0"&&e.indexOf("0x")!=0){var n=e.length,r=n>1&&(e[1]==="."||e[1]===",");if(!r&&n>1||r&&n<2)return e}return g.getNumber(e)}return e},t.prototype.isContentEqual=function(e){var n=e;return n.value==this.value},t.prototype.isQuote=function(e){return e=="'"||e=='"'},t}(yi),Wc=function(i){gi(t,i);function t(e){var n=i.call(this,e)||this;return n.variableName=e,n.valueInfo={},n.useValueAsItIs=!1,n.variableName&&n.variableName.length>1&&n.variableName[0]===t.DisableConversionChar&&(n.variableName=n.variableName.substring(1),n.useValueAsItIs=!0),n}return Object.defineProperty(t,"DisableConversionChar",{get:function(){return N.expressionDisableConversionChar},set:function(e){N.expressionDisableConversionChar=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return this.valueInfo.sctrictCompare===!0},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"variable"},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}var r=this.useValueAsItIs?t.DisableConversionChar:"";return"{"+r+this.variableName+"}"},Object.defineProperty(t.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),t.prototype.evaluate=function(e){return this.valueInfo.name=this.variableName,e.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},t.prototype.setVariables=function(e){e.push(this.variableName)},t.prototype.getCorrectValue=function(e){return this.useValueAsItIs?e:i.prototype.getCorrectValue.call(this,e)},t.prototype.isContentEqual=function(e){var n=e;return n.variable==this.variable},t}(_a),$c=function(i){gi(t,i);function t(e,n){var r=i.call(this)||this;return r.originalValue=e,r.parameters=n,r.isReadyValue=!1,Array.isArray(n)&&n.length===0&&(r.parameters=new es([])),r}return t.prototype.getType=function(){return"function"},t.prototype.evaluateAsync=function(e){var n=this;this.isReadyValue=!1;var r=new Ie;r.values=g.createCopy(e.values),r.properties=g.createCopy(e.properties),r.properties.returnResult=function(o){n.asynResult=o,n.isReadyValue=!0,n.onAsyncReady()},this.evaluateCore(r)},t.prototype.evaluate=function(e){return this.isReady?this.asynResult:this.evaluateCore(e)},t.prototype.evaluateCore=function(e){return We.Instance.run(this.originalValue,this.parameters.evaluate(e),e.properties,this.parameters.values)},t.prototype.toString=function(e){if(e===void 0&&(e=void 0),e){var n=e(this);if(n)return n}return this.originalValue+"("+this.parameters.toString(e)+")"},t.prototype.setVariables=function(e){this.parameters.setVariables(e)},Object.defineProperty(t.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),t.prototype.hasFunction=function(){return!0},t.prototype.hasAsyncFunction=function(){return this.isAsyncFunction()||this.parameters.hasAsyncFunction()},t.prototype.isAsyncFunction=function(){return We.Instance.isAsyncFunction(this.originalValue)},t.prototype.addToAsyncList=function(e){var n=void 0;if(this.isAsyncFunction()&&(n={operand:this}),this.parameters.hasAsyncFunction()){var r=new Array;this.parameters.addToAsyncList(r),r.forEach(function(o){return o.parent=n}),n||(n={}),n.children=r}n&&e.push(n)},t.prototype.isContentEqual=function(e){var n=e;return n.originalValue==this.originalValue&&this.areOperatorsEquals(n.parameters,this.parameters)},t}(yi),On=function(){function i(){}return i.throwInvalidOperatorError=function(t){throw new Error("Invalid operator: '"+t+"'")},i.safeToString=function(t,e){return t==null?"":t.toString(e)},i.toOperandString=function(t){return t&&!g.isNumber(t)&&!i.isBooleanValue(t)&&(t="'"+t+"'"),t},i.isBooleanValue=function(t){return!!t&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")},i.countDecimals=function(t){if(g.isNumber(t)&&Math.floor(t)!==t){var e=t.toString().split(".");return e.length>1&&e[1].length||0}return 0},i.plusMinus=function(t,e,n){var r=i.countDecimals(t),o=i.countDecimals(e);if(r>0||o>0){var c=Math.max(r,o);n=parseFloat(n.toFixed(c))}return n},i.isTwoValueEquals=function(t,e,n){return n===void 0&&(n=!0),t==="undefined"&&(t=void 0),e==="undefined"&&(e=void 0),g.isTwoValueEquals(t,e,n)},i.operatorToString=function(t){var e=i.signs[t];return e??t},i.convertValForDateCompare=function(t,e){if(e instanceof Date&&typeof t=="string"){var n=new Date(t);return n.setHours(0,0,0),n}return t},i.unaryFunctions={empty:function(t){return g.isValueEmpty(t)},notempty:function(t){return!i.unaryFunctions.empty(t)},negate:function(t){return!t}},i.binaryFunctions={arithmeticOp:function(t){var e=function(n,r){return g.isValueEmpty(n)?typeof r=="number"?0:typeof n=="string"?n:typeof r=="string"?"":Array.isArray(r)?[]:0:n};return function(n,r){n=e(n,r),r=e(r,n);var o=i.binaryFunctions[t];return o==null?null:o.call(this,n,r)}},and:function(t,e){return t&&e},or:function(t,e){return t||e},plus:function(t,e){return g.sumAnyValues(t,e)},minus:function(t,e){return g.correctAfterPlusMinis(t,e,t-e)},mul:function(t,e){return g.correctAfterMultiple(t,e,t*e)},div:function(t,e){return e?t/e:null},mod:function(t,e){return e?t%e:null},power:function(t,e){return Math.pow(t,e)},greater:function(t,e){return t==null||e==null?!1:(t=i.convertValForDateCompare(t,e),e=i.convertValForDateCompare(e,t),t>e)},less:function(t,e){return t==null||e==null?!1:(t=i.convertValForDateCompare(t,e),e=i.convertValForDateCompare(e,t),t<e)},greaterorequal:function(t,e){return i.binaryFunctions.equal(t,e)?!0:i.binaryFunctions.greater(t,e)},lessorequal:function(t,e){return i.binaryFunctions.equal(t,e)?!0:i.binaryFunctions.less(t,e)},equal:function(t,e,n){return t=i.convertValForDateCompare(t,e),e=i.convertValForDateCompare(e,t),i.isTwoValueEquals(t,e,n!==!0)},notequal:function(t,e,n){return!i.binaryFunctions.equal(t,e,n)},contains:function(t,e){return i.binaryFunctions.containsCore(t,e,!0)},notcontains:function(t,e){return!t&&!g.isValueEmpty(e)?!0:i.binaryFunctions.containsCore(t,e,!1)},anyof:function(t,e){if(g.isValueEmpty(t)&&g.isValueEmpty(e))return!0;if(g.isValueEmpty(t)||!Array.isArray(t)&&t.length===0)return!1;if(g.isValueEmpty(e))return!0;if(!Array.isArray(t))return i.binaryFunctions.contains(e,t);if(!Array.isArray(e))return i.binaryFunctions.contains(t,e);for(var n=0;n<e.length;n++)if(i.binaryFunctions.contains(t,e[n]))return!0;return!1},allof:function(t,e){if(!t&&!g.isValueEmpty(e))return!1;if(!Array.isArray(e))return i.binaryFunctions.contains(t,e);for(var n=0;n<e.length;n++)if(!i.binaryFunctions.contains(t,e[n]))return!1;return!0},containsCore:function(t,e,n){if(!t&&t!==0&&t!==!1)return!1;if(t.length||(t=t.toString(),(typeof e=="string"||e instanceof String)&&(t=t.toUpperCase(),e=e.toUpperCase())),typeof t=="string"||t instanceof String){if(!e)return!1;e=e.toString();var r=t.indexOf(e)>-1;return n?r:!r}for(var o=Array.isArray(e)?e:[e],c=0;c<o.length;c++){var p=0;for(e=o[c];p<t.length&&!i.isTwoValueEquals(t[p],e);p++);if(p==t.length)return!n}return n}},i.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},i}(),bm=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Aa=function(i){bm(t,i);function t(e,n,r,o){var c=i.call(this)||this;return c.message=e,c.expected=n,c.found=r,c.location=o,c.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(c,t),c}return t.buildMessage=function(e,n){function r(E){return E.charCodeAt(0).toString(16).toUpperCase()}function o(E){return E.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(M){return"\\x0"+r(M)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(M){return"\\x"+r(M)})}function c(E){return E.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(M){return"\\x0"+r(M)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(M){return"\\x"+r(M)})}function p(E){switch(E.type){case"literal":return'"'+o(E.text)+'"';case"class":var M=E.parts.map(function(Q){return Array.isArray(Q)?c(Q[0])+"-"+c(Q[1]):c(Q)});return"["+(E.inverted?"^":"")+M+"]";case"any":return"any character";case"end":return"end of input";case"other":return E.description}}function y(E){var M=E.map(p),Q,X;if(M.sort(),M.length>0){for(Q=1,X=1;Q<M.length;Q++)M[Q-1]!==M[Q]&&(M[X]=M[Q],X++);M.length=X}switch(M.length){case 1:return M[0];case 2:return M[0]+" or "+M[1];default:return M.slice(0,-1).join(", ")+", or "+M[M.length-1]}}function b(E){return E?'"'+o(E)+'"':"end of input"}return"Expected "+y(e)+" but "+b(n)+" found."},t}(Error);function Cm(i,t){t=t!==void 0?t:{};var e={},n={Expression:Yr},r=Yr,o=function(w,S){return Jf(w,S,!0)},c="||",p=qe("||",!1),y="or",b=qe("or",!0),E=function(){return"or"},M="&&",Q=qe("&&",!1),X="and",oe=qe("and",!0),we=function(){return"and"},Ce=function(w,S){return Jf(w,S)},ve="<=",Ne=qe("<=",!1),Ot="lessorequal",yn=qe("lessorequal",!0),_n=function(){return"lessorequal"},Cr=">=",ru=qe(">=",!1),go="greaterorequal",CC=qe("greaterorequal",!0),wC=function(){return"greaterorequal"},Yp="==",PC=qe("==",!1),Xp="equal",ef=qe("equal",!0),tf=function(){return"equal"},xC="=",VC=qe("=",!1),nf="!=",SC=qe("!=",!1),TC="notequal",OC=qe("notequal",!0),RC=function(){return"notequal"},IC="<",EC=qe("<",!1),_C="less",AC=qe("less",!0),DC=function(){return"less"},LC=">",kC=qe(">",!1),MC="greater",qC=qe("greater",!0),jC=function(){return"greater"},NC="+",FC=qe("+",!1),BC=function(){return"plus"},HC="-",QC=qe("-",!1),zC=function(){return"minus"},UC="*",WC=qe("*",!1),$C=function(){return"mul"},JC="/",GC=qe("/",!1),KC=function(){return"div"},ZC="%",YC=qe("%",!1),XC=function(){return"mod"},ew="^",tw=qe("^",!1),nw="power",rw=qe("power",!0),iw=function(){return"power"},rf="*=",ow=qe("*=",!1),sw="contains",aw=qe("contains",!0),lw="contain",uw=qe("contain",!0),cw=function(){return"contains"},dw="notcontains",pw=qe("notcontains",!0),fw="notcontain",hw=qe("notcontain",!0),gw=function(){return"notcontains"},yw="anyof",mw=qe("anyof",!0),vw=function(){return"anyof"},bw="allof",Cw=qe("allof",!0),ww=function(){return"allof"},of="(",sf=qe("(",!1),af=")",lf=qe(")",!1),Pw=function(w){return w},xw=function(w,S){return new $c(w,S)},Vw="!",Sw=qe("!",!1),Tw="negate",Ow=qe("negate",!0),Rw=function(w){return new Ea(w,"negate")},Iw=function(w,S){return new Ea(w,S)},Ew="empty",_w=qe("empty",!0),Aw=function(){return"empty"},Dw="notempty",Lw=qe("notempty",!0),kw=function(){return"notempty"},uf="undefined",Mw=qe("undefined",!1),cf="null",qw=qe("null",!1),jw=function(){return null},Nw=function(w){return new _a(w)},Fw="{",Bw=qe("{",!1),Hw="}",Qw=qe("}",!1),zw=function(w){return new Wc(w)},iu=function(w){return w},df="''",Uw=qe("''",!1),pf=function(){return""},ff='""',Ww=qe('""',!1),hf="'",gf=qe("'",!1),yf=function(w){return"'"+w+"'"},mf='"',vf=qe('"',!1),$w="[",Jw=qe("[",!1),Gw="]",Kw=qe("]",!1),Zw=function(w){return w},bf=",",Cf=qe(",",!1),Yw=function(w,S){if(w==null)return new es([]);var B=[w];if(Array.isArray(S))for(var _=NP(S),z=3;z<_.length;z+=4)B.push(_[z]);return new es(B)},Xw="true",eP=qe("true",!0),tP=function(){return!0},nP="false",rP=qe("false",!0),iP=function(){return!1},wf="0x",oP=qe("0x",!1),sP=function(){return parseInt(qs(),16)},aP=/^[\-]/,lP=Zr(["-"],!1,!1),uP=function(w,S){return w==null?S:-S},cP=".",dP=qe(".",!1),pP=function(){return parseFloat(qs())},fP=function(){return parseInt(qs(),10)},hP="0",gP=qe("0",!1),yP=function(){return 0},Pf=function(w){return w.join("")},xf="\\'",mP=qe("\\'",!1),vP=function(){return"'"},Vf='\\"',bP=qe('\\"',!1),CP=function(){return'"'},wP=/^[^"']/,PP=Zr(['"',"'"],!0,!1),ou=function(){return qs()},xP=/^[^{}]/,VP=Zr(["{","}"],!0,!1),Sf=/^[0-9]/,Tf=Zr([["0","9"]],!1,!1),Of=/^[1-9]/,Rf=Zr([["1","9"]],!1,!1),If=/^[a-zA-Z_]/,Ef=Zr([["a","z"],["A","Z"],"_"],!1,!1),SP=OP("whitespace"),_f=/^[ \t\n\r]/,Af=Zr([" ","	",`
`,"\r"],!1,!1),P=0,Ae=0,ks=[{line:1,column:1}],Wn=0,su=[],he=0,xe={},Ms;if(t.startRule!==void 0){if(!(t.startRule in n))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');r=n[t.startRule]}function qs(){return i.substring(Ae,P)}function qe(w,S){return{type:"literal",text:w,ignoreCase:S}}function Zr(w,S,B){return{type:"class",parts:w,inverted:S,ignoreCase:B}}function TP(){return{type:"end"}}function OP(w){return{type:"other",description:w}}function Df(w){var S=ks[w],B;if(S)return S;for(B=w-1;!ks[B];)B--;for(S=ks[B],S={line:S.line,column:S.column};B<w;)i.charCodeAt(B)===10?(S.line++,S.column=1):S.column++,B++;return ks[w]=S,S}function Lf(w,S){var B=Df(w),_=Df(S);return{start:{offset:w,line:B.line,column:B.column},end:{offset:S,line:_.line,column:_.column}}}function me(w){P<Wn||(P>Wn&&(Wn=P,su=[]),su.push(w))}function RP(w,S,B){return new Aa(Aa.buildMessage(w,S),w,S,B)}function Yr(){var w,S,B,_,z,te,ge,Se,ut,dt=P*34+0,hu=xe[dt];if(hu)return P=hu.nextPos,hu.result;if(w=P,S=Ge(),S!==e)if(B=au(),B!==e){for(_=[],z=P,te=Ge(),te!==e?(ge=kf(),ge!==e?(Se=Ge(),Se!==e?(ut=au(),ut!==e?(te=[te,ge,Se,ut],z=te):(P=z,z=e)):(P=z,z=e)):(P=z,z=e)):(P=z,z=e);z!==e;)_.push(z),z=P,te=Ge(),te!==e?(ge=kf(),ge!==e?(Se=Ge(),Se!==e?(ut=au(),ut!==e?(te=[te,ge,Se,ut],z=te):(P=z,z=e)):(P=z,z=e)):(P=z,z=e)):(P=z,z=e);_!==e?(z=Ge(),z!==e?(Ae=w,S=o(B,_),w=S):(P=w,w=e)):(P=w,w=e)}else P=w,w=e;else P=w,w=e;return xe[dt]={nextPos:P,result:w},w}function kf(){var w,S,B=P*34+1,_=xe[B];return _?(P=_.nextPos,_.result):(w=P,i.substr(P,2)===c?(S=c,P+=2):(S=e,he===0&&me(p)),S===e&&(i.substr(P,2).toLowerCase()===y?(S=i.substr(P,2),P+=2):(S=e,he===0&&me(b))),S!==e&&(Ae=w,S=E()),w=S,xe[B]={nextPos:P,result:w},w)}function au(){var w,S,B,_,z,te,ge,Se,ut=P*34+2,dt=xe[ut];if(dt)return P=dt.nextPos,dt.result;if(w=P,S=lu(),S!==e){for(B=[],_=P,z=Ge(),z!==e?(te=Mf(),te!==e?(ge=Ge(),ge!==e?(Se=lu(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);_!==e;)B.push(_),_=P,z=Ge(),z!==e?(te=Mf(),te!==e?(ge=Ge(),ge!==e?(Se=lu(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);B!==e?(Ae=w,S=o(S,B),w=S):(P=w,w=e)}else P=w,w=e;return xe[ut]={nextPos:P,result:w},w}function Mf(){var w,S,B=P*34+3,_=xe[B];return _?(P=_.nextPos,_.result):(w=P,i.substr(P,2)===M?(S=M,P+=2):(S=e,he===0&&me(Q)),S===e&&(i.substr(P,3).toLowerCase()===X?(S=i.substr(P,3),P+=3):(S=e,he===0&&me(oe))),S!==e&&(Ae=w,S=we()),w=S,xe[B]={nextPos:P,result:w},w)}function lu(){var w,S,B,_,z,te,ge,Se,ut=P*34+4,dt=xe[ut];if(dt)return P=dt.nextPos,dt.result;if(w=P,S=uu(),S!==e){for(B=[],_=P,z=Ge(),z!==e?(te=qf(),te!==e?(ge=Ge(),ge!==e?(Se=uu(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);_!==e;)B.push(_),_=P,z=Ge(),z!==e?(te=qf(),te!==e?(ge=Ge(),ge!==e?(Se=uu(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);B!==e?(Ae=w,S=Ce(S,B),w=S):(P=w,w=e)}else P=w,w=e;return xe[ut]={nextPos:P,result:w},w}function qf(){var w,S,B=P*34+5,_=xe[B];return _?(P=_.nextPos,_.result):(w=P,i.substr(P,2)===ve?(S=ve,P+=2):(S=e,he===0&&me(Ne)),S===e&&(i.substr(P,11).toLowerCase()===Ot?(S=i.substr(P,11),P+=11):(S=e,he===0&&me(yn))),S!==e&&(Ae=w,S=_n()),w=S,w===e&&(w=P,i.substr(P,2)===Cr?(S=Cr,P+=2):(S=e,he===0&&me(ru)),S===e&&(i.substr(P,14).toLowerCase()===go?(S=i.substr(P,14),P+=14):(S=e,he===0&&me(CC))),S!==e&&(Ae=w,S=wC()),w=S,w===e&&(w=P,i.substr(P,2)===Yp?(S=Yp,P+=2):(S=e,he===0&&me(PC)),S===e&&(i.substr(P,5).toLowerCase()===Xp?(S=i.substr(P,5),P+=5):(S=e,he===0&&me(ef))),S!==e&&(Ae=w,S=tf()),w=S,w===e&&(w=P,i.charCodeAt(P)===61?(S=xC,P++):(S=e,he===0&&me(VC)),S===e&&(i.substr(P,5).toLowerCase()===Xp?(S=i.substr(P,5),P+=5):(S=e,he===0&&me(ef))),S!==e&&(Ae=w,S=tf()),w=S,w===e&&(w=P,i.substr(P,2)===nf?(S=nf,P+=2):(S=e,he===0&&me(SC)),S===e&&(i.substr(P,8).toLowerCase()===TC?(S=i.substr(P,8),P+=8):(S=e,he===0&&me(OC))),S!==e&&(Ae=w,S=RC()),w=S,w===e&&(w=P,i.charCodeAt(P)===60?(S=IC,P++):(S=e,he===0&&me(EC)),S===e&&(i.substr(P,4).toLowerCase()===_C?(S=i.substr(P,4),P+=4):(S=e,he===0&&me(AC))),S!==e&&(Ae=w,S=DC()),w=S,w===e&&(w=P,i.charCodeAt(P)===62?(S=LC,P++):(S=e,he===0&&me(kC)),S===e&&(i.substr(P,7).toLowerCase()===MC?(S=i.substr(P,7),P+=7):(S=e,he===0&&me(qC))),S!==e&&(Ae=w,S=jC()),w=S)))))),xe[B]={nextPos:P,result:w},w)}function uu(){var w,S,B,_,z,te,ge,Se,ut=P*34+6,dt=xe[ut];if(dt)return P=dt.nextPos,dt.result;if(w=P,S=cu(),S!==e){for(B=[],_=P,z=Ge(),z!==e?(te=jf(),te!==e?(ge=Ge(),ge!==e?(Se=cu(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);_!==e;)B.push(_),_=P,z=Ge(),z!==e?(te=jf(),te!==e?(ge=Ge(),ge!==e?(Se=cu(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);B!==e?(Ae=w,S=o(S,B),w=S):(P=w,w=e)}else P=w,w=e;return xe[ut]={nextPos:P,result:w},w}function jf(){var w,S,B=P*34+7,_=xe[B];return _?(P=_.nextPos,_.result):(w=P,i.charCodeAt(P)===43?(S=NC,P++):(S=e,he===0&&me(FC)),S!==e&&(Ae=w,S=BC()),w=S,w===e&&(w=P,i.charCodeAt(P)===45?(S=HC,P++):(S=e,he===0&&me(QC)),S!==e&&(Ae=w,S=zC()),w=S),xe[B]={nextPos:P,result:w},w)}function cu(){var w,S,B,_,z,te,ge,Se,ut=P*34+8,dt=xe[ut];if(dt)return P=dt.nextPos,dt.result;if(w=P,S=du(),S!==e){for(B=[],_=P,z=Ge(),z!==e?(te=Nf(),te!==e?(ge=Ge(),ge!==e?(Se=du(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);_!==e;)B.push(_),_=P,z=Ge(),z!==e?(te=Nf(),te!==e?(ge=Ge(),ge!==e?(Se=du(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);B!==e?(Ae=w,S=o(S,B),w=S):(P=w,w=e)}else P=w,w=e;return xe[ut]={nextPos:P,result:w},w}function Nf(){var w,S,B=P*34+9,_=xe[B];return _?(P=_.nextPos,_.result):(w=P,i.charCodeAt(P)===42?(S=UC,P++):(S=e,he===0&&me(WC)),S!==e&&(Ae=w,S=$C()),w=S,w===e&&(w=P,i.charCodeAt(P)===47?(S=JC,P++):(S=e,he===0&&me(GC)),S!==e&&(Ae=w,S=KC()),w=S,w===e&&(w=P,i.charCodeAt(P)===37?(S=ZC,P++):(S=e,he===0&&me(YC)),S!==e&&(Ae=w,S=XC()),w=S)),xe[B]={nextPos:P,result:w},w)}function du(){var w,S,B,_,z,te,ge,Se,ut=P*34+10,dt=xe[ut];if(dt)return P=dt.nextPos,dt.result;if(w=P,S=pu(),S!==e){for(B=[],_=P,z=Ge(),z!==e?(te=Ff(),te!==e?(ge=Ge(),ge!==e?(Se=pu(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);_!==e;)B.push(_),_=P,z=Ge(),z!==e?(te=Ff(),te!==e?(ge=Ge(),ge!==e?(Se=pu(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);B!==e?(Ae=w,S=o(S,B),w=S):(P=w,w=e)}else P=w,w=e;return xe[ut]={nextPos:P,result:w},w}function Ff(){var w,S,B=P*34+11,_=xe[B];return _?(P=_.nextPos,_.result):(w=P,i.charCodeAt(P)===94?(S=ew,P++):(S=e,he===0&&me(tw)),S===e&&(i.substr(P,5).toLowerCase()===nw?(S=i.substr(P,5),P+=5):(S=e,he===0&&me(rw))),S!==e&&(Ae=w,S=iw()),w=S,xe[B]={nextPos:P,result:w},w)}function pu(){var w,S,B,_,z,te,ge,Se,ut=P*34+12,dt=xe[ut];if(dt)return P=dt.nextPos,dt.result;if(w=P,S=fu(),S!==e){for(B=[],_=P,z=Ge(),z!==e?(te=Bf(),te!==e?(ge=Ge(),ge!==e?(Se=fu(),Se===e&&(Se=null),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);_!==e;)B.push(_),_=P,z=Ge(),z!==e?(te=Bf(),te!==e?(ge=Ge(),ge!==e?(Se=fu(),Se===e&&(Se=null),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);B!==e?(Ae=w,S=Ce(S,B),w=S):(P=w,w=e)}else P=w,w=e;return xe[ut]={nextPos:P,result:w},w}function Bf(){var w,S,B=P*34+13,_=xe[B];return _?(P=_.nextPos,_.result):(w=P,i.substr(P,2)===rf?(S=rf,P+=2):(S=e,he===0&&me(ow)),S===e&&(i.substr(P,8).toLowerCase()===sw?(S=i.substr(P,8),P+=8):(S=e,he===0&&me(aw)),S===e&&(i.substr(P,7).toLowerCase()===lw?(S=i.substr(P,7),P+=7):(S=e,he===0&&me(uw)))),S!==e&&(Ae=w,S=cw()),w=S,w===e&&(w=P,i.substr(P,11).toLowerCase()===dw?(S=i.substr(P,11),P+=11):(S=e,he===0&&me(pw)),S===e&&(i.substr(P,10).toLowerCase()===fw?(S=i.substr(P,10),P+=10):(S=e,he===0&&me(hw))),S!==e&&(Ae=w,S=gw()),w=S,w===e&&(w=P,i.substr(P,5).toLowerCase()===yw?(S=i.substr(P,5),P+=5):(S=e,he===0&&me(mw)),S!==e&&(Ae=w,S=vw()),w=S,w===e&&(w=P,i.substr(P,5).toLowerCase()===bw?(S=i.substr(P,5),P+=5):(S=e,he===0&&me(Cw)),S!==e&&(Ae=w,S=ww()),w=S))),xe[B]={nextPos:P,result:w},w)}function fu(){var w,S,B,_,z,te,ge=P*34+14,Se=xe[ge];return Se?(P=Se.nextPos,Se.result):(w=P,i.charCodeAt(P)===40?(S=of,P++):(S=e,he===0&&me(sf)),S!==e?(B=Ge(),B!==e?(_=Yr(),_!==e?(z=Ge(),z!==e?(i.charCodeAt(P)===41?(te=af,P++):(te=e,he===0&&me(lf)),te===e&&(te=null),te!==e?(Ae=w,S=Pw(_),w=S):(P=w,w=e)):(P=w,w=e)):(P=w,w=e)):(P=w,w=e)):(P=w,w=e),w===e&&(w=IP(),w===e&&(w=EP(),w===e&&(w=Hf(),w===e&&(w=DP())))),xe[ge]={nextPos:P,result:w},w)}function IP(){var w,S,B,_,z,te=P*34+15,ge=xe[te];return ge?(P=ge.nextPos,ge.result):(w=P,S=$f(),S!==e?(i.charCodeAt(P)===40?(B=of,P++):(B=e,he===0&&me(sf)),B!==e?(_=Qf(),_!==e?(i.charCodeAt(P)===41?(z=af,P++):(z=e,he===0&&me(lf)),z===e&&(z=null),z!==e?(Ae=w,S=xw(S,_),w=S):(P=w,w=e)):(P=w,w=e)):(P=w,w=e)):(P=w,w=e),xe[te]={nextPos:P,result:w},w)}function EP(){var w,S,B,_,z=P*34+16,te=xe[z];return te?(P=te.nextPos,te.result):(w=P,i.charCodeAt(P)===33?(S=Vw,P++):(S=e,he===0&&me(Sw)),S===e&&(i.substr(P,6).toLowerCase()===Tw?(S=i.substr(P,6),P+=6):(S=e,he===0&&me(Ow))),S!==e?(B=Ge(),B!==e?(_=Yr(),_!==e?(Ae=w,S=Rw(_),w=S):(P=w,w=e)):(P=w,w=e)):(P=w,w=e),w===e&&(w=P,S=Hf(),S!==e?(B=Ge(),B!==e?(_=_P(),_!==e?(Ae=w,S=Iw(S,_),w=S):(P=w,w=e)):(P=w,w=e)):(P=w,w=e)),xe[z]={nextPos:P,result:w},w)}function _P(){var w,S,B=P*34+17,_=xe[B];return _?(P=_.nextPos,_.result):(w=P,i.substr(P,5).toLowerCase()===Ew?(S=i.substr(P,5),P+=5):(S=e,he===0&&me(_w)),S!==e&&(Ae=w,S=Aw()),w=S,w===e&&(w=P,i.substr(P,8).toLowerCase()===Dw?(S=i.substr(P,8),P+=8):(S=e,he===0&&me(Lw)),S!==e&&(Ae=w,S=kw()),w=S),xe[B]={nextPos:P,result:w},w)}function Hf(){var w,S,B,_,z,te=P*34+18,ge=xe[te];return ge?(P=ge.nextPos,ge.result):(w=P,S=Ge(),S!==e?(i.substr(P,9)===uf?(B=uf,P+=9):(B=e,he===0&&me(Mw)),B===e&&(i.substr(P,4)===cf?(B=cf,P+=4):(B=e,he===0&&me(qw))),B!==e?(Ae=w,S=jw(),w=S):(P=w,w=e)):(P=w,w=e),w===e&&(w=P,S=Ge(),S!==e?(B=AP(),B!==e?(Ae=w,S=Nw(B),w=S):(P=w,w=e)):(P=w,w=e),w===e&&(w=P,S=Ge(),S!==e?(i.charCodeAt(P)===123?(B=Fw,P++):(B=e,he===0&&me(Bw)),B!==e?(_=qP(),_!==e?(i.charCodeAt(P)===125?(z=Hw,P++):(z=e,he===0&&me(Qw)),z!==e?(Ae=w,S=zw(_),w=S):(P=w,w=e)):(P=w,w=e)):(P=w,w=e)):(P=w,w=e))),xe[te]={nextPos:P,result:w},w)}function AP(){var w,S,B,_,z=P*34+19,te=xe[z];return te?(P=te.nextPos,te.result):(w=P,S=LP(),S!==e&&(Ae=w,S=iu(S)),w=S,w===e&&(w=P,S=kP(),S!==e&&(Ae=w,S=iu(S)),w=S,w===e&&(w=P,S=$f(),S!==e&&(Ae=w,S=iu(S)),w=S,w===e&&(w=P,i.substr(P,2)===df?(S=df,P+=2):(S=e,he===0&&me(Uw)),S!==e&&(Ae=w,S=pf()),w=S,w===e&&(w=P,i.substr(P,2)===ff?(S=ff,P+=2):(S=e,he===0&&me(Ww)),S!==e&&(Ae=w,S=pf()),w=S,w===e&&(w=P,i.charCodeAt(P)===39?(S=hf,P++):(S=e,he===0&&me(gf)),S!==e?(B=zf(),B!==e?(i.charCodeAt(P)===39?(_=hf,P++):(_=e,he===0&&me(gf)),_!==e?(Ae=w,S=yf(B),w=S):(P=w,w=e)):(P=w,w=e)):(P=w,w=e),w===e&&(w=P,i.charCodeAt(P)===34?(S=mf,P++):(S=e,he===0&&me(vf)),S!==e?(B=zf(),B!==e?(i.charCodeAt(P)===34?(_=mf,P++):(_=e,he===0&&me(vf)),_!==e?(Ae=w,S=yf(B),w=S):(P=w,w=e)):(P=w,w=e)):(P=w,w=e))))))),xe[z]={nextPos:P,result:w},w)}function DP(){var w,S,B,_,z=P*34+20,te=xe[z];return te?(P=te.nextPos,te.result):(w=P,i.charCodeAt(P)===91?(S=$w,P++):(S=e,he===0&&me(Jw)),S!==e?(B=Qf(),B!==e?(i.charCodeAt(P)===93?(_=Gw,P++):(_=e,he===0&&me(Kw)),_!==e?(Ae=w,S=Zw(B),w=S):(P=w,w=e)):(P=w,w=e)):(P=w,w=e),xe[z]={nextPos:P,result:w},w)}function Qf(){var w,S,B,_,z,te,ge,Se,ut=P*34+21,dt=xe[ut];if(dt)return P=dt.nextPos,dt.result;if(w=P,S=Yr(),S===e&&(S=null),S!==e){for(B=[],_=P,z=Ge(),z!==e?(i.charCodeAt(P)===44?(te=bf,P++):(te=e,he===0&&me(Cf)),te!==e?(ge=Ge(),ge!==e?(Se=Yr(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);_!==e;)B.push(_),_=P,z=Ge(),z!==e?(i.charCodeAt(P)===44?(te=bf,P++):(te=e,he===0&&me(Cf)),te!==e?(ge=Ge(),ge!==e?(Se=Yr(),Se!==e?(z=[z,te,ge,Se],_=z):(P=_,_=e)):(P=_,_=e)):(P=_,_=e)):(P=_,_=e);B!==e?(Ae=w,S=Yw(S,B),w=S):(P=w,w=e)}else P=w,w=e;return xe[ut]={nextPos:P,result:w},w}function LP(){var w,S,B=P*34+22,_=xe[B];return _?(P=_.nextPos,_.result):(w=P,i.substr(P,4).toLowerCase()===Xw?(S=i.substr(P,4),P+=4):(S=e,he===0&&me(eP)),S!==e&&(Ae=w,S=tP()),w=S,w===e&&(w=P,i.substr(P,5).toLowerCase()===nP?(S=i.substr(P,5),P+=5):(S=e,he===0&&me(rP)),S!==e&&(Ae=w,S=iP()),w=S),xe[B]={nextPos:P,result:w},w)}function kP(){var w,S,B,_=P*34+23,z=xe[_];return z?(P=z.nextPos,z.result):(w=P,i.substr(P,2)===wf?(S=wf,P+=2):(S=e,he===0&&me(oP)),S!==e?(B=Vi(),B!==e?(Ae=w,S=sP(),w=S):(P=w,w=e)):(P=w,w=e),w===e&&(w=P,aP.test(i.charAt(P))?(S=i.charAt(P),P++):(S=e,he===0&&me(lP)),S===e&&(S=null),S!==e?(B=MP(),B!==e?(Ae=w,S=uP(S,B),w=S):(P=w,w=e)):(P=w,w=e)),xe[_]={nextPos:P,result:w},w)}function MP(){var w,S,B,_,z=P*34+24,te=xe[z];return te?(P=te.nextPos,te.result):(w=P,S=Vi(),S!==e?(i.charCodeAt(P)===46?(B=cP,P++):(B=e,he===0&&me(dP)),B!==e?(_=Vi(),_!==e?(Ae=w,S=pP(),w=S):(P=w,w=e)):(P=w,w=e)):(P=w,w=e),w===e&&(w=P,S=jP(),S!==e?(B=Vi(),B===e&&(B=null),B!==e?(Ae=w,S=fP(),w=S):(P=w,w=e)):(P=w,w=e),w===e&&(w=P,i.charCodeAt(P)===48?(S=hP,P++):(S=e,he===0&&me(gP)),S!==e&&(Ae=w,S=yP()),w=S)),xe[z]={nextPos:P,result:w},w)}function qP(){var w,S,B,_=P*34+25,z=xe[_];if(z)return P=z.nextPos,z.result;if(w=P,S=[],B=Wf(),B!==e)for(;B!==e;)S.push(B),B=Wf();else S=e;return S!==e&&(Ae=w,S=Pf(S)),w=S,xe[_]={nextPos:P,result:w},w}function zf(){var w,S,B,_=P*34+26,z=xe[_];if(z)return P=z.nextPos,z.result;if(w=P,S=[],B=Uf(),B!==e)for(;B!==e;)S.push(B),B=Uf();else S=e;return S!==e&&(Ae=w,S=Pf(S)),w=S,xe[_]={nextPos:P,result:w},w}function Uf(){var w,S,B=P*34+27,_=xe[B];return _?(P=_.nextPos,_.result):(w=P,i.substr(P,2)===xf?(S=xf,P+=2):(S=e,he===0&&me(mP)),S!==e&&(Ae=w,S=vP()),w=S,w===e&&(w=P,i.substr(P,2)===Vf?(S=Vf,P+=2):(S=e,he===0&&me(bP)),S!==e&&(Ae=w,S=CP()),w=S,w===e&&(w=P,wP.test(i.charAt(P))?(S=i.charAt(P),P++):(S=e,he===0&&me(PP)),S!==e&&(Ae=w,S=ou()),w=S)),xe[B]={nextPos:P,result:w},w)}function Wf(){var w,S,B=P*34+28,_=xe[B];return _?(P=_.nextPos,_.result):(w=P,xP.test(i.charAt(P))?(S=i.charAt(P),P++):(S=e,he===0&&me(VP)),S!==e&&(Ae=w,S=ou()),w=S,xe[B]={nextPos:P,result:w},w)}function $f(){var w,S,B,_,z,te,ge,Se=P*34+29,ut=xe[Se];if(ut)return P=ut.nextPos,ut.result;if(w=P,S=yo(),S!==e){if(B=[],_=P,z=Vi(),z!==e){for(te=[],ge=yo();ge!==e;)te.push(ge),ge=yo();te!==e?(z=[z,te],_=z):(P=_,_=e)}else P=_,_=e;for(;_!==e;)if(B.push(_),_=P,z=Vi(),z!==e){for(te=[],ge=yo();ge!==e;)te.push(ge),ge=yo();te!==e?(z=[z,te],_=z):(P=_,_=e)}else P=_,_=e;B!==e?(Ae=w,S=ou(),w=S):(P=w,w=e)}else P=w,w=e;return xe[Se]={nextPos:P,result:w},w}function Vi(){var w,S,B=P*34+30,_=xe[B];if(_)return P=_.nextPos,_.result;if(w=[],Sf.test(i.charAt(P))?(S=i.charAt(P),P++):(S=e,he===0&&me(Tf)),S!==e)for(;S!==e;)w.push(S),Sf.test(i.charAt(P))?(S=i.charAt(P),P++):(S=e,he===0&&me(Tf));else w=e;return xe[B]={nextPos:P,result:w},w}function jP(){var w,S,B=P*34+31,_=xe[B];if(_)return P=_.nextPos,_.result;if(w=[],Of.test(i.charAt(P))?(S=i.charAt(P),P++):(S=e,he===0&&me(Rf)),S!==e)for(;S!==e;)w.push(S),Of.test(i.charAt(P))?(S=i.charAt(P),P++):(S=e,he===0&&me(Rf));else w=e;return xe[B]={nextPos:P,result:w},w}function yo(){var w,S,B=P*34+32,_=xe[B];if(_)return P=_.nextPos,_.result;if(w=[],If.test(i.charAt(P))?(S=i.charAt(P),P++):(S=e,he===0&&me(Ef)),S!==e)for(;S!==e;)w.push(S),If.test(i.charAt(P))?(S=i.charAt(P),P++):(S=e,he===0&&me(Ef));else w=e;return xe[B]={nextPos:P,result:w},w}function Ge(){var w,S,B=P*34+33,_=xe[B];if(_)return P=_.nextPos,_.result;for(he++,w=[],_f.test(i.charAt(P))?(S=i.charAt(P),P++):(S=e,he===0&&me(Af));S!==e;)w.push(S),_f.test(i.charAt(P))?(S=i.charAt(P),P++):(S=e,he===0&&me(Af));return he--,w===e&&(S=e,he===0&&me(SP)),xe[B]={nextPos:P,result:w},w}function Jf(w,S,B){return B===void 0&&(B=!1),S.reduce(function(_,z){return new Uc(z[1],_,z[3],B)},w)}function NP(w){return[].concat.apply([],w)}if(Ms=r(),Ms!==e&&P===i.length)return Ms;throw Ms!==e&&P<i.length&&me(TP()),RP(su,Wn<i.length?i.charAt(Wn):null,Wn<i.length?Lf(Wn,Wn+1):Lf(Wn,Wn))}var wm=Cm,Pm=function(){function i(t,e){this.at=t,this.code=e}return i}(),Jc=function(){function i(){}return i.prototype.patchExpression=function(t){return t.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},i.prototype.createCondition=function(t){return this.parseExpression(t)},i.prototype.parseExpression=function(t){try{var e=i.parserCache[t];return e===void 0&&(e=wm(this.patchExpression(t)),e.hasAsyncFunction()||(i.parserCache[t]=e)),e}catch(n){n instanceof Aa&&(this.conditionError=new Pm(n.location.start.offset,n.message))}},Object.defineProperty(i.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),i.parserCache={},i}(),Gc=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kc=function(){function i(t){this.processValue=new Ie,this.parser=new Jc,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(t)}return Object.defineProperty(i.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),i.prototype.setExpression=function(t){this.expression!==t&&(this.expressionValue=t,this.operand=this.parser.parseExpression(t),this.hasFunctionValue=this.canRun()?this.operand.hasFunction():!1,this.isAsyncValue=this.hasFunction()?this.operand.hasAsyncFunction():!1)},i.prototype.getVariables=function(){if(!this.operand)return[];var t=[];return this.operand.setVariables(t),t},i.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(i.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),i.prototype.canRun=function(){return!!this.operand},i.prototype.run=function(t,e){if(e===void 0&&(e=null),!this.operand)return this.expression&&Ze.warn("Invalid expression: "+this.expression),null;if(this.processValue.values=t,this.processValue.properties=e,!this.isAsync)return this.runValues();this.asyncFuncList=new Array,this.operand.addToAsyncList(this.asyncFuncList);for(var n=0;n<this.asyncFuncList.length;n++)this.runAsyncItem(this.asyncFuncList[n]);return!1},i.prototype.runAsyncItem=function(t){var e=this;t.children?t.children.forEach(function(n){return e.runAsyncItem(n)}):this.runAsyncItemCore(t)},i.prototype.runAsyncItemCore=function(t){var e=this;t.operand?(t.operand.onAsyncReady=function(){return e.doAsyncFunctionReady(t)},t.operand.evaluateAsync(this.processValue)):this.doAsyncFunctionReady(t)},i.prototype.doAsyncFunctionReady=function(t){if(t.parent&&this.isAsyncChildrenReady(t)){this.runAsyncItemCore(t.parent);return}for(var e=0;e<this.asyncFuncList.length;e++)if(!this.isAsyncFuncReady(this.asyncFuncList[e]))return;this.runValues()},i.prototype.isAsyncFuncReady=function(t){return t.operand&&!t.operand.isReady?!1:this.isAsyncChildrenReady(t)},i.prototype.isAsyncChildrenReady=function(t){if(t.children){for(var e=0;e<t.children.length;e++)if(!this.isAsyncFuncReady(t.children[e]))return!1}return!0},i.prototype.runValues=function(){var t=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(t),t},i.createExpressionExecutor=function(t){return new i(t)},i}(),Zc=function(){function i(t){this._id=i.IdCounter++,this.expression=t}return Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"expression",{get:function(){return this.expressionExecutor?this.expressionExecutor.expression:""},set:function(t){var e=this;this.expressionExecutor&&t===this.expression||(this.expressionExecutor=Kc.createExpressionExecutor(t),this.expressionExecutor.onComplete=function(n){e.doOnComplete(n)},this.variables=void 0,this.containsFunc=void 0)},enumerable:!1,configurable:!0}),i.prototype.getVariables=function(){return this.variables===void 0&&(this.variables=this.expressionExecutor.getVariables()),this.variables},i.prototype.hasFunction=function(){return this.containsFunc===void 0&&(this.containsFunc=this.expressionExecutor.hasFunction()),this.containsFunc},Object.defineProperty(i.prototype,"isAsync",{get:function(){return this.expressionExecutor.isAsync},enumerable:!1,configurable:!0}),i.prototype.canRun=function(){return this.expressionExecutor.canRun()},i.prototype.runCore=function(t,e){return e===void 0&&(e=null),this.onBeforeAsyncRun&&this.isAsync&&this.onBeforeAsyncRun(this.id),this.expressionExecutor.run(t,e)},i.prototype.doOnComplete=function(t){this.onAfterAsyncRun&&this.isAsync&&this.onAfterAsyncRun(this.id)},i.IdCounter=1,i}(),on=function(i){Gc(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.run=function(e,n){return n===void 0&&(n=null),this.runCore(e,n)==!0},t.prototype.doOnComplete=function(e){this.onRunComplete&&this.onRunComplete(e==!0),i.prototype.doOnComplete.call(this,e)},t}(Zc),Nr=function(i){Gc(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.run=function(e,n){return n===void 0&&(n=null),this.runCore(e,n)},t.prototype.doOnComplete=function(e){this.onRunComplete&&this.onRunComplete(e),i.prototype.doOnComplete.call(this,e)},t}(Zc),xm=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vm=function(i,t){for(var e=0,n=t.length,r=i.length;e<n;e++,r++)i[r]=t[e];return i},Sm=function(){function i(t){this.obj=t,this.properties=null,this.values=null}return i.prototype.getType=function(){return"bindings"},i.prototype.getNames=function(){var t=[];this.fillProperties();for(var e=0;e<this.properties.length;e++)this.properties[e].isVisible("",this.obj)&&t.push(this.properties[e].name);return t},i.prototype.getProperties=function(){var t=[];this.fillProperties();for(var e=0;e<this.properties.length;e++)t.push(this.properties[e]);return t},i.prototype.setBinding=function(t,e){this.values||(this.values={});var n=this.getJson();n!==e&&(e?this.values[t]=e:(delete this.values[t],Object.keys(this.values).length==0&&(this.values=null)),this.onChangedJSON(n))},i.prototype.clearBinding=function(t){this.setBinding(t,"")},i.prototype.isEmpty=function(){if(!this.values)return!0;for(var t in this.values)return!1;return!0},i.prototype.getValueNameByPropertyName=function(t){if(this.values)return this.values[t]},i.prototype.getPropertiesByValueName=function(t){if(!this.values)return[];var e=[];for(var n in this.values)this.values[n]==t&&e.push(n);return e},i.prototype.getJson=function(){if(!this.isEmpty()){var t={};for(var e in this.values)t[e]=this.values[e];return t}},i.prototype.setJson=function(t){var e=this.getJson();if(this.values=null,t){this.values={};for(var n in t)this.values[n]=t[n]}this.onChangedJSON(e)},i.prototype.fillProperties=function(){if(this.properties===null){this.properties=[];for(var t=H.getPropertiesByObj(this.obj),e=0;e<t.length;e++)t[e].isBindable&&this.properties.push(t[e])}},i.prototype.onChangedJSON=function(t){this.obj&&this.obj.onBindingChanged(t,this.getJson())},i}(),Tm=function(){function i(t,e,n){this.currentDependency=t,this.target=e,this.property=n,this.dependencies=[],this.id=""+ ++i.DependenciesCount}return i.prototype.addDependency=function(t,e){this.target===t&&this.property===e||this.dependencies.some(function(n){return n.obj===t&&n.prop===e})||(this.dependencies.push({obj:t,prop:e,id:this.id}),t.registerPropertyChangedHandlers([e],this.currentDependency,this.id))},i.prototype.dispose=function(){this.dependencies.forEach(function(t){t.obj.unregisterPropertyChangedHandlers([t.prop],t.id)})},i.DependenciesCount=0,i}(),At=function(){function i(t){this._updater=t,this.dependencies=void 0,this.type=i.ComputedUpdaterType}return Object.defineProperty(i.prototype,"updater",{get:function(){return this._updater},enumerable:!1,configurable:!0}),i.prototype.setDependencies=function(t){this.clearDependencies(),this.dependencies=t},i.prototype.getDependencies=function(){return this.dependencies},i.prototype.clearDependencies=function(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)},i.prototype.dispose=function(){this.clearDependencies()},i.ComputedUpdaterType="__dependency_computed",i}(),$e=function(){function i(){this.dependencies={},this.propertyHash=i.createPropertiesHash(),this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.animationAllowedLock=0,this.supportOnElementRerenderedEvent=!0,this.onElementRerenderedEventEnabled=!1,this._onElementRerendered=new Rn,this.bindingsValue=new Sm(this),ue.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return i.finishCollectDependencies=function(){var t=i.currentDependencis;return i.currentDependencis=void 0,t},i.startCollectDependencies=function(t,e,n){if(i.currentDependencis!==void 0)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");i.currentDependencis=new Tm(t,e,n)},i.collectDependency=function(t,e){i.currentDependencis!==void 0&&i.currentDependencis.addDependency(t,e)},Object.defineProperty(i,"commentSuffix",{get:function(){return N.commentSuffix},set:function(t){N.commentSuffix=t},enumerable:!1,configurable:!0}),Object.defineProperty(i,"commentPrefix",{get:function(){return i.commentSuffix},set:function(t){i.commentSuffix=t},enumerable:!1,configurable:!0}),i.prototype.isValueEmpty=function(t,e){return e===void 0&&(e=!0),e&&(t=this.trimValue(t)),g.isValueEmpty(t)},i.prototype.equals=function(t){return!t||this.isDisposed||t.isDisposed||this.getType()!=t.getType()?!1:this.equalsCore(t)},i.prototype.equalsCore=function(t){return this.name!==t.name?!1:g.isTwoValueEquals(this.toJSON(),t.toJSON(),!1,!0,!1)},i.prototype.trimValue=function(t){return t&&(typeof t=="string"||t instanceof String)?t.trim():t},i.prototype.isPropertyEmpty=function(t){return t!==""&&this.isValueEmpty(t)},i.createPropertiesHash=function(){return{}},i.prototype.dispose=function(){for(var t=this,e=0;e<this.eventList.length;e++)this.eventList[e].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0,Object.keys(this.dependencies).forEach(function(n){return t.dependencies[n].dispose()})},Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this.isDisposedValue===!0},enumerable:!1,configurable:!0}),i.prototype.addEvent=function(){var t=new Rn;return this.eventList.push(t),t},i.prototype.onBaseCreating=function(){},i.prototype.getType=function(){return"base"},i.prototype.isDescendantOf=function(t){return H.isDescendantOf(this.getType(),t)},i.prototype.getSurvey=function(t){return null},Object.defineProperty(i.prototype,"isDesignMode",{get:function(){var t=this.getSurvey();return!!t&&t.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isDesignModeV2",{get:function(){return N.supportCreatorV2&&this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"inSurvey",{get:function(){return!!this.getSurvey(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),i.prototype.checkBindings=function(t,e){},i.prototype.updateBindings=function(t,e){var n=this.bindings.getValueNameByPropertyName(t);n&&this.updateBindingValue(n,e)},i.prototype.updateBindingValue=function(t,e){},i.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(i.prototype,"isLoadingFromJson",{get:function(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),i.prototype.getIsLoadingFromJson=function(){return this.loadingOwner&&this.loadingOwner.isLoadingFromJson?!0:this.isLoadingFromJsonValue},i.prototype.startLoadingFromJson=function(t){this.isLoadingFromJsonValue=!0,this.jsonObj=t},i.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},i.prototype.toJSON=function(t){return new et().toJsonObject(this,t)},i.prototype.fromJSON=function(t,e){new et().toObject(t,this,e),this.onSurveyLoad()},i.prototype.onSurveyLoad=function(){},i.prototype.clone=function(){var t=H.createClass(this.getType());return t.fromJSON(this.toJSON()),t},i.prototype.getPropertyByName=function(t){var e=this.getType();return(!this.classMetaData||this.classMetaData.name!==e)&&(this.classMetaData=H.findClass(e)),this.classMetaData?this.classMetaData.findProperty(t):null},i.prototype.isPropertyVisible=function(t){var e=this.getPropertyByName(t);return e?e.isVisible("",this):!1},i.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},i.prototype.getProgressInfo=function(){return i.createProgressInfo()},i.prototype.localeChanged=function(){},i.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var t in this.arraysInfo){var e=this.arraysInfo[t];if(e&&e.isItemValues){var n=this.getPropertyValue(t);n&&i.itemValueLocStrChanged&&i.itemValueLocStrChanged(n)}}if(this.localizableStrings)for(var t in this.localizableStrings){var e=this.getLocalizableString(t);e&&e.strChanged()}},i.prototype.getPropertyValue=function(t,e){e===void 0&&(e=null);var n=this.getPropertyValueWithoutDefault(t);if(this.isPropertyEmpty(n)){var r=this.localizableStrings?this.localizableStrings[t]:void 0;if(r)return r.text;if(e!=null)return e;var o=this.getDefaultPropertyValue(t);if(o!==void 0)return o}return n},i.prototype.getDefaultPropertyValue=function(t){var e=this.getPropertyByName(t);if(!(!e||e.isCustom&&this.isCreating)){var n=e.defaultValue;if(e.defaultValueFunc||!this.isPropertyEmpty(n)&&!Array.isArray(n))return n;var r=this.localizableStrings?this.localizableStrings[t]:void 0;if(r&&r.localizationName)return this.getLocalizationString(r.localizationName);if(e.type=="boolean"||e.type=="switch")return!1;if(e.isCustom&&e.onGetValue)return e.onGetValue(this)}},i.prototype.hasDefaultPropertyValue=function(t){return this.getDefaultPropertyValue(t)!==void 0},i.prototype.resetPropertyValue=function(t){var e=this.localizableStrings?this.localizableStrings[t]:void 0;e?(this.setLocalizableStringText(t,void 0),e.clear()):this.setPropertyValue(t,void 0)},i.prototype.getPropertyValueWithoutDefault=function(t){return this.getPropertyValueCore(this.propertyHash,t)},i.prototype.getPropertyValueCore=function(t,e){return this.isLoadingFromJson||i.collectDependency(this,e),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(t,e):t[e]},i.prototype.geValueFromHash=function(){return this.propertyHash.value},i.prototype.setPropertyValueCore=function(t,e,n){this.setPropertyValueCoreHandler?this.isDisposedValue?Ze.disposedObjectChangedProperty(e,this.getType()):this.setPropertyValueCoreHandler(t,e,n):t[e]=n},Object.defineProperty(i.prototype,"isEditingSurveyElement",{get:function(){var t=this.getSurvey();return!!t&&t.isEditingSurveyElement},enumerable:!1,configurable:!0}),i.prototype.iteratePropertiesHash=function(t){var e=this,n=[];for(var r in this.propertyHash)r==="value"&&this.isEditingSurveyElement&&Array.isArray(this.value)||n.push(r);n.forEach(function(o){return t(e.propertyHash,o)})},i.prototype.setPropertyValue=function(t,e){if(!this.isLoadingFromJson){var n=this.getPropertyByName(t);n&&(e=n.settingValue(this,e))}var r=this.getPropertyValue(t);r&&Array.isArray(r)&&this.arraysInfo&&(!e||Array.isArray(e))?this.isTwoValueEquals(r,e)||this.setArrayPropertyDirectly(t,e):(this.setPropertyValueDirectly(t,e),!this.isDisposedValue&&!this.isTwoValueEquals(r,e)&&this.propertyValueChanged(t,r,e))},i.prototype.setArrayPropertyDirectly=function(t,e,n){n===void 0&&(n=!0);var r=this.arraysInfo[t];this.setArray(t,this.getPropertyValue(t),e,r?r.isItemValues:!1,r?n&&r.onPush:null)},i.prototype.setPropertyValueDirectly=function(t,e){this.setPropertyValueCore(this.propertyHash,t,e)},i.prototype.clearPropertyValue=function(t){this.setPropertyValueCore(this.propertyHash,t,null),delete this.propertyHash[t]},i.prototype.onPropertyValueChangedCallback=function(t,e,n,r,o){},i.prototype.itemValuePropertyChanged=function(t,e,n,r){this.onItemValuePropertyChanged.fire(this,{obj:t,name:e,oldValue:n,newValue:r,propertyName:t.ownerPropertyName})},i.prototype.onPropertyValueChanged=function(t,e,n){},i.prototype.propertyValueChanged=function(t,e,n,r,o){if(!this.isLoadingFromJson&&(this.updateBindings(t,n),this.onPropertyValueChanged(t,e,n),this.onPropertyChanged.fire(this,{name:t,oldValue:e,newValue:n,arrayChanges:r,target:o}),this.doPropertyValueChangedCallback(t,e,n,r,this),this.checkConditionPropertyChanged(t),!!this.onPropChangeFunctions))for(var c=0;c<this.onPropChangeFunctions.length;c++)this.onPropChangeFunctions[c].name==t&&this.onPropChangeFunctions[c].func(n,r)},i.prototype.onBindingChanged=function(t,e){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",t,e)},Object.defineProperty(i.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),i.prototype.doPropertyValueChangedCallback=function(t,e,n,r,o){var c=function(y){y&&y.onPropertyValueChangedCallback&&y.onPropertyValueChangedCallback(t,e,n,o,r)};if(this.isInternal){c(this);return}o||(o=this);var p=this.getSurvey();p||(p=this),c(p),p!==this&&c(this)},i.prototype.addExpressionProperty=function(t,e,n){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[t]={onExecute:e,canRun:n}},i.prototype.getDataFilteredValues=function(){return{}},i.prototype.getDataFilteredProperties=function(){return{}},i.prototype.runConditionCore=function(t,e){if(this.expressionInfo)for(var n in this.expressionInfo)this.runConditionItemCore(n,t,e)},i.prototype.canRunConditions=function(){return!this.isDesignMode},i.prototype.checkConditionPropertyChanged=function(t){!this.expressionInfo||!this.expressionInfo[t]||this.canRunConditions()&&this.runConditionItemCore(t,this.getDataFilteredValues(),this.getDataFilteredProperties())},i.prototype.runConditionItemCore=function(t,e,n){var r=this,o=this.expressionInfo[t],c=this.getPropertyValue(t);c&&(o.canRun&&!o.canRun(this)||(o.runner||(o.runner=this.createExpressionRunner(c),o.runner.onRunComplete=function(p){o.onExecute(r,p)}),o.runner.expression=c,o.runner.run(e,n)))},i.prototype.doBeforeAsynRun=function(t){this.asynExpressionHash||(this.asynExpressionHash=[]);var e=!this.isAsyncExpressionRunning;this.asynExpressionHash[t]=!0,e&&this.onAsyncRunningChanged()},i.prototype.doAfterAsynRun=function(t){this.asynExpressionHash&&(delete this.asynExpressionHash[t],this.isAsyncExpressionRunning||this.onAsyncRunningChanged())},i.prototype.onAsyncRunningChanged=function(){},Object.defineProperty(i.prototype,"isAsyncExpressionRunning",{get:function(){return!!this.asynExpressionHash&&Object.keys(this.asynExpressionHash).length>0},enumerable:!1,configurable:!0}),i.prototype.createExpressionRunner=function(t){var e=this,n=new Nr(t);return n.onBeforeAsyncRun=function(r){e.doBeforeAsynRun(r)},n.onAfterAsyncRun=function(r){e.doAfterAsynRun(r)},n},i.prototype.registerPropertyChangedHandlers=function(t,e,n){n===void 0&&(n=null);for(var r=0;r<t.length;r++)this.registerFunctionOnPropertyValueChanged(t[r],e,n)},i.prototype.unregisterPropertyChangedHandlers=function(t,e){e===void 0&&(e=null);for(var n=0;n<t.length;n++)this.unRegisterFunctionOnPropertyValueChanged(t[n],e)},i.prototype.registerFunctionOnPropertyValueChanged=function(t,e,n){if(n===void 0&&(n=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),n)for(var r=0;r<this.onPropChangeFunctions.length;r++){var o=this.onPropChangeFunctions[r];if(o.name==t&&o.key==n){o.func=e;return}}this.onPropChangeFunctions.push({name:t,func:e,key:n})},i.prototype.registerFunctionOnPropertiesValueChanged=function(t,e,n){n===void 0&&(n=null),this.registerPropertyChangedHandlers(t,e,n)},i.prototype.unRegisterFunctionOnPropertyValueChanged=function(t,e){if(e===void 0&&(e=null),!!this.onPropChangeFunctions)for(var n=0;n<this.onPropChangeFunctions.length;n++){var r=this.onPropChangeFunctions[n];if(r.name==t&&r.key==e){this.onPropChangeFunctions.splice(n,1);return}}},i.prototype.unRegisterFunctionOnPropertiesValueChanged=function(t,e){e===void 0&&(e=null),this.unregisterPropertyChangedHandlers(t,e)},i.prototype.createCustomLocalizableObj=function(t){var e=this.getLocalizableString(t);return e||this.createLocalizableString(t,this,!1,!0)},i.prototype.getLocale=function(){var t=this.getSurvey();return t?t.getLocale():""},i.prototype.getLocalizationString=function(t){return v.getString(t,this.getLocale())},i.prototype.getLocalizationFormatString=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.getLocalizationString(t);return!r||!r.format?"":r.format.apply(r,e)},i.prototype.createLocalizableString=function(t,e,n,r){var o=this;n===void 0&&(n=!1),r===void 0&&(r=!1);var c=new In(e,n,t);r&&(c.localizationName=r===!0?t:r),c.onStrChanged=function(y,b){o.propertyValueChanged(t,y,b)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[t]=c;var p=this.getPropertyByName(t);return c.disableLocalization=p&&p.isLocalizable===!1,c},i.prototype.getLocalizableString=function(t){return this.localizableStrings?this.localizableStrings[t]:null},i.prototype.getLocalizableStringText=function(t,e){e===void 0&&(e=""),i.collectDependency(this,t);var n=this.getLocalizableString(t);if(!n)return"";var r=n.text;return r||e},i.prototype.setLocalizableStringText=function(t,e){var n=this.getLocalizableString(t);if(n){var r=n.text;r!=e&&(n.text=e)}},i.prototype.addUsedLocales=function(t){if(this.localizableStrings)for(var e in this.localizableStrings){var n=this.getLocalizableString(e);n&&this.AddLocStringToUsedLocales(n,t)}if(this.arraysInfo)for(var e in this.arraysInfo){var r=this.getPropertyByName(e);if(!(!r||!r.isSerializable)){var o=this.getPropertyValue(e);if(!(!o||!o.length))for(var c=0;c<o.length;c++){var n=o[c];n&&n.addUsedLocales&&n.addUsedLocales(t)}}}},i.prototype.searchText=function(t,e){var n=[];this.getSearchableLocalizedStrings(n);for(var r=0;r<n.length;r++)n[r].setFindText(t)&&e.push({element:this,str:n[r]})},i.prototype.getSearchableLocalizedStrings=function(t){if(this.localizableStrings){var e=[];this.getSearchableLocKeys(e);for(var n=0;n<e.length;n++){var r=this.getLocalizableString(e[n]);r&&t.push(r)}}if(this.arraysInfo){var o=[];this.getSearchableItemValueKeys(o);for(var n=0;n<o.length;n++){var c=this.getPropertyValue(o[n]);if(c)for(var p=0;p<c.length;p++)t.push(c[p].locText)}}},i.prototype.getSearchableLocKeys=function(t){},i.prototype.getSearchableItemValueKeys=function(t){},i.prototype.AddLocStringToUsedLocales=function(t,e){for(var n=t.getLocales(),r=0;r<n.length;r++)e.indexOf(n[r])<0&&e.push(n[r])},i.prototype.createItemValues=function(t){var e=this,n=this.createNewArray(t,function(r){if(r.locOwner=e,r.ownerPropertyName=t,typeof r.getSurvey=="function"){var o=r.getSurvey();o&&typeof o.makeReactive=="function"&&o.makeReactive(r)}});return this.arraysInfo[t].isItemValues=!0,n},i.prototype.notifyArrayChanged=function(t,e){t.onArrayChanged&&t.onArrayChanged(e)},i.prototype.createNewArrayCore=function(t){var e=null;return this.createArrayCoreHandler&&(e=this.createArrayCoreHandler(this.propertyHash,t)),e||(e=new Array,this.setPropertyValueCore(this.propertyHash,t,e)),e},i.prototype.ensureArray=function(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),!(this.arraysInfo&&this.arraysInfo[t]))return this.createNewArray(t,e,n)},i.prototype.createNewArray=function(t,e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=this.createNewArrayCore(t);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[t]={onPush:e,isItemValues:!1};var o=this;return r.push=function(c){var p=Object.getPrototypeOf(r).push.call(r,c);if(!o.isDisposedValue){e&&e(c,r.length-1);var y=new Fr(r.length-1,0,[c],[]);o.propertyValueChanged(t,r,r,y),o.notifyArrayChanged(r,y)}return p},r.shift=function(){var c=Object.getPrototypeOf(r).shift.call(r);if(!o.isDisposedValue&&c){n&&n(c);var p=new Fr(r.length-1,1,[],[]);o.propertyValueChanged(t,r,r,p),o.notifyArrayChanged(r,p)}return c},r.unshift=function(c){var p=Object.getPrototypeOf(r).unshift.call(r,c);if(!o.isDisposedValue){e&&e(c,r.length-1);var y=new Fr(0,0,[c],[]);o.propertyValueChanged(t,r,r,y),o.notifyArrayChanged(r,y)}return p},r.pop=function(){var c=Object.getPrototypeOf(r).pop.call(r);if(!o.isDisposedValue){n&&n(c);var p=new Fr(r.length-1,1,[],[]);o.propertyValueChanged(t,r,r,p),o.notifyArrayChanged(r,p)}return c},r.splice=function(c,p){for(var y,b=[],E=2;E<arguments.length;E++)b[E-2]=arguments[E];c||(c=0),p||(p=0);var M=(y=Object.getPrototypeOf(r).splice).call.apply(y,Vm([r,c,p],b));if(b||(b=[]),!o.isDisposedValue){if(n&&M)for(var Q=0;Q<M.length;Q++)n(M[Q]);if(e)for(var Q=0;Q<b.length;Q++)e(b[Q],c+Q);var X=new Fr(c,p,b,M);o.propertyValueChanged(t,r,r,X),o.notifyArrayChanged(r,X)}return M},r},i.prototype.getItemValueType=function(){},i.prototype.setArray=function(t,e,n,r,o){var c=[].concat(e);if(Object.getPrototypeOf(e).splice.call(e,0,e.length),n)for(var p=0;p<n.length;p++){var y=n[p];r&&i.createItemValue&&(y=i.createItemValue(y,this.getItemValueType())),Object.getPrototypeOf(e).push.call(e,y),o&&o(e[p])}var b=new Fr(0,c.length,e,c);this.propertyValueChanged(t,c,e,b),this.notifyArrayChanged(e,b)},i.prototype.isTwoValueEquals=function(t,e,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!1),g.isTwoValueEquals(t,e,!1,!n,r)},i.copyObject=function(t,e){for(var n in e){var r=e[n];typeof r=="object"&&(r={},this.copyObject(r,e[n])),t[n]=r}},i.prototype.copyCssClasses=function(t,e){e&&(typeof e=="string"||e instanceof String?t.root=e:i.copyObject(t,e))},i.prototype.getValueInLowCase=function(t){return t&&typeof t=="string"?t.toLowerCase():t},i.prototype.getElementsInDesign=function(t){return[]},Object.defineProperty(i.prototype,"animationAllowed",{get:function(){return this.getIsAnimationAllowed()},enumerable:!1,configurable:!0}),i.prototype.getIsAnimationAllowed=function(){return N.animationEnabled&&this.animationAllowedLock>=0&&!this.isLoadingFromJson&&!this.isDisposed&&(!!this.onElementRerendered||!this.supportOnElementRerenderedEvent)},i.prototype.blockAnimations=function(){this.animationAllowedLock--},i.prototype.releaseAnimations=function(){this.animationAllowedLock++},i.prototype.enableOnElementRerenderedEvent=function(){this.onElementRerenderedEventEnabled=!0},i.prototype.disableOnElementRerenderedEvent=function(){var t;(t=this.onElementRerendered)===null||t===void 0||t.fire(this,{isCancel:!0}),this.onElementRerenderedEventEnabled=!1},Object.defineProperty(i.prototype,"onElementRerendered",{get:function(){return this.supportOnElementRerenderedEvent&&this.onElementRerenderedEventEnabled?this._onElementRerendered:void 0},enumerable:!1,configurable:!0}),i.prototype.afterRerender=function(){var t;(t=this.onElementRerendered)===null||t===void 0||t.fire(this,{isCancel:!1})},i.currentDependencis=void 0,i}(),Fr=function(){function i(t,e,n,r){this.index=t,this.deleteCount=e,this.itemsToAdd=n,this.deletedItems=r}return i}(),Da=function(){function i(){}return Object.defineProperty(i.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this.callbacks?this.callbacks.length:0},enumerable:!1,configurable:!0}),i.prototype.fireByCreatingOptions=function(t,e){if(this.callbacks){for(var n=0;n<this.callbacks.length;n++)if(this.callbacks[n](t,e()),!this.callbacks)return}},i.prototype.fire=function(t,e){if(this.callbacks){for(var n=[].concat(this.callbacks),r=0;r<n.length;r++)if(n[r](t,e),!this.callbacks)return}},i.prototype.clear=function(){this.callbacks=void 0},i.prototype.add=function(t){this.hasFunc(t)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(t),this.fireCallbackChanged())},i.prototype.remove=function(t){if(this.hasFunc(t)){var e=this.callbacks.indexOf(t,0);this.callbacks.splice(e,1),this.fireCallbackChanged()}},i.prototype.hasFunc=function(t){return this.callbacks==null?!1:this.callbacks.indexOf(t,0)>-1},i.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},i}(),Rn=function(i){xm(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t}(Da),Om=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),La=function(){function i(t,e,n,r,o){var c=this;r===void 0&&(r=null),o===void 0&&(o=function(p){queueMicrotask?queueMicrotask(p):p()}),this.container=t,this.model=e,this.itemsSelector=n,this.dotsItemSize=r,this.delayedUpdateFunction=o,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.recalcMinDimensionConst=!0,this.getComputedStyle=function(p){return h.getComputedStyle(p)},this.model.updateCallback=function(p){p&&(c.isInitialized=!1),setTimeout(function(){c.process()},1)},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(p){f.requestAnimationFrame(function(){c.process()})}),this.resizeObserver.observe(this.container.parentElement))}return i.prototype.getDimensions=function(t){return{scroll:t.scrollWidth,offset:t.offsetWidth}},i.prototype.getAvailableSpace=function(){var t=this.getComputedStyle(this.container),e=this.container.offsetWidth;return t.boxSizing==="border-box"&&(e-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)),e},i.prototype.calcItemSize=function(t){return t.offsetWidth},i.prototype.calcMinDimension=function(t){var e=this.minDimensionConst;return t.iconSize&&this.recalcMinDimensionConst&&(e=2*t.iconSize+this.paddingSizeConst),t.canShrink?e+(t.needSeparator?this.separatorSize:0):t.maxDimension},i.prototype.calcItemsSizes=function(){var t=this;if(!this.isInitialized){var e=this.model.actions,n=this.container.querySelectorAll(this.itemsSelector);(n||[]).forEach(function(r,o){var c=e[o];c&&t.calcActionDimensions(c,r)})}},i.prototype.calcActionDimensions=function(t,e){t.maxDimension=this.calcItemSize(e),t.minDimension=this.calcMinDimension(t)},Object.defineProperty(i.prototype,"isContainerVisible",{get:function(){return Ja(this.container)},enumerable:!1,configurable:!0}),i.prototype.process=function(){var t=this;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||this.model.setActionsMode("large");var e=function(){var r,o=t.dotsItemSize;if(!t.dotsItemSize){var c=(r=t.container)===null||r===void 0?void 0:r.querySelector(".sv-dots");o=c&&t.calcItemSize(c)||t.dotsSizeConst}t.model.fit(t.getAvailableSpace(),o)};if(this.isInitialized)e();else{var n=function(){t.calcItemsSizes(),t.isInitialized=!0,e()};this.delayedUpdateFunction?this.delayedUpdateFunction(n):n()}}},i.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect()},i}(),Rm=function(i){Om(t,i);function t(e,n,r,o,c,p){c===void 0&&(c=40);var y=i.call(this,e,n,r,o,p)||this;return y.minDimensionConst=c,y.recalcMinDimensionConst=!1,y}return t.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},t.prototype.getAvailableSpace=function(){var e=this.getComputedStyle(this.container),n=this.container.offsetHeight;return e.boxSizing==="border-box"&&(n-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)),n},t.prototype.calcItemSize=function(e){return e.offsetHeight},t.prototype.calcActionDimensions=function(e,n){e.maxDimension=this.calcItemSize(n),e.minDimension=this.calcItemSize(n)},t}(La),J=function(){function i(){this.classes=[]}return i.prototype.isEmpty=function(){return this.toString()===""},i.prototype.append=function(t,e){return e===void 0&&(e=!0),t&&e&&(typeof t=="string"&&(t=t.trim()),this.classes.push(t)),this},i.prototype.toString=function(){return this.classes.join(" ")},i}(),Im=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zi=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ka={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemWithTitle:"",itemAsIcon:"sv-action-bar-item--icon",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"},Nn=function(i){Im(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.sizeMode="default",e}return t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},t.prototype.getRenderedActions=function(){return this.actions},t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this),this.actions.forEach(function(e){e.locTitle&&e.locTitle.strChanged(),e.locStrsChanged()})},t.prototype.raiseUpdate=function(e){this.isEmpty=!this.actions.some(function(n){return n.visible}),this.updateCallback&&this.updateCallback(e)},t.prototype.onSet=function(){var e=this;this.actions.forEach(function(n){e.setActionCssClasses(n)}),this.raiseUpdate(!0)},t.prototype.onPush=function(e){this.setActionCssClasses(e),e.owner=this,this.raiseUpdate(!0)},t.prototype.onRemove=function(e){e.owner=null,this.raiseUpdate(!0)},t.prototype.setActionCssClasses=function(e){e.cssClasses=this.cssClasses},Object.defineProperty(t.prototype,"hasActions",{get:function(){return(this.actions||[]).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedActions",{get:function(){return this.getRenderedActions()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleActions",{get:function(){return this.actions.filter(function(e){return e.visible!==!1})},enumerable:!1,configurable:!0}),t.prototype.getRootCss=function(){var e=this.sizeMode==="small"?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return new J().append(this.cssClasses.root+(e?" "+e:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()},t.prototype.getDefaultCssClasses=function(){return ka},Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue},set:function(e){var n=this;this.cssClassesValue={},this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),dr(e,this.cssClasses),this.actions.forEach(function(r){n.setActionCssClasses(r)})},enumerable:!1,configurable:!0}),t.prototype.createAction=function(e){return e instanceof ts?e:new ot(e)},t.prototype.addAction=function(e,n){var r=this.createAction(e);return this.actions.push(r),this.sortItems(),r},t.prototype.sortItems=function(){this.actions=[].concat(this.actions.filter(function(e){return e.visibleIndex===void 0||e.visibleIndex>=0})).sort(function(e,n){return e.visibleIndex-n.visibleIndex})},t.prototype.setItems=function(e,n){var r=this;n===void 0&&(n=!0),this.actions=e.map(function(o){return r.createAction(o)}),n&&this.sortItems()},t.prototype.popupAfterShowCallback=function(e){},t.prototype.mouseOverHandler=function(e){var n=this;e.isHovered=!0,this.actions.forEach(function(r){r===e&&e.popupModel&&(e.showPopupDelayed(n.subItemsShowDelay),n.popupAfterShowCallback(e))})},t.prototype.initResponsivityManager=function(e,n){},t.prototype.resetResponsivityManager=function(){},t.prototype.getActionById=function(e){for(var n=0;n<this.actions.length;n++)if(this.actions[n].id===e)return this.actions[n];return null},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.actions.forEach(function(e){return e.dispose()}),this.actions.length=0},Zi([ee({onSet:function(e,n){n.onSet()},onPush:function(e,n,r){r.onPush(e)},onRemove:function(e,n,r){r.onRemove(e)}})],t.prototype,"actions",void 0),Zi([V({})],t.prototype,"containerCss",void 0),Zi([V({defaultValue:!1})],t.prototype,"isEmpty",void 0),Zi([V({defaultValue:300})],t.prototype,"subItemsShowDelay",void 0),Zi([V({defaultValue:300})],t.prototype,"subItemsHideDelay",void 0),t}($e),mi=function(){function i(){}return i.focusElement=function(t){t&&t.focus()},i.visibility=function(t){var e=h.getComputedStyle(t);return e.display==="none"||e.visibility==="hidden"?!1:t.parentElement?this.visibility(t.parentElement):!0},i.getNextElementPreorder=function(t){var e=t.nextElementSibling?t.nextElementSibling:t.parentElement.firstElementChild;return this.visibility(e)?e:this.getNextElementPreorder(e)},i.getNextElementPostorder=function(t){var e=t.previousElementSibling?t.previousElementSibling:t.parentElement.lastElementChild;return this.visibility(e)?e:this.getNextElementPostorder(e)},i.hasHorizontalScroller=function(t){return t?t.scrollWidth>t.offsetWidth:!1},i.hasVerticalScroller=function(t){return t?t.scrollHeight>t.offsetHeight:!1},i}(),Em=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fn=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},_m={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemGroup:"sv-list__item--group",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemHovered:"sv-list__item--hovered",itemTextWrap:"sv-list__item-text--wrap",itemIcon:"sv-list__item-icon",itemMarkerIcon:"sv-list-item__marker-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",itemsContainerFiltering:"sv-list--filtering",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"},Yi=function(i){Em(t,i);function t(e,n,r,o,c){var p=i.call(this)||this;if(p.onSelectionChanged=n,p.allowSelection=r,p.elementId=c,p.onItemClick=function(b){if(!p.isItemDisabled(b)){p.isExpanded=!1,p.allowSelection&&(p.selectedItem=b),p.onSelectionChanged&&p.onSelectionChanged(b);var E=b.action;E&&E(b)}},p.onItemHover=function(b){p.mouseOverHandler(b)},p.isItemDisabled=function(b){return b.enabled!==void 0&&!b.enabled},p.isItemSelected=function(b){return p.areSameItems(p.selectedItem,b)},p.isItemFocused=function(b){return p.areSameItems(p.focusedItem,b)},p.getListClass=function(){return new J().append(p.cssClasses.itemsContainer).append(p.cssClasses.itemsContainerFiltering,!!p.filterString&&p.visibleActions.length!==p.visibleItems.length).toString()},p.getItemClass=function(b){return new J().append(p.cssClasses.item).append(p.cssClasses.itemWithIcon,!!b.iconName).append(p.cssClasses.itemDisabled,p.isItemDisabled(b)).append(p.cssClasses.itemFocused,p.isItemFocused(b)).append(p.cssClasses.itemSelected,p.isItemSelected(b)).append(p.cssClasses.itemGroup,b.hasSubItems).append(p.cssClasses.itemHovered,b.isHovered).append(p.cssClasses.itemTextWrap,p.textWrapEnabled).append(b.css).toString()},p.getItemIndent=function(b){var E=b.level||0;return(E+1)*t.INDENT+"px"},Object.keys(e).indexOf("items")!==-1){var y=e;Object.keys(y).forEach(function(b){switch(b){case"items":p.setItems(y.items);break;case"onFilterStringChangedCallback":p.setOnFilterStringChangedCallback(y.onFilterStringChangedCallback);break;case"onTextSearchCallback":p.setOnTextSearchCallback(y.onTextSearchCallback);break;default:p[b]=y[b]}})}else p.setItems(e),p.selectedItem=o;return p}return t.prototype.hasText=function(e,n){if(!n)return!0;var r=e.title||"";if(this.onTextSearchCallback)return this.onTextSearchCallback(e,n);var o=r.toLocaleLowerCase();return o=N.comparator.normalizeTextCallback(o,"filter"),o.indexOf(n.toLocaleLowerCase())>-1},t.prototype.isItemVisible=function(e){return e.visible&&(!this.shouldProcessFilter||this.hasText(e,this.filterString))},t.prototype.getRenderedActions=function(){var e=i.prototype.getRenderedActions.call(this);if(this.filterString){var n=[];return e.forEach(function(r){n.push(r),r.items&&r.items.forEach(function(o){var c=new ot(o);c.iconName||(c.iconName=r.iconName),n.push(c)})}),n}return e},Object.defineProperty(t.prototype,"visibleItems",{get:function(){var e=this;return this.visibleActions.filter(function(n){return e.isItemVisible(n)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldProcessFilter",{get:function(){return!this.onFilterStringChangedCallback},enumerable:!1,configurable:!0}),t.prototype.onFilterStringChanged=function(e){var n=this;this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(e),this.isEmpty=this.renderedActions.filter(function(r){return n.isItemVisible(r)}).length===0},t.prototype.scrollToItem=function(e,n){var r=this;n===void 0&&(n=0),setTimeout(function(){if(r.listContainerHtmlElement){var o=r.listContainerHtmlElement.querySelector("."+e);o&&setTimeout(function(){o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},n)}},n)},t.prototype.setOnFilterStringChangedCallback=function(e){this.onFilterStringChangedCallback=e},t.prototype.setOnTextSearchCallback=function(e){this.onTextSearchCallback=e},t.prototype.setItems=function(e,n){var r=this;n===void 0&&(n=!0),i.prototype.setItems.call(this,e,n),this.elementId&&this.renderedActions.forEach(function(o){o.elementId=r.elementId+o.id}),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)},t.prototype.onSet=function(){this.showFilter=this.searchEnabled&&(this.forceShowFilter||(this.actions||[]).length>t.MINELEMENTCOUNT),i.prototype.onSet.call(this)},t.prototype.getDefaultCssClasses=function(){return _m},t.prototype.popupAfterShowCallback=function(e){this.addScrollEventListener(function(){e.hidePopup()})},t.prototype.onItemLeave=function(e){e.hidePopupDelayed(this.subItemsHideDelay)},t.prototype.areSameItems=function(e,n){return this.areSameItemsCallback?this.areSameItemsCallback(e,n):!!e&&!!n&&e.id==n.id},Object.defineProperty(t.prototype,"filterStringPlaceholder",{get:function(){return this.getLocalizationString("filterStringPlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyMessage",{get:function(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.loadingText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollableContainer",{get:function(){return this.listContainerHtmlElement.querySelector("."+this.getDefaultCssClasses().itemsContainer)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingText",{get:function(){return this.getLocalizationString("loadingFile")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingIndicator",{get:function(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new ot({id:"loadingIndicator",title:this.loadingText,action:function(){},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue},enumerable:!1,configurable:!0}),t.prototype.goToItems=function(e){if(e.key==="ArrowDown"||e.keyCode===40){var n=e.target.parentElement,r=n.parentElement.querySelector("ul"),o=Zm(r);r&&o&&(mi.focusElement(o),e.preventDefault())}},t.prototype.onMouseMove=function(e){this.resetFocusedItem()},t.prototype.onKeyDown=function(e){var n=e.target;e.key==="ArrowDown"||e.keyCode===40?(mi.focusElement(mi.getNextElementPreorder(n)),e.preventDefault()):(e.key==="ArrowUp"||e.keyCode===38)&&(mi.focusElement(mi.getNextElementPostorder(n)),e.preventDefault())},t.prototype.onPointerDown=function(e,n){},t.prototype.refresh=function(){this.filterString="",this.resetFocusedItem()},t.prototype.onClickSearchClearButton=function(e){e.currentTarget.parentElement.querySelector("input").focus(),this.refresh()},t.prototype.resetFocusedItem=function(){this.focusedItem=void 0},t.prototype.focusFirstVisibleItem=function(){this.focusedItem=this.visibleItems[0]},t.prototype.focusLastVisibleItem=function(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]},t.prototype.initFocusedItem=function(){var e=this;this.focusedItem=this.visibleItems.filter(function(n){return n.visible&&e.isItemSelected(n)})[0],this.focusedItem||this.focusFirstVisibleItem()},t.prototype.focusNextVisibleItem=function(){if(!this.focusedItem)this.initFocusedItem();else{var e=this.visibleItems,n=e.indexOf(this.focusedItem),r=e[n+1];r?this.focusedItem=r:this.focusFirstVisibleItem()}},t.prototype.focusPrevVisibleItem=function(){if(!this.focusedItem)this.initFocusedItem();else{var e=this.visibleItems,n=e.indexOf(this.focusedItem),r=e[n-1];r?this.focusedItem=r:this.focusLastVisibleItem()}},t.prototype.selectFocusedItem=function(){this.focusedItem&&this.onItemClick(this.focusedItem)},t.prototype.initListContainerHtmlElement=function(e){this.listContainerHtmlElement=e},t.prototype.onLastItemRended=function(e){this.isAllDataLoaded||e===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=mi.hasVerticalScroller(this.scrollableContainer))},t.prototype.scrollToFocusedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemFocused)},t.prototype.scrollToSelectedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemSelected,110)},t.prototype.addScrollEventListener=function(e){e&&(this.removeScrollEventListener(),this.scrollHandler=e),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)},t.prototype.removeScrollEventListener=function(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose(),this.listContainerHtmlElement=void 0},t.INDENT=16,t.MINELEMENTCOUNT=10,fn([V({defaultValue:!0,onSet:function(e,n){n.onSet()}})],t.prototype,"searchEnabled",void 0),fn([V({defaultValue:!1})],t.prototype,"showFilter",void 0),fn([V({defaultValue:!1})],t.prototype,"forceShowFilter",void 0),fn([V({defaultValue:!1})],t.prototype,"isExpanded",void 0),fn([V({})],t.prototype,"selectedItem",void 0),fn([V()],t.prototype,"focusedItem",void 0),fn([V({onSet:function(e,n){n.onFilterStringChanged(n.filterString)}})],t.prototype,"filterString",void 0),fn([V({defaultValue:!1})],t.prototype,"hasVerticalScroller",void 0),fn([V({defaultValue:!0})],t.prototype,"isAllDataLoaded",void 0),fn([V({defaultValue:!1})],t.prototype,"showSearchClearButton",void 0),fn([V({defaultValue:!0})],t.prototype,"renderElements",void 0),fn([V({defaultValue:!1})],t.prototype,"textWrapEnabled",void 0),fn([V({defaultValue:"sv-list-item-content"})],t.prototype,"itemComponent",void 0),t}(Nn),Am=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),sn=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Xi=function(i){Am(t,i);function t(e,n,r,o){var c=i.call(this)||this;if(c.focusFirstInputSelector="",c.onCancel=function(){},c.onApply=function(){return!0},c.onHide=function(){},c.onShow=function(){},c.onDispose=function(){},c.onVisibilityChanged=c.addEvent(),c.onFooterActionsCreated=c.addEvent(),c.onRecalculatePosition=c.addEvent(),c.contentComponentName=e,c.contentComponentData=n,r&&typeof r=="string")c.verticalPosition=r,c.horizontalPosition=o;else if(r){var p=r;for(var y in p)c[y]=p[y]}return c}return t.prototype.refreshInnerModel=function(){var e=this.contentComponentData.model;e&&e.refresh&&e.refresh()},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(e){this.isVisible!==e&&(this.setPropertyValue("isVisible",e),this.onVisibilityChanged.fire(this,{model:this,isVisible:e}))},enumerable:!1,configurable:!0}),t.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},t.prototype.show=function(){this.isVisible||(this.isVisible=!0)},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},t.prototype.recalculatePosition=function(e){this.onRecalculatePosition.fire(this,{isResetHeight:e})},t.prototype.updateFooterActions=function(e){var n={actions:e};return this.onFooterActionsCreated.fire(this,n),n.actions},t.prototype.updateDisplayMode=function(e){switch(e){case"dropdown":{this.displayMode="popup";break}case"popup":{this.displayMode="overlay",this.overlayDisplayMode="tablet-dropdown-overlay";break}case"overlay":{this.displayMode="overlay",this.overlayDisplayMode="dropdown-overlay";break}}},t.prototype.onHiding=function(){this.refreshInnerModel(),this.onHide()},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.onDispose()},sn([V()],t.prototype,"contentComponentName",void 0),sn([V()],t.prototype,"contentComponentData",void 0),sn([V({defaultValue:"bottom"})],t.prototype,"verticalPosition",void 0),sn([V({defaultValue:"left"})],t.prototype,"horizontalPosition",void 0),sn([V({defaultValue:!0})],t.prototype,"showPointer",void 0),sn([V({defaultValue:!1})],t.prototype,"isModal",void 0),sn([V({defaultValue:!0})],t.prototype,"canShrink",void 0),sn([V({defaultValue:!0})],t.prototype,"isFocusedContent",void 0),sn([V({defaultValue:!0})],t.prototype,"isFocusedContainer",void 0),sn([V({defaultValue:""})],t.prototype,"cssClass",void 0),sn([V({defaultValue:""})],t.prototype,"title",void 0),sn([V({defaultValue:"auto"})],t.prototype,"overlayDisplayMode",void 0),sn([V({defaultValue:"popup"})],t.prototype,"displayMode",void 0),sn([V({defaultValue:"flex"})],t.prototype,"positionMode",void 0),t}($e);function Dm(i,t,e,n,r,o,c,p,y){return r===void 0&&(r=function(){}),o===void 0&&(o=function(){}),y===void 0&&(y="popup"),Ze.warn("The `showModal()` and `createDialogOptions()` methods are obsolete. Use the `showDialog()` method instead."),{componentName:i,data:t,onApply:e,onCancel:n,onHide:r,onShow:o,cssClass:c,title:p,displayMode:y}}var Yc=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rt=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Lm=function(i,t){for(var e=0,n=t.length,r=i.length;e<n;e++,r++)i[r]=t[e];return i};function km(i,t,e){return t.locOwner=e,Ma(i,t,t)}function Ma(i,t,e){var n,r=t.onSelectionChanged;t.onSelectionChanged=function(y){for(var b=[],E=1;E<arguments.length;E++)b[E-1]=arguments[E];p.hasTitle&&(p.title=y.title),r&&r(y,b)};var o=qa(t,e),c=Object.assign({},i,{component:"sv-action-bar-item-dropdown",popupModel:o,action:function(y,b){i.action&&i.action(),o.isFocusedContent=o.isFocusedContent||!b,o.show()}}),p=new ot(c);return p.data=(n=o.contentComponentData)===null||n===void 0?void 0:n.model,p}function qa(i,t){var e=new Yi(i);e.onSelectionChanged=function(o){i.onSelectionChanged&&i.onSelectionChanged(o),r.hide()};var n=t||{};n.onDispose=function(){e.dispose()};var r=new Xi("sv-list",{model:e},n);return r.isFocusedContent=e.showFilter,r.onShow=function(){n.onShow&&n.onShow(),e.scrollToSelectedItem()},r}function Mm(i){return i==null?void 0:i.previousElementSibling}var ts=function(i){Yc(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.rendredIdValue=t.getNextRendredId(),e.markerIconSize=16,e}return t.getNextRendredId=function(){return t.renderedId++},Object.defineProperty(t.prototype,"renderedId",{get:function(){return this.rendredIdValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this.ownerValue},set:function(e){e!==this.owner&&(this.ownerValue=e,this.locStrsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.getVisible()},set:function(e){this.setVisible(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.getEnabled()},set:function(e){this.setEnabled(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.getComponent()},set:function(e){this.setComponent(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.getLocTitle()},set:function(e){this.setLocTitle(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getTitle()},set:function(e){this.setTitle(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.cssClassesValue||ka},set:function(e){this.cssClassesValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.visible&&this.mode!=="popup"&&this.mode!=="removed"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.enabled!==void 0&&!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShrink",{get:function(){return!this.disableShrink&&!!this.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return(this.mode!="small"&&(this.showTitle||this.showTitle===void 0)||!this.iconName)&&!!this.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSubItems",{get:function(){return!!this.items&&this.items.length>0},enumerable:!1,configurable:!0}),t.prototype.getActionBarItemTitleCss=function(){return new J().append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()},t.prototype.getActionBarItemCss=function(){return new J().append(this.cssClasses.item).append(this.cssClasses.itemWithTitle,this.hasTitle).append(this.cssClasses.itemAsIcon,!this.hasTitle).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()},t.prototype.getActionRootCss=function(){return new J().append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()},t.prototype.getTooltip=function(){return this.tooltip||this.title},t.prototype.getIsTrusted=function(e){return e.originalEvent?e.originalEvent.isTrusted:e.isTrusted},t.prototype.showPopup=function(){this.popupModel&&this.popupModel.show()},t.prototype.hidePopup=function(){this.popupModel&&this.popupModel.hide()},t.prototype.clearPopupTimeouts=function(){this.showPopupTimeout&&clearTimeout(this.showPopupTimeout),this.hidePopupTimeout&&clearTimeout(this.hidePopupTimeout)},t.prototype.showPopupDelayed=function(e){var n=this;this.clearPopupTimeouts(),this.showPopupTimeout=setTimeout(function(){n.clearPopupTimeouts(),n.showPopup()},e)},t.prototype.hidePopupDelayed=function(e){var n=this,r;!((r=this.popupModel)===null||r===void 0)&&r.isVisible?(this.clearPopupTimeouts(),this.hidePopupTimeout=setTimeout(function(){n.clearPopupTimeouts(),n.hidePopup(),n.isHovered=!1},e)):(this.clearPopupTimeouts(),this.isHovered=!1)},t.renderedId=1,rt([V()],t.prototype,"tooltip",void 0),rt([V()],t.prototype,"showTitle",void 0),rt([V()],t.prototype,"innerCss",void 0),rt([V()],t.prototype,"active",void 0),rt([V()],t.prototype,"pressed",void 0),rt([V()],t.prototype,"data",void 0),rt([V()],t.prototype,"popupModel",void 0),rt([V()],t.prototype,"needSeparator",void 0),rt([V()],t.prototype,"template",void 0),rt([V({defaultValue:"large"})],t.prototype,"mode",void 0),rt([V()],t.prototype,"visibleIndex",void 0),rt([V()],t.prototype,"disableTabStop",void 0),rt([V()],t.prototype,"disableShrink",void 0),rt([V()],t.prototype,"disableHide",void 0),rt([V({defaultValue:!1})],t.prototype,"needSpace",void 0),rt([V()],t.prototype,"ariaChecked",void 0),rt([V()],t.prototype,"ariaExpanded",void 0),rt([V({defaultValue:"button"})],t.prototype,"ariaRole",void 0),rt([V()],t.prototype,"iconName",void 0),rt([V({defaultValue:24})],t.prototype,"iconSize",void 0),rt([V()],t.prototype,"markerIconName",void 0),rt([V()],t.prototype,"markerIconSize",void 0),rt([V()],t.prototype,"css",void 0),rt([V({defaultValue:!1})],t.prototype,"isPressed",void 0),rt([V({defaultValue:!1})],t.prototype,"isHovered",void 0),t}($e),ot=function(i){Yc(t,i);function t(e){var n=i.call(this)||this;if(n.innerItem=e,n.locTitleChanged=function(){var o=n.locTitle.renderedHtml;n.setPropertyValue("_title",o||void 0)},n.locTitle=e?e.locTitle:null,e)for(var r in e)r==="locTitle"||r==="title"&&n.locTitle&&n.title||(n[r]=e[r]);return n.locTitleName&&n.locTitleChanged(),n.registerFunctionOnPropertyValueChanged("_title",function(){n.raiseUpdate(!0)}),n.locStrChangedInPopupModel(),n}return t.prototype.raiseUpdate=function(e){e===void 0&&(e=!1),this.updateCallback&&this.updateCallback(e)},t.prototype.createLocTitle=function(){return this.createLocalizableString("title",this,!0)},t.prototype.setSubItems=function(e){this.markerIconName="icon-next_16x16",this.component="sv-list-item-group",this.items=Lm([],e.items);var n=Object.assign({},e);n.searchEnabled=!1;var r=qa(n,{horizontalPosition:"right",showPointer:!1,canShrink:!1});r.cssClass="sv-popup-inner",this.popupModel=r},t.prototype.getLocTitle=function(){return this.locTitleValue},t.prototype.setLocTitle=function(e){!e&&!this.locTitleValue&&(e=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=e,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()},t.prototype.getTitle=function(){return this._title},t.prototype.setTitle=function(e){this._title=e},Object.defineProperty(t.prototype,"locTitleName",{get:function(){return this.locTitle.localizationName},set:function(e){this.locTitle.localizationName=e},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this),this.locTooltipChanged(),this.locStrChangedInPopupModel()},t.prototype.doAction=function(e){var n=e.originalEvent?e.originalEvent:e;return this.action(this,n.isTrusted),n.preventDefault(),n.stopPropagation(),!0},t.prototype.doMouseDown=function(e){this.isMouseDown=!0},t.prototype.doFocus=function(e){if(this.onFocus){var n=e.originalEvent?e.originalEvent:e;this.onFocus(this.isMouseDown,n)}this.isMouseDown=!1},t.prototype.locStrChangedInPopupModel=function(){if(!(!this.popupModel||!this.popupModel.contentComponentData||!this.popupModel.contentComponentData.model)){var e=this.popupModel.contentComponentData.model;if(Array.isArray(e.actions)){var n=e.actions;n.forEach(function(r){r.locStrsChanged&&r.locStrsChanged()})}}},t.prototype.locTooltipChanged=function(){this.locTooltipName&&(this.tooltip=v.getString(this.locTooltipName,this.locTitle.locale))},t.prototype.getLocale=function(){return this.owner?this.owner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.owner?this.owner.getMarkdownHtml(e,n):void 0},t.prototype.getProcessedText=function(e){return this.owner?this.owner.getProcessedText(e):e},t.prototype.getRenderer=function(e){return this.owner?this.owner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.owner?this.owner.getRendererContext(e):e},t.prototype.setVisible=function(e){this._visible=e},t.prototype.getVisible=function(){return this._visible},t.prototype.setEnabled=function(e){this._enabled=e},t.prototype.getEnabled=function(){return this.enabledIf?this.enabledIf():this._enabled},t.prototype.setComponent=function(e){this._component=e},t.prototype.getComponent=function(){return this._component},t.prototype.dispose=function(){this.updateCallback=void 0,this.action=void 0,i.prototype.dispose.call(this),this.popupModel&&this.popupModel.dispose(),this.locTitleValue&&(this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleChanged=void 0)},rt([V()],t.prototype,"id",void 0),rt([V({defaultValue:!0,onSet:function(e,n){n.raiseUpdate()}})],t.prototype,"_visible",void 0),rt([V({onSet:function(e,n){n.locTooltipChanged()}})],t.prototype,"locTooltipName",void 0),rt([V()],t.prototype,"_enabled",void 0),rt([V()],t.prototype,"action",void 0),rt([V()],t.prototype,"onFocus",void 0),rt([V()],t.prototype,"_component",void 0),rt([V()],t.prototype,"items",void 0),rt([V({onSet:function(e,n){n.locTitleValue.text!==e&&(n.locTitleValue.text=e)}})],t.prototype,"_title",void 0),t}(ts),qm=function(){function i(t){this.item=t,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}return i.prototype.setupPopupCallbacks=function(){var t=this,e=this.popupModel=this.item.popupModel;e&&e.registerPropertyChangedHandlers(["isVisible"],function(){e.isVisible?t.item.pressed=!0:t.item.pressed=!1},this.funcKey)},i.prototype.removePopupCallbacks=function(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)},i.prototype.dispose=function(){this.removePopupCallbacks()},i}(),jm=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ns=function(i){jm(t,i);function t(){var e=i.call(this)||this;return e.minVisibleItemsCount=0,e.isResponsivenessDisabled=!1,e.dotsItem=Ma({id:"dotsItem-id"+t.ContainerID++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:v.getString("more")},{items:[],allowSelection:!1}),e}return t.prototype.hideItemsGreaterN=function(e){var n=this.getActionsToHide();e=Math.max(e,this.minVisibleItemsCount-(this.visibleActions.length-n.length));var r=[];n.forEach(function(o){e<=0&&(o.removePriority?o.mode="removed":(o.mode="popup",r.push(o.innerItem))),e--}),this.hiddenItemsListModel.setItems(r)},t.prototype.getActionsToHide=function(){return this.visibleActions.filter(function(e){return!e.disableHide}).sort(function(e,n){return e.removePriority||0-n.removePriority||0})},t.prototype.getVisibleItemsCount=function(e){this.visibleActions.filter(function(c){return c.disableHide}).forEach(function(c){return e-=c.minDimension});for(var n=this.getActionsToHide().map(function(c){return c.minDimension}),r=0,o=0;o<n.length;o++)if(r+=n[o],r>e)return o;return o},t.prototype.updateItemMode=function(e,n){for(var r=this.visibleActions,o=r.length-1;o>=0;o--)n>e&&!r[o].disableShrink?(n-=r[o].maxDimension-r[o].minDimension,r[o].mode="small"):r[o].mode="large";if(n>e){var c=this.visibleActions.filter(function(p){return p.removePriority});c.sort(function(p,y){return p.removePriority-y.removePriority});for(var o=0;o<c.length;o++)n>e&&(n-=r[o].disableShrink?c[o].maxDimension:c[o].minDimension,c[o].mode="removed")}},Object.defineProperty(t.prototype,"hiddenItemsListModel",{get:function(){return this.dotsItem.data},enumerable:!1,configurable:!0}),t.prototype.onSet=function(){var e=this;this.actions.forEach(function(n){return n.updateCallback=function(r){return e.raiseUpdate(r)}}),i.prototype.onSet.call(this)},t.prototype.onPush=function(e){var n=this;e.updateCallback=function(r){return n.raiseUpdate(r)},i.prototype.onPush.call(this,e)},t.prototype.getRenderedActions=function(){return this.actions.length===1&&this.actions[0].iconName?this.actions:this.actions.concat([this.dotsItem])},t.prototype.raiseUpdate=function(e){this.isResponsivenessDisabled||i.prototype.raiseUpdate.call(this,e)},t.prototype.fit=function(e,n){if(!(e<=0)){this.dotsItem.visible=!1;var r=0,o=0,c=this.visibleActions;c.forEach(function(p){r+=p.minDimension,o+=p.maxDimension}),e>=o?this.setActionsMode("large"):e<r?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(e-n)),this.dotsItem.visible=!!this.hiddenItemsListModel.actions.length):this.updateItemMode(e,o)}},t.prototype.initResponsivityManager=function(e,n){this.responsivityManager=new La(e,this,":scope > .sv-action:not(.sv-dots) > .sv-action__content",null,n)},t.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},t.prototype.setActionsMode=function(e){this.actions.forEach(function(n){e=="small"&&n.disableShrink||(n.mode=e)})},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.dotsItem.data.dispose(),this.dotsItem.dispose(),this.resetResponsivityManager()},t.ContainerID=1,t}(Nn);(function(){function i(t,e){var n=this;e===void 0&&(e=!1),this.func=t,this.isMultiple=e,this._isCompleted=!1,this.execute=function(){n._isCompleted||(n.func(),n._isCompleted=!n.isMultiple)}}return i.prototype.discard=function(){this._isCompleted=!0},Object.defineProperty(i.prototype,"isCompleted",{get:function(){return this._isCompleted},enumerable:!1,configurable:!0}),i})();function Nm(i){var t=this,e=!1,n=!1,r;return{run:function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];n=!1,r=o,e||(e=!0,queueMicrotask(function(){n||i.apply(t,r),n=!1,e=!1}))},cancel:function(){n=!0}}}var eo=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ja=function(){function i(){this.cancelQueue=[]}return i.prototype.getMsFromRule=function(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3},i.prototype.reflow=function(t){return t.offsetHeight},i.prototype.getAnimationsCount=function(t){var e="";return getComputedStyle&&(e=getComputedStyle(t).animationName),e&&e!="none"?e.split(", ").length:0},i.prototype.getAnimationDuration=function(t){for(var e=getComputedStyle(t),n=e.animationDelay.split(", "),r=e.animationDuration.split(", "),o=0,c=0;c<Math.max(r.length,n.length);c++)o=Math.max(o,this.getMsFromRule(r[c%r.length])+this.getMsFromRule(n[c%n.length]));return o},i.prototype.addCancelCallback=function(t){this.cancelQueue.push(t)},i.prototype.removeCancelCallback=function(t){this.cancelQueue.indexOf(t)>=0&&this.cancelQueue.splice(this.cancelQueue.indexOf(t),1)},i.prototype.onAnimationEnd=function(t,e,n){var r=this,o,c=this.getAnimationsCount(t),p=function(b){b===void 0&&(b=!0),e(b),clearTimeout(o),r.removeCancelCallback(p),t.removeEventListener("animationend",y)},y=function(b){b.target==b.currentTarget&&--c<=0&&p(!1)};c>0?(t.addEventListener("animationend",y),this.addCancelCallback(p),o=setTimeout(function(){p(!1)},this.getAnimationDuration(t)+10)):e(!0)},i.prototype.afterAnimationRun=function(t,e){t&&e&&e.onAfterRunAnimation&&e.onAfterRunAnimation(t)},i.prototype.beforeAnimationRun=function(t,e){t&&e&&e.onBeforeRunAnimation&&e.onBeforeRunAnimation(t)},i.prototype.getCssClasses=function(t){return t.cssClass.replace(/\s+$/,"").split(/\s+/)},i.prototype.runAnimation=function(t,e,n){t&&(e!=null&&e.cssClass)?(this.reflow(t),this.getCssClasses(e).forEach(function(r){t.classList.add(r)}),this.onAnimationEnd(t,n,e)):n(!0)},i.prototype.clearHtmlElement=function(t,e){t&&e.cssClass&&this.getCssClasses(e).forEach(function(n){t.classList.remove(n)}),this.afterAnimationRun(t,e)},i.prototype.onNextRender=function(t,e){var n=this;if(e===void 0&&(e=!1),!e&&f.isAvailable()){var r=function(){t(!0),cancelAnimationFrame(o)},o=f.requestAnimationFrame(function(){o=f.requestAnimationFrame(function(){t(!1),n.removeCancelCallback(r)})});this.addCancelCallback(r)}else t(!0)},i.prototype.cancel=function(){var t=[].concat(this.cancelQueue);t.forEach(function(e){return e()}),this.cancelQueue=[]},i}(),Xc=function(i){eo(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.onEnter=function(e){var n=this,r=e.getAnimatedElement(),o=e.getEnterOptions?e.getEnterOptions():{};this.beforeAnimationRun(r,o),this.runAnimation(r,o,function(){n.clearHtmlElement(r,o)})},t.prototype.onLeave=function(e,n){var r=this,o=e.getAnimatedElement(),c=e.getLeaveOptions?e.getLeaveOptions():{};this.beforeAnimationRun(o,c),this.runAnimation(o,c,function(p){n(),r.onNextRender(function(){r.clearHtmlElement(o,c)},p)})},t}(ja),Na=function(i){eo(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.runGroupAnimation=function(e,n,r,o,c){var p=this,y={isAddingRunning:n.length>0,isDeletingRunning:r.length>0,isReorderingRunning:o.length>0},b=n.map(function(ve){return e.getAnimatedElement(ve)}),E=n.map(function(ve){return e.getEnterOptions?e.getEnterOptions(ve,y):{}}),M=r.map(function(ve){return e.getAnimatedElement(ve)}),Q=r.map(function(ve){return e.getLeaveOptions?e.getLeaveOptions(ve,y):{}}),X=o.map(function(ve){return e.getAnimatedElement(ve.item)}),oe=o.map(function(ve){return e.getReorderOptions?e.getReorderOptions(ve.item,ve.movedForward,y):{}});n.forEach(function(ve,Ne){p.beforeAnimationRun(b[Ne],E[Ne])}),r.forEach(function(ve,Ne){p.beforeAnimationRun(M[Ne],Q[Ne])}),o.forEach(function(ve,Ne){p.beforeAnimationRun(X[Ne],oe[Ne])});var we=n.length+r.length+X.length,Ce=function(ve){--we<=0&&(c&&c(),p.onNextRender(function(){n.forEach(function(Ne,Ot){p.clearHtmlElement(b[Ot],E[Ot])}),r.forEach(function(Ne,Ot){p.clearHtmlElement(M[Ot],Q[Ot])}),o.forEach(function(Ne,Ot){p.clearHtmlElement(X[Ot],oe[Ot])})},ve))};n.forEach(function(ve,Ne){p.runAnimation(b[Ne],E[Ne],Ce)}),r.forEach(function(ve,Ne){p.runAnimation(M[Ne],Q[Ne],Ce)}),o.forEach(function(ve,Ne){p.runAnimation(X[Ne],oe[Ne],Ce)})},t}(ja),rs=function(){function i(t,e,n){var r=this;this.animationOptions=t,this.update=e,this.getCurrentValue=n,this._debouncedSync=Nm(function(o){r.cancelAnimations();try{r._sync(o)}catch{r.update(o)}})}return i.prototype.onNextRender=function(t,e){var n=this,r=this.animationOptions.getRerenderEvent();if(r){var c=function(){r.remove(p),n.cancelCallback=void 0},p=function(y,b){b.isCancel?e&&e():t(),c()};this.cancelCallback=function(){e&&e(),c()},r.add(p)}else if(f.isAvailable()){var o=f.requestAnimationFrame(function(){t(),n.cancelCallback=void 0});this.cancelCallback=function(){e&&e(),cancelAnimationFrame(o),n.cancelCallback=void 0}}else throw new Error("Can't get next render")},i.prototype.sync=function(t){this.animationOptions.isAnimationEnabled()?this._debouncedSync.run(t):(this.cancel(),this.update(t))},i.prototype.cancel=function(){this._debouncedSync.cancel(),this.cancelAnimations()},i.prototype.cancelAnimations=function(){this.cancelCallback&&this.cancelCallback(),this.animation.cancel()},i}(),Fa=function(i){eo(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.animation=new Xc,e}return t.prototype._sync=function(e){var n=this;e!==this.getCurrentValue()?e?(this.onNextRender(function(){n.animation.onEnter(n.animationOptions)}),this.update(e)):this.animation.onLeave(this.animationOptions,function(){n.update(e)}):this.update(e)},t}(rs),cr=function(i){eo(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.animation=new Na,e}return t.prototype._sync=function(e){var n=this,r,o;e=[].concat(e);var c=[].concat(this.getCurrentValue()),p=(r=this.animationOptions.allowSyncRemovalAddition)!==null&&r!==void 0?r:!0,y=tv(c,e,(o=this.animationOptions.getKey)!==null&&o!==void 0?o:function(oe){return oe}),b=y.addedItems,E=y.deletedItems,M=y.reorderedItems,Q=y.mergedItems;!p&&(M.length>0||b.length>0)&&(E=[],Q=e);var X=function(){n.animation.runGroupAnimation(n.animationOptions,b,E,M,function(){E.length>0&&n.update(e)})};[b,E,M].some(function(oe){return oe.length>0})?E.length<=0||M.length>0||b.length>0?(this.onNextRender(X,function(){n.update(e)}),this.update(Q)):X():this.update(e)},t}(rs),Ba=function(i){eo(t,i);function t(e,n,r,o){var c=i.call(this,e,n,r)||this;return c.mergeValues=o,c.animation=new Na,c}return t.prototype._sync=function(e){var n=this,r=[].concat(this.getCurrentValue());if(r[0]!==e[0]){var o=this.mergeValues?this.mergeValues(e,r):[].concat(r,e);this.onNextRender(function(){n.animation.runGroupAnimation(n.animationOptions,e,r,[],function(){n.update(e)})},function(){return n.update(e)}),this.update(o,!0)}else this.update(e)},t}(rs),ed=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fn=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},is=function(i){ed(t,i);function t(){var e=i.call(this)||this;return e.createLocTitleProperty(),e}return t.prototype.createLocTitleProperty=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(t.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSurvey",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())},set:function(e){this.setTitleValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),t.prototype.getDefaultTitleValue=function(){},t.prototype.setTitleValue=function(e){this.setLocalizableStringText("title",e)},t.prototype.updateDescriptionVisibility=function(e){var n=!1;if(this.isDesignMode){var r=H.findProperty(this.getType(),"description");n=!!(r!=null&&r.placeholder)}this.hasDescription=!!e||n&&this.isDesignMode},Object.defineProperty(t.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleTagName",{get:function(){var e=this.getDefaultTitleTagName(),n=this.getSurvey();return n?n.getElementTitleTagName(this,e):e},enumerable:!1,configurable:!0}),t.prototype.getDefaultTitleTagName=function(){return N.titleTags[this.getType()]},Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.title.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleActions",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleEvents",{get:function(){return this.hasTitleActions},enumerable:!1,configurable:!0}),t.prototype.getTitleToolbar=function(){return null},t.prototype.getTitleOwner=function(){},Object.defineProperty(t.prototype,"isTitleOwner",{get:function(){return!!this.getTitleOwner()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTitleRenderedAsString",{get:function(){return this.getIsTitleRenderedAsString()},enumerable:!1,configurable:!0}),t.prototype.toggleState=function(){},Object.defineProperty(t.prototype,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssTitle",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaTitleId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaDescriptionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleTabIndex",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaExpanded",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaRole",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaLabel",{get:function(){return this.ariaLabel},enumerable:!1,configurable:!0}),t.prototype.getIsTitleRenderedAsString=function(){return!this.isTitleOwner},Fn([V({})],t.prototype,"hasDescription",void 0),Fn([V({localizable:!0,onSet:function(e,n){n.updateDescriptionVisibility(e)}})],t.prototype,"description",void 0),t}($e),Ha;(function(i){i[i.InsideEmptyPanel=1]="InsideEmptyPanel",i[i.MultilineRight=2]="MultilineRight",i[i.MultilineLeft=3]="MultilineLeft",i[i.Top=4]="Top",i[i.Right=5]="Right",i[i.Bottom=6]="Bottom",i[i.Left=7]="Left"})(Ha||(Ha={}));var Qt=function(i){ed(t,i);function t(e){var n=i.call(this)||this;return n.selectedElementInDesignValue=n,n.disableDesignActions=t.CreateDisabledDesignElements,n.parentQuestionValue=null,n.isContentElement=!1,n.isEditableTemplateElement=!1,n.isInteractiveDesignElement=!0,n.isSingleInRow=!0,n._renderedIsExpanded=!0,n._isAnimatingCollapseExpand=!1,n.animationCollapsed=new Fa(n.getExpandCollapseAnimationOptions(),function(r){n._renderedIsExpanded=r,n.animationAllowed&&(r?n.isAnimatingCollapseExpand=!0:n.updateElementCss(!1))},function(){return n.renderedIsExpanded}),n.onAfterRenderElement=n.addEvent(),n.name=e,n.createNewArray("errors"),n.createNewArray("titleActions"),n.registerPropertyChangedHandlers(["isReadOnly"],function(){n.onReadOnlyChanged()}),n.registerPropertyChangedHandlers(["errors"],function(){n.updateVisibleErrors()}),n.registerPropertyChangedHandlers(["isSingleInRow"],function(){n.updateElementCss(!1)}),n.registerPropertyChangedHandlers(["minWidth","maxWidth","renderWidth","allowRootStyle","parent"],function(){n.updateRootStyle()}),n}return t.getProgressInfoByElements=function(e,n){for(var r=$e.createProgressInfo(),o=0;o<e.length;o++)if(e[o].isVisible){var c=e[o].getProgressInfo();r.questionCount+=c.questionCount,r.answeredQuestionCount+=c.answeredQuestionCount,r.requiredQuestionCount+=c.requiredQuestionCount,r.requiredAnsweredQuestionCount+=c.requiredAnsweredQuestionCount}return n&&r.questionCount>0&&(r.requiredQuestionCount==0&&(r.requiredQuestionCount=1),r.answeredQuestionCount>0&&(r.requiredAnsweredQuestionCount=1)),r},t.IsNeedScrollIntoView=function(e,n,r){var o=r?-1:e.getBoundingClientRect().top,c=o<0,p=-1;if(!c&&n&&(p=e.getBoundingClientRect().left,c=p<0),!c&&f.isAvailable()){var y=f.getInnerHeight();if(c=y>0&&y<o,!c&&n){var b=f.getInnerWidth();c=b>0&&b<p}}return c},t.ScrollIntoView=function(e,n,r){if(e.scrollIntoView(n),typeof r=="function"){var o=null,c=0,p=function(){var y=e.getBoundingClientRect().top;if(y===o){if(c++>2){r();return}}else o=y,c=0;requestAnimationFrame(p)};f.requestAnimationFrame(p)}},t.ScrollElementToTop=function(e,n,r,o){var c=N.environment.root;if(!e||typeof c>"u")return!1;var p=c.getElementById(e);return t.ScrollElementToViewCore(p,!1,n,r,o)},t.ScrollElementToViewCore=function(e,n,r,o,c){if(!e||!e.scrollIntoView)return c&&c(),!1;var p=t.IsNeedScrollIntoView(e,n,r);return p?t.ScrollIntoView(e,o,c):c&&c(),p},t.GetFirstNonTextElement=function(e,n){if(n===void 0&&(n=!1),!e||!e.length||e.length==0)return null;if(n){var r=e[0];r.nodeName==="#text"&&(r.data=""),r=e[e.length-1],r.nodeName==="#text"&&(r.data="")}for(var o=0;o<e.length;o++)if(e[o].nodeName!="#text"&&e[o].nodeName!="#comment")return e[o];return null},t.FocusElement=function(e,n,r){if(!e||!h.isAvailable())return!1;var o=n?!1:t.focusElementCore(e,r);return o||setTimeout(function(){t.focusElementCore(e,r)},n?100:10),o},t.focusElementCore=function(e,n){var r=N.environment.root;if(!r&&!n)return!1;var o=n?n.querySelector("#"+CSS.escape(e)):r.getElementById(e);return o&&!o.disabled&&o.style.display!=="none"&&o.offsetParent!==null?(t.ScrollElementToViewCore(o,!0,!1),o.focus(),!0):!1},Object.defineProperty(t.prototype,"colSpan",{get:function(){return this.getPropertyValue("colSpan",1)},set:function(e){this.setPropertyValue("colSpan",e)},enumerable:!1,configurable:!0}),t.prototype.onPropertyValueChanged=function(e,n,r){i.prototype.onPropertyValueChanged.call(this,e,n,r),e==="state"&&(this.updateElementCss(!1),this.notifyStateChanged(n),this.stateChangedCallback&&this.stateChangedCallback())},t.prototype.getSkeletonComponentNameCore=function(){return this.survey?this.survey.getSkeletonComponentName(this):""},Object.defineProperty(t.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),t.prototype.setParentQuestion=function(e){this.parentQuestionValue=e,this.onParentQuestionChanged()},t.prototype.onParentQuestionChanged=function(){},Object.defineProperty(t.prototype,"skeletonComponentName",{get:function(){return this.getSkeletonComponentNameCore()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(e){this.setPropertyValue("state",e),this.renderedIsExpanded=!(this.state==="collapsed"&&!this.isDesignMode)},enumerable:!1,configurable:!0}),t.prototype.notifyStateChanged=function(e){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this.state==="collapsed"&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isExpanded",{get:function(){return this.state==="expanded"},enumerable:!1,configurable:!0}),t.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},t.prototype.expand=function(){this.state="expanded"},t.prototype.toggleState=function(){return this.isCollapsed?(this.expand(),!0):this.isExpanded?(this.collapse(),!1):!0},Object.defineProperty(t.prototype,"hasStateButton",{get:function(){return this.isExpanded||this.isCollapsed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shortcutText",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),t.prototype.getTitleToolbar=function(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue},t.prototype.createActionContainer=function(e){var n=e?new ns:new Nn;return this.survey&&this.survey.getCss().actionBar&&(n.cssClasses=this.survey.getCss().actionBar),n},Object.defineProperty(t.prototype,"titleActions",{get:function(){return this.getPropertyValue("titleActions")},enumerable:!1,configurable:!0}),t.prototype.getTitleActions=function(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions},t.prototype.getDefaultTitleActions=function(){return[]},t.prototype.updateTitleActions=function(){var e=this.getDefaultTitleActions();this.survey&&(e=this.survey.getUpdatedElementTitleActions(this,e)),this.setPropertyValue("titleActions",e)},Object.defineProperty(t.prototype,"hasTitleActions",{get:function(){return this.getTitleActions().length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleEvents",{get:function(){return this.state!==void 0&&this.state!=="default"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleTabIndex",{get:function(){return!this.isPage&&this.state!=="default"?0:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaExpanded",{get:function(){if(!(this.isPage||this.state==="default"))return this.state==="expanded"?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleAriaRole",{get:function(){if(!(this.isPage||this.state==="default"))return"button"},enumerable:!1,configurable:!0}),t.prototype.setSurveyImpl=function(e,n){this.surveyImplValue=e,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null),this.survey&&(this.updateDescriptionVisibility(this.description),this.clearCssClasses())},t.prototype.canRunConditions=function(){return i.prototype.canRunConditions.call(this)&&!!this.data},t.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},t.prototype.getDataFilteredProperties=function(){var e=this.data?this.data.getFilteredProperties():{};return e.question=this,e},Object.defineProperty(t.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),t.prototype.__setData=function(e){N.supportCreatorV2&&(this.surveyDataValue=e)},Object.defineProperty(t.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),t.prototype.getSurvey=function(e){return this.surveyValue?this.surveyValue:(this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue)},t.prototype.setSurveyCore=function(e){this.surveyValue=e,this.surveyChangedCallback&&this.surveyChangedCallback()},Object.defineProperty(t.prototype,"skeletonHeight",{get:function(){var e=void 0;return this.survey&&this.survey.skeletonHeight&&(e=this.survey.skeletonHeight+"px"),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this.readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly")},set:function(e){this.readOnly!=e&&(this.setPropertyValue("readOnly",e),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},Object.defineProperty(t.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssClassesValue",{get:function(){return this.getPropertyValueWithoutDefault("cssClassesValue")},set:function(e){this.setPropertyValue("cssClassesValue",e)},enumerable:!1,configurable:!0}),t.prototype.ensureCssClassesValue=function(){this.cssClassesValue||(this.cssClassesValue=this.calcCssClasses(this.css),this.updateElementCssCore(this.cssClassesValue))},Object.defineProperty(t.prototype,"cssClasses",{get:function(){return this.cssClassesValue,this.survey?(this.ensureCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssTitleNumber",{get:function(){var e=this.cssClasses;return e.number?e.number:e.panel?e.panel.number:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRequiredText",{get:function(){var e=this.cssClasses;return e.requiredText||e.panel&&e.panel.requiredText},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(e){},t.prototype.updateElementCssCore=function(e){},Object.defineProperty(t.prototype,"cssError",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.updateElementCss=function(e){this.clearCssClasses()},t.prototype.clearCssClasses=function(){this.cssClassesValue=void 0},t.prototype.getIsLoadingFromJson=function(){return i.prototype.getIsLoadingFromJson.call(this)?!0:this.surveyValue?this.surveyValue.isLoadingFromJson:!1},Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(e){var n=this.name;this.setPropertyValue("name",this.getValidName(e)),!this.isLoadingFromJson&&n&&this.onNameChanged(n)},enumerable:!1,configurable:!0}),t.prototype.getValidName=function(e){return e},t.prototype.onNameChanged=function(e){},t.prototype.updateBindingValue=function(e,n){this.data&&!this.isTwoValueEquals(n,this.data.getValue(e))&&this.data.setValue(e,n,!1)},Object.defineProperty(t.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(e){this.setPropertyValue("errors",e)},enumerable:!1,configurable:!0}),t.prototype.updateVisibleErrors=function(){for(var e=0,n=0;n<this.errors.length;n++)this.errors[n].visible&&e++;this.hasVisibleErrors=e>0},Object.defineProperty(t.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),t.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},t.prototype.getContainsErrors=function(){return this.errors.length>0},Object.defineProperty(t.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(e){this.selectedElementInDesignValue=e},enumerable:!1,configurable:!0}),t.prototype.updateCustomWidgets=function(){},t.prototype.onSurveyLoad=function(){},Object.defineProperty(t.prototype,"wasRendered",{get:function(){return!!this.wasRenderedValue},enumerable:!1,configurable:!0}),t.prototype.onFirstRendering=function(){this.wasRenderedValue=!0,this.ensureCssClassesValue()},t.prototype.endLoadingFromJson=function(){i.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad(),this.updateDescriptionVisibility(this.description)},t.prototype.setVisibleIndex=function(e){return 0},t.prototype.delete=function(e){},t.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.survey?this.survey.getSurveyMarkdownHtml(this,e,n):this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.survey&&typeof this.survey.getRendererForString=="function"?this.survey.getRendererForString(this,e):this.locOwner&&typeof this.locOwner.getRenderer=="function"?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.survey&&typeof this.survey.getRendererContextForString=="function"?this.survey.getRendererContextForString(this,e):this.locOwner&&typeof this.locOwner.getRendererContext=="function"?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.isLoadingFromJson?e:this.textProcessor?this.textProcessor.processText(e,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.getUseDisplayValuesInDynamicTexts=function(){return!0},t.prototype.removeSelfFromList=function(e){if(!(!e||!Array.isArray(e))){var n=e.indexOf(this);n>-1&&e.splice(n,1)}},Object.defineProperty(t.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),t.prototype.getProcessedHtml=function(e){return!e||!this.textProcessor?e:this.textProcessor.processText(e,!0)},t.prototype.onSetData=function(){},Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.setPropertyValue("parent",e)},enumerable:!1,configurable:!0}),t.prototype.getPage=function(e){for(;e&&e.parent;)e=e.parent;return e&&e.getType()=="page"?e:null},t.prototype.moveToBase=function(e,n,r){if(r===void 0&&(r=null),!n)return!1;e.removeElement(this);var o=-1;return g.isNumber(r)&&(o=parseInt(r)),o==-1&&r&&r.getType&&(o=n.indexOf(r)),n.addElement(this,o),!0},t.prototype.setPage=function(e,n){var r=this.getPage(e);if(typeof n=="string"){var o=this.getSurvey();o.pages.forEach(function(c){n===c.name&&(n=c)})}r!==n&&(e&&e.removeElement(this),n&&n.addElement(this,-1))},t.prototype.getSearchableLocKeys=function(e){e.push("title"),e.push("description")},Object.defineProperty(t.prototype,"isDefaultV2Theme",{get:function(){return this.survey&&this.survey.getCss().root.indexOf("sd-root-modern")!==-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasParent",{get:function(){return this.parent&&!this.parent.isPage&&!this.parent.originalPage||this.parent===void 0},enumerable:!1,configurable:!0}),t.prototype.shouldAddRunnerStyles=function(){return!this.isDesignMode&&this.isDefaultV2Theme},Object.defineProperty(t.prototype,"isCompact",{get:function(){return this.survey&&this.survey.isCompact},enumerable:!1,configurable:!0}),t.prototype.canHaveFrameStyles=function(){return this.parent!==void 0&&(!this.hasParent||this.parent&&this.parent.showPanelAsPage)},t.prototype.getHasFrameV2=function(){return this.shouldAddRunnerStyles()&&this.canHaveFrameStyles()},t.prototype.getIsNested=function(){return this.shouldAddRunnerStyles()&&!this.canHaveFrameStyles()},t.prototype.getCssRoot=function(e){var n=!!this.isCollapsed||!!this.isExpanded;return new J().append(e.withFrame,this.getHasFrameV2()&&!this.isCompact).append(e.compact,this.isCompact&&this.getHasFrameV2()).append(e.collapsed,!!this.isCollapsed).append(e.expandableAnimating,n&&this.isAnimatingCollapseExpand).append(e.expanded,!!this.isExpanded&&this.renderedIsExpanded).append(e.expandable,n).append(e.nested,this.getIsNested()).toString()},Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth")},set:function(e){this.setPropertyValue("maxWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(e){this.setPropertyValue("renderWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indent",{get:function(){return this.getPropertyValue("indent")},set:function(e){this.setPropertyValue("indent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(e){this.setPropertyValue("rightIndent",e)},enumerable:!1,configurable:!0}),t.prototype.getRootStyle=function(){var e={};return this.paddingLeft&&(e["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(e["--sv-element-add-padding-right"]=this.paddingRight),e},Object.defineProperty(t.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft","")},set:function(e){this.setPropertyValue("paddingLeft",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(e){this.setPropertyValue("paddingRight",e)},enumerable:!1,configurable:!0}),t.prototype.updateRootStyle=function(){var e={},n;if(this.parent){var r=this.parent.getColumsForElement(this);n=r.reduce(function(c,p){return p.effectiveWidth+c},0),n&&n!==100&&(e.flexGrow=0,e.flexShrink=0,e.flexBasis=n+"%",e.minWidth=void 0,e.maxWidth=void 0)}if(Object.keys(e).length==0){var o=this.minWidth;o!="auto"&&(o="min(100%, "+o+")"),this.allowRootStyle&&this.renderWidth&&(e.flexGrow=1,e.flexShrink=1,e.flexBasis=this.renderWidth,e.minWidth=o,e.maxWidth=this.maxWidth)}this.rootStyle=e},t.prototype.isContainsSelection=function(e){var n=void 0,r=h.getDocument();if(h.isAvailable()&&r&&r.selection)n=r.selection.createRange().parentElement();else{var o=f.getSelection();if(o&&o.rangeCount>0){var c=o.getRangeAt(0);c.startOffset!==c.endOffset&&(n=c.startContainer.parentNode)}}return n==e},Object.defineProperty(t.prototype,"clickTitleFunction",{get:function(){var e=this;if(this.needClickTitleFunction())return function(n){if(!(n&&e.isContainsSelection(n.target)))return e.processTitleClick()}},enumerable:!1,configurable:!0}),t.prototype.needClickTitleFunction=function(){return this.state!=="default"},t.prototype.processTitleClick=function(){this.state!=="default"&&this.toggleState()},Object.defineProperty(t.prototype,"hasAdditionalTitleToolbar",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"additionalTitleToolbar",{get:function(){return this.getAdditionalTitleToolbar()},enumerable:!1,configurable:!0}),t.prototype.getAdditionalTitleToolbar=function(){return null},t.prototype.getCssTitle=function(e){var n=this.state!=="default",r=4;return new J().append(e.title).append(e.titleNumInline,(this.no||"").length>r||n).append(e.titleExpandable,n).append(e.titleExpanded,this.isExpanded).append(e.titleCollapsed,this.isCollapsed).append(e.titleDisabled,this.isDisabledStyle).append(e.titleReadOnly,this.isReadOnly).append(e.titleOnError,this.containsErrors).toString()},Object.defineProperty(t.prototype,"isDisabledStyle",{get:function(){return this.getIsDisableAndReadOnlyStyles(!1)[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnlyStyle",{get:function(){return this.getIsDisableAndReadOnlyStyles(!1)[0]},enumerable:!1,configurable:!0}),t.prototype.getIsDisableAndReadOnlyStyles=function(e){var n=this.isPreviewStyle,r=e||this.isReadOnly,o=r&&!n,c=!this.isDefaultV2Theme&&(r||n);return[o,c]},Object.defineProperty(t.prototype,"isPreviewStyle",{get:function(){return!!this.survey&&this.survey.state==="preview"},enumerable:!1,configurable:!0}),t.prototype.localeChanged=function(){i.prototype.localeChanged.call(this),this.updateDescriptionVisibility(this.description),this.errors.length>0&&this.errors.forEach(function(e){e.updateText()})},t.prototype.setWrapperElement=function(e){this.wrapperElement=e},t.prototype.getWrapperElement=function(){return this.wrapperElement},Object.defineProperty(t.prototype,"isAnimatingCollapseExpand",{get:function(){return this._isAnimatingCollapseExpand||this._renderedIsExpanded!=this.isExpanded},set:function(e){e!==this._isAnimatingCollapseExpand&&(this._isAnimatingCollapseExpand=e,this.updateElementCss(!1))},enumerable:!1,configurable:!0}),t.prototype.onElementExpanded=function(e){},t.prototype.getExpandCollapseAnimationOptions=function(){var e=this,n=function(o){e.isAnimatingCollapseExpand=!0,Hn(o)},r=function(o){e.isAnimatingCollapseExpand=!1,hn(o)};return{getRerenderEvent:function(){return e.onElementRerendered},getEnterOptions:function(){var o=e.isPanel?e.cssClasses.panel:e.cssClasses;return{cssClass:o.contentEnter,onBeforeRunAnimation:n,onAfterRunAnimation:function(c){r(c),e.onElementExpanded(!0)}}},getLeaveOptions:function(){var o=e.isPanel?e.cssClasses.panel:e.cssClasses;return{cssClass:o.contentLeave,onBeforeRunAnimation:n,onAfterRunAnimation:r}},getAnimatedElement:function(){var o,c=e.isPanel?e.cssClasses.panel:e.cssClasses;if(c.content){var p=Bn(c.content);if(p)return(o=e.getWrapperElement())===null||o===void 0?void 0:o.querySelector(":scope "+p)}},isAnimationEnabled:function(){return e.isExpandCollapseAnimationEnabled}}},Object.defineProperty(t.prototype,"isExpandCollapseAnimationEnabled",{get:function(){return this.animationAllowed&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedIsExpanded",{get:function(){return!!this._renderedIsExpanded},set:function(e){var n=this._renderedIsExpanded;this.animationCollapsed.sync(e),!this.isExpandCollapseAnimationEnabled&&!n&&this.renderedIsExpanded&&this.onElementExpanded(!1)},enumerable:!1,configurable:!0}),t.prototype.getIsAnimationAllowed=function(){return i.prototype.getIsAnimationAllowed.call(this)&&!!this.survey&&!this.survey.isEndLoadingFromJson},t.prototype.afterRenderCore=function(e){this.onAfterRenderElement.fire(this,{htmlElement:e})},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.titleToolbarValue&&this.titleToolbarValue.dispose()},t.CreateDisabledDesignElements=!1,Fn([V({defaultValue:null})],t.prototype,"dragTypeOverMe",void 0),Fn([V({defaultValue:!1})],t.prototype,"isDragMe",void 0),Fn([V({onSet:function(e,n){n.colSpan=e}})],t.prototype,"effectiveColSpan",void 0),Fn([V({defaultValue:!1})],t.prototype,"hasVisibleErrors",void 0),Fn([V({defaultValue:!0})],t.prototype,"isSingleInRow",void 0),Fn([V({defaultValue:!0})],t.prototype,"allowRootStyle",void 0),Fn([V()],t.prototype,"rootStyle",void 0),Fn([V()],t.prototype,"_renderedIsExpanded",void 0),t}(is),Fm=function(){function i(t,e,n){var r=this;n===void 0&&(n=100),this._elements=t,this._renderedHandler=e,this._elementsToRenderCount=0,this._elementsToRenderTimer=void 0,this._elementRenderedHandler=function(o,c){var p;(p=o.onAfterRenderElement)===null||p===void 0||p.remove(r._elementRenderedHandler),r._elementsToRenderCount--,r._elementsToRenderCount<=0&&r.visibleElementsRendered()},this._elements.forEach(function(o){o.onAfterRenderElement&&(o.onAfterRenderElement.add(r._elementRenderedHandler),r._elementsToRenderCount++)}),this._elementsToRenderCount>0?this._elementsToRenderTimer=setTimeout(function(){r._elementsToRenderCount>0&&r.visibleElementsRendered()},n):this.visibleElementsRendered()}return i.prototype.stopWaitingForElementsRendering=function(){var t=this;this._elementsToRenderTimer&&(clearTimeout(this._elementsToRenderTimer),this._elementsToRenderTimer=void 0),this._elements.forEach(function(e){var n;(n=e.onAfterRenderElement)===null||n===void 0||n.remove(t._elementRenderedHandler)}),this._elementsToRenderCount=0},i.prototype.visibleElementsRendered=function(){var t=this._renderedHandler;this.dispose(),typeof t=="function"&&t()},i.prototype.dispose=function(){this.stopWaitingForElementsRendering(),this._elements=void 0,this._renderedHandler=void 0},i}(),In=function(){function i(t,e,n){e===void 0&&(e=!1);var r;this.owner=t,this.useMarkdown=e,this.name=n,this.values={},this.htmlValues={},this._allowLineBreaks=!1,this.onStringChanged=new Rn,t instanceof is&&(this._allowLineBreaks=((r=H.findProperty(t.getType(),n))===null||r===void 0?void 0:r.type)=="text"),this.onCreating()}return Object.defineProperty(i,"defaultLocale",{get:function(){return N.localization.defaultLocaleName},set:function(t){N.localization.defaultLocaleName=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"localizationName",{get:function(){return this._localizationName},set:function(t){this._localizationName!=t&&(this._localizationName=t,this.strChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"allowLineBreaks",{get:function(){return this._allowLineBreaks},enumerable:!1,configurable:!0}),i.prototype.getIsMultiple=function(){return!1},Object.defineProperty(i.prototype,"locale",{get:function(){if(this.owner&&this.owner.getLocale){var t=this.owner.getLocale();if(t||!this.sharedData)return t}return this.sharedData?this.sharedData.locale:""},enumerable:!1,configurable:!0}),i.prototype.strChanged=function(){this.searchableText=void 0,!(this.renderedText===void 0&&this.isEmpty&&!this.onGetTextCallback&&!this.localizationName)&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{}))},Object.defineProperty(i.prototype,"text",{get:function(){return this.pureText},set:function(t){this.setLocaleText(this.locale,t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"calculatedText",{get:function(){return this.renderedText=this.calculatedTextValue!==void 0?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),i.prototype.calcText=function(){var t=this.pureText;return t&&this.owner&&this.owner.getProcessedText&&t.indexOf("{")>-1&&(t=this.owner.getProcessedText(t)),this.onGetTextCallback&&(t=this.onGetTextCallback(t)),t},Object.defineProperty(i.prototype,"pureText",{get:function(){var t=this.locale;t||(t=this.defaultLoc);var e=this.getValue(t);if(this.isValueEmpty(e)&&t===this.defaultLoc&&(e=this.getValue(v.defaultLocale)),this.isValueEmpty(e)){var n=this.getRootDialect(t);n&&(e=this.getValue(n))}return this.isValueEmpty(e)&&t!==this.defaultLoc&&(e=this.getValue(this.defaultLoc)),this.isValueEmpty(e)&&this.getLocalizationName()&&(e=this.getLocalizationStr(),this.onGetLocalizationTextCallback&&(e=this.onGetLocalizationTextCallback(e))),e||(e=this.defaultValue||""),e},enumerable:!1,configurable:!0}),i.prototype.getRootDialect=function(t){if(!t)return t;var e=t.indexOf("-");return e>-1?t.substring(0,e):""},i.prototype.getLocalizationName=function(){return this.sharedData?this.sharedData.localizationName:this.localizationName},i.prototype.getLocalizationStr=function(){var t=this.getLocalizationName();return t?v.getString(t,this.locale):""},Object.defineProperty(i.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),i.prototype.getLocaleText=function(t){var e=this.getLocaleTextCore(t);return e||""},i.prototype.getLocaleTextCore=function(t){return t||(t=this.defaultLoc),this.getValue(t)},i.prototype.isLocaleTextEqualsWithDefault=function(t,e){var n=this.getLocaleTextCore(t);return n===e?!0:this.isValueEmpty(n)&&this.isValueEmpty(e)},i.prototype.clear=function(){this.setJson(void 0)},i.prototype.clearLocale=function(t){this.setLocaleText(t,void 0)},i.prototype.setLocaleText=function(t,e){if(t=this.getValueLoc(t),!this.storeDefaultText&&this.isLocaleTextEqualsWithDefault(t,e)){if(!this.isValueEmpty(e)||t&&t!==this.defaultLoc)return;var n=v.defaultLocale,r=this.getValue(n);n&&!this.isValueEmpty(r)&&(this.setValue(n,e),this.fireStrChanged(n,r));return}if(!(!N.localization.storeDuplicatedTranslations&&!this.isValueEmpty(e)&&t&&t!=this.defaultLoc&&!this.getValue(t)&&e==this.getLocaleText(this.defaultLoc))){var o=this.curLocale;t||(t=this.defaultLoc);var c=this.onStrChanged&&t===o?this.pureText:void 0;delete this.htmlValues[t],this.isValueEmpty(e)?this.deleteValue(t):typeof e=="string"&&(this.canRemoveLocValue(t,e)?this.setLocaleText(t,null):(this.setValue(t,e),t==this.defaultLoc&&this.deleteValuesEqualsToDefault(e))),this.fireStrChanged(t,c)}},i.prototype.isValueEmpty=function(t){return t==null?!0:this.localizationName?!1:t===""},Object.defineProperty(i.prototype,"curLocale",{get:function(){return this.locale?this.locale:this.defaultLoc},enumerable:!1,configurable:!0}),i.prototype.canRemoveLocValue=function(t,e){if(N.localization.storeDuplicatedTranslations||t===this.defaultLoc)return!1;var n=this.getRootDialect(t);if(n){var r=this.getLocaleText(n);return r?r==e:this.canRemoveLocValue(n,e)}else return e==this.getLocaleText(this.defaultLoc)},i.prototype.fireStrChanged=function(t,e){if(this.strChanged(),!!this.onStrChanged){var n=this.pureText;(t!==this.curLocale||e!==n)&&this.onStrChanged(e,n)}},i.prototype.hasNonDefaultText=function(){var t=this.getValuesKeys();return t.length==0?!1:t.length>1||t[0]!=this.defaultLoc},i.prototype.getLocales=function(){var t=this.getValuesKeys();return t.length==0?[]:t},i.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var t=this.getValuesKeys();if(t.length==0)return null;if(t.length==1&&t[0]==N.localization.defaultLocaleName&&!N.serialization.localizableStringSerializeAsObject)return this.values[t[0]];var e={};for(var n in this.values)e[n]=this.values[n];return e},i.prototype.setJson=function(t){if(this.sharedData){this.sharedData.setJson(t);return}if(this.values={},this.htmlValues={},t!=null){if(typeof t=="string")this.setLocaleText(null,t);else for(var e in t)this.setLocaleText(e,t[e]);this.strChanged()}},Object.defineProperty(i.prototype,"renderAs",{get:function(){return!this.owner||typeof this.owner.getRenderer!="function"?i.defaultRenderer:this.owner.getRenderer(this.name)||i.defaultRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderAsData",{get:function(){return!this.owner||typeof this.owner.getRendererContext!="function"?this:this.owner.getRendererContext(this)||this},enumerable:!1,configurable:!0}),i.prototype.equals=function(t){return this.sharedData?this.sharedData.equals(t):!t||!t.values?!1:g.isTwoValueEquals(this.values,t.values,!1,!0,!1)},i.prototype.setFindText=function(t){if(this.searchText!=t){if(this.searchText=t,!this.searchableText){var e=this.textOrHtml;this.searchableText=e?e.toLowerCase():""}var n=this.searchableText,r=n&&t?n.indexOf(t):void 0;return r<0&&(r=void 0),(r!=null||this.searchIndex!=r)&&(this.searchIndex=r,this.onSearchChanged&&this.onSearchChanged()),this.searchIndex!=null}},i.prototype.onChanged=function(){},i.prototype.onCreating=function(){},i.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var t=this.locale;if(t||(t=this.defaultLoc),this.htmlValues[t]!==void 0)return!!this.htmlValues[t];var e=this.calculatedText;if(!e)return this.setHtmlValue(t,""),!1;if(this.getLocalizationName()&&e===this.getLocalizationStr())return this.setHtmlValue(t,""),!1;var n=this.owner.getMarkdownHtml(e,this.name);return this.setHtmlValue(t,n),!!n},i.prototype.setHtmlValue=function(t,e){this.htmlValues[t]=e},i.prototype.getHtmlValue=function(){var t=this.locale;return t||(t=this.defaultLoc),this.htmlValues[t]},i.prototype.deleteValuesEqualsToDefault=function(t){if(!N.localization.storeDuplicatedTranslations)for(var e=this.getValuesKeys(),n=0;n<e.length;n++)e[n]!=this.defaultLoc&&this.getValue(e[n])==t&&this.deleteValue(e[n])},i.prototype.getValue=function(t){return this.sharedData?this.sharedData.getValue(t):this.values[this.getValueLoc(t)]},i.prototype.setValue=function(t,e){this.sharedData?this.sharedData.setValue(t,e):this.values[this.getValueLoc(t)]=e},i.prototype.deleteValue=function(t){this.sharedData?this.sharedData.deleteValue(t):delete this.values[this.getValueLoc(t)]},i.prototype.getValueLoc=function(t){return this.disableLocalization?N.localization.defaultLocaleName:t},i.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},Object.defineProperty(i.prototype,"defaultLoc",{get:function(){return N.localization.defaultLocaleName},enumerable:!1,configurable:!0}),i.SerializeAsObject=!1,i.defaultRenderer="sv-string-viewer",i.editableRenderer="sv-string-editor",i}(),td=function(){function i(t){this.owner=t,this.values={}}return i.prototype.getIsMultiple=function(){return!0},Object.defineProperty(i.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.getValue("")},set:function(t){this.setValue("",t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join(`
`):""},set:function(t){this.value=t?t.split(`
`):[]},enumerable:!1,configurable:!0}),i.prototype.getLocaleText=function(t){var e=this.getValueCore(t,!t||t===this.locale);return!e||!Array.isArray(e)||e.length==0?"":e.join(`
`)},i.prototype.setLocaleText=function(t,e){var n=e?e.split(`
`):null;this.setValue(t,n)},i.prototype.getValue=function(t){return this.getValueCore(t)},i.prototype.getValueCore=function(t,e){if(e===void 0&&(e=!0),t=this.getLocale(t),this.values[t])return this.values[t];if(e){var n=N.localization.defaultLocaleName;if(t!==n&&this.values[n])return this.values[n]}return[]},i.prototype.setValue=function(t,e){t=this.getLocale(t);var n=g.createCopy(this.values);!e||e.length==0?delete this.values[t]:this.values[t]=e,this.onValueChanged&&this.onValueChanged(n,this.values)},i.prototype.hasValue=function(t){return t===void 0&&(t=""),!this.isEmpty&&this.getValue(t).length>0},Object.defineProperty(i.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),i.prototype.getLocale=function(t){return t||(t=this.locale,t||N.localization.defaultLocaleName)},i.prototype.getLocales=function(){var t=this.getValuesKeys();return t.length==0?[]:t},i.prototype.getJson=function(){var t=this.getValuesKeys();return t.length==0?null:t.length==1&&t[0]==N.localization.defaultLocaleName&&!N.serialization.localizableStringSerializeAsObject?this.values[t[0]]:g.createCopy(this.values)},i.prototype.setJson=function(t){if(this.values={},!!t)if(Array.isArray(t))this.setValue(null,t);else for(var e in t)this.setValue(e,t[e])},i.prototype.getValuesKeys=function(){return Object.keys(this.values)},i}();function nd(i){return N&&N.confirmActionFunc?N.confirmActionFunc(i):confirm(i)}function to(i,t,e,n,r){var o=function(c){c?t():e&&e()};N&&N.confirmActionAsync&&N.confirmActionAsync(i,o,void 0,n,r)||o(nd(i))}function no(){if(typeof no.isIEOrEdge>"u"){var i=navigator.userAgent,t=i.indexOf("MSIE "),e=i.indexOf("Trident/"),n=i.indexOf("Edge/");no.isIEOrEdge=n>0||e>0||t>0}return no.isIEOrEdge}function rd(i,t){try{for(var e=atob(i.split(",")[1]),n=i.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),o=new Uint8Array(r),c=0;c<e.length;c++)o[c]=e.charCodeAt(c);var p=new Blob([r],{type:n});navigator&&navigator.msSaveBlob&&navigator.msSaveOrOpenBlob(p,t)}catch{}}function Bm(){return f.isAvailable()&&f.hasOwn("orientation")}var ro=function(i){return!!i&&!!("host"in i&&i.host)},Qa=function(i){var t=N.environment.root;return typeof i=="string"?t.getElementById(i):i};function Hm(i,t){if(typeof N.environment>"u")return!1;var e=N.environment.root,n=ro(e)?e.host.clientHeight:e.documentElement.clientHeight,r=i.getBoundingClientRect(),o=Math.max(n,f.getInnerHeight()),c=-t,p=o+t,y=r.top,b=r.bottom,E=Math.max(c,y),M=Math.min(p,b);return E<=M}function os(i){var t=N.environment.root;return i?i.scrollHeight>i.clientHeight&&(getComputedStyle(i).overflowY==="scroll"||getComputedStyle(i).overflowY==="auto")||i.scrollWidth>i.clientWidth&&(getComputedStyle(i).overflowX==="scroll"||getComputedStyle(i).overflowX==="auto")?i:os(i.parentElement):ro(t)?t.host:t.documentElement}function id(i){var t=N.environment;if(t){var e=t.root,n=e.getElementById(i);if(n){var r=os(n);r&&setTimeout(function(){return r.dispatchEvent(new CustomEvent("scroll"))},10)}}}function Qm(i){var t=f.getLocation();!i||!t||(t.href=$m(i))}function za(i){return i?["url(",i,")"].join(""):""}var zm={"flip-24x24":"changecamera","toolbox-file-24x24":"choosefile","clear-24x24":"clear","close-24x24":"closecamera","file-72x72":"defaultfile","chevronleft-16x16":"left","plus-32x32":"modernbooleancheckchecked","minus-32x32":"modernbooleancheckunchecked","more-24x24":"more","navmenu-24x24":"navmenu_24x24","error-24x24":"removefile","camera-32x32":"takepicture","camera-24x24":"takepicture_24x24","pg-quiz-24x24":"timercircle","check-16x16":"v2check","check-24x24":"v2check_24x24","restoredown-16x16":"back-to-panel_16x16","clear-16x16":"clear_16x16","close-16x16":"close_16x16","collapsedetails-16x16":"collapsedetail","expanddetails-16x16":"expanddetail","maximize-16x16":"full-screen_16x16","loading-48x48":"loading","minimize-16x16":"minimize_16x16","chevronright-16x16":"next_16x16","noimage-48x48":"no-image","reorder-24x24":"ranking-arrows","fullsize-16x16":"restore_16x16","search-24x24":"search","smiley-rate5-24x24":"average","smiley-rate9-24x24":"excellent","smiley-rate7-24x24":"good","smiley-rate6-24x24":"normal","smiley-rate4-24x24":"not-good","smiley-rate10-24x24":"perfect","smiley-rate3-24x24":"poor","smiley-rate1-24x24":"terrible","smiley-rate8-24x24":"very-good","smiley-rate2-24x24":"very-poor","add-16x16":"add_16x16","add-24x24":"add_24x24","warning-24x24":"alert_24x24","apply-24x24":"apply","arrowdown-24x24":"arrow-down","arrowleft-24x24":"arrow-left","arrowleft-16x16":"arrow-left_16x16","arrowright-24x24":"arrow-right","arrowright-16x16":"arrow-right_16x16","arrowup-24x24":"arrow-up","toolbox-boolean-24x24":"boolean","speechbubble-16x16":"change-question-type_16x16","toolbox-checkbox-24x24":"checkbox","minusbox-16x16":"collapse-detail_16x16","collapse-pg-24x24":"collapse-panel","collapse-16x16":"collapse_16x16","dropper-16x16":"color-picker","toolbox-longtext-24x24":"comment","wrench-24x24":"config","copy-24x24":"copy","toolbox-customquestion-24x24":"default","delete-16x16":"delete_16x16","delete-24x24":"delete_24x24","hidehint-24x24":"description-hide","hint-24x24":"description","desktop-24x24":"device-desktop","phone-24x24":"device-phone","rotate-24x24":"device-rotate","tablet-24x24":"device-tablet","download-24x24":"download","drag-24x24":"drag-area-indicator","draghorizontal-24x16":"drag-area-indicator_24x16","chevrondown-24x24":"drop-down-arrow","chevrondown-16x16":"drop-down-arrow_16x16","toolbox-dropdown-24x24":"dropdown","copy-16x16":"duplicate_16x16","edit-24x24":"edit","edit-16x16":"edit_16x16","finishedit-24x24":"editing-finish","error-16x16":"error","plusbox-16x16":"expand-detail_16x16","expand-pg-24x24":"expand-panel","expand-16x16":"expand_16x16","toolbox-expression-24x24":"expression","textedit-24x24":"fast-entry","fix-24x24":"fix","toolbox-html-24x24":"html","toolbox-image-24x24":"image","toolbox-imagepicker-24x24":"imagepicker","import-24x24":"import","invisible-24x24":"invisible-items","language-24x24":"language","folder-24x24":"load","collapsepage-16x16":"logic-collapse","expandpage-16x16":"logic-expand","image-48x48":"logo","toolbox-matrix-24x24":"matrix","toolbox-multimatrix-24x24":"matrixdropdown","toolbox-dynamicmatrix-24x24":"matrixdynamic","toolbox-multipletext-24x24":"multipletext","toolbox-panel-24x24":"panel","toolbox-dynamicpanel-24x24":"paneldynamic","preview-24x24":"preview","toolbox-radiogroup-24x24":"radiogroup","toolbox-ranking-24x24":"ranking","toolbox-rating-24x24":"rating","redo-24x24":"redo","remove-16x16":"remove_16x16","required-16x16":"required","restore-24x24":"reset","save-24x24":"save","selectpage-24x24":"select-page","settings-24x24":"settings","settings-16x16":"settings_16x16","toolbox-signature-24x24":"signaturepad","switchon-16x16":"switch-active_16x16","switchoff-16x16":"switch-inactive_16x16","toolbox-tagbox-24x24":"tagbox","toolbox-singleline-24x24":"text","theme-24x24":"theme","toolbox-24x24":"toolbox","undo-24x24":"undo","visible-24x24":"visible","wand-24x24":"wizard"};function Um(i){if(!i)return i;var t=N.customIcons[i];if(!t){var e=zm[i];e&&(t=N.customIcons[e])}return t||i}function Wm(i,t,e,n,r,o){if(r){i!=="auto"&&(r.style.width=(i||t||16)+"px",r.style.height=(i||e||16)+"px");var c=r.childNodes[0],p=Um(n);c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+p);var y=r.getElementsByTagName("title")[0];if(o)y||(y=h.getDocument().createElementNS("http://www.w3.org/2000/svg","title"),r.appendChild(y));else{y&&r.removeChild(y);return}y.textContent=o}}function $m(i){return i&&(i.toLocaleLowerCase().indexOf("javascript:")>-1?encodeURIComponent(i):i)}function Jm(i){return typeof i!="function"?i:i()}function Br(i){if(typeof i=="string")if(isNaN(Number(i))){if(i.includes("px"))return parseFloat(i)}else return Number(i);if(typeof i=="number")return i}function ss(i){if(Br(i)===void 0)return i}var Ua="sv-focused--by-key";function od(i){var t=i.target;!t||!t.classList||t.classList.remove(Ua)}function sd(i,t){if(!(i.target&&i.target.contentEditable==="true")){var e=i.target;if(e){var n=i.which||i.keyCode;if(n===9){e.classList&&!e.classList.contains(Ua)&&e.classList.add(Ua);return}if(t){if(!t.__keyDownReceived)return;t.__keyDownReceived=!1}n===13||n===32?e.click&&e.click():(!t||t.processEsc)&&n===27&&e.blur&&e.blur()}}}function Gm(i,t){if(t===void 0&&(t={processEsc:!0}),t&&(t.__keyDownReceived=!0),!(i.target&&i.target.contentEditable==="true")){var e=i.which||i.keyCode,n=[13,32];t.processEsc&&n.push(27),n.indexOf(e)!==-1&&i.preventDefault()}}function Wa(i,t){if(i){t||(t=function(n){return h.getComputedStyle(n)});var e=t(i);i.style.height="auto",i.scrollHeight&&(i.style.height=i.scrollHeight+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth)+"px")}}function Km(i){return i.originalEvent||i}function ad(i){i.preventDefault(),i.stopPropagation()}function Bn(i){if(!i)return i;var t=/\s*?([\w-]+)\s*?/g;return i.replace(t,".$1")}function $a(i){return getComputedStyle?Number.parseFloat(getComputedStyle(i).width):i.offsetWidth}function Ja(i){return!!(i.offsetWidth||i.offsetHeight||i.getClientRects().length)}function Zm(i){for(var t,e=0;e<i.children.length;e++)!t&&getComputedStyle(i.children[e]).display!=="none"&&(t=i.children[e]);return t}function Ym(i,t){if(t===void 0&&(t=!0),f.isAvailable()&&h.isAvailable()&&i.childNodes.length>0){var e=f.getSelection();if(e.rangeCount==0)return;var n=e.getRangeAt(0);n.setStart(n.endContainer,n.endOffset),n.setEndAfter(i.lastChild),e.removeAllRanges(),e.addRange(n);var r=e.toString(),o=i.innerText;r=r.replace(/\r/g,""),t&&(r=r.replace(/\n/g,""),o=o.replace(/\n/g,""));var c=r.length;for(i.innerText=o,n=h.getDocument().createRange(),n.setStart(i.firstChild,0),n.setEnd(i.firstChild,0),e.removeAllRanges(),e.addRange(n);e.toString().length<o.length-c;){var p=e.toString().length;if(e.modify("extend","forward","character"),e.toString().length==p)break}n=e.getRangeAt(0),n.setStart(n.endContainer,n.endOffset)}}function dr(i,t){if(!(!t||!i)&&typeof t=="object")for(var e in i){var n=i[e];!Array.isArray(n)&&n&&typeof n=="object"?((!t[e]||typeof t[e]!="object")&&(t[e]={}),dr(n,t[e])):t[e]=n}}(function(){function i(){this._result=""}return i.prototype.log=function(t){this._result+="->"+t},Object.defineProperty(i.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),i})();function Xm(i,t,e,n,r){var o=new In(void 0),c=N.showDialog({componentName:"sv-string-viewer",data:{locStr:o,locString:o,model:o},onApply:function(){return t(!0),!0},onCancel:function(){return t(!1),!1},title:i,displayMode:"popup",isFocusedContent:!1,cssClass:"sv-popup--confirm-delete"},r),p=c.footerToolbar,y=p.getActionById("apply"),b=p.getActionById("cancel");return b.title=v.getString("cancel",n),b.innerCss="sv-popup__body-footer-item sv-popup__button sd-btn sd-btn--small",y.title=e||v.getString("ok",n),y.innerCss="sv-popup__body-footer-item sv-popup__button sv-popup__button--danger sd-btn sd-btn--small sd-btn--danger",ev(c),!0}function ev(i){i.width="min-content"}function ld(i,t){f.isFileReaderAvailable()&&(i.value="",i.onchange=function(e){if(f.isFileReaderAvailable()&&!(!i||!i.files||i.files.length<1)){for(var n=[],r=0;r<i.files.length;r++)n.push(i.files[r]);t(n)}},i.click())}function tv(i,t,e){var n=new Map,r=new Map,o=new Map,c=new Map;i.forEach(function(Ce){var ve=e(Ce);if(!n.has(ve))n.set(e(Ce),Ce);else throw new Error("keys must be unique")}),t.forEach(function(Ce){var ve=e(Ce);if(!r.has(ve))r.set(ve,Ce);else throw new Error("keys must be unique")});var p=[],y=[];r.forEach(function(Ce,ve){n.has(ve)?o.set(ve,o.size):p.push(Ce)}),n.forEach(function(Ce,ve){r.has(ve)?c.set(ve,c.size):y.push(Ce)});var b=[];o.forEach(function(Ce,ve){var Ne=c.get(ve),Ot=r.get(ve);Ne!==Ce&&b.push({item:Ot,movedForward:Ne<Ce})});var E=new Array(i.length),M=0,Q=Array.from(o.keys());i.forEach(function(Ce,ve){o.has(e(Ce))?(E[ve]=r.get(Q[M]),M++):E[ve]=Ce});var X=new Map,oe=[];E.forEach(function(Ce){var ve=e(Ce);r.has(ve)?oe.length>0&&(X.set(ve,oe),oe=[]):oe.push(Ce)});var we=new Array;return r.forEach(function(Ce,ve){X.has(ve)&&X.get(ve).forEach(function(Ne){we.push(Ne)}),we.push(Ce)}),oe.forEach(function(Ce){we.push(Ce)}),{reorderedItems:b,deletedItems:y,addedItems:p,mergedItems:we}}function nv(i){if(h.isAvailable()){var t=h.getComputedStyle(i),e=t.paddingTop,n=t.paddingBottom,r=t.borderTopWidth,o=t.borderBottomWidth,c=t.marginTop,p=t.marginBottom,y=t.boxSizing,b=i.offsetHeight+"px";if(y=="content-box"){var E=i.offsetHeight;[o,r,n,e].forEach(function(M){E-=parseFloat(M)}),b=E+"px"}return{paddingTop:e,paddingBottom:n,borderTopWidth:r,borderBottomWidth:o,marginTop:c,marginBottom:p,heightFrom:"0px",heightTo:b}}else return}function io(i,t,e){var n;e===void 0&&(e="--animation-"),i.__sv_created_properties=(n=i.__sv_created_properties)!==null&&n!==void 0?n:[],Object.keys(t).forEach(function(r){var o=""+e+r.split(/\.?(?=[A-Z])/).join("-").toLowerCase();i.style.setProperty(o,t[r]),i.__sv_created_properties.push(o)})}function Hn(i){io(i,nv(i))}function hn(i){Array.isArray(i.__sv_created_properties)&&(i.__sv_created_properties.forEach(function(t){i.style.removeProperty(t)}),delete i.__sv_created_properties)}function rv(i){return Math.round(i*100)/100}var as=typeof globalThis<"u"?globalThis.document:(void 0).document,iv=as?{root:as,_rootElement:h.getBody(),get rootElement(){var i;return(i=this._rootElement)!==null&&i!==void 0?i:h.getBody()},set rootElement(i){this._rootElement=i},_popupMountContainer:h.getBody(),get popupMountContainer(){var i;return(i=this._popupMountContainer)!==null&&i!==void 0?i:h.getBody()},set popupMountContainer(i){this._popupMountContainer=i},svgMountContainer:as.head,stylesSheetsMountContainer:as.head}:void 0,ov={file:{minWidth:"240px"},comment:{minWidth:"200px"}},N={designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(i){this.designMode.showEmptyDescriptions=i},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(i){this.designMode.showEmptyTitles=i},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(i){this.localization.useLocalTimeZone=i},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(i){this.localization.storeDuplicatedTranslations=i},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(i){this.localization.defaultLocaleName=i},web:{onBeforeRequestChoices:function(i,t){},encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1,surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey"},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(i){this.web.encodeUrlParams=i},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(i){this.web.cacheLoadedChoices=i},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(i){this.web.cacheLoadedChoices=i},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(i){this.web.disableQuestionWhileLoadingChoices=i},get surveyServiceUrl(){return this.web.surveyServiceUrl},set surveyServiceUrl(i){this.web.surveyServiceUrl=i},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(i){this.triggers.executeCompleteOnValueChanged=i},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(i){this.triggers.changeNavigationButtonsOnComplete=i},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(i){this.triggers.executeSkipOnValueChanged=i},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(i){this.serialization.itemValueSerializeAsObject=i},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(i){this.serialization.itemValueSerializeDisplayText=i},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(i){this.serialization.localizableStringSerializeAsObject=i},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(i){this.lazyRender.enabled=i},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(i){this.lazyRender.firstBatchSize=i},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:ov,rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(i){this.matrix.defaultRowName=i},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(i){this.matrix.defaultCellType=i},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(i){this.matrix.totalsSuffix=i},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(i){this.matrix.maxRowCount=i},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(i){this.matrix.maxRowCountInCondition=i},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(i){this.matrix.renderRemoveAsIcon=i},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(i){this.panel.maxPanelCountInCondition=i},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(i){this.panel.maxPanelCount=i},readOnly:{enableValidation:!1,commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(i){this.readOnly.commentRenderMode=i},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(i){this.readOnly.textRenderMode=i},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(i){this.numbering.includeQuestionsWithHiddenTitle=i},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(i){this.numbering.includeQuestionsWithHiddenNumber=i},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1,normalizeTextCallback:function(i,t){return i}},expressionDisableConversionChar:"#",get commentPrefix(){return N.commentSuffix},set commentPrefix(i){N.commentSuffix=i},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,dropdownSearchDelay:500,confirmActionFunc:function(i){return confirm(i)},confirmActionAsync:function(i,t,e,n,r){return Xm(i,t,e,n,r)},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},autoAdvanceDelay:300,showItemsInOrder:"default",noneItemValue:"none",refuseItemValue:"refused",dontKnowItemValue:"dontknow",specialChoicesOrder:{selectAllItem:[-1],noneItem:[1],refuseItem:[2],dontKnowItem:[3],otherItem:[4]},choicesSeparator:", ",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,showDialog:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:iv,showMaxLengthIndicator:!0,animationEnabled:!0,titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},legacyProgressBarView:!1,maskSettings:{patternPlaceholderChar:"_",patternEscapeChar:"\\",patternDefinitions:{9:/[0-9]/,a:/[a-zA-Z]/,"#":/[a-zA-Z0-9]/}},storeUtcDates:!1,parseNumber:function(i,t){return t}},an=function(){function i(t,e){t===void 0&&(t=null),e===void 0&&(e=null),this.text=t,this.errorOwner=e,this.visible=!0,this.onUpdateErrorTextCallback=void 0}return i.prototype.equals=function(t){return!t||!t.getErrorType||this.getErrorType()!==t.getErrorType()?!1:this.text===t.text&&this.visible===t.visible},Object.defineProperty(i.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new In(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),i.prototype.getText=function(){var t=this.text;return t||(t=this.getDefaultText()),this.errorOwner&&(t=this.errorOwner.getErrorCustomText(t,this)),t},i.prototype.getErrorType=function(){return"base"},i.prototype.getDefaultText=function(){return""},i.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},i.prototype.getLocalizationString=function(t){return v.getString(t,this.getLocale())},i.prototype.updateText=function(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()},i}(),gn=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ud=function(i){gn(t,i);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.call(this,e,n)||this;return r.text=e,r}return t.prototype.getErrorType=function(){return"required"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredError")},t}(an),cd=function(i){gn(t,i);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.call(this,e,n)||this;return r.text=e,r}return t.prototype.getErrorType=function(){return"requireoneanswer"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredErrorInPanel")},t}(an),dd=function(i){gn(t,i);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.call(this,e,n)||this;return r.text=e,r}return t.prototype.getErrorType=function(){return"requirenumeric"},t.prototype.getDefaultText=function(){return this.getLocalizationString("numericError")},t}(an),pd=function(i){gn(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this,null,n)||this;return r.maxSize=e,r.locText.text=r.getText(),r}return t.prototype.getErrorType=function(){return"exceedsize"},t.prototype.getDefaultText=function(){return v.getString("exceedMaxSize").format(this.getTextSize())},t.prototype.getTextSize=function(){var e=["Bytes","KB","MB","GB","TB"],n=[0,0,2,3,3];if(this.maxSize===0)return"0 Byte";var r=Math.floor(Math.log(this.maxSize)/Math.log(1024)),o=this.maxSize/Math.pow(1024,r);return o.toFixed(n[r])+" "+e[r]},t}(an),sv=function(i){gn(t,i);function t(e,n,r){r===void 0&&(r=null);var o=i.call(this,null,r)||this;return o.status=e,o.response=n,o}return t.prototype.getErrorType=function(){return"webrequest"},t.prototype.getDefaultText=function(){var e=this.getLocalizationString("urlRequestError");return e?e.format(this.status,this.response):""},t}(an),av=function(i){gn(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this,e,n)||this;return r.text=e,r}return t.prototype.getErrorType=function(){return"webrequestempty"},t.prototype.getDefaultText=function(){return this.getLocalizationString("urlGetChoicesError")},t}(an),lv=function(i){gn(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this,e,n)||this;return r.text=e,r}return t.prototype.getErrorType=function(){return"otherempty"},t.prototype.getDefaultText=function(){return this.getLocalizationString("otherRequiredError")},t}(an),ls=function(i){gn(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this,e,n)||this;return r.text=e,r}return t.prototype.getErrorType=function(){return"uploadingfile"},t.prototype.getDefaultText=function(){return this.getLocalizationString("uploadingFile")},t}(an),uv=function(i){gn(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this,e,n)||this;return r.text=e,r}return t.prototype.getErrorType=function(){return"requiredinallrowserror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredInAllRowsError")},t}(an),cv=function(i){gn(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this,e,n)||this;return r.text=e,r}return t.prototype.getErrorType=function(){return"eachrowuniqueeerror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("eachRowUniqueError")},t}(an),dv=function(i){gn(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this,null,n)||this;return r.minRowCount=e,r}return t.prototype.getErrorType=function(){return"minrowcounterror"},t.prototype.getDefaultText=function(){return v.getString("minRowCountError").format(this.minRowCount)},t}(an),fd=function(i){gn(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this,e,n)||this;return r.text=e,r}return t.prototype.getErrorType=function(){return"keyduplicationerror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("keyDuplicationError")},t}(an),wn=function(i){gn(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this,e,n)||this;return r.text=e,r}return t.prototype.getErrorType=function(){return"custom"},t}(an),Hr=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),En=function(){function i(t,e){e===void 0&&(e=null),this.value=t,this.error=e}return i}(),Qr=function(i){Hr(t,i);function t(){var e=i.call(this)||this;return e.createLocalizableString("text",e,!0),e}return Object.defineProperty(t.prototype,"isValidator",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getSurvey=function(e){return this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(t.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(e){this.setLocalizableStringText("text",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),t.prototype.getErrorText=function(e){return this.text?this.text:this.getDefaultErrorText(e)},t.prototype.getDefaultErrorText=function(e){return""},t.prototype.validate=function(e,n,r,o){return null},Object.defineProperty(t.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.errorOwner?this.errorOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.errorOwner?this.errorOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.errorOwner?this.errorOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.errorOwner?this.errorOwner.getProcessedText(e):e},t.prototype.createCustomError=function(e){var n=this,r=new wn(this.getErrorText(e),this.errorOwner);return r.onUpdateErrorTextCallback=function(o){return o.text=n.getErrorText(e)},r},t.prototype.toString=function(){var e=this.getType().replace("validator","");return this.text&&(e+=", "+this.text),e},t}($e),hd=function(){function i(){}return i.prototype.run=function(t){var e=this,n=[],r=null,o=null;this.prepareAsyncValidators();for(var c=[],p=t.getValidators(),y=0;y<p.length;y++){var b=p[y];!r&&b.isValidateAllValues&&(r=t.getDataFilteredValues(),o=t.getDataFilteredProperties()),b.isAsync&&(this.asyncValidators.push(b),b.onAsyncCompleted=function(M){if(M&&M.error&&c.push(M.error),!!e.onAsyncCompleted){for(var Q=0;Q<e.asyncValidators.length;Q++)if(e.asyncValidators[Q].isRunning)return;e.onAsyncCompleted(c)}})}p=t.getValidators();for(var y=0;y<p.length;y++){var b=p[y],E=b.validate(t.validatedValue,t.getValidatorTitle(),r,o);E&&E.error&&n.push(E.error)}return this.asyncValidators.length==0&&this.onAsyncCompleted&&this.onAsyncCompleted([]),n},i.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var t=0;t<this.asyncValidators.length;t++)this.asyncValidators[t].onAsyncCompleted=null;this.asyncValidators=[]},i}(),gd=function(i){Hr(t,i);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.call(this)||this;return r.minValue=e,r.maxValue=n,r}return t.prototype.getType=function(){return"numericvalidator"},t.prototype.validate=function(e,n,r,o){if(n===void 0&&(n=null),this.isValueEmpty(e))return null;if(!g.isNumber(e))return new En(null,new dd(this.text,this.errorOwner));var c=new En(g.getNumber(e));return this.minValue!==null&&this.minValue>c.value?(c.error=this.createCustomError(n),c):this.maxValue!==null&&this.maxValue<c.value?(c.error=this.createCustomError(n),c):typeof e=="number"?null:c},t.prototype.getDefaultErrorText=function(e){var n=e||this.getLocalizationString("value");return this.minValue!==null&&this.maxValue!==null?this.getLocalizationFormatString("numericMinMax",n,this.minValue,this.maxValue):this.minValue!==null?this.getLocalizationFormatString("numericMin",n,this.minValue):this.getLocalizationFormatString("numericMax",n,this.maxValue)},Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e)},enumerable:!1,configurable:!0}),t}(Qr),yd=function(i){Hr(t,i);function t(){return i.call(this)||this}return t.prototype.getType=function(){return"textvalidator"},t.prototype.validate=function(e,n,r,o){if(n===void 0&&(n=null),this.isValueEmpty(e))return null;if(!this.allowDigits){var c=/^[A-Za-z\s\.]*$/;if(!c.test(e))return new En(null,this.createCustomError(n))}return this.minLength>0&&e.length<this.minLength?new En(null,this.createCustomError(n)):this.maxLength>0&&e.length>this.maxLength?new En(null,this.createCustomError(n)):null},t.prototype.getDefaultErrorText=function(e){return this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)},Object.defineProperty(t.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(e){this.setPropertyValue("minLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits")},set:function(e){this.setPropertyValue("allowDigits",e)},enumerable:!1,configurable:!0}),t}(Qr),md=function(i){Hr(t,i);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.call(this)||this;return r.minCount=e,r.maxCount=n,r}return t.prototype.getType=function(){return"answercountvalidator"},t.prototype.validate=function(e,n,r,o){if(e==null||e.constructor!=Array)return null;var c=e.length;return c==0?null:this.minCount&&c<this.minCount?new En(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&c>this.maxCount?new En(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null},t.prototype.getDefaultErrorText=function(e){return e},Object.defineProperty(t.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(e){this.setPropertyValue("minCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(e){this.setPropertyValue("maxCount",e)},enumerable:!1,configurable:!0}),t}(Qr),vd=function(i){Hr(t,i);function t(e){e===void 0&&(e=null);var n=i.call(this)||this;return n.regex=e,n}return t.prototype.getType=function(){return"regexvalidator"},t.prototype.validate=function(e,n,r,o){if(n===void 0&&(n=null),!this.regex||this.isValueEmpty(e))return null;var c=this.createRegExp();if(Array.isArray(e))for(var p=0;p<e.length;p++){var y=this.hasError(c,e[p],n);if(y)return y}return this.hasError(c,e,n)},t.prototype.hasError=function(e,n,r){return e.test(n)?null:new En(n,this.createCustomError(r))},Object.defineProperty(t.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(e){this.setPropertyValue("regex",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caseInsensitive",{get:function(){return this.getPropertyValue("caseInsensitive")},set:function(e){this.setPropertyValue("caseInsensitive",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"insensitive",{get:function(){return this.caseInsensitive},set:function(e){this.caseInsensitive=e},enumerable:!1,configurable:!0}),t.prototype.createRegExp=function(){return new RegExp(this.regex,this.caseInsensitive?"i":"")},t}(Qr),Ga=function(i){Hr(t,i);function t(){var e=i.call(this)||this;return e.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,e}return t.prototype.getType=function(){return"emailvalidator"},t.prototype.validate=function(e,n,r,o){return n===void 0&&(n=null),!e||this.re.test(e)?null:new En(e,this.createCustomError(n))},t.prototype.getDefaultErrorText=function(e){return this.getLocalizationString("invalidEmail")},t}(Qr),bd=function(i){Hr(t,i);function t(e){e===void 0&&(e=null);var n=i.call(this)||this;return n.conditionRunner=null,n.isRunningValue=!1,n.expression=e,n}return t.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(t.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAsync",{get:function(){return this.ensureConditionRunner()?this.conditionRunner.isAsync:!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),t.prototype.validate=function(e,n,r,o){var c=this;if(n===void 0&&(n=null),r===void 0&&(r=null),o===void 0&&(o=null),!this.ensureConditionRunner())return null;this.conditionRunner.onRunComplete=function(y){c.isRunningValue=!1,c.onAsyncCompleted&&c.onAsyncCompleted(c.generateError(y,e,n))},this.isRunningValue=!0;var p=this.conditionRunner.run(r,o);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(p,e,n))},t.prototype.generateError=function(e,n,r){return e?null:new En(n,this.createCustomError(r))},t.prototype.getDefaultErrorText=function(e){return this.getLocalizationFormatString("invalidExpression",this.expression)},t.prototype.ensureConditionRunner=function(){return this.conditionRunner?(this.conditionRunner.expression=this.expression,!0):this.expression?(this.conditionRunner=new on(this.expression),!0):!1},Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t}(Qr);H.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),H.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new gd},"surveyvalidator"),H.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new yd},"surveyvalidator"),H.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new md},"surveyvalidator"),H.addClass("regexvalidator",["regex",{name:"caseInsensitive:boolean",alternativeName:"insensitive"}],function(){return new vd},"surveyvalidator"),H.addClass("emailvalidator",[],function(){return new Ga},"surveyvalidator"),H.addClass("expressionvalidator",["expression:condition"],function(){return new bd},"surveyvalidator");var Cd=function(){function i(t,e){this.name=t,this.widgetJson=e,this.htmlTemplate=e.htmlTemplate?e.htmlTemplate:""}return i.prototype.afterRender=function(t,e){var n=this;this.widgetJson.afterRender&&(t.localeChangedCallback=function(){n.widgetJson.willUnmount&&n.widgetJson.willUnmount(t,e),n.widgetJson.afterRender(t,e)},this.widgetJson.afterRender(t,e))},i.prototype.willUnmount=function(t,e){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(t,e)},i.prototype.getDisplayValue=function(t,e){return e===void 0&&(e=void 0),this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(t,e):null},i.prototype.validate=function(t){if(this.widgetJson.validate)return this.widgetJson.validate(t)},i.prototype.isFit=function(t){return this.isLibraryLoaded()&&this.widgetJson.isFit?this.widgetJson.isFit(t):!1},Object.defineProperty(i.prototype,"canShowInToolbox",{get:function(){return this.widgetJson.showInToolbox===!1||Ka.Instance.getActivatedBy(this.name)!="customtype"?!1:!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showInToolbox",{get:function(){return this.widgetJson.showInToolbox!==!1},set:function(t){this.widgetJson.showInToolbox=t},enumerable:!1,configurable:!0}),i.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},i.prototype.activatedByChanged=function(t){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(t)},i.prototype.isLibraryLoaded=function(){return this.widgetJson.widgetIsLoaded?this.widgetJson.widgetIsLoaded()==!0:!0},Object.defineProperty(i.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),i}(),Ka=function(){function i(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new Da}return Object.defineProperty(i.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),i.prototype.add=function(t,e){e===void 0&&(e="property"),this.addCustomWidget(t,e)},i.prototype.addCustomWidget=function(t,e){e===void 0&&(e="property");var n=t.name;n||(n="widget_"+this.widgets.length+1);var r=new Cd(n,t);return this.widgetsValues.push(r),r.init(),this.widgetsActivatedBy[n]=e,r.activatedByChanged(e),this.onCustomWidgetAdded.fire(r,null),r},i.prototype.getActivatedBy=function(t){var e=this.widgetsActivatedBy[t];return e||"property"},i.prototype.setActivatedBy=function(t,e){if(!(!t||!e)){var n=this.getCustomWidgetByName(t);n&&(this.widgetsActivatedBy[t]=e,n.activatedByChanged(e))}},i.prototype.clear=function(){this.widgetsValues=[]},i.prototype.getCustomWidgetByName=function(t){for(var e=0;e<this.widgets.length;e++)if(this.widgets[e].name==t)return this.widgets[e];return null},i.prototype.getCustomWidget=function(t){for(var e=0;e<this.widgetsValues.length;e++)if(this.widgetsValues[e].isFit(t))return this.widgetsValues[e];return null},i.Instance=new i,i}(),wd=function(){function i(){this.renderersHash={},this.defaultHash={}}return i.prototype.unregisterRenderer=function(t,e){delete this.renderersHash[t][e],this.defaultHash[t]===e&&delete this.defaultHash[t]},i.prototype.registerRenderer=function(t,e,n,r){r===void 0&&(r=!1),this.renderersHash[t]||(this.renderersHash[t]={}),this.renderersHash[t][e]=n,r&&(this.defaultHash[t]=e)},i.prototype.getRenderer=function(t,e){var n=this.renderersHash[t];if(n){if(e&&n[e])return n[e];var r=this.defaultHash[t];if(r&&n[r])return n[r]}return"default"},i.prototype.getRendererByQuestion=function(t){return this.getRenderer(t.getType(),t.renderAs)},i.prototype.clear=function(){this.renderersHash={}},i.Instance=new i,i}(),us=function(){function i(t){var e=this;this.options=t,this.onPropertyChangedCallback=function(){e.element&&(e.element.value=e.getTextValue(),e.updateElement())},this.question.registerFunctionOnPropertyValueChanged(this.options.propertyName,this.onPropertyChangedCallback,"__textarea")}return i.prototype.updateElement=function(){var t=this;this.element&&this.autoGrow&&setTimeout(function(){return Wa(t.element)},1)},i.prototype.setElement=function(t){t&&(this.element=t,this.updateElement())},i.prototype.getTextValue=function(){return this.options.getTextValue&&this.options.getTextValue()||""},i.prototype.onTextAreaChange=function(t){this.options.onTextAreaChange&&this.options.onTextAreaChange(t)},i.prototype.onTextAreaInput=function(t){this.options.onTextAreaInput&&this.options.onTextAreaInput(t),this.element&&this.autoGrow&&Wa(this.element)},i.prototype.onTextAreaKeyDown=function(t){this.options.onTextAreaKeyDown&&this.options.onTextAreaKeyDown(t)},i.prototype.onTextAreaBlur=function(t){this.onTextAreaChange(t),this.options.onTextAreaBlur&&this.options.onTextAreaBlur(t)},i.prototype.onTextAreaFocus=function(t){this.options.onTextAreaFocus&&this.options.onTextAreaFocus(t)},Object.defineProperty(i.prototype,"question",{get:function(){return this.options.question},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this.options.id()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this.options.placeholder()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"className",{get:function(){return this.options.className()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxLength",{get:function(){if(this.options.maxLength)return this.options.maxLength()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"autoGrow",{get:function(){if(this.options.autoGrow)return this.options.autoGrow()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rows",{get:function(){if(this.options.rows)return this.options.rows()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cols",{get:function(){if(this.options.cols)return this.options.cols()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isDisabledAttr",{get:function(){return this.options.isDisabledAttr()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnlyAttr",{get:function(){if(this.options.isReadOnlyAttr)return this.options.isReadOnlyAttr()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaRequired",{get:function(){if(this.options.ariaRequired)return this.options.ariaRequired()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaLabel",{get:function(){if(this.options.ariaLabel)return this.options.ariaLabel()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaInvalid",{get:function(){if(this.options.ariaInvalid)return this.options.ariaInvalid()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaLabelledBy",{get:function(){if(this.options.ariaLabelledBy)return this.options.ariaLabelledBy()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaDescribedBy",{get:function(){if(this.options.ariaDescribedBy)return this.options.ariaDescribedBy()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaErrormessage",{get:function(){if(this.options.ariaErrormessage)return this.options.ariaErrormessage()},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){this.question&&this.question.unRegisterFunctionOnPropertyValueChanged(this.options.propertyName,"__textarea")},i}(),pv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vi=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},fv=function(){function i(t,e,n){this.name=t,this.canRun=e,this.doComplete=n,this.runSecondCheck=function(r){return!1}}return i}(),zt=function(i){pv(t,i);function t(e){var n=i.call(this,e)||this;n.customWidgetData={isNeedRender:!0},n.hasCssErrorCallback=function(){return!1},n.isReadyValue=!0,n.dependedQuestions=[],n.onReadyChanged=n.addEvent(),n.triggersInfo=[],n.isRunningValidatorsValue=!1,n.isValueChangedInSurvey=!1,n.allowNotifyValueChanged=!0,n.id=t.getQuestionId(),n.onCreating(),n.createNewArray("validators",function(o){o.errorOwner=n}),n.commentTextAreaModel=new us(n.getCommentTextAreaOptions()),n.addExpressionProperty("visibleIf",function(o,c){n.visible=c===!0},function(o){return!n.areInvisibleElementsShowing}),n.addExpressionProperty("enableIf",function(o,c){n.readOnly=c===!1}),n.addExpressionProperty("requiredIf",function(o,c){n.isRequired=c===!0}),n.createLocalizableString("commentText",n,!0,"otherItemText"),n.createLocalizableString("requiredErrorText",n),n.addTriggerInfo("resetValueIf",function(){return!n.isEmpty()},function(){n.clearValue(),n.updateValueWithDefaults()});var r=n.addTriggerInfo("setValueIf",function(){return!0},function(){return n.runSetValueExpression()});return r.runSecondCheck=function(o){return n.checkExpressionIf(o)},n.registerPropertyChangedHandlers(["width"],function(){n.updateQuestionCss(),n.parent&&n.parent.elementWidthChanged(n)}),n.registerPropertyChangedHandlers(["isRequired"],function(){!n.isRequired&&n.errors.length>0&&n.validate(),n.locTitle.strChanged(),n.clearCssClasses()}),n.registerPropertyChangedHandlers(["indent","rightIndent"],function(){n.onIndentChanged()}),n.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],function(){n.initCommentFromSurvey()}),n.registerFunctionOnPropertiesValueChanged(["no","readOnly","hasVisibleErrors","containsErrors"],function(){n.updateQuestionCss()}),n.registerPropertyChangedHandlers(["_isMobile"],function(){n.onMobileChanged()}),n.registerPropertyChangedHandlers(["colSpan"],function(){var o;(o=n.parent)===null||o===void 0||o.updateColumns()}),n}return t.getQuestionId=function(){return"sq_"+t.questionCounter++},t.prototype.getCommentTextAreaOptions=function(){var e=this,n={question:this,id:function(){return e.commentId},propertyName:"comment",className:function(){return e.cssClasses.comment},placeholder:function(){return e.renderedCommentPlaceholder},isDisabledAttr:function(){return e.isInputReadOnly||!1},rows:function(){return e.commentAreaRows},autoGrow:function(){return e.autoGrowComment},maxLength:function(){return e.getOthersMaxLength()},ariaRequired:function(){return e.a11y_input_ariaRequired},ariaLabel:function(){return e.a11y_input_ariaLabel},getTextValue:function(){return e.comment},onTextAreaChange:function(r){e.onCommentChange(r)},onTextAreaInput:function(r){e.onCommentInput(r)}};return n},t.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&N.readOnly.commentRenderMode==="div"},t.prototype.allowMobileInDesignMode=function(){return!1},t.prototype.updateIsMobileFromSurvey=function(){this.setIsMobile(this.survey._isMobile)},t.prototype.setIsMobile=function(e){var n=e&&(this.allowMobileInDesignMode()||!this.isDesignMode);this.isMobile=n},t.prototype.getIsMobile=function(){return this._isMobile},Object.defineProperty(t.prototype,"isMobile",{get:function(){return this.getIsMobile()},set:function(e){this._isMobile=e},enumerable:!1,configurable:!0}),t.prototype.themeChanged=function(e){},t.prototype.getDefaultTitle=function(){return this.name},t.prototype.createLocTitleProperty=function(){var e=this,n=i.prototype.createLocTitleProperty.call(this);return n.storeDefaultText=!0,n.onGetTextCallback=function(r){return r||(r=e.getDefaultTitle()),e.survey?e.survey.getUpdatedQuestionTitle(e,r):r},this.locProcessedTitle=new In(this,!0),this.locProcessedTitle.sharedData=n,n},t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),e?this.parent?this.parent.getSurvey(e):null:this.onGetSurvey?this.onGetSurvey():i.prototype.getSurvey.call(this)},t.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(t.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(e){var n=this.getValueName();this.setPropertyValue("valueName",e),this.onValueNameChanged(n)},enumerable:!1,configurable:!0}),t.prototype.onValueNameChanged=function(e){this.survey&&(this.survey.questionRenamed(this,this.name,e||this.name),this.initDataFromSurvey())},t.prototype.onNameChanged=function(e){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,e,this.valueName?this.valueName:e)},Object.defineProperty(t.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),t.prototype.onAsyncRunningChanged=function(){this.updateIsReady()},t.prototype.updateIsReady=function(){var e=this.getIsQuestionReady();if(e){for(var n=this.getIsReadyDependsOn(),r=0;r<n.length;r++)if(!n[r].getIsQuestionReady()){e=!1;break}}this.setIsReady(e)},t.prototype.getIsQuestionReady=function(){return!this.isAsyncExpressionRunning&&this.getAreNestedQuestionsReady()},t.prototype.getAreNestedQuestionsReady=function(){var e=this.getIsReadyNestedQuestions();if(!Array.isArray(e))return!0;for(var n=0;n<e.length;n++)if(!e[n].isReady)return!1;return!0},t.prototype.getIsReadyNestedQuestions=function(){return this.getNestedQuestions()},t.prototype.setIsReady=function(e){var n=this.isReadyValue;this.isReadyValue=e,n!=e&&(this.getIsReadyDependends().forEach(function(r){return r.updateIsReady()}),this.onReadyChanged.fire(this,{question:this,isReady:e,oldIsReady:n}))},t.prototype.getIsReadyDependsOn=function(){return this.getIsReadyDependendCore(!0)},t.prototype.getIsReadyDependends=function(){return this.getIsReadyDependendCore(!1)},t.prototype.getIsReadyDependendCore=function(e){var n=this;if(!this.survey)return[];var r=this.survey.questionsByValueName(this.getValueName()),o=new Array;return r.forEach(function(c){c!==n&&o.push(c)}),e||(this.parentQuestion&&o.push(this.parentQuestion),this.dependedQuestions.length>0&&this.dependedQuestions.forEach(function(c){return o.push(c)})),o},t.prototype.choicesLoaded=function(){},Object.defineProperty(t.prototype,"page",{get:function(){return this.parentQuestion?this.parentQuestion.page:this.getPage(this.parent)},set:function(e){this.setPage(this.parent,e)},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return null},t.prototype.delete=function(e){e===void 0&&(e=!0),this.removeFromParent(),e?this.dispose():this.resetDependedQuestions()},t.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},t.prototype.addDependedQuestion=function(e){!e||this.dependedQuestions.indexOf(e)>-1||this.dependedQuestions.push(e)},t.prototype.removeDependedQuestion=function(e){if(e){var n=this.dependedQuestions.indexOf(e);n>-1&&this.dependedQuestions.splice(n,1)}},t.prototype.updateDependedQuestions=function(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].updateDependedQuestion()},t.prototype.updateDependedQuestion=function(){},t.prototype.resetDependedQuestion=function(){},Object.defineProperty(t.prototype,"isFlowLayout",{get:function(){return this.getLayoutType()==="flow"},enumerable:!1,configurable:!0}),t.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},t.prototype.isLayoutTypeSupported=function(e){return e!=="flow"},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){e!=this.visible&&(this.setPropertyValue("visible",e),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),t.prototype.onVisibleChanged=function(){this.updateIsVisibleProp(),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},t.prototype.notifyStateChanged=function(e){i.prototype.notifyStateChanged.call(this,e),this.isCollapsed&&this.onHidingContent()},t.prototype.updateIsVisibleProp=function(){var e=this.getPropertyValue("isVisible"),n=this.isVisible;e!==n&&(this.setPropertyValue("isVisible",n),n||this.onHidingContent())},Object.defineProperty(t.prototype,"useDisplayValuesInDynamicTexts",{get:function(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")},set:function(e){this.setPropertyValue("useDisplayValuesInDynamicTexts",e)},enumerable:!1,configurable:!0}),t.prototype.getUseDisplayValuesInDynamicTexts=function(){return this.useDisplayValuesInDynamicTexts},Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty()?!1:this.areInvisibleElementsShowing?!0:this.isVisibleCore()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisibleInSurvey",{get:function(){return this.isVisible&&this.isParentVisible},enumerable:!1,configurable:!0}),t.prototype.isVisibleCore=function(){return this.visible},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),t.prototype.onHidingContent=function(){},Object.defineProperty(t.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber")},set:function(e){this.setPropertyValue("hideNumber",e),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"question"},Object.defineProperty(t.prototype,"isQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.moveTo=function(e,n){return n===void 0&&(n=null),this.moveToBase(this.parent,e,n)},t.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:i.prototype.getProgressInfo.call(this)},t.prototype.ensureSetValueExpressionRunner=function(){var e=this;this.setValueExpressionRunner?this.setValueExpressionRunner.expression=this.setValueExpression:(this.setValueExpressionRunner=new Nr(this.setValueExpression),this.setValueExpressionRunner.onRunComplete=function(n){e.runExpressionSetValue(n)})},t.prototype.runSetValueExpression=function(){this.setValueExpression?(this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner.run(this.getDataFilteredValues(),this.getDataFilteredProperties())):this.clearValue()},t.prototype.checkExpressionIf=function(e){return this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner?new Ie().isAnyKeyChanged(e,this.setValueExpressionRunner.getVariables()):!1},t.prototype.addTriggerInfo=function(e,n,r){var o=new fv(e,n,r);return this.triggersInfo.push(o),o},t.prototype.runTriggerInfo=function(e,n,r){var o=this[e.name],c={};if(c[n]=r,!o||e.isRunning||!e.canRun()){e.runSecondCheck(c)&&e.doComplete();return}e.runner?e.runner.expression=o:(e.runner=new Nr(o),e.runner.onRunComplete=function(p){p===!0&&e.doComplete(),e.isRunning=!1}),!(!new Ie().isAnyKeyChanged(c,e.runner.getVariables())&&!e.runSecondCheck(c))&&(e.isRunning=!0,e.runner.run(this.getDataFilteredValues(),this.getDataFilteredProperties()))},t.prototype.runTriggers=function(e,n){var r=this;this.isSettingQuestionValue||this.parentQuestion&&this.parentQuestion.getValueName()===e||this.triggersInfo.forEach(function(o){r.runTriggerInfo(o,e,n)})},t.prototype.runConditions=function(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},t.prototype.setSurveyImpl=function(e,n){i.prototype.setSurveyImpl.call(this,e),this.survey&&(this.survey.questionCreated(this),n!==!0&&this.runConditions(),this.calcRenderedCommentPlaceholder(),this.visible||this.updateIsVisibleProp(),this.updateIsMobileFromSurvey())},Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.parent!==e&&(this.removeFromParent(),this.setPropertyValue("parent",e),this.updateQuestionCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),t.prototype.onParentChanged=function(){},Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.getTitleLocation()!=="hidden"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(e){var n=this.titleLocation=="hidden"||e=="hidden";this.setPropertyValue("titleLocation",e.toLowerCase()),this.updateQuestionCss(),n&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),t.prototype.getTitleOwner=function(){return this},t.prototype.getIsTitleRenderedAsString=function(){return this.titleLocation==="hidden"},t.prototype.notifySurveyOnChildrenVisibilityChanged=function(){return!1},t.prototype.notifySurveyVisibilityChanged=function(){if(!(!this.survey||this.isLoadingFromJson)){this.survey.questionVisibilityChanged(this,this.isVisible,!this.parentQuestion||this.parentQuestion.notifySurveyOnChildrenVisibilityChanged());var e=this.isClearValueOnHidden;this.visible||this.clearValueOnHidding(e),e&&this.isVisibleInSurvey&&this.updateValueWithDefaults()}},t.prototype.clearValueOnHidding=function(e){e&&this.clearValueIfInvisible()},Object.defineProperty(t.prototype,"titleWidth",{get:function(){if(this.parent&&this.getTitleLocation()==="left"){var e=this.parent.getColumsForElement(this),n=e.length;if(n!==0&&e[0].questionTitleWidth)return e[0].questionTitleWidth;var r=this.getPercentQuestionTitleWidth();if(!r&&this.parent){var o=this.parent.getQuestionTitleWidth();return o&&!isNaN(o)&&(o=o+"px"),o}return r/(n||1)+"%"}},enumerable:!1,configurable:!0}),t.prototype.getPercentQuestionTitleWidth=function(){var e=!!this.parent&&this.parent.getQuestionTitleWidth();if(e&&e[e.length-1]==="%")return parseInt(e)},t.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var e=this.getTitleLocationCore();return e==="left"&&!this.isAllowTitleLeft&&(e="top"),e},t.prototype.getTitleLocationCore=function(){return this.titleLocation!=="default"?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(t.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&this.getTitleLocation()==="left"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&this.getTitleLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&this.getTitleLocation()==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var e=this.getTitleLocation();return e==="left"||e==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorLocation",{get:function(){return this.getPropertyValue("errorLocation")},set:function(e){this.setPropertyValue("errorLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getErrorLocation=function(){return this.errorLocation!=="default"?this.errorLocation:this.parentQuestion?this.parentQuestion.getChildErrorLocation(this):this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},t.prototype.getChildErrorLocation=function(e){return this.getErrorLocation()},Object.defineProperty(t.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),t.prototype.getDefaultTitleValue=function(){return this.name},t.prototype.getDefaultTitleTagName=function(){return N.titleTags.question},Object.defineProperty(t.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(e){this.setPropertyValue("descriptionLocation",e),this.updateQuestionCss()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasDescriptionUnderTitle",{get:function(){return this.getDescriptionLocation()=="underTitle"&&this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasDescriptionUnderInput",{get:function(){return this.getDescriptionLocation()=="underInput"&&this.hasDescription},enumerable:!1,configurable:!0}),t.prototype.getDescriptionLocation=function(){return this.descriptionLocation!=="default"?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},t.prototype.needClickTitleFunction=function(){return i.prototype.needClickTitleFunction.call(this)||this.hasInput},t.prototype.processTitleClick=function(){var e=this;if(i.prototype.processTitleClick.call(this),!this.isCollapsed)return setTimeout(function(){e.focus()},1),!0},Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(e){this.setLocalizableStringText("requiredErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText")},set:function(e){this.setLocalizableStringText("commentText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentPlaceHolder",{get:function(){return this.commentPlaceholder},set:function(e){this.commentPlaceholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedCommentPlaceholder",{get:function(){return this.getPropertyValue("renderedCommentPlaceholder")},enumerable:!1,configurable:!0}),t.prototype.calcRenderedCommentPlaceholder=function(){var e=this.isReadOnly?void 0:this.commentPlaceHolder;this.setPropertyValue("renderedCommentPlaceholder",e)},t.prototype.getAllErrors=function(){return this.errors.slice()},t.prototype.getErrorByType=function(e){for(var n=0;n<this.errors.length;n++)if(this.errors[n].getErrorType()===e)return this.errors[n];return null},Object.defineProperty(t.prototype,"customWidget",{get:function(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),t.prototype.updateCustomWidget=function(){this.customWidgetValue=Ka.Instance.getCustomWidget(this)},t.prototype.localeChanged=function(){i.prototype.localeChanged.call(this),this.calcRenderedCommentPlaceholder(),this.localeChangedCallback&&this.localeChangedCallback()},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.updateCommentElements=function(){},t.prototype.onCommentInput=function(e){this.isInputTextUpdate?e.target&&(this.comment=e.target.value):this.updateCommentElements()},t.prototype.onCommentChange=function(e){this.comment=e.target.value,this.comment!==e.target.value&&(e.target.value=this.comment)},t.prototype.afterRenderQuestionElement=function(e){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,e)},t.prototype.afterRender=function(e){var n=this;this.afterRenderCore(e),this.survey&&(this.survey.afterRenderQuestion(this,e),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,e),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(function(r){var o=N.environment.root,c=o.getElementById(r);c&&n.commentElements.push(c)}),this.updateCommentElements()),this.checkForResponsiveness(e))},t.prototype.afterRenderCore=function(e){i.prototype.afterRenderCore.call(this,e)},t.prototype.getCommentElementsId=function(){return[this.commentId]},t.prototype.beforeDestroyQuestionElement=function(e){this.commentElements=void 0},Object.defineProperty(t.prototype,"processedTitle",{get:function(){var e=this.locProcessedTitle.textOrHtml;return e||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(e){this.startWithNewLine!=e&&this.setPropertyValue("startWithNewLine",e)},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(e){var n={error:{}};return this.copyCssClasses(n,e.question),this.copyCssClasses(n.error,e.error),this.updateCssClasses(n,e),this.survey&&this.survey.updateQuestionCssClasses(this,n),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(n),n},Object.defineProperty(t.prototype,"cssRoot",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),t.prototype.setCssRoot=function(e){this.setPropertyValue("cssRoot",e)},t.prototype.getCssRoot=function(e){var n=this.hasCssError();return new J().append(i.prototype.getCssRoot.call(this,e)).append(this.isFlowLayout&&!this.isDesignMode?e.flowRoot:e.mainRoot).append(e.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(e.titleTopRoot,!this.isFlowLayout&&this.hasTitleOnTop).append(e.titleBottomRoot,!this.isFlowLayout&&this.hasTitleOnBottom).append(e.descriptionUnderInputRoot,!this.isFlowLayout&&this.hasDescriptionUnderInput).append(e.hasError,n).append(e.hasErrorTop,n&&this.getErrorLocation()=="top").append(e.hasErrorBottom,n&&this.getErrorLocation()=="bottom").append(e.small,!this.width).append(e.answered,this.isAnswered).append(e.noPointerEventsMode,this.isReadOnlyAttr).toString()},Object.defineProperty(t.prototype,"cssHeader",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),t.prototype.setCssHeader=function(e){this.setPropertyValue("cssHeader",e)},t.prototype.getCssHeader=function(e){return new J().append(e.header).append(e.headerTop,this.hasTitleOnTop).append(e.headerLeft,this.hasTitleOnLeft).append(e.headerBottom,this.hasTitleOnBottom).toString()},t.prototype.supportContainerQueries=function(){return!1},Object.defineProperty(t.prototype,"cssContent",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),t.prototype.setCssContent=function(e){this.setPropertyValue("cssContent",e)},t.prototype.getCssContent=function(e){return new J().append(e.content).append(e.contentSupportContainerQueries,this.supportContainerQueries()).append(e.contentLeft,this.hasTitleOnLeft).toString()},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),t.prototype.setCssTitle=function(e){this.setPropertyValue("cssTitle",e)},t.prototype.getCssTitle=function(e){return new J().append(i.prototype.getCssTitle.call(this,e)).append(e.titleOnAnswer,!this.containsErrors&&this.isAnswered).append(e.titleEmpty,!this.title.trim()).toString()},Object.defineProperty(t.prototype,"cssDescription",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")},enumerable:!1,configurable:!0}),t.prototype.setCssDescription=function(e){this.setPropertyValue("cssDescription",e)},t.prototype.getCssDescription=function(e){return new J().append(e.description,this.hasDescriptionUnderTitle).append(e.descriptionUnderInput,this.hasDescriptionUnderInput).toString()},t.prototype.showErrorOnCore=function(e){return!this.showErrorsAboveQuestion&&!this.showErrorsBelowQuestion&&this.getErrorLocation()===e},Object.defineProperty(t.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsOutsideQuestion",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsAboveQuestion",{get:function(){return this.showErrorsOutsideQuestion&&this.getErrorLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsBelowQuestion",{get:function(){return this.showErrorsOutsideQuestion&&this.getErrorLocation()==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssError",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),t.prototype.setCssError=function(e){this.setPropertyValue("cssError",e)},t.prototype.getCssError=function(e){return new J().append(e.error.root).append(e.errorsContainer,this.showErrorsBelowQuestion||this.showErrorsAboveQuestion).append(e.errorsContainerTop,this.showErrorsAboveQuestion).append(e.errorsContainerBottom,this.showErrorsBelowQuestion).append(e.error.locationTop,this.showErrorOnTop).append(e.error.locationBottom,this.showErrorOnBottom).toString()},t.prototype.hasCssError=function(){return this.errors.length>0||this.hasCssErrorCallback()},t.prototype.getRootCss=function(){return new J().append(this.cssRoot).append(this.cssClasses.mobile,this.isMobile).append(this.cssClasses.readOnly,this.isReadOnlyStyle).append(this.cssClasses.disabled,this.isDisabledStyle).append(this.cssClasses.preview,this.isPreviewStyle).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},t.prototype.getQuestionRootCss=function(){return new J().append(this.cssClasses.root).append(this.cssClasses.rootMobile,this.isMobile).toString()},t.prototype.updateElementCss=function(e){i.prototype.updateElementCss.call(this,e),e&&this.updateQuestionCss(!0),this.onIndentChanged()},t.prototype.updateQuestionCss=function(e){this.isLoadingFromJson||!this.survey||e!==!0&&!this.cssClassesValue||this.updateElementCssCore(this.cssClasses)},t.prototype.ensureElementCss=function(){this.cssClassesValue||this.updateQuestionCss(!0)},t.prototype.updateElementCssCore=function(e){this.setCssRoot(this.getCssRoot(e)),this.setCssHeader(this.getCssHeader(e)),this.setCssContent(this.getCssContent(e)),this.setCssTitle(this.getCssTitle(e)),this.setCssDescription(this.getCssDescription(e)),this.setCssError(this.getCssError(e))},t.prototype.updateCssClasses=function(e,n){if(n.question){var r=n[this.getCssType()],o=new J().append(e.title).append(n.question.titleRequired,this.isRequired);e.title=o.toString();var c=new J().append(e.root).append(r,this.isRequired&&!!n.question.required);if(r==null)e.root=c.toString();else if(typeof r=="string"||r instanceof String)e.root=c.append(r.toString()).toString();else{e.root=c.toString();for(var p in r)e[p]=r[p]}}},t.prototype.getCssType=function(){return this.getType()},Object.defineProperty(t.prototype,"renderCssRoot",{get:function(){return this.cssClasses.root||void 0},enumerable:!1,configurable:!0}),t.prototype.onIndentChanged=function(){this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},t.prototype.getIndentSize=function(e){return e<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":e*this.cssClasses.indent+"px"},t.prototype.focus=function(e,n){var r=this;if(e===void 0&&(e=!1),!(this.isDesignMode||!this.isVisible||!this.survey)){var o=this.page,c=!!o&&this.survey.activePage!==o;if(c)this.survey.focusQuestionByInstance(this,e);else if(this.survey){this.expandAllParents();var p=this.survey.isSmoothScrollEnabled?{behavior:"smooth"}:void 0;this.survey.scrollElementToTop(this,this,null,this.id,n,p,void 0,function(){r.focusInputElement(e)})}else this.focusInputElement(e)}},t.prototype.focusInputElement=function(e){var n,r=e?this.getFirstErrorInputElementId():this.getFirstInputElementId(),o=(n=this.survey)===null||n===void 0?void 0:n.rootElement;Qt.FocusElement(r,!1,o)&&this.fireCallback(this.focusCallback)},Object.defineProperty(t.prototype,"isValidateVisitedEmptyFields",{get:function(){return this.supportEmptyValidation()&&!!this.survey&&this.survey.getValidateVisitedEmptyFields()&&this.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.supportEmptyValidation=function(){return!1},t.prototype.onBlur=function(e){this.onBlurCore(e)},t.prototype.onFocus=function(e){this.onFocusCore(e)},t.prototype.onBlurCore=function(e){this.isFocusEmpty&&this.isEmpty()&&this.validate(!0)},t.prototype.onFocusCore=function(e){this.isFocusEmpty=this.isValidateVisitedEmptyFields},t.prototype.expandAllParents=function(){this.expandAllParentsCore(this)},t.prototype.expandAllParentsCore=function(e){e&&(e.isCollapsed&&e.expand(),this.expandAllParentsCore(e.parent),this.expandAllParentsCore(e.parentQuestion))},t.prototype.focusIn=function(){!this.survey||this.isDisposed||this.isContainer||this.survey.whenQuestionFocusIn(this)},t.prototype.fireCallback=function(e){e&&e()},t.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},t.prototype.onCreating=function(){},t.prototype.getFirstQuestionToFocus=function(e){return this.hasInput&&(!e||this.currentErrorCount>0)?this:null},t.prototype.getFirstInputElementId=function(){return this.inputId},t.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},t.prototype.getProcessedTextValue=function(e){var n=e.name.toLocaleLowerCase();e.isExists=Object.keys(t.TextPreprocessorValuesMap).indexOf(n)!==-1||this[e.name]!==void 0,e.value=this[t.TextPreprocessorValuesMap[n]||e.name]},t.prototype.supportComment=function(){var e=this.getPropertyByName("showCommentArea");return!e||e.visible},t.prototype.supportOther=function(){return!1},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(e){this.setPropertyValue("isRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(e){this.setPropertyValue("requiredIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCommentArea",{get:function(){return this.getPropertyValue("showCommentArea",!1)},set:function(e){this.supportComment()&&this.setPropertyValue("showCommentArea",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasComment",{get:function(){return this.showCommentArea},set:function(e){this.showCommentArea=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaDescriptionId",{get:function(){return this.id+"_ariaDescription"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentId",{get:function(){return this.id+"_comment"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showOtherItem",{get:function(){return this.getPropertyValue("showOtherItem",!1)},set:function(e){!this.supportOther()||this.showOtherItem==e||(this.setPropertyValue("showOtherItem",e),this.hasOtherChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasOther",{get:function(){return this.showOtherItem},set:function(e){this.showOtherItem=e},enumerable:!1,configurable:!0}),t.prototype.hasOtherChanged=function(){},Object.defineProperty(t.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){var e=!!this.parent&&this.parent.isReadOnly,n=!!this.parentQuestion&&this.parentQuestion.isReadOnly,r=!!this.survey&&this.survey.isDisplayMode,o=!!this.readOnlyCallback&&this.readOnlyCallback();return this.readOnly||e||r||n||o},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInputReadOnly",{get:function(){return this.forceIsInputReadOnly!==void 0?this.forceIsInputReadOnly:this.isReadOnly||this.isDesignModeV2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedInputReadOnly",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedInputDisabled",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnlyAttr",{get:function(){return this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDisabledAttr",{get:function(){return this.isDesignModeV2||!!this.readOnlyCallback&&this.readOnlyCallback()},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),i.prototype.onReadOnlyChanged.call(this),this.isReadOnly&&this.clearErrors(),this.updateQuestionCss(),this.calcRenderedCommentPlaceholder()},Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),t.prototype.surveyChoiceItemVisibilityChange=function(){},t.prototype.runCondition=function(e,n){this.isDesignMode||(n||(n={}),n.question=this,this.runConditionCore(e,n),!this.isValueChangedDirectly&&(!this.isClearValueOnHidden||this.isVisibleInSurvey)&&(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,e,n)))},Object.defineProperty(t.prototype,"isInDesignMode",{get:function(){return!this.isContentElement&&this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInDesignModeV2",{get:function(){return!this.isContentElement&&this.isDesignModeV2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"no",{get:function(){return this.getPropertyValue("no")},enumerable:!1,configurable:!0}),t.prototype.calcNo=function(){var e;if(!this.hasTitle||this.hideNumber)return"";var n=(e=this.parent)===null||e===void 0?void 0:e.visibleIndex,r=g.getNumberByIndex(this.visibleIndex,this.getStartIndex(),n);return this.survey&&(r=this.survey.getUpdatedQuestionNo(this,r)),r},t.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},t.prototype.onSurveyLoad=function(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey(),this.calcRenderedCommentPlaceholder(),this.onIndentChanged()},t.prototype.onSetData=function(){i.prototype.onSetData.call(this),this.survey&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.onIndentChanged(),this.updateQuestionCss(),this.updateIsAnswered())},t.prototype.initDataFromSurvey=function(){if(this.data){var e=this.data.getValue(this.getValueName());(!g.isValueEmpty(e)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(e),this.initCommentFromSurvey()}},t.prototype.initCommentFromSurvey=function(){this.data&&this.requireUpdateCommentValue?this.updateCommentFromSurvey(this.data.getComment(this.getValueName())):this.updateCommentFromSurvey("")},t.prototype.runExpression=function(e){if(!(!this.survey||!e))return this.survey.runExpression(e)},Object.defineProperty(t.prototype,"commentAreaRows",{get:function(){return this.survey&&this.survey.commentAreaRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoGrowComment",{get:function(){return this.survey&&this.survey.autoGrowComment},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowResizeComment",{get:function(){return this.survey&&this.survey.allowResizeComment},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionValue",{get:function(){return this.getPropertyValueWithoutDefault("value")},set:function(e){this.setPropertyValue("value",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionComment",{get:function(){return this.getPropertyValueWithoutDefault("comment")},set:function(e){this.setPropertyValue("comment",e),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValueCore()},set:function(e){this.setNewValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFilteredValue",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getFilteredValue=function(){return this.value},t.prototype.getFilteredName=function(){return this.getValueName()},Object.defineProperty(t.prototype,"valueForSurvey",{get:function(){return this.valueForSurveyCore(this.value)},enumerable:!1,configurable:!0}),t.prototype.valueForSurveyCore=function(e){return this.valueToDataCallback?this.valueToDataCallback(e):e},t.prototype.valueFromDataCore=function(e){return this.valueFromDataCallback?this.valueFromDataCallback(e):e},t.prototype.clearValue=function(e){this.value!==void 0&&(this.value=void 0),this.comment&&e!==!0&&(this.comment=void 0),this.setValueChangedDirectly(!1)},t.prototype.clearValueOnly=function(){this.clearValue(!0)},t.prototype.unbindValue=function(){this.clearValue()},t.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},t.prototype.initDataUI=function(){},t.prototype.getUnbindValue=function(e){return this.isValueSurveyElement(e)?e:g.getUnbindValue(e)},t.prototype.isValueSurveyElement=function(e){return e?Array.isArray(e)?e.length>0?this.isValueSurveyElement(e[0]):!1:!!e.getType&&!!e.onPropertyChanged:!1},t.prototype.canClearValueAsInvisible=function(e){return e==="onHiddenContainer"&&!this.isParentVisible?!0:this.isVisibleInSurvey||this.page&&this.page.isStartPage?!1:this.survey?!this.survey.hasVisibleQuestionByValueName(this.getValueName()):!0},Object.defineProperty(t.prototype,"isParentVisible",{get:function(){if(this.parentQuestion&&!this.parentQuestion.isVisible)return!1;for(var e=this.parent;e;){if(!e.isVisible)return!1;e=e.parent}return!0},enumerable:!1,configurable:!0}),t.prototype.clearValueIfInvisible=function(e){e===void 0&&(e="onHidden");var n=this.getClearIfInvisible();n!=="none"&&(e==="onHidden"&&n==="onComplete"||e==="onHiddenContainer"&&n!==e||this.clearValueIfInvisibleCore(e))},t.prototype.clearValueIfInvisibleCore=function(e){this.canClearValueAsInvisible(e)&&(this.clearValue(),this.setValueChangedDirectly(void 0))},Object.defineProperty(t.prototype,"clearIfInvisible",{get:function(){return this.getPropertyValue("clearIfInvisible")},set:function(e){this.setPropertyValue("clearIfInvisible",e)},enumerable:!1,configurable:!0}),t.prototype.getClearIfInvisible=function(){var e=this.clearIfInvisible;return this.survey?this.survey.getQuestionClearIfInvisible(e):e!=="default"?e:"onComplete"},Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)},enumerable:!1,configurable:!0}),t.prototype.getDisplayValue=function(e,n){n===void 0&&(n=void 0);var r=this.calcDisplayValue(e,n);return this.survey&&(r=this.survey.getQuestionDisplayValue(this,r)),this.displayValueCallback?this.displayValueCallback(r):r},t.prototype.calcDisplayValue=function(e,n){if(n===void 0&&(n=void 0),this.customWidget){var r=this.customWidget.getDisplayValue(this,n);if(r)return r}return n=n??this.createValueCopy(),this.isValueEmpty(n,!this.allowSpaceAsAnswer)?this.getDisplayValueEmpty():this.getDisplayValueCore(e,n)},t.prototype.getDisplayValueCore=function(e,n){return n},t.prototype.getDisplayValueEmpty=function(){return""},Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(e){if(this.isValueExpression(e)){this.defaultValueExpression=e.substring(1);return}this.setPropertyValue("defaultValue",this.convertDefaultValue(e)),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(e){this.setPropertyValue("defaultValueExpression",e),this.defaultValueRunner=void 0,this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetValueIf",{get:function(){return this.getPropertyValue("resetValueIf")},set:function(e){this.setPropertyValue("resetValueIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueIf",{get:function(){return this.getPropertyValue("setValueIf")},set:function(e){this.setPropertyValue("setValueIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueExpression",{get:function(){return this.getPropertyValue("setValueExpression")},set:function(e){this.setPropertyValue("setValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizeStyle",{get:function(){return this.allowResizeComment?"both":"none"},enumerable:!1,configurable:!0}),t.prototype.getPlainData=function(e){var n=this;if(e||(e={includeEmpty:!0,includeQuestionTypes:!1}),e.includeEmpty||!this.isEmpty()){var r={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(o){return typeof o=="object"?JSON.stringify(o):o}};return e.includeQuestionTypes===!0&&(r.questionType=this.getType()),(e.calculations||[]).forEach(function(o){r[o.propertyName]=n.getPlainDataCalculatedValue(o.propertyName)}),this.hasComment&&(r.isNode=!0,r.data=[{name:0,isComment:!0,title:"Comment",value:N.commentSuffix,displayValue:this.comment,getString:function(o){return typeof o=="object"?JSON.stringify(o):o},isNode:!1}]),r}},t.prototype.getPlainDataCalculatedValue=function(e){return this[e]},Object.defineProperty(t.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(e){this.setPropertyValue("correctAnswer",this.convertDefaultValue(e))},enumerable:!1,configurable:!0}),t.prototype.convertDefaultValue=function(e){return e},Object.defineProperty(t.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"correctAnswerCount",{get:function(){return!this.isEmpty()&&!this.isValueEmpty(this.correctAnswer)?this.getCorrectAnswerCount():0},enumerable:!1,configurable:!0}),t.prototype.getQuizQuestionCount=function(){return 1},t.prototype.getCorrectAnswerCount=function(){return this.checkIfAnswerCorrect()?1:0},t.prototype.checkIfAnswerCorrect=function(){var e=g.isTwoValueEquals(this.value,this.correctAnswer,this.getAnswerCorrectIgnoreOrder(),N.comparator.caseSensitive,!0),n=e?1:0,r={result:e,correctAnswer:n,correctAnswers:n,incorrectAnswers:this.quizQuestionCount-n};return this.survey&&this.survey.onCorrectQuestionAnswer(this,r),r.result},t.prototype.getAnswerCorrectIgnoreOrder=function(){return!1},t.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},t.prototype.updateValueWithDefaults=function(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()},Object.defineProperty(t.prototype,"isValueDefault",{get:function(){return!this.isEmpty()&&(this.isTwoValueEquals(this.defaultValue,this.value)||!this.isValueChangedDirectly&&!!this.defaultValueExpression)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isClearValueOnHidden",{get:function(){var e=this.getClearIfInvisible();return e==="none"||e==="onComplete"?!1:e==="onHidden"||e==="onHiddenContainer"},enumerable:!1,configurable:!0}),t.prototype.getQuestionFromArray=function(e,n){return null},t.prototype.getDefaultValue=function(){return this.defaultValue},t.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue,!this.allowSpaceAsAnswer)},t.prototype.getDefaultRunner=function(e,n){return!e&&n&&(e=this.createExpressionRunner(n)),e&&(e.expression=n),e},t.prototype.setDefaultValue=function(){var e=this;this.setDefaultValueCore(function(n){e.isTwoValueEquals(e.value,n)||(e.value=n)})},t.prototype.setDefaultValueCore=function(e){this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),function(n){return e(n)})},t.prototype.isValueExpression=function(e){return!!e&&typeof e=="string"&&e.length>0&&e[0]=="="},t.prototype.setValueAndRunExpression=function(e,n,r,o,c){var p=this;o===void 0&&(o=null),c===void 0&&(c=null);var y=function(b){p.runExpressionSetValueCore(b,r)};this.runDefaultValueExpression(e,o,c,y)||y(n)},t.prototype.convertFuncValuetoQuestionValue=function(e){return g.convertValToQuestionVal(e)},t.prototype.runExpressionSetValueCore=function(e,n){n(this.convertFuncValuetoQuestionValue(e))},t.prototype.runExpressionSetValue=function(e){var n=this;this.runExpressionSetValueCore(e,function(r){n.isTwoValueEquals(n.value,r)||(n.value=r)})},t.prototype.runDefaultValueExpression=function(e,n,r,o){var c=this;return n===void 0&&(n=null),r===void 0&&(r=null),!e||!this.data?!1:(o||(o=function(p){c.runExpressionSetValue(p)}),n||(n=this.defaultValueExpression?this.data.getFilteredValues():{}),r||(r=this.defaultValueExpression?this.data.getFilteredProperties():{}),e&&e.canRun&&(e.onRunComplete=function(p){p==null&&(p=c.defaultValue),c.isChangingViaDefaultValue=!0,o(p),c.isChangingViaDefaultValue=!1},e.run(n,r)),!0)},Object.defineProperty(t.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(e){if(e){var n=e.toString().trim();n!==e&&(e=n,e===this.comment&&this.setPropertyValueDirectly("comment",e))}this.comment!=e&&(this.setQuestionComment(e),this.updateCommentElements())},enumerable:!1,configurable:!0}),t.prototype.getCommentAreaCss=function(e){return e===void 0&&(e=!1),new J().append("form-group",e).append(this.cssClasses.formGroup,!e).append(this.cssClasses.commentArea).toString()},t.prototype.getQuestionComment=function(){return this.questionComment},t.prototype.setQuestionComment=function(e){this.setNewComment(e)},t.prototype.isEmpty=function(){return this.isValueEmpty(this.value,!this.allowSpaceAsAnswer)},Object.defineProperty(t.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")},set:function(e){this.setPropertyValue("isAnswered",e)},enumerable:!1,configurable:!0}),t.prototype.updateIsAnswered=function(){var e=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),e!==this.isAnswered&&this.updateQuestionCss()},t.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(t.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(e){this.setPropertyValue("validators",e)},enumerable:!1,configurable:!0}),t.prototype.getValidators=function(){return this.validators},t.prototype.getSupportedValidators=function(){for(var e=[],n=this.getType();n;){var r=N.supportedValidators[n];if(r)for(var o=r.length-1;o>=0;o--)e.splice(0,0,r[o]);var c=H.findClass(n);n=c.parentName}return e},t.prototype.addConditionObjectsByContext=function(e,n){e.push({name:this.getFilteredName(),text:this.processedTitle,question:this})},t.prototype.getNestedQuestions=function(e){e===void 0&&(e=!1);var n=[];return this.collectNestedQuestions(n,e),n.length===1&&n[0]===this?[]:n},t.prototype.collectNestedQuestions=function(e,n){n===void 0&&(n=!1),!(n&&!this.isVisible)&&this.collectNestedQuestionsCore(e,n)},t.prototype.collectNestedQuestionsCore=function(e,n){e.push(this)},t.prototype.getConditionJson=function(e,n){var r=new et().toJsonObject(this);return r.type=this.getType(),r},t.prototype.hasErrors=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=null);var r=this.checkForErrors(!!n&&n.isOnValueChanged===!0,e);return e&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,r),this.errors=r,this.errors!==r&&this.errors.forEach(function(o){return o.locText.strChanged()})),this.updateContainsErrors(),this.isCollapsed&&n&&e&&r.length>0&&this.expand(),r.length>0},t.prototype.validate=function(e,n){return e===void 0&&(e=!0),n===void 0&&(n=null),n&&n.isOnValueChanged&&this.parent&&this.parent.validateContainerOnly(),!this.hasErrors(e,n)},Object.defineProperty(t.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.survey!=null&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),t.prototype.addError=function(e){if(e){var n=null;typeof e=="string"||e instanceof String?n=this.addCustomError(e):n=e,this.errors.push(n)}},t.prototype.addCustomError=function(e){return new wn(e,this.survey)},t.prototype.removeError=function(e){if(!e)return!1;var n=this.errors,r=n.indexOf(e);return r!==-1&&n.splice(r,1),r!==-1},t.prototype.checkForErrors=function(e,n){var r=new Array;return this.isVisible&&this.canCollectErrors()&&this.collectErrors(r,e,n),r},t.prototype.canCollectErrors=function(){return!this.isReadOnly||N.readOnly.enableValidation},t.prototype.collectErrors=function(e,n,r){if(this.onCheckForErrors(e,n,r),!(e.length>0||!this.canRunValidators(n))){var o=this.runValidators();if(o.length>0){e.length=0;for(var c=0;c<o.length;c++)e.push(o[c])}if(this.survey&&e.length==0){var p=this.fireSurveyValidation();p&&e.push(p)}}},t.prototype.canRunValidators=function(e){return!0},t.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},t.prototype.onCheckForErrors=function(e,n,r){var o=this;if((!n||this.isOldAnswered)&&this.hasRequiredError()){var c=new ud(this.requiredErrorText,this);c.onUpdateErrorTextCallback=function(y){y.text=o.requiredErrorText},e.push(c)}if(!this.isEmpty()&&this.customWidget){var p=this.customWidget.validate(this);p&&e.push(this.addCustomError(p))}},t.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(t.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),t.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},t.prototype.runValidators=function(){var e=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new hd,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(n){e.doOnAsyncCompleted(n)},this.validatorRunner.run(this)},t.prototype.doOnAsyncCompleted=function(e){for(var n=0;n<e.length;n++)this.errors.push(e[n]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},t.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},t.prototype.setNewValue=function(e){this.isNewValueEqualsToValue(e)||this.checkIsValueCorrect(e)&&(this.isOldAnswered=this.isAnswered,this.isSettingQuestionValue=!0,this.setNewValueInData(e),this.allowNotifyValueChanged&&this.onValueChanged(),this.isSettingQuestionValue=!1,this.isAnswered!==this.isOldAnswered&&this.updateQuestionCss(),this.isOldAnswered=void 0,this.parent&&this.parent.onQuestionValueChanged(this))},t.prototype.checkIsValueCorrect=function(e){var n=this.isValueEmpty(e,!this.allowSpaceAsAnswer)||this.isNewValueCorrect(e);return n||Ze.inCorrectQuestionValue(this.name,e),n},t.prototype.isNewValueCorrect=function(e){return!0},t.prototype.isNewValueEqualsToValue=function(e){var n=this.value;if(!this.isTwoValueEquals(e,n,!1,!1))return!1;var r=e===n&&!!n&&(Array.isArray(n)||typeof n=="object");return!r},t.prototype.isTextValue=function(){return!1},t.prototype.getIsInputTextUpdate=function(){return this.survey?this.survey.isUpdateValueTextOnTyping:!1},Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getDataLocNotification=function(){return this.isInputTextUpdate?"text":!1},Object.defineProperty(t.prototype,"isInputTextUpdate",{get:function(){return this.getIsInputTextUpdate()&&this.isTextValue()},enumerable:!1,configurable:!0}),t.prototype.setNewValueInData=function(e){e=this.valueToData(e),this.isValueChangedInSurvey||this.setValueCore(e)},t.prototype.getValueCore=function(){return this.questionValue},t.prototype.setValueCore=function(e){this.setQuestionValue(e),this.data!=null&&this.canSetValueToSurvey()&&(e=this.valueForSurvey,this.data.setValue(this.getValueName(),e,this.getDataLocNotification(),this.allowNotifyValueChanged,this.name)),this.isMouseDown=!1},t.prototype.canSetValueToSurvey=function(){return!0},t.prototype.valueFromData=function(e){return e},t.prototype.valueToData=function(e){return e},t.prototype.convertToCorrectValue=function(e){return e},t.prototype.onValueChanged=function(){},t.prototype.onMouseDown=function(){this.isMouseDown=!0},t.prototype.setNewComment=function(e){this.questionComment!==e&&(this.questionComment=e,this.setCommentIntoData(e))},t.prototype.setCommentIntoData=function(e){this.data!=null&&this.data.setComment(this.getValueName(),e,this.getIsInputTextUpdate()?"text":!1)},t.prototype.getValidName=function(e){return Za(e)},t.prototype.updateValueFromSurvey=function(e,n){var r=this;if(n===void 0&&(n=!1),e=this.getUnbindValue(e),e=this.valueFromDataCore(e),!!this.checkIsValueCorrect(e)){var o=this.isValueEmpty(e);!o&&this.defaultValueExpression?this.setDefaultValueCore(function(c){r.updateValueFromSurveyCore(e,r.isTwoValueEquals(e,c))}):(this.updateValueFromSurveyCore(e,this.data!==this.getSurvey()),n&&o&&(this.isValueChangedDirectly=!1)),this.updateDependedQuestions(),this.updateIsAnswered()}},t.prototype.updateValueFromSurveyCore=function(e,n){this.isChangingViaDefaultValue=n,this.setQuestionValue(this.valueFromData(e)),this.isChangingViaDefaultValue=!1},t.prototype.updateCommentFromSurvey=function(e){this.questionComment=e},t.prototype.onChangeQuestionValue=function(e){},t.prototype.setValueChangedDirectly=function(e){this.isValueChangedDirectly=e,this.setValueChangedDirectlyCallback&&this.setValueChangedDirectlyCallback(e)},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),e=this.convertToCorrectValue(e);var r=this.isTwoValueEquals(this.questionValue,e);!r&&!this.isChangingViaDefaultValue&&!this.isParentChangingViaDefaultValue&&this.setValueChangedDirectly(!0),this.questionValue=e,r||this.onChangeQuestionValue(e),!r&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),n&&this.updateIsAnswered()},Object.defineProperty(t.prototype,"isParentChangingViaDefaultValue",{get:function(){var e;return((e=this.data)===null||e===void 0?void 0:e.isChangingViaDefaultValue)===!0},enumerable:!1,configurable:!0}),t.prototype.onSurveyValueChanged=function(e){},t.prototype.setVisibleIndex=function(e){return(!this.isVisible||!this.hasTitle&&!N.numbering.includeQuestionsWithHiddenTitle||this.hideNumber&&!N.numbering.includeQuestionsWithHiddenNumber)&&(e=-1),this.setPropertyValue("visibleIndex",e),this.setPropertyValue("no",this.calcNo()),e<0?0:1},t.prototype.removeElement=function(e){return!1},t.prototype.supportGoNextPageAutomatic=function(){return!1},t.prototype.supportGoNextPageError=function(){return!0},t.prototype.clearIncorrectValues=function(){},t.prototype.clearOnDeletingContainer=function(){},t.prototype.clearErrors=function(){this.errors=[]},t.prototype.clearUnusedValues=function(){},t.prototype.onAnyValueChanged=function(e,n){},t.prototype.checkBindings=function(e,n){if(!(this.bindings.isEmpty()||!this.data))for(var r=this.bindings.getPropertiesByValueName(e),o=0;o<r.length;o++){var c=r[o];this.isValueEmpty(n)&&g.isNumber(this[c])&&(n=0),this.updateBindingProp(c,n)}},t.prototype.updateBindingProp=function(e,n){this[e]=n},t.prototype.getComponentName=function(){return wd.Instance.getRendererByQuestion(this)},t.prototype.isDefaultRendering=function(){return!!this.customWidget||this.getComponentName()==="default"},t.prototype.getErrorCustomText=function(e,n){return this.survey?this.survey.getSurveyErrorCustomText(this,e,n):e},t.prototype.getValidatorTitle=function(){return null},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},t.prototype.processPopupVisiblilityChanged=function(e,n){this.survey.processPopupVisiblityChanged(this,e,n)},t.prototype.processOpenDropdownMenu=function(e){this.survey.processOpenDropdownMenu(this,e)},t.prototype.onTextKeyDownHandler=function(e){e.keyCode===13&&this.survey.questionEditFinishCallback(this,e)},t.prototype.transformToMobileView=function(){},t.prototype.transformToDesktopView=function(){},t.prototype.needResponsiveWidth=function(){return!1},t.prototype.supportResponsiveness=function(){return!1},t.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme&&!this.isDesignMode},t.prototype.checkForResponsiveness=function(e){var n=this;if(this.needResponsiveness())if(this.isCollapsed){var r=function(){n.isExpanded&&(n.initResponsiveness(e),n.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))};this.registerPropertyChangedHandlers(["state"],r,"for-responsiveness")}else this.initResponsiveness(e)},t.prototype.getObservedElementSelector=function(){return".sd-scrollable-container"},t.prototype.onMobileChanged=function(){this.onMobileChangedCallback&&this.onMobileChangedCallback()},t.prototype.triggerResponsiveness=function(e){e===void 0&&(e=!0),this.triggerResponsivenessCallback&&this.triggerResponsivenessCallback(e)},t.prototype.initResponsiveness=function(e){var n=this;if(this.destroyResizeObserver(),e&&this.isDefaultRendering()){var r=this.getObservedElementSelector();if(!r)return;var o=e.querySelector(r);if(!o)return;var c=!1,p=void 0;this.triggerResponsivenessCallback=function(y){y&&(p=void 0,n.renderAs="default",c=!1);var b=function(){var E=e.querySelector(r);!p&&n.isDefaultRendering()&&(p=E.scrollWidth),c||!Ja(E)?c=!1:c=n.processResponsiveness(p,$a(E))};y?setTimeout(b,1):b()},this.resizeObserver=new ResizeObserver(function(y){f.requestAnimationFrame(function(){n.triggerResponsiveness(!1)})}),this.onMobileChangedCallback=function(){setTimeout(function(){var y=e.querySelector(r);n.processResponsiveness(p,$a(y))},0)},this.resizeObserver.observe(e)}},t.prototype.getCompactRenderAs=function(){return"default"},t.prototype.getDesktopRenderAs=function(){return"default"},t.prototype.onBeforeSetCompactRenderer=function(){},t.prototype.onBeforeSetDesktopRenderer=function(){},t.prototype.processResponsiveness=function(e,n){if(n=Math.round(n),Math.abs(e-n)>2){var r=this.renderAs;return e>n?(this.onBeforeSetCompactRenderer(),this.renderAs=this.getCompactRenderAs()):(this.onBeforeSetDesktopRenderer(),this.renderAs=this.getDesktopRenderAs()),r!==this.renderAs}return!1},t.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.triggerResponsivenessCallback=void 0,this.renderAs=this.getDesktopRenderAs())},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.resetDependedQuestions(),this.destroyResizeObserver()},t.prototype.resetDependedQuestions=function(){for(var e=0;e<this.dependedQuestions.length;e++)this.dependedQuestions[e].resetDependedQuestion()},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this.isNewA11yStructure?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaRole",{get:function(){return this.isNewA11yStructure?null:"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaRequired",{get:function(){return this.isNewA11yStructure?null:this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaInvalid",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabelledBy",{get:function(){return this.isNewA11yStructure?null:this.hasTitle?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaDescribedBy",{get:function(){return this.isNewA11yStructure?null:this.hasTitle?this.ariaDescriptionId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaErrormessage",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaInvalid",{get:function(){return this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaLabel",{get:function(){return this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaLabelledBy",{get:function(){return this.hasTitle&&!this.parentQuestion?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaDescribedBy",{get:function(){return this.hasTitle&&!this.parentQuestion?this.ariaDescriptionId:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaErrormessage",{get:function(){return this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),t.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},t.questionCounter=100,vi([V({defaultValue:!1})],t.prototype,"_isMobile",void 0),vi([V()],t.prototype,"forceIsInputReadOnly",void 0),vi([V()],t.prototype,"ariaExpanded",void 0),vi([V({localizable:!0,onSet:function(e,n){return n.calcRenderedCommentPlaceholder()}})],t.prototype,"commentPlaceholder",void 0),vi([V()],t.prototype,"renderAs",void 0),vi([V({defaultValue:!1})],t.prototype,"inMatrixMode",void 0),t}(Qt);function Za(i){if(!i)return i;for(i=i.trim().replace(/[\{\}]+/g,"");i&&i[0]===N.expressionDisableConversionChar;)i=i.substring(1);return i}H.addClass("question",[{name:"!name",onSettingValue:function(i,t){return Za(t)}},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:function(){return N.minWidth}},{name:"maxWidth",defaultFunc:function(){return N.maxWidth}},{name:"colSpan:number",visible:!1,onSerializeValue:function(i){return i.getPropertyValue("colSpan")}},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(i){return!!i&&!!i.survey&&i.survey.gridLayoutEnabled}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(i){var t=i?i.survey:null;return!t||!t.pages||t.pages.length>1},choices:function(i){var t=i?i.survey:null;return t?t.pages.map(function(e){return{value:e.name,text:e.title}}):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(i,t){i&&t&&(t.placeholder=i.getDefaultTitle())}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(i){if(!i)return!0;if(i.titleLocation==="hidden")return!1;var t=i?i.parent:null,e=!t||t.showQuestionNumbers!=="off";if(!e)return!1;var n=i?i.survey:null;return!n||n.showQuestionNumbers!=="off"||!!t&&t.showQuestionNumbers==="onpanel"}},{name:"valueName",onSettingValue:function(i,t){return Za(t)}},"enableIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden","onHiddenContainer"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},"requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"errorLocation",default:"default",choices:["default","top","bottom"]},{name:"readOnly:switch",overridingProperty:"enableIf"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(i){return i.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(i){return i.showCommentArea},serializationProperty:"locCommentText"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(i){return i.hasComment}}]),H.addAlterNativeClassName("question","questionbase");var hv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ya=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ke=function(i){hv(t,i);function t(e,n,r){n===void 0&&(n=null),r===void 0&&(r="itemvalue");var o=i.call(this)||this;return o.typeName=r,o.ownerPropertyName="",o.locTextValue=new In(o,!0,"text"),o.locTextValue.onStrChanged=function(c,p){p==o.value&&(p=void 0),o.propertyValueChanged("text",c,p)},o.locTextValue.onGetTextCallback=function(c){return c||(g.isValueEmpty(o.value)?null:o.value.toString())},n&&(o.locText.text=n),e&&typeof e=="object"?o.setData(e):o.value=e,o.getType()!="itemvalue"&&ue.createProperties(o),o.data=o,o.onCreating(),o}return t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},Object.defineProperty(t,"Separator",{get:function(){return N.itemValueSeparator},set:function(e){N.itemValueSeparator=e},enumerable:!1,configurable:!0}),t.setData=function(e,n,r){e.length=0;for(var o=0;o<n.length;o++){var c=n[o],p=c&&typeof c.getType=="function"?c.getType():r??"itemvalue",y=H.createClass(p);y.setData(c),c.originalItem&&(y.originalItem=c.originalItem),e.push(y)}},t.getData=function(e){for(var n=[],r=0;r<e.length;r++)n.push(e[r].getData());return n},t.getItemByValue=function(e,n){if(!Array.isArray(e))return null;for(var r=g.isValueEmpty(n),o=0;o<e.length;o++)if(r&&g.isValueEmpty(e[o].value)||g.isTwoValueEquals(e[o].value,n,!1,!0,!1))return e[o];return null},t.getTextOrHtmlByValue=function(e,n){var r=t.getItemByValue(e,n);return r!==null?r.locText.textOrHtml:""},t.locStrsChanged=function(e){for(var n=0;n<e.length;n++)e[n].locStrsChanged()},t.runConditionsForItems=function(e,n,r,o,c,p,y){return p===void 0&&(p=!0),t.runConditionsForItemsCore(e,n,r,o,c,!0,p,y)},t.runEnabledConditionsForItems=function(e,n,r,o,c){return t.runConditionsForItemsCore(e,null,n,r,o,!1,!0,c)},t.runConditionsForItemsCore=function(e,n,r,o,c,p,y,b){y===void 0&&(y=!0),o||(o={});for(var E=o.item,M=o.choice,Q=!1,X=0;X<e.length;X++){var oe=e[X];o.item=oe.value,o.choice=oe.value;var we=y&&oe.getConditionRunner?oe.getConditionRunner(p):!1;we||(we=r);var Ce=!0;we&&(Ce=we.run(o,c)),b&&(Ce=b(oe,Ce)),n&&Ce&&n.push(oe);var ve=p?oe.isVisible:oe.isEnabled;Ce!=ve&&(Q=!0,p?oe.setIsVisible&&oe.setIsVisible(Ce):oe.setIsEnabled&&oe.setIsEnabled(Ce))}return E?o.item=E:delete o.item,M?o.choice=M:delete o.choice,Q},t.prototype.onCreating=function(){},t.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},t.prototype.getSurvey=function(e){return this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},t.prototype.getLocale=function(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""},Object.defineProperty(t.prototype,"isInternal",{get:function(){return this.isGhost===!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),t.prototype.setLocText=function(e){this.locTextValue=e},Object.defineProperty(t.prototype,"locOwner",{get:function(){return this._locOwner},set:function(e){this._locOwner=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(e){var n=void 0;if(!g.isValueEmpty(e)){var r=e.toString(),o=r.indexOf(N.itemValueSeparator);o>-1&&(e=r.slice(0,o),n=r.slice(o+1))}this.setPropertyValue("value",e),n&&(this.text=n),this.id=this.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(e){this.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(e){this.locText.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shortcutText",{get:function(){return this.text},enumerable:!1,configurable:!0}),t.prototype.canSerializeValue=function(){var e=this.value;return e==null?!1:!Array.isArray(e)&&typeof e!="object"},t.prototype.getData=function(){var e=this.toJSON();if(e.value&&e.value.pos&&delete e.value.pos,g.isValueEmpty(e.value))return e;var n=this.canSerializeValue(),r=!n||!N.serialization.itemValueSerializeAsObject&&!N.serialization.itemValueSerializeDisplayText;return r&&Object.keys(e).length==1?this.value:(N.serialization.itemValueSerializeDisplayText&&e.text===void 0&&n&&(e.text=this.value.toString()),e)},t.prototype.toJSON=function(){var e={},n=H.getProperties(this.getType());(!n||n.length==0)&&(n=H.getProperties("itemvalue"));for(var r=new et,o=0;o<n.length;o++){var c=n[o];c.name==="text"&&!this.locText.hasNonDefaultText()&&g.isTwoValueEquals(this.value,this.text,!1,!0,!1)||r.valueToJson(this,e,c)}return e},t.prototype.setData=function(e){if(!g.isValueEmpty(e)){if(typeof e.value>"u"&&typeof e.text<"u"&&Object.keys(e).length===1&&(e.value=e.text),typeof e.value<"u"){var n=void 0;typeof e.toJSON=="function"?n=e.toJSON():n=e,new et().toObject(n,this)}else this.value=e;this.locText.strChanged()}},Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValueWithoutDefault("visibleIf")||""},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValueWithoutDefault("enableIf")||""},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.getPropertyValueWithoutDefault("isVisible");return e!==void 0?e:!0},enumerable:!1,configurable:!0}),t.prototype.setIsVisible=function(e){this.setPropertyValue("isVisible",e)},Object.defineProperty(t.prototype,"isEnabled",{get:function(){var e=this.getPropertyValueWithoutDefault("isEnabled");return e!==void 0?e:!0},enumerable:!1,configurable:!0}),t.prototype.setIsEnabled=function(e){this.setPropertyValue("isEnabled",e)},t.prototype.addUsedLocales=function(e){this.AddLocStringToUsedLocales(this.locTextValue,e)},t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this),this.locText.strChanged()},t.prototype.onPropertyValueChanged=function(e,n,r){e==="value"&&!this.hasText&&this.locText.strChanged();var o="itemValuePropertyChanged";!this.locOwner||!this.locOwner[o]||this.locOwner[o](this,e,n,r)},t.prototype.getConditionRunner=function(e){return e?this.getVisibleConditionRunner():this.getEnableConditionRunner()},t.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new on(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},t.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new on(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},Object.defineProperty(t.prototype,"selected",{get:function(){var e=this,n=this._locOwner;return n instanceof zt&&n.isItemSelected&&this.selectedValue===void 0&&(this.selectedValue=new At(function(){return n.isItemSelected(e)})),this.selectedValue},enumerable:!1,configurable:!0}),t.prototype.getComponent=function(){return this._locOwner instanceof zt?this.componentValue||this._locOwner.itemComponent:this.componentValue},t.prototype.setComponent=function(e){this.componentValue=e},t.prototype.setRootElement=function(e){this._htmlElement=e},t.prototype.getRootElement=function(){return this._htmlElement},t.prototype.getEnabled=function(){return this.isEnabled},t.prototype.setEnabled=function(e){this.setIsEnabled(e)},t.prototype.getVisible=function(){var e=this.isVisible===void 0?!0:this.isVisible,n=this._visible===void 0?!0:this._visible;return e&&n},t.prototype.setVisible=function(e){this._visible=e},t.prototype.getLocTitle=function(){return this.locText},t.prototype.getTitle=function(){return this.text},t.prototype.setLocTitle=function(e){},t.prototype.setTitle=function(e){},Ya([V({defaultValue:!0})],t.prototype,"_visible",void 0),Ya([V()],t.prototype,"selectedValue",void 0),Ya([V()],t.prototype,"icon",void 0),t}(ts);$e.createItemValue=function(i,t){var e=null;return t?e=et.metaData.createClass(t,{}):typeof i.getType=="function"?e=new ke(null,void 0,i.getType()):e=new ke(null),e.setData(i),e},$e.itemValueLocStrChanged=function(i){ke.locStrsChanged(i)},ce.getItemValuesDefaultValue=function(i,t){var e=new Array;return ke.setData(e,Array.isArray(i)?i:[],t),e},H.addClass("itemvalue",[{name:"!value",isUnique:!0},{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form",visibleIf:function(i){return!i||i.ownerPropertyName!=="rateValues"}}],function(i){return new ke(i)});var gv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pd=function(i){gv(t,i);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.call(this)||this;return r.expressionIsRunning=!1,r.isCalculated=!1,e&&(r.name=e),n&&(r.expression=n),r}return t.prototype.setOwner=function(e){this.data=e,this.rerunExpression()},t.prototype.getType=function(){return"calculatedvalue"},t.prototype.getSurvey=function(e){return this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(t.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")||""},set:function(e){this.setPropertyValue("name",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult")},set:function(e){this.setPropertyValue("includeIntoResult",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression")||""},set:function(e){this.setPropertyValue("expression",e),this.rerunExpression()},enumerable:!1,configurable:!0}),t.prototype.locCalculation=function(){this.expressionIsRunning=!0},t.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},t.prototype.resetCalculation=function(){this.isCalculated=!1},t.prototype.doCalculation=function(e,n,r){this.isCalculated||(this.runExpressionCore(e,n,r),this.isCalculated=!0)},t.prototype.runExpression=function(e,n){this.runExpressionCore(null,e,n)},Object.defineProperty(t.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),t.prototype.setValue=function(e){this.data&&this.data.setVariable(this.name,e)},Object.defineProperty(t.prototype,"canRunExpression",{get:function(){return!!this.data&&!this.isLoadingFromJson&&!!this.expression&&!this.expressionIsRunning&&!!this.name},enumerable:!1,configurable:!0}),t.prototype.rerunExpression=function(){this.canRunExpression&&this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},t.prototype.runExpressionCore=function(e,n,r){this.canRunExpression&&(this.ensureExpression(n),this.locCalculation(),e&&this.runDependentExpressions(e,n,r),this.expressionRunner.run(n,r))},t.prototype.runDependentExpressions=function(e,n,r){var o=this.expressionRunner.getVariables();if(o)for(var c=0;c<e.length;c++){var p=e[c];p===this||o.indexOf(p.name)<0||(p.doCalculation(e,n,r),n[p.name]=p.value)}},t.prototype.ensureExpression=function(e){var n=this;this.expressionRunner||(this.expressionRunner=new Nr(this.expression),this.expressionRunner.onRunComplete=function(r){g.isTwoValueEquals(r,n.value,!1,!0,!1)||n.setValue(r),n.unlocCalculation()})},t}($e);H.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new Pd},"base");var Xa=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),el=function(i){Xa(t,i);function t(e){e===void 0&&(e=null);var n=i.call(this)||this;return n.expression=e,n}return t.prototype.getType=function(){return"expressionitem"},t.prototype.runCondition=function(e,n){return this.expression?new on(this.expression).run(e,n):!1},Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.getSurvey=function(e){return this.locOwner},t}($e),xd=function(i){Xa(t,i);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.call(this,e)||this;return r.createLocalizableString("html",r),r.html=n,r}return t.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(t.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(e){this.setLocalizableStringText("html",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),t}(el),Vd=function(i){Xa(t,i);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.call(this,e)||this;return r.createLocalizableString("url",r),r.url=n,r}return t.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(t.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(e){this.setLocalizableStringText("url",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),t}(el);H.addClass("expressionitem",["expression:condition"],function(){return new el},"base"),H.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new xd},"expressionitem"),H.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new Vd},"expressionitem");var Sd=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yv=function(){function i(){this.parser=new DOMParser}return i.prototype.assignValue=function(t,e,n){Array.isArray(t[e])?t[e].push(n):t[e]!==void 0?t[e]=[t[e]].concat(n):typeof n=="object"&&Object.keys(n).length===1&&Object.keys(n)[0]===e?t[e]=n[e]:t[e]=n},i.prototype.xml2Json=function(t,e){if(t.children&&t.children.length>0)for(var n=0;n<t.children.length;n++){var r=t.children[n],o={};this.xml2Json(r,o),this.assignValue(e,r.nodeName,o)}else this.assignValue(e,t.nodeName,t.textContent)},i.prototype.parseXmlString=function(t){var e=this.parser.parseFromString(t,"text/xml"),n={};return this.xml2Json(e,n),n},i}(),zr=function(i){Sd(t,i);function t(){var e=i.call(this)||this;return e.lastObjHash="",e.isRunningValue=!1,e.processedUrl="",e.processedPath="",e.isUsingCacheFromUrl=void 0,e.error=null,e.createItemValue=function(n){return new ke(n)},e.registerPropertyChangedHandlers(["url"],function(){e.owner&&e.owner.setPropertyValue("isUsingRestful",!!e.url)}),e}return Object.defineProperty(t,"EncodeParameters",{get:function(){return N.web.encodeUrlParams},set:function(e){N.web.encodeUrlParams=e},enumerable:!1,configurable:!0}),t.clearCache=function(){t.itemsResult={},t.sendingSameRequests={}},t.addSameRequest=function(e){if(!e.isUsingCache)return!1;var n=e.objHash,r=t.sendingSameRequests[n];return r?(r.push(e),e.isRunningValue=!0,!0):(t.sendingSameRequests[e.objHash]=[],!1)},t.unregisterSameRequests=function(e,n){if(e.isUsingCache){var r=t.sendingSameRequests[e.objHash];if(delete t.sendingSameRequests[e.objHash],!!r)for(var o=0;o<r.length;o++)r[o].isRunningValue=!1,r[o].getResultCallback&&r[o].getResultCallback(n)}},Object.defineProperty(t,"onBeforeSendRequest",{get:function(){return N.web.onBeforeRequestChoices},set:function(e){N.web.onBeforeRequestChoices=e},enumerable:!1,configurable:!0}),t.getCachedItemsResult=function(e){var n=e.objHash,r=t.itemsResult[n];return r?(e.getResultCallback&&e.getResultCallback(r),!0):!1},t.prototype.getSurvey=function(e){return this.owner?this.owner.survey:null},t.prototype.run=function(e){if(e===void 0&&(e=null),!(!this.url||!this.getResultCallback)){if(this.processedText(e),!this.processedUrl){this.doEmptyResultCallback({}),this.lastObjHash=this.objHash;return}this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(t.addSameRequest(this)||this.sendRequest()))}},Object.defineProperty(t.prototype,"isUsingCache",{get:function(){return this.isUsingCacheFromUrl===!0?!0:this.isUsingCacheFromUrl===!1?!1:N.web.cacheLoadedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.getIsRunning()},enumerable:!1,configurable:!0}),t.prototype.getIsRunning=function(){return this.isRunningValue},Object.defineProperty(t.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),t.prototype.useChangedItemsResults=function(){return t.getCachedItemsResult(this)},t.prototype.doEmptyResultCallback=function(e){var n=[];this.updateResultCallback&&(n=this.updateResultCallback(n,e)),this.getResultCallback(n)},t.prototype.processedText=function(e){var n=this.url;if(n&&(n=n.replace(t.cacheText,"").replace(t.noCacheText,"")),e){var r=e.processTextEx({text:n,runAtDesign:!0}),o=e.processTextEx({text:this.path,runAtDesign:!0});!r.hasAllValuesOnLastRun||!o.hasAllValuesOnLastRun?(this.processedUrl="",this.processedPath=""):(this.processedUrl=r.text,this.processedPath=o.text)}else this.processedUrl=n,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},t.prototype.parseResponse=function(e){var n;if(e&&typeof e.indexOf=="function"&&e.indexOf("<")===0){var r=new yv;n=r.parseXmlString(e)}else try{n=JSON.parse(e)}catch{n=(e||"").split(`
`).map(function(c){return c.trim(" ")}).filter(function(c){return!!c})}return n},t.prototype.sendRequest=function(){var e=new XMLHttpRequest;e.open("GET",this.processedUrl),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var n=this,r=this.objHash;e.onload=function(){n.beforeLoadRequest(),e.status===200?n.onLoad(n.parseResponse(e.response),r):n.onError(e.statusText,e.responseText)};var o={request:e};N.web.onBeforeRequestChoices&&N.web.onBeforeRequestChoices(this,o),this.beforeSendRequest(),o.request.send()},t.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.url&&!this.path},enumerable:!1,configurable:!0}),t.prototype.getCustomPropertiesNames=function(){for(var e=this.getCustomProperties(),n=new Array,r=0;r<e.length;r++)n.push(this.getCustomPropertyName(e[r].name));return n},t.prototype.getCustomPropertyName=function(e){return e+"Name"},t.prototype.getCustomProperties=function(){for(var e=H.getProperties(this.itemValueType),n=[],r=0;r<e.length;r++)e[r].name==="value"||e[r].name==="text"||e[r].name==="visibleIf"||e[r].name==="enableIf"||n.push(e[r]);return n},t.prototype.getAllPropertiesNames=function(){var e=new Array;return H.getPropertiesByObj(this).forEach(function(n){return e.push(n.name)}),this.getCustomPropertiesNames().forEach(function(n){return e.push(n)}),e},t.prototype.setData=function(e){var n=this;e||(e={}),this.getAllPropertiesNames().forEach(function(r){n[r]=e[r]})},t.prototype.getData=function(){var e=this,n={},r=!1;return this.getAllPropertiesNames().forEach(function(o){var c=e[o];!e.isValueEmpty(c)&&c!==e.getDefaultPropertyValue(o)&&(n[o]=c,r=!0)}),r?n:null},Object.defineProperty(t.prototype,"url",{get:function(){return this.getPropertyValue("url")||""},set:function(e){this.setPropertyValue("url",e),this.isUsingCacheFromUrl=void 0,e&&(e.indexOf(t.cacheText)>-1?this.isUsingCacheFromUrl=!0:e.indexOf(t.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")||""},set:function(e){this.setPropertyValue("path",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(e){this.setPropertyValue("valueName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(e){this.setPropertyValue("titleName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(e){this.setPropertyValue("imageLinkName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse")},set:function(e){this.setPropertyValue("allowEmptyResponse",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems")},set:function(e){this.setPropertyValue("attachOriginalItems",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var e=H.findProperty(this.owner.getType(),"choices");return!e||e.type=="itemvalue[]"?"itemvalue":e.type},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this.setData(void 0)},t.prototype.beforeSendRequest=function(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},t.prototype.beforeLoadRequest=function(){this.isRunningValue=!1},t.prototype.onLoad=function(e,n){n===void 0&&(n=null),n||(n=this.objHash);var r=new Array,o=this.getResultAfterPath(e);if(o&&o.length)for(var c=0;c<o.length;c++){var p=o[c];if(p){var y=this.getItemValueCallback?this.getItemValueCallback(p):this.getValue(p),b=this.createItemValue(y);this.setTitle(b,p),this.setCustomProperties(b,p),this.attachOriginalItems&&(b.originalItem=p);var E=this.getImageLink(p);E&&(b.imageLink=E),r.push(b)}}else this.allowEmptyResponse||(this.error=new av(null,this.owner));this.updateResultCallback&&(r=this.updateResultCallback(r,e)),this.isUsingCache&&(t.itemsResult[n]=r),this.callResultCallback(r,n),t.unregisterSameRequests(this,r)},t.prototype.callResultCallback=function(e,n){n==this.objHash&&this.getResultCallback(e)},t.prototype.setCustomProperties=function(e,n){for(var r=this.getCustomProperties(),o=0;o<r.length;o++){var c=r[o],p=this.getValueCore(n,this.getPropertyBinding(c.name));this.isValueEmpty(p)||(e[c.name]=p)}},t.prototype.getPropertyBinding=function(e){return this[this.getCustomPropertyName(e)]?this[this.getCustomPropertyName(e)]:this[e]?this[e]:e},t.prototype.onError=function(e,n){this.error=new sv(e,n,this.owner),this.doEmptyResultCallback(n),t.unregisterSameRequests(this,[])},t.prototype.getResultAfterPath=function(e){if(!e||!this.processedPath)return e;for(var n=this.getPathes(),r=0;r<n.length;r++)if(e=e[n[r]],!e)return null;return e},t.prototype.getPathes=function(){var e=[];return this.processedPath.indexOf(";")>-1?e=this.path.split(";"):e=this.processedPath.split(","),e.length==0&&e.push(this.processedPath),e},t.prototype.getValue=function(e){if(!e)return null;if(this.valueName)return this.getValueCore(e,this.valueName);if(!(e instanceof Object))return e;var n=Object.keys(e).length;return n<1?null:e[Object.keys(e)[0]]},t.prototype.setTitle=function(e,n){var r=this.titleName?this.titleName:"title",o=this.getValueCore(n,r);o&&(typeof o=="string"?e.text=o:e.locText.setJson(o))},t.prototype.getImageLink=function(e){var n=this.imageLinkName?this.imageLinkName:"imageLink";return this.getValueCore(e,n)},t.prototype.getValueCore=function(e,n){if(!e)return null;if(n.indexOf(".")<0)return e[n];for(var r=n.split("."),o=0;o<r.length;o++)if(e=e[r[o]],!e)return null;return e},Object.defineProperty(t.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),t.cacheText="{CACHE}",t.noCacheText="{NOCACHE}",t.itemsResult={},t.sendingSameRequests={},t}($e),mv=function(i){Sd(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(t,"EncodeParameters",{get:function(){return zr.EncodeParameters},set:function(e){zr.EncodeParameters=e},enumerable:!1,configurable:!0}),t.clearCache=function(){zr.clearCache()},Object.defineProperty(t,"onBeforeSendRequest",{get:function(){return N.web.onBeforeRequestChoices},set:function(e){N.web.onBeforeRequestChoices=e},enumerable:!1,configurable:!0}),t}(zr);H.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(i){return!!i&&!!i.owner&&i.owner.getType()=="imagepicker"}},{name:"allowEmptyResponse:boolean"},{name:"attachOriginalItems:boolean",visible:!1}],function(){return new zr});var vv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Td=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},tl=function(i){vv(t,i);function t(e){var n=i.call(this,e)||this;return n.generatedVisibleRows=null,n.generatedTotalRow=null,n.filteredRows=null,n.columns=n.createColumnValues(),n.rows=n.createItemValues("rows"),n}return t.prototype.createColumnValues=function(){return this.createItemValues("columns")},t.prototype.getType=function(){return"matrixbase"},t.prototype.endLoadingFromJson=function(){i.prototype.endLoadingFromJson.call(this),this.updateVisibilityBasedOnRows()},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(e){this.setPropertyValue("showHeader",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(e){this.setPropertyValue("columns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleColumns",{get:function(){var e=this,n=[];return this.columns.forEach(function(r){e.isColumnVisible(r)&&n.push(r)}),n},enumerable:!1,configurable:!0}),t.prototype.isColumnVisible=function(e){return e.isVisible},Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(e){var n=this.processRowsOnSet(e);this.setPropertyValue("rows",n)},enumerable:!1,configurable:!0}),t.prototype.processRowsOnSet=function(e){return e},t.prototype.getVisibleRows=function(){return[]},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(e){this.setPropertyValue("rowsVisibleIf",e),this.isLoadingFromJsonValue||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(e){this.setPropertyValue("columnsVisibleIf",e),this.isLoadingFromJson||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},enumerable:!1,configurable:!0}),t.prototype.runCondition=function(e,n){i.prototype.runCondition.call(this,e,n),this.runItemsCondition(e,n)},t.prototype.onColumnsChanged=function(){},t.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)},t.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&this.onVisibleChanged()},t.prototype.isVisibleCore=function(){var e,n=i.prototype.isVisibleCore.call(this);return!n||!this.hideIfRowsEmpty?n:((e=this.visibleRows)===null||e===void 0?void 0:e.length)>0},t.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},t.prototype.hasRowsAsItems=function(){return!0},t.prototype.runItemsCondition=function(e,n){var r=this.hasRowsAsItems()&&this.runConditionsForRows(e,n),o=this.runConditionsForColumns(e,n);r=o||r,r&&(this.isClearValueOnHidden&&o&&this.clearInvisibleColumnValues(),this.clearGeneratedRows(),o&&this.onColumnsChanged(),this.onRowsChanged())},t.prototype.isRowsFiltered=function(){return!!this.filteredRows},t.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},t.prototype.createRowsVisibleIfRunner=function(){return null},t.prototype.runConditionsForRows=function(e,n){var r=!!this.survey&&this.survey.areInvisibleElementsShowing,o=r?null:this.createRowsVisibleIfRunner();this.filteredRows=[];var c=ke.runConditionsForItems(this.rows,this.filteredRows,o,e,n,!r);return ke.runEnabledConditionsForItems(this.rows,void 0,e,n),this.filteredRows.length===this.rows.length&&(this.filteredRows=null),c},t.prototype.runConditionsForColumns=function(e,n){var r=!!this.survey&&!this.survey.areInvisibleElementsShowing,o=r&&this.columnsVisibleIf?new on(this.columnsVisibleIf):null;return ke.runConditionsForItems(this.columns,void 0,o,e,n,this.shouldRunColumnExpression())},t.prototype.clearInvisibleColumnValues=function(){},t.prototype.clearInvisibleValuesInRows=function(){},t.prototype.needResponsiveWidth=function(){return!0},Object.defineProperty(t.prototype,"columnsAutoWidth",{get:function(){return!this.isMobile&&!this.columns.some(function(e){return!!e.width})},enumerable:!1,configurable:!0}),t.prototype.getTableCss=function(){var e;return new J().append(this.cssClasses.root).append(this.cssClasses.columnsAutoWidth,this.columnsAutoWidth).append(this.cssClasses.noHeader,!this.showHeader).append(this.cssClasses.hasFooter,!!(!((e=this.renderedTable)===null||e===void 0)&&e.showAddRowOnBottom)).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,this.verticalAlign==="top").append(this.cssClasses.rootVerticalAlignMiddle,this.verticalAlign==="middle").toString()},Object.defineProperty(t.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth")||""},set:function(e){this.setPropertyValue("columnMinWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth")||""},set:function(e){this.setPropertyValue("rowTitleWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayMode",{get:function(){return this.getPropertyValue("displayMode")},set:function(e){this.setPropertyValue("displayMode",e)},enumerable:!1,configurable:!0}),t.prototype.getCellAriaLabel=function(e,n){var r=(this.getLocalizationString("matrix_row")||"row").toLocaleLowerCase(),o=(this.getLocalizationString("matrix_column")||"column").toLocaleLowerCase();return r+" "+e+", "+o+" "+n},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getIsMobile=function(){return this.displayMode=="auto"?i.prototype.getIsMobile.call(this):this.displayMode==="list"},Td([V()],t.prototype,"verticalAlign",void 0),Td([V()],t.prototype,"alternateRows",void 0),t}(zt);H.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1},{name:"displayMode",default:"auto",choices:["auto","table","list"],visible:!1}],void 0,"question");var bv=function(){function i(){}return i}(),Od=function(){function i(t,e){this.name=t,this.returnDisplayValue=e,this.isExists=!1,this.canProcess=!0}return i}(),nl=function(){function i(){this._unObservableValues=[void 0]}return Object.defineProperty(i.prototype,"hasAllValuesOnLastRunValue",{get:function(){return this._unObservableValues[0]},set:function(t){this._unObservableValues[0]=t},enumerable:!1,configurable:!0}),i.prototype.process=function(t,e,n){if(e===void 0&&(e=!1),n===void 0&&(n=!1),this.hasAllValuesOnLastRunValue=!0,!t||!this.onProcess)return t;for(var r=this.getItems(t),o=r.length-1;o>=0;o--){var c=r[o],p=this.getName(t.substring(c.start+1,c.end));if(p){var y=new Od(p,e);if(this.onProcess(y),!y.isExists){y.canProcess&&(this.hasAllValuesOnLastRunValue=!1);continue}g.isValueEmpty(y.value)&&(this.hasAllValuesOnLastRunValue=!1);var b=g.isValueEmpty(y.value)?"":y.value;n&&(b=encodeURIComponent(b)),t=t.substring(0,c.start)+b+t.substring(c.end+1)}}return t},i.prototype.processValue=function(t,e){var n=new Od(t,e);return this.onProcess&&this.onProcess(n),n},Object.defineProperty(i.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),i.prototype.getItems=function(t){for(var e=[],n=t.length,r=-1,o="",c=0;c<n;c++)if(o=t[c],o=="{"&&(r=c),o=="}"){if(r>-1){var p=new bv;p.start=r,p.end=c,e.push(p)}r=-1}return e},i.prototype.getName=function(t){if(t)return t.trim()},i}(),rl=function(){function i(t){var e=this;this.variableName=t,this.textPreProcessor=new nl,this.textPreProcessor.onProcess=function(n){e.getProcessedTextValue(n)}}return i.prototype.processValue=function(t,e){return this.textPreProcessor.processValue(t,e)},Object.defineProperty(i.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),i.prototype.getValues=function(){return this.panel?this.panel.getValue():null},i.prototype.getQuestionByName=function(t){return this.panel?this.panel.getQuestionByValueName(t):null},i.prototype.getParentTextProcessor=function(){return null},i.prototype.onCustomProcessText=function(t){return!1},i.prototype.getQuestionDisplayText=function(t){return t.displayValue},i.prototype.getProcessedTextValue=function(t){if(t&&!this.onCustomProcessText(t)){var e=new Ie().getFirstName(t.name);if(t.isExists=e==this.variableName,t.canProcess=t.isExists,!!t.canProcess){t.name=t.name.replace(this.variableName+".","");var e=new Ie().getFirstName(t.name),n=this.getQuestionByName(e),r={};if(n)r[e]=t.returnDisplayValue?this.getQuestionDisplayText(n):n.value;else{var o=this.panel?this.getValues():null;o&&(r[e]=o[e])}t.value=new Ie().getValue(t.name,r)}}},i.prototype.processText=function(t,e){return this.survey&&this.survey.isDesignMode?t:(t=this.textPreProcessor.process(t,e),t=this.processTextCore(this.getParentTextProcessor(),t,e),this.processTextCore(this.survey,t,e))},i.prototype.processTextEx=function(t){t.text=this.processText(t.text,t.returnDisplayValue);var e=this.textPreProcessor.hasAllValuesOnLastRun,n={hasAllValuesOnLastRun:!0,text:t.text};return this.survey&&(n=this.survey.processTextEx(t)),n.hasAllValuesOnLastRun=n.hasAllValuesOnLastRun&&e,n},i.prototype.processTextCore=function(t,e,n){return t?t.processText(e,n):e},i}(),cs=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rd=function(){function i(t,e){this.name=t,this.json=e;var n=this;H.addClass(t,[],function(r){return ds.Instance.createQuestion(r?r.name:"",n)},"question"),this.onInit()}return i.prototype.onInit=function(){this.json.onInit&&this.json.onInit()},i.prototype.onCreated=function(t){this.json.onCreated&&this.json.onCreated(t)},i.prototype.onLoaded=function(t){this.json.onLoaded&&this.json.onLoaded(t)},i.prototype.onAfterRender=function(t,e){this.json.onAfterRender&&this.json.onAfterRender(t,e)},i.prototype.onAfterRenderContentElement=function(t,e,n){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(t,e,n)},i.prototype.onUpdateQuestionCssClasses=function(t,e,n){this.json.onUpdateQuestionCssClasses&&this.json.onUpdateQuestionCssClasses(t,e,n)},i.prototype.onSetQuestionValue=function(t,e){this.json.onSetQuestionValue&&this.json.onSetQuestionValue(t,e),this.json.onValueSet&&this.json.onValueSet(t,e)},i.prototype.onPropertyChanged=function(t,e,n){this.json.onPropertyChanged&&this.json.onPropertyChanged(t,e,n)},i.prototype.onValueChanged=function(t,e,n){this.json.onValueChanged&&this.json.onValueChanged(t,e,n)},i.prototype.onValueChanging=function(t,e,n){return this.json.onValueChanging?this.json.onValueChanging(t,e,n):n},i.prototype.onGetErrorText=function(t){if(this.json.getErrorText)return this.json.getErrorText(t)},i.prototype.onItemValuePropertyChanged=function(t,e,n,r,o){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(t,{obj:e,propertyName:n,name:r,newValue:o})},i.prototype.getDisplayValue=function(t,e,n){return this.json.getDisplayValue?this.json.getDisplayValue(n):n.getDisplayValue(t,e)},Object.defineProperty(i.prototype,"defaultQuestionTitle",{get:function(){return this.json.defaultQuestionTitle},enumerable:!1,configurable:!0}),i.prototype.setValueToQuestion=function(t){var e=this.json.valueToQuestion||this.json.setValue;return e?e(t):t},i.prototype.getValueFromQuestion=function(t){var e=this.json.valueFromQuestion||this.json.getValue;return e?e(t):t},Object.defineProperty(i.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),i.prototype.getDynamicProperties=function(){return Array.isArray(this.dynamicProperties)||(this.dynamicProperties=this.calcDynamicProperties()),this.dynamicProperties},i.prototype.calcDynamicProperties=function(){var t=this.json.inheritBaseProps;if(!t||!this.json.questionJSON)return[];var e=this.json.questionJSON.type;if(!e)return[];if(Array.isArray(t)){var n=[];return t.forEach(function(c){var p=H.findProperty(e,c);p&&n.push(p)}),n}var r=[];for(var o in this.json.questionJSON)r.push(o);return H.getDynamicPropertiesByTypes(this.name,e,r)},i}(),ds=function(){function i(){this.customQuestionValues=[]}return i.prototype.add=function(t){if(t){var e=t.name;if(!e)throw"Attribute name is missed";if(e=e.toLowerCase(),this.getCustomQuestionByName(e))throw"There is already registered custom question with name '"+e+"'";if(H.findClass(e))throw"There is already class with name '"+e+"'";var n=new Rd(e,t);this.onAddingJson&&this.onAddingJson(e,n.isComposite),this.customQuestionValues.push(n)}},i.prototype.remove=function(t){if(!t)return!1;var e=this.getCustomQuestionIndex(t.toLowerCase());return e<0?!1:(this.removeByIndex(e),!0)},Object.defineProperty(i.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),i.prototype.getCustomQuestionByName=function(t){var e=this.getCustomQuestionIndex(t);return e>=0?this.customQuestionValues[e]:void 0},i.prototype.getCustomQuestionIndex=function(t){for(var e=0;e<this.customQuestionValues.length;e++)if(this.customQuestionValues[e].name===t)return e;return-1},i.prototype.removeByIndex=function(t){H.removeClass(this.customQuestionValues[t].name),this.customQuestionValues.splice(t,1)},i.prototype.clear=function(t){for(var e=this.customQuestionValues.length-1;e>=0;e--)(t||!this.customQuestionValues[e].json.internal)&&this.removeByIndex(e)},i.prototype.createQuestion=function(t,e){return e.isComposite?this.createCompositeModel(t,e):this.createCustomModel(t,e)},i.prototype.createCompositeModel=function(t,e){return this.onCreateComposite?this.onCreateComposite(t,e):new _d(t,e)},i.prototype.createCustomModel=function(t,e){return this.onCreateCustom?this.onCreateCustom(t,e):new Ed(t,e)},i.Instance=new i,i}(),Id=function(i){cs(t,i);function t(e,n){var r=i.call(this,e)||this;return r.customQuestion=n,ue.createProperties(r),Qt.CreateDisabledDesignElements=!0,r.locQuestionTitle=r.createLocalizableString("questionTitle",r),r.locQuestionTitle.setJson(r.customQuestion.defaultQuestionTitle),r.createWrapper(),Qt.CreateDisabledDesignElements=!1,r.customQuestion&&r.customQuestion.onCreated(r),r}return t.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().locStrsChanged()},t.prototype.localeChanged=function(){i.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().localeChanged()},t.prototype.getDefaultTitle=function(){return this.locQuestionTitle.isEmpty?i.prototype.getDefaultTitle.call(this):this.getProcessedText(this.locQuestionTitle.textOrHtml)},t.prototype.addUsedLocales=function(e){i.prototype.addUsedLocales.call(this,e),this.getElement()&&this.getElement().addUsedLocales(e)},t.prototype.needResponsiveWidth=function(){var e=this.getElement();return e?e.needResponsiveWidth():!1},t.prototype.createWrapper=function(){},t.prototype.onPropertyValueChanged=function(e,n,r){i.prototype.onPropertyValueChanged.call(this,e,n,r),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,e,r)},t.prototype.itemValuePropertyChanged=function(e,n,r,o){i.prototype.itemValuePropertyChanged.call(this,e,n,r,o),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,e,e.ownerPropertyName,n,o)},t.prototype.onFirstRendering=function(){var e=this.getElement();e&&e.onFirstRendering(),i.prototype.onFirstRendering.call(this)},t.prototype.onHidingContent=function(){i.prototype.onHidingContent.call(this);var e=this.getElement();e&&e.onHidingContent()},t.prototype.getProgressInfo=function(){var e=i.prototype.getProgressInfo.call(this);return this.getElement()&&(e=this.getElement().getProgressInfo()),this.isRequired&&e.requiredQuestionCount==0&&(e.requiredQuestionCount=1,this.isEmpty()||(e.answeredQuestionCount=1)),e},t.prototype.initElement=function(e){e&&(e.setSurveyImpl(this),e.disableDesignActions=!0)},t.prototype.setSurveyImpl=function(e,n){this.isSettingValOnLoading=!0,i.prototype.setSurveyImpl.call(this,e,n),this.initElement(this.getElement()),this.isSettingValOnLoading=!1},t.prototype.onSurveyLoad=function(){i.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},t.prototype.afterRenderQuestionElement=function(e){},t.prototype.afterRenderCore=function(e){i.prototype.afterRenderCore.call(this,e),this.customQuestion&&this.customQuestion.onAfterRender(this,e)},t.prototype.onUpdateQuestionCssClasses=function(e,n){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,e,n)},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),i.prototype.setQuestionValue.call(this,e,n),this.updateElementCss(),this.customQuestion&&this.customQuestion.onSetQuestionValue(this,e)},t.prototype.setNewValue=function(e){i.prototype.setNewValue.call(this,e),this.updateElementCss()},t.prototype.onCheckForErrors=function(e,n,r){if(i.prototype.onCheckForErrors.call(this,e,n,r),this.customQuestion){var o=this.customQuestion.onGetErrorText(this);o&&e.push(new wn(o,this))}},t.prototype.getSurveyData=function(){return this},t.prototype.getTextProcessor=function(){return this.textProcessor},t.prototype.getValue=function(e){return this.value},t.prototype.setValue=function(e,n,r,o){if(this.data){this.customQuestion&&this.customQuestion.onValueChanged(this,e,n);var c=this.convertDataName(e),p=this.convertDataValue(e,n);this.valueToDataCallback&&(p=this.valueToDataCallback(p)),this.data.setValue(c,p,r,o),this.updateIsAnswered(),this.updateElementCss()}},t.prototype.getQuestionByName=function(e){},t.prototype.isValueChanging=function(e,n){if(this.customQuestion){var r=n;if(n=this.customQuestion.onValueChanging(this,e,n),!g.isTwoValueEquals(n,r)){var o=this.getQuestionByName(e);if(o)return o.value=n,!0}}return!1},t.prototype.convertDataName=function(e){return this.getValueName()},t.prototype.convertDataValue=function(e,n){return n},t.prototype.getVariable=function(e){return this.data?this.data.getVariable(e):null},t.prototype.setVariable=function(e,n){this.data&&this.data.setVariable(e,n)},t.prototype.getComment=function(e){return this.data?this.data.getComment(this.getValueName()):""},t.prototype.setComment=function(e,n,r){this.data&&this.data.setComment(this.getValueName(),n,r)},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},t.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},t.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},t.prototype.findQuestionByName=function(e){return this.data?this.data.findQuestionByName(e):null},t.prototype.getEditingSurveyElement=function(){},t.prototype.addElement=function(e,n){},t.prototype.removeElement=function(e){return!1},t.prototype.getQuestionTitleLocation=function(){return"left"},t.prototype.getQuestionTitleWidth=function(){},t.prototype.getColumsForElement=function(e){return[]},t.prototype.updateColumns=function(){},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.elementWidthChanged=function(e){},Object.defineProperty(t.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return-1},t.prototype.ensureRowsVisibility=function(){},t.prototype.validateContainerOnly=function(){},t.prototype.onQuestionValueChanged=function(e){},t.prototype.getQuestionErrorLocation=function(){return this.getErrorLocation()},t.prototype.getContentDisplayValueCore=function(e,n,r){return r?this.customQuestion.getDisplayValue(e,n,r):i.prototype.getDisplayValueCore.call(this,e,n)},t}(zt),Ed=function(i){cs(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getTemplate=function(){return"custom"},t.prototype.getDynamicProperties=function(){return this.customQuestion.getDynamicProperties()||[]},t.prototype.getDynamicType=function(){return this.questionWrapper?this.questionWrapper.getType():"question"},t.prototype.getOriginalObj=function(){return this.questionWrapper},t.prototype.createWrapper=function(){var e=this;this.questionWrapper=this.createQuestion(),this.createDynamicProperties(this.questionWrapper),this.getDynamicProperties().length>0&&(this.questionWrapper.onPropertyValueChangedCallback=function(n,r,o,c,p){var y=e.getDynamicProperty(n);y&&e.propertyValueChanged(n,r,o,p)})},t.prototype.getDynamicProperty=function(e){for(var n=this.getDynamicProperties(),r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null},t.prototype.getElement=function(){return this.contentQuestion},t.prototype.onAnyValueChanged=function(e,n){i.prototype.onAnyValueChanged.call(this,e,n),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(e,n)},t.prototype.getQuestionByName=function(e){return this.contentQuestion},t.prototype.getDefaultTitle=function(){return this.hasJSONTitle&&this.contentQuestion?this.getProcessedText(this.contentQuestion.title):i.prototype.getDefaultTitle.call(this)},t.prototype.setValue=function(e,n,r,o){this.isValueChanging(e,n)||i.prototype.setValue.call(this,e,n,r,o)},t.prototype.onSetData=function(){i.prototype.onSetData.call(this),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)},t.prototype.hasErrors=function(e,n){if(e===void 0&&(e=!0),n===void 0&&(n=null),!this.contentQuestion)return!1;var r=this.contentQuestion.hasErrors(e,n);this.errors=[];for(var o=0;o<this.contentQuestion.errors.length;o++)this.errors.push(this.contentQuestion.errors[o]);return r||(r=i.prototype.hasErrors.call(this,e,n)),this.updateElementCss(),r},t.prototype.focus=function(e){e===void 0&&(e=!1),this.contentQuestion?this.contentQuestion.focus(e):i.prototype.focus.call(this,e)},t.prototype.afterRenderCore=function(e){i.prototype.afterRenderCore.call(this,e),this.contentQuestion&&this.contentQuestion.afterRender(e)},Object.defineProperty(t.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),t.prototype.createQuestion=function(){var e=this,n=this.customQuestion.json,r=null;if(n.questionJSON){this.hasJSONTitle=!!n.questionJSON.title;var o=n.questionJSON.type;if(!o||!H.findClass(o))throw"type attribute in questionJSON is empty or incorrect";r=H.createClass(o),r.fromJSON(n.questionJSON),r=this.checkCreatedQuestion(r)}else n.createQuestion&&(r=this.checkCreatedQuestion(n.createQuestion()));return this.initElement(r),r&&(r.isContentElement=!0,r.name||(r.name="question"),r.onUpdateCssClassesCallback=function(c){e.onUpdateQuestionCssClasses(r,c)},r.hasCssErrorCallback=function(){return e.errors.length>0},r.setValueChangedDirectlyCallback=function(c){e.setValueChangedDirectly(c)}),r},t.prototype.checkCreatedQuestion=function(e){return e&&(e.isQuestion||(Array.isArray(e.questions)&&e.questions.length>0?e=e.questions[0]:e=H.createClass("text"),Ze.error("Could not create component: '"+this.getType()+"'. questionJSON should be a question.")),e)},t.prototype.onSurveyLoad=function(){i.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.getContentQuestionValue())},t.prototype.runCondition=function(e,n){i.prototype.runCondition.call(this,e,n),this.contentQuestion&&this.contentQuestion.runCondition(e,n)},t.prototype.convertDataName=function(e){var n=this.contentQuestion;if(!n||e===this.getValueName())return i.prototype.convertDataName.call(this,e);var r=e.replace(n.getValueName(),this.getValueName());return r.indexOf(this.getValueName())==0?r:i.prototype.convertDataName.call(this,e)},t.prototype.convertDataValue=function(e,n){return this.convertDataName(e)==i.prototype.convertDataName.call(this,e)?this.getContentQuestionValue():n},t.prototype.getContentQuestionValue=function(){if(this.contentQuestion){var e=this.contentQuestion.value;return this.customQuestion&&(e=this.customQuestion.getValueFromQuestion(e)),e}},t.prototype.setContentQuestionValue=function(e){this.contentQuestion&&(this.customQuestion&&(e=this.customQuestion.setValueToQuestion(e)),this.contentQuestion.value=e)},t.prototype.canSetValueToSurvey=function(){return!1},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),i.prototype.setQuestionValue.call(this,e,n),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.getContentQuestionValue(),e)&&this.setContentQuestionValue(this.getUnbindValue(e))},t.prototype.onSurveyValueChanged=function(e){i.prototype.onSurveyValueChanged.call(this,e),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(e)},t.prototype.getValueCore=function(){return this.contentQuestion?this.getContentQuestionValue():i.prototype.getValueCore.call(this)},t.prototype.setValueChangedDirectly=function(e){this.isSettingValueChanged||(this.isSettingValueChanged=!0,i.prototype.setValueChangedDirectly.call(this,e),this.contentQuestion&&this.contentQuestion.setValueChangedDirectly(e),this.isSettingValueChanged=!1)},t.prototype.createDynamicProperties=function(e){if(e){var n=this.getDynamicProperties();Array.isArray(n)&&H.addDynamicPropertiesIntoObj(this,e,n)}},t.prototype.initElement=function(e){var n=this;i.prototype.initElement.call(this,e),e&&(e.parent=this,e.afterRenderQuestionCallback=function(r,o){n.customQuestion&&n.customQuestion.onAfterRenderContentElement(n,r,o)})},t.prototype.updateElementCss=function(e){this.contentQuestion&&this.questionWrapper.updateElementCss(e),i.prototype.updateElementCss.call(this,e)},t.prototype.updateElementCssCore=function(e){this.contentQuestion&&(e=this.contentQuestion.cssClasses),i.prototype.updateElementCssCore.call(this,e)},t.prototype.getDisplayValueCore=function(e,n){return i.prototype.getContentDisplayValueCore.call(this,e,n,this.contentQuestion)},t}(Id),Cv=function(i){cs(t,i);function t(e,n){var r=i.call(this,n)||this;return r.composite=e,r.variableName=n,r}return Object.defineProperty(t.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),t}(rl),_d=function(i){cs(t,i);function t(e,n){var r=i.call(this,e,n)||this;return r.customQuestion=n,r.settingNewValue=!1,r.textProcessing=new Cv(r,t.ItemVariableName),r}return t.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},t.prototype.getTemplate=function(){return"composite"},t.prototype.getElement=function(){return this.contentPanel},t.prototype.getCssRoot=function(e){return new J().append(i.prototype.getCssRoot.call(this,e)).append(e.composite).toString()},Object.defineProperty(t.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),t.prototype.hasErrors=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=null);var r=i.prototype.hasErrors.call(this,e,n);return this.contentPanel&&this.contentPanel.hasErrors(e,!1,n)||r},t.prototype.updateElementCss=function(e){i.prototype.updateElementCss.call(this,e),this.contentPanel&&this.contentPanel.updateElementCss(e)},t.prototype.dispose=function(){this.unConnectEditingObj(),i.prototype.dispose.call(this)},t.prototype.updateEditingObj=function(){var e=this,n,r=(n=this.data)===null||n===void 0?void 0:n.getEditingSurveyElement();if(r){var o=r[this.getValueName()];return o&&!o.onPropertyChanged&&(o=void 0),o!==this.editingObjValue&&(this.unConnectEditingObj(),this.editingObjValue=o,o&&(this.onEditingObjPropertyChanged=function(c,p){e.setNewValueIntoQuestion(p.name,e.editingObjValue[p.name])},o.onPropertyChanged.add(this.onEditingObjPropertyChanged))),this.editingObjValue}},t.prototype.unConnectEditingObj=function(){this.editingObjValue&&!this.editingObjValue.isDisposed&&this.editingObjValue.onPropertyChanged.remove(this.onEditingObjPropertyChanged)},t.prototype.getEditingSurveyElement=function(){return this.editingObjValue},t.prototype.getTextProcessor=function(){return this.textProcessing},t.prototype.findQuestionByName=function(e){var n=this.getQuestionByName(e);return n||i.prototype.findQuestionByName.call(this,e)},t.prototype.clearValueIfInvisibleCore=function(e){i.prototype.clearValueIfInvisibleCore.call(this,e);for(var n=this.contentPanel.questions,r=0;r<n.length;r++)n[r].clearValueIfInvisible(e)},t.prototype.onAnyValueChanged=function(e,n){i.prototype.onAnyValueChanged.call(this,e,n);for(var r=this.contentPanel.questions,o=0;o<r.length;o++)r[o].onAnyValueChanged(e,n)},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.createPanel=function(){var e=this,n=H.createClass("panel");n.showQuestionNumbers="off",n.renderWidth="100%";var r=this.customQuestion.json;return r.elementsJSON&&n.fromJSON({elements:r.elementsJSON}),r.createElements&&r.createElements(n,this),this.initElement(n),n.readOnly=this.isReadOnly,n.questions.forEach(function(o){return o.onUpdateCssClassesCallback=function(c){e.onUpdateQuestionCssClasses(o,c)}}),this.setAfterRenderCallbacks(n),n},t.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),i.prototype.onReadOnlyChanged.call(this)},t.prototype.updateValueFromSurvey=function(e,n){n===void 0&&(n=!1),this.updateEditingObj(),i.prototype.updateValueFromSurvey.call(this,e,n)},t.prototype.onSurveyLoad=function(){if(this.isSettingValOnLoading=!0,this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),i.prototype.onSurveyLoad.call(this),this.contentPanel){var e=this.getContentPanelValue();g.isValueEmpty(e)||(this.value=e)}this.isSettingValOnLoading=!1},t.prototype.setIsContentElement=function(e){e.isContentElement=!0;for(var n=e.elements,r=0;r<n.length;r++){var o=n[r];o.isPanel?this.setIsContentElement(o):o.isContentElement=!0}},t.prototype.setVisibleIndex=function(e){var n=i.prototype.setVisibleIndex.call(this,e);return this.isVisible&&this.contentPanel&&(n+=this.contentPanel.setVisibleIndex(e)),n},t.prototype.runCondition=function(e,n){if(i.prototype.runCondition.call(this,e,n),this.contentPanel){var r=e[t.ItemVariableName];e[t.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(e,n),delete e[t.ItemVariableName],r&&(e[t.ItemVariableName]=r)}},t.prototype.onSurveyValueChanged=function(e){i.prototype.onSurveyValueChanged.call(this,e);var n=e||{};this.contentPanel&&this.contentPanel.questions.forEach(function(r){r.onSurveyValueChanged(n[r.getValueName()])})},t.prototype.getValue=function(e){var n=this.value;return n?n[e]:null},t.prototype.getQuestionByName=function(e){return this.contentPanel?this.contentPanel.getQuestionByName(e):void 0},t.prototype.setValue=function(e,n,r,o){if(this.settingNewValue){this.setNewValueIntoQuestion(e,n);return}if(!this.isValueChanging(e,n)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel)for(var c=0,p=this.contentPanel.questions.length+1;c<p&&this.updateValueCoreWithPanelValue();)c++;this.setNewValueIntoQuestion(e,n),i.prototype.setValue.call(this,e,n,r,o),this.settingNewValue=!1,this.runPanelTriggers(t.ItemVariableName+"."+e,n)}},t.prototype.runPanelTriggers=function(e,n){this.contentPanel&&this.contentPanel.questions.forEach(function(r){r.runTriggers(e,n)})},t.prototype.getFilteredValues=function(){var e=this.data?this.data.getFilteredValues():{};return this.contentPanel&&(e[t.ItemVariableName]=this.contentPanel.getValue()),e},t.prototype.updateValueCoreWithPanelValue=function(){var e=this.getContentPanelValue();return this.isTwoValueEquals(this.getValueCore(),e)?!1:(this.setValueCore(e),!0)},t.prototype.getContentPanelValue=function(e){return e||(e=this.contentPanel.getValue()),this.customQuestion.setValueToQuestion(e)},t.prototype.getValueForContentPanel=function(e){return this.customQuestion.getValueFromQuestion(e)},t.prototype.setNewValueIntoQuestion=function(e,n){var r=this.getQuestionByName(e);r&&!this.isTwoValueEquals(n,r.value)&&(r.value=n)},t.prototype.addConditionObjectsByContext=function(e,n){if(this.contentPanel)for(var r=this.contentPanel.questions,o=this.name,c=this.title,p=0;p<r.length;p++)e.push({name:o+"."+r[p].name,text:c+"."+r[p].title,question:r[p]})},t.prototype.collectNestedQuestionsCore=function(e,n){this.contentPanel&&this.contentPanel.questions.forEach(function(r){return r.collectNestedQuestions(e,n)})},t.prototype.convertDataValue=function(e,n){var r=this.contentPanel&&!this.isEditingSurveyElement?this.contentPanel.getValue():this.getValueForContentPanel(this.value);return r||(r={}),r.getType||(r=g.getUnbindValue(r)),this.isValueEmpty(n)&&!this.isEditingSurveyElement?delete r[e]:r[e]=n,this.getContentPanelValue(r)},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),this.setValuesIntoQuestions(e),!this.isEditingSurveyElement&&this.contentPanel&&(e=this.getContentPanelValue()),i.prototype.setQuestionValue.call(this,e,n)},t.prototype.setValuesIntoQuestions=function(e){if(this.contentPanel){e=this.getValueForContentPanel(e);var n=this.settingNewValue;this.settingNewValue=!0;for(var r=this.contentPanel.questions,o=0;o<r.length;o++){var c=r[o].getValueName(),p=e?e[c]:void 0,y=r[o];!this.isTwoValueEquals(y.value,p)&&(p!==void 0||!y.isEmpty())&&(y.value=p)}this.settingNewValue=n}},t.prototype.getDisplayValueCore=function(e,n){return i.prototype.getContentDisplayValueCore.call(this,e,n,this.contentPanel)},t.prototype.setAfterRenderCallbacks=function(e){var n=this;if(!(!e||!this.customQuestion))for(var r=e.questions,o=0;o<r.length;o++)r[o].afterRenderQuestionCallback=function(c,p){n.customQuestion.onAfterRenderContentElement(n,c,p)}},Object.defineProperty(t.prototype,"ariaRole",{get:function(){return"group"},enumerable:!1,configurable:!0}),t.ItemVariableName="composite",t}(Id),lt=function(){function i(){}return Object.defineProperty(i,"DefaultChoices",{get:function(){return[v.getString("choices_Item")+"1",v.getString("choices_Item")+"2",v.getString("choices_Item")+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(i,"DefaultColums",{get:function(){var t=v.getString("matrix_column")+" ";return[t+"1",t+"2",t+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(i,"DefaultRows",{get:function(){var t=v.getString("matrix_row")+" ";return[t+"1",t+"2"]},enumerable:!1,configurable:!0}),Object.defineProperty(i,"DefaultMutlipleTextItems",{get:function(){var t=v.getString("multipletext_itemname");return[t+"1",t+"2"]},enumerable:!1,configurable:!0}),i.prototype.registerQuestion=function(t,e,n){n===void 0&&(n=!0),pr.Instance.registerElement(t,e,n)},i.prototype.registerCustomQuestion=function(t){pr.Instance.registerCustomQuestion(t)},i.prototype.unregisterElement=function(t,e){e===void 0&&(e=!1),pr.Instance.unregisterElement(t,e)},i.prototype.clear=function(){pr.Instance.clear()},i.prototype.getAllTypes=function(){return pr.Instance.getAllTypes()},i.prototype.createQuestion=function(t,e){return pr.Instance.createElement(t,e)},i.Instance=new i,i}(),pr=function(){function i(){var t=this;this.creatorHash={},this.registerCustomQuestion=function(e,n){n===void 0&&(n=!0);var r=function(o){var c=H.createClass(e);return c&&(c.name=o),c};t.registerElement(e,r,n)}}return i.prototype.registerElement=function(t,e,n){n===void 0&&(n=!0),this.creatorHash[t]={showInToolbox:n,creator:e}},i.prototype.clear=function(){this.creatorHash={}},i.prototype.unregisterElement=function(t,e){e===void 0&&(e=!1),delete this.creatorHash[t],e&&H.removeClass(t)},i.prototype.getAllToolboxTypes=function(){return this.getAllTypesCore(!0)},i.prototype.getAllTypes=function(){return this.getAllTypesCore(!1)},i.prototype.createElement=function(t,e){var n=this.creatorHash[t];if(n&&n.creator)return n.creator(e);var r=ds.Instance.getCustomQuestionByName(t);return r?ds.Instance.createQuestion(e,r):null},i.prototype.getAllTypesCore=function(t){var e=new Array;for(var n in this.creatorHash)(!t||this.creatorHash[n].showInToolbox)&&e.push(n);return e.sort()},i.Instance=new i,i}(),wv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),il=function(i){wv(t,i);function t(e){var n=i.call(this,e)||this;return n.createLocalizableString("format",n),n.registerPropertyChangedHandlers(["expression"],function(){n.expressionRunner&&(n.expressionRunner=n.createRunner())}),n.registerPropertyChangedHandlers(["format","currency","displayStyle"],function(){n.updateFormatedValue()}),n}return t.prototype.getType=function(){return"expression"},Object.defineProperty(t.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(e){this.setLocalizableStringText("format",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t.prototype.locCalculation=function(){this.expressionIsRunning=!0},t.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},t.prototype.runCondition=function(e,n){i.prototype.runCondition.call(this,e,n),!(!this.expression||this.expressionIsRunning||!this.runIfReadOnly&&this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=this.createRunner()),this.expressionRunner.run(e,n))},t.prototype.canCollectErrors=function(){return!0},t.prototype.hasRequiredError=function(){return!1},t.prototype.createRunner=function(){var e=this,n=this.createExpressionRunner(this.expression);return n.onRunComplete=function(r){e.value=e.roundValue(r),e.unlocCalculation()},n},Object.defineProperty(t.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("maximumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("minimumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runIfReadOnly",{get:function(){return this.runIfReadOnlyValue===!0},set:function(e){this.runIfReadOnlyValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formatedValue",{get:function(){return this.getPropertyValue("formatedValue","")},enumerable:!1,configurable:!0}),t.prototype.updateFormatedValue=function(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))},t.prototype.onValueChanged=function(){this.updateFormatedValue()},t.prototype.updateValueFromSurvey=function(e,n){i.prototype.updateValueFromSurvey.call(this,e,n),this.updateFormatedValue()},t.prototype.getDisplayValueCore=function(e,n){var r=n??this.defaultValue,o="";if(!this.isValueEmpty(r)){var c=this.getValueAsStr(r);o=this.format?this.format.format(c):c}return this.survey&&(o=this.survey.getExpressionDisplayValue(this,r,o)),o},Object.defineProperty(t.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(e){this.setPropertyValue("displayStyle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(e){ps().indexOf(e)<0||this.setPropertyValue("currency",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping")},set:function(e){this.setPropertyValue("useGrouping",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(e){this.setPropertyValue("precision",e)},enumerable:!1,configurable:!0}),t.prototype.roundValue=function(e){if(e!==1/0)return this.precision<0||!g.isNumber(e)?e:parseFloat(e.toFixed(this.precision))},t.prototype.getValueAsStr=function(e){if(this.displayStyle=="date"){var n=new Date(e);if(n&&n.toLocaleDateString)return n.toLocaleDateString()}if(this.displayStyle!="none"&&g.isNumber(e)){var r=this.getLocale();r||(r="en");var o={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(o.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(o.minimumFractionDigits=this.minimumFractionDigits),e.toLocaleString(r,o)}return e.toString()},t}(zt);function ps(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}H.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return ps()},default:"USD",visibleIf:function(i){return i.displayStyle==="currency"}},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"precision:number",default:-1,category:"data"},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"defaultValueExpression",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],function(){return new il("")},"question"),lt.Instance.registerQuestion("expression",function(i){return new il(i)});var Pv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();function fs(i,t,e,n){i.storeOthersAsComment=e?e.storeOthersAsComment:!1,(!i.choices||i.choices.length==0)&&i.choicesByUrl.isEmpty&&(i.choices=e.choices),i.choicesByUrl.isEmpty||i.choicesByUrl.run(n.getTextProcessor())}function xv(i,t,e,n){fs(i,t,e,n),i.locPlaceholder&&i.locPlaceholder.isEmpty&&!e.locPlaceholder.isEmpty&&(i.optionsCaption=e.optionsCaption)}var ol={dropdown:{onCellQuestionUpdate:function(i,t,e,n){xv(i,t,e,n)}},checkbox:{onCellQuestionUpdate:function(i,t,e,n){fs(i,t,e,n),i.colCount=t.colCount>-1?t.colCount:e.columnColCount}},radiogroup:{onCellQuestionUpdate:function(i,t,e,n){fs(i,t,e,n),i.colCount=t.colCount>-1?t.colCount:e.columnColCount}},tagbox:{onCellQuestionUpdate:function(i,t,e,n){fs(i,t,e,n)}},text:{},comment:{},boolean:{onCellQuestionUpdate:function(i,t,e,n){i.renderAs=t.renderAs}},expression:{},rating:{}},oo=function(i){Pv(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this)||this;return r.colOwnerValue=null,r.indexValue=-1,r._hasVisibleCell=!0,r.isColumnsVisibleIf=!0,r.previousChoicesId=void 0,r.createLocalizableString("totalFormat",r),r.createLocalizableString("cellHint",r),r.registerPropertyChangedHandlers(["showInMultipleColumns"],function(){r.doShowInMultipleColumnsChanged()}),r.registerPropertyChangedHandlers(["visible"],function(){r.doColumnVisibilityChanged()}),r.updateTemplateQuestion(),r.name=e,n?r.title=n:r.templateQuestion.locTitle.strChanged(),r}return t.getColumnTypes=function(){var e=[];for(var n in ol)e.push(n);return e},t.prototype.getOriginalObj=function(){return this.templateQuestion},t.prototype.getClassNameProperty=function(){return"cellType"},t.prototype.getSurvey=function(e){return this.colOwner?this.colOwner.survey:null},t.prototype.endLoadingFromJson=function(){var e=this;i.prototype.endLoadingFromJson.call(this),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return e.getSurvey()}},t.prototype.getDynamicPropertyName=function(){return"cellType"},t.prototype.getDynamicType=function(){return this.cellType==="default"?"question":this.calcCellQuestionType(null)},Object.defineProperty(t.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(e){this.colOwnerValue=e,e&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},t.prototype.addUsedLocales=function(e){i.prototype.addUsedLocales.call(this,e),this.templateQuestion.addUsedLocales(e)},Object.defineProperty(t.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e){this.indexValue=e},t.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(t.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(e){e=e.toLocaleLowerCase(),this.updateTemplateQuestion(e),this.setPropertyValue("cellType",e),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isColumnVisible",{get:function(){return this.isDesignMode?!0:this.visible&&this.hasVisibleCell},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.templateQuestion.visible},set:function(e){this.templateQuestion.visible=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(e){this._hasVisibleCell=e},enumerable:!1,configurable:!0}),t.prototype.getVisibleMultipleChoices=function(){var e=this.templateQuestion.visibleChoices;if(!Array.isArray(e))return[];if(!Array.isArray(this._visiblechoices))return e;for(var n=new Array,r=0;r<e.length;r++){var o=e[r];this._visiblechoices.indexOf(o.value)>-1&&n.push(o)}return n},Object.defineProperty(t.prototype,"getVisibleChoicesInCell",{get:function(){if(Array.isArray(this._visiblechoices))return this._visiblechoices;var e=this.templateQuestion.visibleChoices;return Array.isArray(e)?e:[]},enumerable:!1,configurable:!0}),t.prototype.setVisibleChoicesInCell=function(e){this._visiblechoices=e},Object.defineProperty(t.prototype,"isFilteredMultipleColumns",{get:function(){if(!this.showInMultipleColumns)return!1;var e=this.templateQuestion.choices;if(!Array.isArray(e))return!1;for(var n=0;n<e.length;n++)if(e[n].visibleIf)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(e){this.templateQuestion.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(e){this.templateQuestion.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(e){this.templateQuestion.isRequired=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRenderedRequired",{get:function(){return this.getPropertyValue("isRenderedRequired",this.isRequired)},set:function(e){this.setPropertyValue("isRenderedRequired",e)},enumerable:!1,configurable:!0}),t.prototype.updateIsRenderedRequired=function(e){this.isRenderedRequired=e||this.isRequired},Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredText:this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(e){this.templateQuestion.requiredErrorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(e){this.templateQuestion.readOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(e){this.templateQuestion.hasOther=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(e){this.templateQuestion.visibleIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(e){this.templateQuestion.enableIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(e){this.templateQuestion.requiredIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resetValueIf",{get:function(){return this.templateQuestion.resetValueIf},set:function(e){this.templateQuestion.resetValueIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueExpression",{get:function(){return this.templateQuestion.defaultValueExpression},set:function(e){this.templateQuestion.defaultValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueIf",{get:function(){return this.templateQuestion.setValueIf},set:function(e){this.templateQuestion.setValueIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValueExpression",{get:function(){return this.templateQuestion.setValueExpression},set:function(e){this.templateQuestion.setValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(e){this.setPropertyValue("isUnique",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns")},set:function(e){this.setPropertyValue("showInMultipleColumns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(e){this.templateQuestion.validators=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType")},set:function(e){this.setPropertyValue("totalType",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(e){this.setPropertyValue("totalExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTotal",{get:function(){return this.totalType!="none"||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(e){this.setLocalizableStringText("totalFormat",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellHint",{get:function(){return this.getLocalizableStringText("cellHint","")},set:function(e){this.setLocalizableStringText("cellHint",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCellHint",{get:function(){return this.getLocalizableString("cellHint")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(e){this.setPropertyValue("renderAs",e),this.templateQuestion&&(this.templateQuestion.renderAs=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("totalMaximumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("totalMinimumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(e){this.setPropertyValue("totalDisplayStyle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalAlignment",{get:function(){return this.getPropertyValue("totalAlignment")},set:function(e){this.setPropertyValue("totalAlignment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(e){ps().indexOf(e)<0||this.setPropertyValue("totalCurrency",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(e){this.setPropertyValue("minWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.templateQuestion.width},set:function(e){this.templateQuestion.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(e){e<-1||e>4||this.setPropertyValue("colCount",e)},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.colOwner?this.colOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.colOwner?this.colOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.colOwner?this.colOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.colOwner?this.colOwner.getProcessedText(e):e},t.prototype.createCellQuestion=function(e){var n=this.calcCellQuestionType(e),r=this.createNewQuestion(n);return this.callOnCellQuestionUpdate(r,e),r},t.prototype.startLoadingFromJson=function(e){i.prototype.startLoadingFromJson.call(this,e),e&&!e.cellType&&e.choices&&(e.cellType=this.colOwner.getCellType())},t.prototype.updateCellQuestion=function(e,n,r){r===void 0&&(r=null),this.setQuestionProperties(e,r)},t.prototype.callOnCellQuestionUpdate=function(e,n){var r=e.getType(),o=ol[r];o&&o.onCellQuestionUpdate&&o.onCellQuestionUpdate(e,this,this.colOwner,n)},t.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},t.prototype.calcCellQuestionType=function(e){var n=this.getDefaultCellQuestionType();return e&&this.colOwner&&(n=this.colOwner.getCustomCellType(this,e,n)),n},t.prototype.getDefaultCellQuestionType=function(e){return e||(e=this.cellType),e!=="default"?e:this.colOwner?this.colOwner.getCellType():N.matrix.defaultCellType},t.prototype.updateTemplateQuestion=function(e){var n=this,r=this.getDefaultCellQuestionType(e),o=this.templateQuestion?this.templateQuestion.getType():"";r!==o&&(this.templateQuestion&&this.removeProperties(o),this.templateQuestionValue=this.createNewQuestion(r),this.templateQuestion.locOwner=this,this.addProperties(r),this.templateQuestion.onPropertyChanged.add(function(c,p){n.propertyValueChanged(p.name,p.oldValue,p.newValue,p.arrayChanges,p.target)}),this.templateQuestion.onItemValuePropertyChanged.add(function(c,p){n.doItemValuePropertyChanged(p.propertyName,p.obj,p.name,p.newValue,p.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return n.getSurvey()}),this.templateQuestion.locTitle.strChanged())},t.prototype.createNewQuestion=function(e){var n=H.createClass(e);return n||(n=H.createClass("text")),n.loadingOwner=this,n.isEditableTemplateElement=!0,n.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(n),this.setParentQuestionToTemplate(n),n},t.prototype.setParentQuestionToTemplate=function(e){this.colOwner&&this.colOwner.isQuestion&&e.setParentQuestion(this.colOwner)},t.prototype.setQuestionProperties=function(e,n){var r=this;if(n===void 0&&(n=null),this.templateQuestion){var o=new et().toJsonObject(this.templateQuestion,!0);if(n&&n(o),o.type=e.getType(),this.cellType==="default"&&this.colOwner&&this.colOwner.hasChoices()&&delete o.choices,delete o.itemComponent,this.jsonObj&&o.type==="rating"&&Object.keys(this.jsonObj).forEach(function(p){o[p]=r.jsonObj[p]}),o.choicesOrder==="random"){o.choicesOrder="none";var c=this.templateQuestion.visibleChoices;Array.isArray(c)&&(o.choices=c)}new et().toObject(o,e),e.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,e.loadedChoicesFromServerCallback=function(){if(r.isShowInMultipleColumns&&!(r.previousChoicesId&&r.previousChoicesId!==e.id)){r.previousChoicesId=e.id;var p=e.visibleChoices;r.templateQuestion.choices=p,r.propertyValueChanged("choices",p,p)}}}},t.prototype.propertyValueChanged=function(e,n,r,o,c){if(i.prototype.propertyValueChanged.call(this,e,n,r,o,c),e==="isRequired"&&this.updateIsRenderedRequired(r),!(!this.colOwner||this.isLoadingFromJson)){if(this.isShowInMultipleColumns){if(e==="choicesOrder")return;["visibleChoices","choices"].indexOf(e)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this)}H.hasOriginalProperty(this,e)&&this.colOwner.onColumnPropertyChanged(this,e,r)}},t.prototype.doItemValuePropertyChanged=function(e,n,r,o,c){H.hasOriginalProperty(n,r)&&this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,e,n,r,o,c)},t.prototype.doShowInMultipleColumnsChanged=function(){this.colOwner!=null&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)},t.prototype.doColumnVisibilityChanged=function(){this.colOwner!=null&&!this.isDesignMode&&this.colOwner.onColumnVisibilityChanged(this)},t.prototype.getProperties=function(e){return H.getDynamicPropertiesByObj(this,e)},t.prototype.removeProperties=function(e){for(var n=this.getProperties(e),r=0;r<n.length;r++){var o=n[r];delete this[o.name],o.serializationProperty&&delete this[o.serializationProperty]}},t.prototype.addProperties=function(e){var n=this.getProperties(e);H.addDynamicPropertiesIntoObj(this,this.templateQuestion,n)},t}($e);H.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(i,t){i&&t&&(t.placeholder=i.name)}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:function(){var i=oo.getColumnTypes();return i.splice(0,0,"default"),i}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(i,t){i&&t&&(t.value=i.minWidth)}},"width",{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(i){return i.isSupportMultipleColumns}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",visibleIf:function(i){return!i.isShowInMultipleColumns},default:"none",choices:["none","sum","count","min","max","avg"]},{name:"totalExpression:expression",visibleIf:function(i){return!i.isShowInMultipleColumns}},{name:"totalFormat",serializationProperty:"locTotalFormat",visibleIf:function(i){return i.hasTotal}},{name:"totalDisplayStyle",visibleIf:function(i){return i.hasTotal},default:"none",choices:["none","decimal","currency","percent"]},{name:"totalAlignment",visibleIf:function(i){return i.hasTotal},default:"auto",choices:["auto","left","center","right"]},{name:"totalCurrency",visibleIf:function(i){return i.hasTotal},choices:function(){return ps()},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1,visibleIf:function(i){return i.hasTotal}},{name:"totalMinimumFractionDigits:number",default:-1,visibleIf:function(i){return i.hasTotal}},{name:"renderAs",default:"default",visible:!1}],function(){return new oo("")});var sl=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),so=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Vv=function(i,t){for(var e=0,n=t.length,r=i.length;e<n;e++,r++)i[r]=t[e];return i},Qn=function(){function i(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isErrorsCell=!1,this.isDragHandlerCell=!1,this.isDetailRowCell=!1,this.classNameValue="",this.idValue=i.counter++}return Object.defineProperty(i.prototype,"requiredText",{get:function(){return this.column&&this.column.isRenderedRequired?this.column.requiredText:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasQuestion",{get:function(){return!!this.question&&!this.isErrorsCell},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"item",{get:function(){return this.itemValue},set:function(t){this.itemValue=t,t&&(t.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isItemChoice",{get:function(){return this.isChoice&&!this.isOtherChoice},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isCheckbox",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRadio",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isFirstChoice",{get:function(){return this.choiceIndex===0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"className",{get:function(){var t=new J().append(this.classNameValue);return this.hasQuestion&&t.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),t.toString()},set:function(t){this.classNameValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cellQuestionWrapperClassName",{get:function(){return this.cell.getQuestionWrapperClassName(this.matrix.cssClasses.cellQuestionWrapper)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isVisible",{get:function(){var t;return!this.hasQuestion&&!this.isErrorsCell||!(!((t=this.matrix)===null||t===void 0)&&t.isMobile)||this.question.isVisible},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showResponsiveTitle",{get:function(){var t;return this.hasQuestion&&((t=this.matrix)===null||t===void 0?void 0:t.isMobile)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"responsiveTitleCss",{get:function(){return new J().append(this.matrix.cssClasses.cellResponsiveTitle).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"responsiveLocTitle",{get:function(){return this.cell.column.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"headers",{get:function(){if(this.cell&&this.cell.column){if(this.matrix.IsMultiplyColumn(this.cell.column))return this.item?this.item.locText.renderedHtml:"";var t=this.cell.column.cellHint;return t?t.trim()===""?"":this.cell.column.locCellHint.renderedHtml:this.hasQuestion&&this.question.isVisible&&this.question.title?this.question.title:this.cell.column.title}return this.hasQuestion&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),i.prototype.getTitle=function(){return this.matrix&&this.matrix.showHeader?this.headers:""},i.prototype.calculateFinalClassName=function(t){var e=this.cell.question.cssClasses,n=new J().append(e.itemValue,!!e).append(e.asCell,!!e);return n.append(t.cell,n.isEmpty()&&!!t).append(t.choiceCell,this.isChoice).toString()},i.prototype.focusIn=function(){this.question&&this.question.focusIn()},i.counter=1,i}(),al=function(i){sl(t,i);function t(e,n){n===void 0&&(n=!1);var r=i.call(this)||this;return r.cssClasses=e,r.isDetailRow=n,r.hasEndActions=!1,r.isErrorsRow=!1,r.cells=[],r.idValue=t.counter++,r}return Object.defineProperty(t.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){var e,n;return new J().append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.rowHasPanel,(e=this.row)===null||e===void 0?void 0:e.hasPanel).append(this.cssClasses.expandedRow,((n=this.row)===null||n===void 0?void 0:n.isDetailPanelShowing)&&!this.isDetailRow).append(this.cssClasses.rowHasEndActions,this.hasEndActions).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()},enumerable:!1,configurable:!0}),t.prototype.setRootElement=function(e){this.rootElement=e},t.prototype.getRootElement=function(){return this.rootElement},t.counter=1,so([V({defaultValue:!1})],t.prototype,"isGhostRow",void 0),so([V({defaultValue:!1})],t.prototype,"isAdditionalClasses",void 0),so([V({defaultValue:!0})],t.prototype,"visible",void 0),t}($e),Ad=function(i){sl(t,i);function t(e){var n=i.call(this,e)||this;return n.isErrorsRow=!0,n}return Object.defineProperty(t.prototype,"attributes",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return new J().append(this.cssClasses.row).append(this.cssClasses.errorRow).toString()},enumerable:!1,configurable:!0}),t.prototype.onAfterCreated=function(){var e=this,n=function(){e.visible=e.cells.some(function(r){return r.question&&r.question.hasVisibleErrors})};this.cells.forEach(function(r){r.question&&r.question.registerFunctionOnPropertyValueChanged("hasVisibleErrors",n)}),n()},t}(al),ll=function(i){sl(t,i);function t(e){var n=i.call(this)||this;return n.matrix=e,n._renderedRows=[],n.renderedRowsAnimation=new cr(n.getRenderedRowsAnimationOptions(),function(r){n._renderedRows=r},function(){return n._renderedRows}),n.hasActionCellInRowsValues={},n.build(),n}return t.prototype.getIsAnimationAllowed=function(){return i.prototype.getIsAnimationAllowed.call(this)&&this.matrix.animationAllowed},t.prototype.getRenderedRowsAnimationOptions=function(){var e=this,n=function(o){o.querySelectorAll(":scope > td > *").forEach(function(c){Hn(c)})},r=function(o){o.querySelectorAll(":scope > td > *").forEach(function(c){hn(c)})};return{isAnimationEnabled:function(){return e.animationAllowed},getRerenderEvent:function(){return e.onElementRerendered},getAnimatedElement:function(o){return o.getRootElement()},getLeaveOptions:function(){return{cssClass:e.cssClasses.rowLeave,onBeforeRunAnimation:n,onAfterRunAnimation:r}},getEnterOptions:function(o,c){return{cssClass:e.cssClasses.rowEnter,onBeforeRunAnimation:n,onAfterRunAnimation:r}}}},t.prototype.updateRenderedRows=function(){this.renderedRows=this.rows},Object.defineProperty(t.prototype,"renderedRows",{get:function(){return this._renderedRows},set:function(e){this.renderedRowsAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAddRow",{get:function(){return this.getPropertyValue("showAddRow",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),t.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(t.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRowsDragAndDrop",{get:function(){return this.matrix.isRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCellErrorsTop",{get:function(){return this.matrix.getErrorLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCellErrorsBottom",{get:function(){return this.matrix.getErrorLocation()==="bottom"},enumerable:!1,configurable:!0}),t.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.matrix.visibleRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},t.prototype.updateShowTableAndAddRow=function(){var e=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",e);var n=this.matrix.canAddRow&&e,r=n,o=n;r&&(this.matrix.getAddRowLocation()==="default"?r=!this.matrix.isColumnLayoutHorizontal:r=this.matrix.getAddRowLocation()!=="bottom"),o&&this.matrix.getAddRowLocation()!=="topBottom"&&(o=!r),this.setPropertyValue("showAddRow",this.matrix.canAddRow),this.setPropertyValue("showAddRowOnTop",r),this.setPropertyValue("showAddRowOnBottom",o)},t.prototype.onAddedRow=function(e,n){if(!(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)){var r=this.getRenderedRowIndexByIndex(n);this.rowsActions.splice(n,0,this.buildRowActions(e)),this.addHorizontalRow(this.rows,e,this.matrix.visibleRows.length==1&&!this.matrix.showHeader,r),this.updateShowTableAndAddRow()}},t.prototype.getRenderedRowIndexByIndex=function(e){for(var n=0,r=0,o=0;o<this.rows.length;o++){if(r===e){(this.rows[o].isErrorsRow||this.rows[o].isDetailRow)&&n++;break}n++,!this.rows[o].isErrorsRow&&!this.rows[o].isDetailRow&&r++}return r<e?this.rows.length:n},t.prototype.getRenderedDataRowCount=function(){for(var e=0,n=0;n<this.rows.length;n++)!this.rows[n].isErrorsRow&&!this.rows[n].isDetailRow&&e++;return e},t.prototype.onRemovedRow=function(e){var n=this.getRenderedRowIndex(e);if(!(n<0)){this.rowsActions.splice(n,1);var r=1;n<this.rows.length-1&&this.showCellErrorsBottom&&this.rows[n+1].isErrorsRow&&r++,n<this.rows.length-1&&(this.rows[n+1].isDetailRow||this.showCellErrorsBottom&&n+1<this.rows.length-1&&this.rows[n+2].isDetailRow)&&r++,n>0&&this.showCellErrorsTop&&this.rows[n-1].isErrorsRow&&(n--,r++),this.rows.splice(n,r),this.updateShowTableAndAddRow()}},t.prototype.onDetailPanelChangeVisibility=function(e,n){var r=this.getRenderedRowIndex(e);if(!(r<0)){var o=r;this.showCellErrorsBottom&&o++;var c=o<this.rows.length-1&&this.rows[o+1].isDetailRow?o+1:-1;if(!(n&&c>-1||!n&&c<0))if(n){var p=this.createDetailPanelRow(e,this.rows[r]);this.rows.splice(o+1,0,p)}else this.rows.splice(c,1)}},t.prototype.getRenderedRowIndex=function(e){for(var n=0;n<this.rows.length;n++)if(this.rows[n].row==e)return n;return-1},t.prototype.buildRowsActions=function(){this.rowsActions=[];for(var e=this.matrix.visibleRows,n=0;n<e.length;n++)this.rowsActions.push(this.buildRowActions(e[n]))},t.prototype.createRenderedRow=function(e,n){return n===void 0&&(n=!1),new al(e,n)},t.prototype.createErrorRenderedRow=function(e){return new Ad(e)},t.prototype.buildHeader=function(){var e=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader,n=e||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",n),!!n){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var r=0;r<this.matrix.columns.length;r++){var o=this.matrix.columns[r];o.isColumnVisible&&(this.matrix.IsMultiplyColumn(o)?this.createMutlipleColumnsHeader(o):this.headerRow.cells.push(this.createHeaderCell(o)))}else{for(var c=this.matrix.visibleRows,r=0;r<c.length;r++){var p=this.createTextCell(c[r].locText);this.setHeaderCellCssClasses(p),p.row=c[r],this.headerRow.cells.push(p)}if(this.matrix.hasFooter){var p=this.createTextCell(this.matrix.getFooterText());this.setHeaderCellCssClasses(p),this.headerRow.cells.push(p)}}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null,"action"))}},t.prototype.buildFooter=function(){if(this.showFooter){if(this.footerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText){var e=this.createTextCell(this.matrix.getFooterText());e.className=new J().append(e.className).append(this.cssClasses.footerTotalCell).toString(),this.footerRow.cells.push(e)}for(var n=this.matrix.visibleTotalRow.cells,r=0;r<n.length;r++){var o=n[r];if(o.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(o.column))this.createMutlipleColumnsFooter(this.footerRow,o);else{var c=this.createEditCell(o);o.column&&this.setHeaderCellWidth(o.column,c),c.className=new J().append(c.className).append(this.cssClasses.footerCell).toString(),this.footerRow.cells.push(c)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null,"action"))}},t.prototype.buildRows=function(){this.blockAnimations();var e=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=e,this.releaseAnimations()},t.prototype.hasActionCellInRows=function(e){return this.hasActionCellInRowsValues[e]===void 0&&(this.hasActionCellInRowsValues[e]=this.hasActionsCellInLocaltion(e)),this.hasActionCellInRowsValues[e]},t.prototype.hasActionsCellInLocaltion=function(e){var n=this;return e=="end"&&this.hasRemoveRows?!0:this.matrix.visibleRows.some(function(r,o){return!n.isValueEmpty(n.getRowActions(o,e))})},t.prototype.canRemoveRow=function(e){return this.matrix.canRemoveRow(e)},t.prototype.buildHorizontalRows=function(){for(var e=this.matrix.visibleRows,n=[],r=0;r<e.length;r++)this.addHorizontalRow(n,e[r],r==0&&!this.matrix.showHeader);return n},t.prototype.addHorizontalRow=function(e,n,r,o){o===void 0&&(o=-1);var c=this.createHorizontalRow(n,r),p=this.createErrorRow(c);if(c.row=n,o<0&&(o=e.length),this.matrix.isMobile){for(var y=[],b=0;b<c.cells.length;b++)this.showCellErrorsTop&&!p.cells[b].isEmpty&&y.push(p.cells[b]),y.push(c.cells[b]),this.showCellErrorsBottom&&!p.cells[b].isEmpty&&y.push(p.cells[b]);c.cells=y,e.splice(o,0,c)}else e.splice.apply(e,Vv([o,0],this.showCellErrorsTop?[p,c]:[c,p])),o++;n.isDetailPanelShowing&&e.splice(o+1,0,this.createDetailPanelRow(n,c))},t.prototype.getRowDragCell=function(e){var n=new Qn,r=this.matrix.lockedRowCount;return n.isDragHandlerCell=r<1||e>=r,n.isEmpty=!n.isDragHandlerCell,n.className=this.getActionsCellClassName(n),n.row=this.matrix.visibleRows[e],n},t.prototype.getActionsCellClassName=function(e){var n=this;e===void 0&&(e=null);var r=new J().append(this.cssClasses.actionsCell).append(this.cssClasses.actionsCellDrag,e==null?void 0:e.isDragHandlerCell).append(this.cssClasses.detailRowCell,e==null?void 0:e.isDetailRowCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal);if(e.isActionsCell){var o=e.item.value.actions;this.cssClasses.actionsCellPrefix&&o.forEach(function(c){r.append(n.cssClasses.actionsCellPrefix+"--"+c.id)})}return r.toString()},t.prototype.getRowActionsCell=function(e,n,r){r===void 0&&(r=!1);var o=this.getRowActions(e,n);if(!this.isValueEmpty(o)){var c=new Qn,p=this.matrix.allowAdaptiveActions?new ns:new Nn;this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(p.cssClasses=this.matrix.survey.getCss().actionBar),p.setItems(o);var y=new ke(p);return c.item=y,c.isActionsCell=!0,c.isDragHandlerCell=!1,c.isDetailRowCell=r,c.className=this.getActionsCellClassName(c),c.row=this.matrix.visibleRows[e],c}return null},t.prototype.getRowActions=function(e,n){var r=this.rowsActions[e];return Array.isArray(r)?r.filter(function(o){return o.location||(o.location="start"),o.location===n}):[]},t.prototype.buildRowActions=function(e){var n=[];return this.setDefaultRowActions(e,n),this.matrix.survey&&(n=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,e,n)),n},Object.defineProperty(t.prototype,"showRemoveButtonAsIcon",{get:function(){return N.matrix.renderRemoveAsIcon&&this.matrix.survey&&this.matrix.survey.css.root==="sd-root-modern"},enumerable:!1,configurable:!0}),t.prototype.setDefaultRowActions=function(e,n){var r=this,o=this.matrix;this.hasRemoveRows&&this.canRemoveRow(e)&&(this.showRemoveButtonAsIcon?n.push(new ot({id:"remove-row",iconName:"icon-delete",iconSize:"auto",component:"sv-action-bar-item",innerCss:new J().append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:o.removeRowText,enabled:!o.isInputReadOnly,data:{row:e,question:o},action:function(){o.removeRowUI(e)}})):n.push(new ot({id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:e,question:this.matrix}}))),e.hasPanel&&(this.matrix.isMobile?n.unshift(new ot({id:"show-detail-mobile",title:"Show Details",showTitle:!0,location:"end",action:function(c){c.title=e.isDetailPanelShowing?r.matrix.getLocalizationString("showDetails"):r.matrix.getLocalizationString("hideDetails"),e.showHideDetailPanelClick()}})):n.push(new ot({id:"show-detail",title:this.matrix.getLocalizationString("editText"),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:e,question:this.matrix}})))},t.prototype.createErrorRow=function(e){for(var n=this.createErrorRenderedRow(this.cssClasses),r=0;r<e.cells.length;r++){var o=e.cells[r];o.hasQuestion?this.matrix.IsMultiplyColumn(o.cell.column)?o.isFirstChoice?n.cells.push(this.createErrorCell(o.cell)):n.cells.push(this.createEmptyCell(!0)):n.cells.push(this.createErrorCell(o.cell)):n.cells.push(this.createEmptyCell(!0))}return n.onAfterCreated(),n},t.prototype.createHorizontalRow=function(e,n){var r=this.createRenderedRow(this.cssClasses);if(this.isRowsDragAndDrop){var o=this.matrix.visibleRows.indexOf(e);r.cells.push(this.getRowDragCell(o))}if(this.addRowActionsCell(e,r,"start"),this.matrix.hasRowText){var c=this.createTextCell(e.locText);c.row=e,r.cells.push(c),this.setHeaderCellWidth(null,c),c.className=new J().append(c.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell,!this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.detailRowText,e.hasPanel).toString()}for(var p=0;p<e.cells.length;p++){var y=e.cells[p];if(y.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(y.column))this.createMutlipleEditCells(r,y);else{y.column.isShowInMultipleColumns&&y.question.visibleChoices.map(function(E){return E.hideCaption=!1});var c=this.createEditCell(y);r.cells.push(c),n&&this.setHeaderCellWidth(y.column,c)}}return this.addRowActionsCell(e,r,"end"),r},t.prototype.addRowActionsCell=function(e,n,r){var o=this.matrix.visibleRows.indexOf(e);if(this.hasActionCellInRows(r)){var c=this.getRowActionsCell(o,r,n.isDetailRow);if(c)n.cells.push(c),n.hasEndActions=!0;else{var p=new Qn;p.isEmpty=!0,p.isDetailRowCell=n.isDetailRow,n.cells.push(p)}}},t.prototype.createDetailPanelRow=function(e,n){var r=this.matrix.isDesignMode,o=this.createRenderedRow(this.cssClasses,!0);o.row=e;var c=new Qn;this.matrix.hasRowText&&(c.colSpans=2),c.isEmpty=!0,r||o.cells.push(c);var p=null;this.hasActionCellInRows("end")&&(p=new Qn,p.isEmpty=!0);var y=new Qn;return y.panel=e.detailPanel,y.colSpans=n.cells.length-(r?0:c.colSpans)-(p?p.colSpans:0),y.className=this.cssClasses.detailPanelCell,o.cells.push(y),p&&(this.matrix.isMobile?this.addRowActionsCell(e,o,"end"):o.cells.push(p)),typeof this.matrix.onCreateDetailPanelRenderedRowCallback=="function"&&this.matrix.onCreateDetailPanelRenderedRowCallback(o),o},t.prototype.buildVerticalRows=function(){for(var e=this.matrix.columns,n=[],r=0;r<e.length;r++){var o=e[r];if(o.isColumnVisible)if(this.matrix.IsMultiplyColumn(o))this.createMutlipleVerticalRows(n,o,r);else{var c=this.createVerticalRow(o,r),p=this.createErrorRow(c);this.showCellErrorsTop?(n.push(p),n.push(c)):(n.push(c),n.push(p))}}return this.hasActionCellInRows("end")&&n.push(this.createEndVerticalActionRow()),n},t.prototype.createMutlipleVerticalRows=function(e,n,r){var o=this.getMultipleColumnChoices(n);if(o)for(var c=0;c<o.length;c++){var p=this.createVerticalRow(n,r,o[c],c),y=this.createErrorRow(p);this.showCellErrorsTop?(e.push(y),e.push(p)):(e.push(p),e.push(y))}},t.prototype.createVerticalRow=function(e,n,r,o){r===void 0&&(r=null),o===void 0&&(o=-1);var c=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var p=r?r.locText:e.locTitle,y=this.createTextCell(p);y.column=e,y.className=new J().append(y.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell).toString(),c.cells.push(y)}for(var b=this.matrix.visibleRows,E=0;E<b.length;E++){var M=r,Q=o>=0?o:E,X=b[E].cells[n],oe=r?X.question.visibleChoices:void 0;oe&&Q<oe.length&&(M=oe[Q]);var we=this.createEditCell(X,M);we.item=M,we.choiceIndex=Q,c.cells.push(we)}return this.matrix.hasTotal&&c.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[n])),c},t.prototype.createEndVerticalActionRow=function(){var e=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&e.cells.push(this.createEmptyCell());for(var n=this.matrix.visibleRows,r=0;r<n.length;r++)e.cells.push(this.getRowActionsCell(r,"end"));return this.matrix.hasTotal&&e.cells.push(this.createEmptyCell()),e},t.prototype.createMutlipleEditCells=function(e,n,r){r===void 0&&(r=!1);var o=r?this.getMultipleColumnChoices(n.column):n.question.visibleChoices;if(o)for(var c=0;c<o.length;c++){var p=this.createEditCell(n,r?void 0:o[c]);r||(this.setItemCellCssClasses(p),p.choiceIndex=c),e.cells.push(p)}},t.prototype.setItemCellCssClasses=function(e){e.className=new J().append(this.cssClasses.cell).append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,e.isRadio).append(this.cssClasses.checkboxCell,e.isCheckbox).toString()},t.prototype.createEditCell=function(e,n){n===void 0&&(n=void 0);var r=new Qn;return r.cell=e,r.row=e.row,r.question=e.question,r.matrix=this.matrix,r.item=n,r.isOtherChoice=!!n&&!!e.question&&e.question.otherItem===n,r.className=r.calculateFinalClassName(this.cssClasses),r},t.prototype.createErrorCell=function(e,n){var r=new Qn;return r.question=e.question,r.row=e.row,r.matrix=this.matrix,r.isErrorsCell=!0,r.className=new J().append(this.cssClasses.cell).append(this.cssClasses.errorsCell).append(this.cssClasses.errorsCellTop,this.showCellErrorsTop).append(this.cssClasses.errorsCellBottom,this.showCellErrorsBottom).toString(),r},t.prototype.createMutlipleColumnsFooter=function(e,n){this.createMutlipleEditCells(e,n,!0)},t.prototype.createMutlipleColumnsHeader=function(e){var n=this.getMultipleColumnChoices(e);if(n)for(var r=0;r<n.length;r++){var o=this.createTextCell(n[r].locText);this.setHeaderCell(e,o),this.setHeaderCellCssClasses(o),this.headerRow.cells.push(o)}},t.prototype.getMultipleColumnChoices=function(e){var n=e.templateQuestion.choices;return n&&Array.isArray(n)&&n.length==0?[].concat(this.matrix.choices,e.getVisibleMultipleChoices()):(n=e.getVisibleMultipleChoices(),!n||!Array.isArray(n)?null:n)},t.prototype.setHeaderCellCssClasses=function(e,n){e.className=new J().append(this.cssClasses.headerCell).append(this.cssClasses.columnTitleCell,this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.emptyCell,!!e.isEmpty).append(this.cssClasses.cell+"--"+n,!!n).toString()},t.prototype.createHeaderCell=function(e,n){n===void 0&&(n=null);var r=e?this.createTextCell(e.locTitle):this.createEmptyCell();return r.column=e,this.setHeaderCell(e,r),n||(n=e&&e.cellType!=="default"?e.cellType:this.matrix.cellType),this.setHeaderCellCssClasses(r,n),r},t.prototype.setHeaderCell=function(e,n){this.setHeaderCellWidth(e,n)},t.prototype.setHeaderCellWidth=function(e,n){n.minWidth=e!=null?this.matrix.getColumnWidth(e):this.matrix.getRowTitleWidth(),n.width=e!=null?e.width:this.matrix.getRowTitleWidth()},t.prototype.createTextCell=function(e){var n=new Qn;return n.locTitle=e,this.cssClasses.cell&&(n.className=this.cssClasses.cell),n},t.prototype.createEmptyCell=function(e){e===void 0&&(e=!1);var n=this.createTextCell(null);return n.isEmpty=!0,n.className=new J().append(this.cssClasses.cell).append(this.cssClasses.emptyCell).append(this.cssClasses.errorsCell,e).toString(),n},so([ee({onPush:function(e,n,r){r.updateRenderedRows()},onRemove:function(e,n,r){r.updateRenderedRows()}})],t.prototype,"rows",void 0),so([ee()],t.prototype,"_renderedRows",void 0),t}($e),hs=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ul=function(){function i(t,e,n){this.column=t,this.row=e,this.data=n,this.questionValue=this.createQuestion(t,e,n),this.questionValue.updateCustomWidget(),this.updateCellQuestionTitleDueToAccessebility(e)}return i.prototype.updateCellQuestionTitleDueToAccessebility=function(t){var e=this;this.questionValue.locTitle.onGetTextCallback=function(n){if(!t||!t.getSurvey())return e.questionValue.title;var r=t.getAccessbilityText();return r?e.column.colOwner.getCellAriaLabel(r,e.questionValue.title):e.questionValue.title}},i.prototype.locStrsChanged=function(){this.question.locStrsChanged()},i.prototype.createQuestion=function(t,e,n){var r=this,o=n.createQuestion(this.row,this.column);return o.readOnlyCallback=function(){return!r.row.isRowEnabled()},o.validateValueCallback=function(){return n.validateCell(e,t.name,e.value)},ue.getProperties(t.getType()).forEach(function(c){var p=c.name;t[p]!==void 0&&(o[p]=t[p])}),o},Object.defineProperty(i.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.question.value},set:function(t){this.question.value=t},enumerable:!1,configurable:!0}),i.prototype.getQuestionWrapperClassName=function(t){return t},i.prototype.runCondition=function(t,e){this.question.runCondition(t,e)},i}(),Sv=function(i){hs(t,i);function t(e,n,r){var o=i.call(this,e,n,r)||this;return o.column=e,o.row=n,o.data=r,o.updateCellQuestion(),o}return t.prototype.createQuestion=function(e,n,r){var o=H.createClass("expression");return o.setSurveyImpl(n),o},t.prototype.locStrsChanged=function(){this.updateCellQuestion(),i.prototype.locStrsChanged.call(this)},t.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(e){delete e.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0},t.prototype.getQuestionWrapperClassName=function(e){var n=i.prototype.getQuestionWrapperClassName.call(this,e);if(!n)return n;this.question.expression&&this.question.expression!="''"&&(n+=" "+e+"--expression");var r=this.column.totalAlignment;return r==="auto"&&this.column.cellType==="dropdown"&&(r="left"),n+" "+e+"--"+r},t.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if(this.column.totalType=="none")return"''";var e=this.column.totalType+"InArray";return We.Instance.hasFunction(e)?e+"({self}, '"+this.column.name+"')":""},t}(ul),Tv=function(i){hs(t,i);function t(e,n,r){var o=i.call(this,n)||this;return o.row=e,o.variableName=n,o.parentTextProcessor=r,o}return t.prototype.getParentTextProcessor=function(){return this.parentTextProcessor},Object.defineProperty(t.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.row.value},t.prototype.getQuestionByName=function(e){return this.row.getQuestionByName(e)},t.prototype.onCustomProcessText=function(e){return e.name==Ur.IndexVariableName?(e.isExists=!0,e.value=this.row.rowIndex,!0):[Ur.RowValueVariableName,Ur.RowNameVariableName].indexOf(e.name)>-1?(e.isExists=!0,e.value=this.row.rowName,!0):!1},t}(rl),Ur=function(){function i(t,e){var n=this;this.isSettingValue=!1,this.detailPanelValue=null,this.visibleValue=!0,this.cells=[],this.isCreatingDetailPanel=!1,this.data=t,this.subscribeToChanges(e),this.textPreProcessor=new Tv(this,i.RowVariableName,t?t.getParentTextProcessor():null),this.showHideDetailPanelClick=function(){if(n.getSurvey().isDesignMode)return!0;n.showHideDetailPanel()},this.idValue=i.getId()}return i.getId=function(){return"srow_"+i.idCounter++},Object.defineProperty(i.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataName",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),i.prototype.isRowEnabled=function(){return!0},i.prototype.isRowHasEnabledCondition=function(){return!1},Object.defineProperty(i.prototype,"isVisible",{get:function(){return this.visible&&this.isItemVisible()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"visible",{get:function(){return this.visibleValue},set:function(t){var e;this.visible!==t&&(this.visibleValue=t,(e=this.data)===null||e===void 0||e.onRowVisibilityChanged(this))},enumerable:!1,configurable:!0}),i.prototype.isItemVisible=function(){return!0},Object.defineProperty(i.prototype,"value",{get:function(){for(var t={},e=this.questions,n=0;n<e.length;n++){var r=e[n];r.isEmpty()||(t[r.getValueName()]=r.value),r.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(t[r.getValueName()+$e.commentSuffix]=r.comment)}return t},set:function(t){this.isSettingValue=!0,this.subscribeToChanges(t);for(var e=this.questions,n=0;n<e.length;n++){var r=e[n],o=this.getCellValue(t,r.getValueName()),c=r.comment,p=t?t[r.getValueName()+$e.commentSuffix]:"";p==null&&(p=""),r.updateValueFromSurvey(o),(p||this.isTwoValueEquals(c,r.comment))&&r.updateCommentFromSurvey(p),r.onSurveyValueChanged(o)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),i.prototype.getAccessbilityText=function(){return this.locText&&this.locText.renderedHtml},Object.defineProperty(i.prototype,"hasPanel",{get:function(){return this.data?this.data.hasDetailPanel(this):!1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isDetailPanelShowing",{get:function(){return this.data?this.data.getIsDetailPanelShowing(this):!1},enumerable:!1,configurable:!0}),i.prototype.setIsDetailPanelShowing=function(t){!t&&this.detailPanel&&this.detailPanel.onHidingContent(),this.data&&this.data.setIsDetailPanelShowing(this,t),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()},i.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},i.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},i.prototype.hideDetailPanel=function(t){t===void 0&&(t=!1),this.setIsDetailPanelShowing(!1),t&&(this.detailPanelValue=null)},i.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!(this.detailPanelValue||!this.hasPanel||!this.data)){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var t=this.detailPanelValue.questions,e=this.data.getRowValue(this.data.getRowIndex(this));if(!g.isValueEmpty(e))for(var n=0;n<t.length;n++){var r=t[n].getValueName(),o=this.editingObj?H.getObjPropertyValue(this.editingObj,r):e[r];g.isValueEmpty(o)||(t[n].value=o)}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},i.prototype.getAllValues=function(){return this.value},i.prototype.getFilteredValues=function(){var t=this.data?this.data.getDataFilteredValues():{},e=this.validationValues;if(e)for(var n in e)t[n]=e[n];return t.row=this.getAllValues(),this.applyRowVariablesToValues(t,this.rowIndex),t},i.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},i.prototype.applyRowVariablesToValues=function(t,e){t[i.IndexVariableName]=e,t[i.RowValueVariableName]=this.rowName,t[i.RowNameVariableName]=this.rowName},i.prototype.runCondition=function(t,e,n){if(this.data){t[i.OwnerVariableName]=this.data.getFilteredData();var r=this.rowIndex;this.applyRowVariablesToValues(t,r);var o=g.createCopy(e);o[i.RowVariableName]=this;var c=r>0?this.data.getRowValue(this.rowIndex-1):this.value;n?(t[i.RowVariableName]=c,this.setRowsVisibleIfValues(t),this.visible=new on(n).run(t,e)):this.visible=!0;for(var p=0;p<this.cells.length;p++)p>0&&dr(this.value,c),t[i.RowVariableName]=c,this.cells[p].runCondition(t,o);this.detailPanel&&this.detailPanel.runCondition(t,o),this.isRowHasEnabledCondition()&&this.onQuestionReadOnlyChanged()}},i.prototype.setRowsVisibleIfValues=function(t){},i.prototype.getNamesWithDefaultValues=function(){var t=[];return this.questions.forEach(function(e){e.isValueDefault&&t.push(e.getValueName())}),t},i.prototype.clearValue=function(t){for(var e=this.questions,n=0;n<e.length;n++)e[n].clearValue(t)},i.prototype.onAnyValueChanged=function(t,e){for(var n=this.questions,r=0;r<n.length;r++)n[r].onAnyValueChanged(t,e)},i.prototype.getDataValueCore=function(t,e){var n=this.getSurvey();return n?n.getDataValueCore(t,e):t[e]},i.prototype.getValue=function(t){var e=this.getQuestionByName(t);return e?e.value:null},i.prototype.setValue=function(t,e){this.setValueCore(t,e,!1)},i.prototype.getVariable=function(t){},i.prototype.setVariable=function(t,e){},i.prototype.getComment=function(t){var e=this.getQuestionByName(t);return e?e.comment:""},i.prototype.setComment=function(t,e,n){this.setValueCore(t,e,!0)},i.prototype.findQuestionByName=function(t){if(t){var e=i.RowVariableName+".";if(t.indexOf(e)===0)return this.getQuestionByName(t.substring(e.length));var n=this.getSurvey();return n?n.getQuestionByName(t):null}},i.prototype.getEditingSurveyElement=function(){},i.prototype.setValueCore=function(t,e,n){if(!this.isSettingValue){this.updateQuestionsValue(t,e,n),n||this.updateSharedQuestionsValue(t,e);var r=this.value,o=n?t+$e.commentSuffix:t,c=e,p=this.getQuestionByName(t),y=this.data.onRowChanging(this,o,r);if(p&&!this.isTwoValueEquals(y,c)&&(this.isSettingValue=!0,n?p.comment=y:p.value=y,this.isSettingValue=!1,r=this.value),!(this.data.isValidateOnValueChanging&&this.hasQuestonError(p))){var b=e==null&&!p||n&&!e&&!!p;this.data.onRowChanged(this,o,r,b),o&&this.runTriggers(gs.RowVariableName+"."+o,r),this.onAnyValueChanged(i.RowVariableName,"")}}},i.prototype.updateQuestionsValue=function(t,e,n){if(this.detailPanel){var r=this.getQuestionByColumnName(t),o=this.detailPanel.getQuestionByName(t);if(!(!r||!o)){var c=this.isTwoValueEquals(e,n?r.comment:r.value),p=c?o:r;this.isSettingValue=!0,n?p.comment=e:p.value=e,this.isSettingValue=!1}}},i.prototype.updateSharedQuestionsValue=function(t,e){var n=this.getQuestionsByValueName(t);if(n.length>1)for(var r=0;r<n.length;r++)g.isTwoValueEquals(n[r].value,e)||(this.isSettingValue=!0,n[r].updateValueFromSurvey(e),this.isSettingValue=!1)},i.prototype.runTriggers=function(t,e){t&&this.questions.forEach(function(n){return n.runTriggers(t,e)})},i.prototype.hasQuestonError=function(t){if(!t)return!1;if(t.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(t.isEmpty())return!1;var e=this.getCellByColumnName(t.name);return!e||!e.column||!e.column.isUnique?!1:this.data.checkIfValueInRowDuplicated(this,t)},Object.defineProperty(i.prototype,"isEmpty",{get:function(){var t=this.value;if(g.isValueEmpty(t))return!0;for(var e in t)if(t[e]!==void 0&&t[e]!==null)return!1;return!0},enumerable:!1,configurable:!0}),i.prototype.getQuestionByColumn=function(t){var e=this.getCellByColumn(t);return e?e.question:null},i.prototype.getCellByColumn=function(t){for(var e=0;e<this.cells.length;e++)if(this.cells[e].column==t)return this.cells[e];return null},i.prototype.getCellByColumnName=function(t){for(var e=0;e<this.cells.length;e++)if(this.cells[e].column.name==t)return this.cells[e];return null},i.prototype.getQuestionByColumnName=function(t){var e=this.getCellByColumnName(t);return e?e.question:null},Object.defineProperty(i.prototype,"questions",{get:function(){for(var t=[],e=0;e<this.cells.length;e++)t.push(this.cells[e].question);for(var n=this.detailPanel?this.detailPanel.questions:[],e=0;e<n.length;e++)t.push(n[e]);return t},enumerable:!1,configurable:!0}),i.prototype.getQuestionByName=function(t){var e=this.getQuestionByColumnName(t);return e||(this.detailPanel?this.detailPanel.getQuestionByName(t):null)},i.prototype.getQuestionsByName=function(t){var e=[],n=this.getQuestionByColumnName(t);return n&&e.push(n),this.detailPanel&&(n=this.detailPanel.getQuestionByName(t),n&&e.push(n)),e},i.prototype.getQuestionsByValueName=function(t){for(var e=[],n=0;n<this.cells.length;n++){var r=this.cells[n];r.question&&r.question.getValueName()===t&&e.push(r.question)}return this.detailPanel&&(e=e.concat(this.detailPanel.getQuestionsByValueName(t))),e},i.prototype.getSharedQuestionByName=function(t){return this.data?this.data.getSharedQuestionByName(t,this):null},i.prototype.clearIncorrectValues=function(t){for(var e in t){var n=this.getQuestionByName(e);if(n){var r=n.value;n.clearIncorrectValues(),this.isTwoValueEquals(r,n.value)||this.setValue(e,n.value)}else!this.getSharedQuestionByName(e)&&e.indexOf(N.matrix.totalsSuffix)<0&&this.setValue(e,null)}},i.prototype.getLocale=function(){return this.data?this.data.getLocale():""},i.prototype.getMarkdownHtml=function(t,e){return this.data?this.data.getMarkdownHtml(t,e):void 0},i.prototype.getRenderer=function(t){return this.data?this.data.getRenderer(t):null},i.prototype.getRendererContext=function(t){return this.data?this.data.getRendererContext(t):t},i.prototype.getProcessedText=function(t){return this.data?this.data.getProcessedText(t):t},i.prototype.locStrsChanged=function(){for(var t=0;t<this.cells.length;t++)this.cells[t].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},i.prototype.updateCellQuestionOnColumnChanged=function(t,e,n){var r=this.getCellByColumn(t);r&&this.updateCellOnColumnChanged(r,e,n)},i.prototype.updateCellQuestionOnColumnItemValueChanged=function(t,e,n,r,o,c){var p=this.getCellByColumn(t);p&&this.updateCellOnColumnItemValueChanged(p,e,n,r,o,c)},i.prototype.onQuestionReadOnlyChanged=function(){for(var t=this.questions,e=0;e<t.length;e++){var n=t[e];n.setPropertyValue("isReadOnly",n.isReadOnly)}if(this.detailPanel){var r=!!this.data&&this.data.isMatrixReadOnly();this.detailPanel.readOnly=r||!this.isRowEnabled()}},i.prototype.hasErrors=function(t,e,n){var r=!1,o=this.cells;if(!o)return r;this.validationValues=e.validationValues;for(var c=0;c<o.length;c++)if(o[c]){var p=o[c].question;!p||!p.visible||(p.onCompletedAsyncValidators=function(b){n()},!(e&&e.isOnValueChanged===!0&&p.isEmpty())&&(r=p.hasErrors(t,e)||r))}if(this.hasPanel){this.ensureDetailPanel();var y=this.detailPanel.hasErrors(t,!1,e);!e.hideErroredPanel&&y&&t&&(e.isSingleDetailPanel&&(e.hideErroredPanel=!0),this.showDetailPanel()),r=y||r}return this.validationValues=void 0,r},i.prototype.updateCellOnColumnChanged=function(t,e,n){e==="choices"&&Array.isArray(n)&&n.length===0&&this.data&&(n=this.data.choices),t.question[e]=n},i.prototype.updateCellOnColumnItemValueChanged=function(t,e,n,r,o,c){var p=t.question[e];if(Array.isArray(p)){var y=r==="value"?c:n.value,b=ke.getItemByValue(p,y);b&&(b[r]=o)}},i.prototype.buildCells=function(t){this.isSettingValue=!0;for(var e=this.data.columns,n=0;n<e.length;n++){var r=e[n],o=this.createCell(r);this.cells.push(o);var c=this.getCellValue(t,r.name);if(!g.isValueEmpty(c)){o.question.value=c;var p=r.name+$e.commentSuffix;t&&!g.isValueEmpty(t[p])&&(o.question.comment=t[p])}}this.isSettingValue=!1},i.prototype.isTwoValueEquals=function(t,e){return g.isTwoValueEquals(t,e,!1,!0,!1)},i.prototype.getCellValue=function(t,e){return this.editingObj?H.getObjPropertyValue(this.editingObj,e):t?t[e]:void 0},i.prototype.createCell=function(t){return new ul(t,this,this.data)},i.prototype.getSurveyData=function(){return this},i.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},i.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(i.prototype,"rowIndex",{get:function(){return this.getRowIndex()},enumerable:!1,configurable:!0}),i.prototype.getRowIndex=function(){return this.data?this.data.getRowIndex(this)+1:-1},Object.defineProperty(i.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},i.prototype.subscribeToChanges=function(t){var e=this;!t||!t.getType||!t.onPropertyChanged||t!==this.editingObj&&(this.editingObjValue=t,this.onEditingObjPropertyChanged=function(n,r){e.updateOnSetValue(r.name,r.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},i.prototype.updateOnSetValue=function(t,e){this.isSettingValue=!0;for(var n=this.getQuestionsByName(t),r=0;r<n.length;r++)n[r].value=e;this.isSettingValue=!1},i.RowVariableName="row",i.OwnerVariableName="self",i.IndexVariableName="rowIndex",i.RowValueVariableName="rowValue",i.RowNameVariableName="rowName",i.idCounter=1,i}(),gs=function(i){hs(t,i);function t(e){var n=i.call(this,e,null)||this;return n.buildCells(null),n}return t.prototype.createCell=function(e){return new Sv(e,this,this.data)},t.prototype.setValue=function(e,n){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},t.prototype.runCondition=function(e,n,r){var o=0,c;do c=g.getUnbindValue(this.value),i.prototype.runCondition.call(this,e,n,""),o++;while(!g.isTwoValueEquals(c,this.value)&&o<3)},t.prototype.updateCellOnColumnChanged=function(e,n,r){e.updateCellQuestion()},t}(Ur),bi=function(i){hs(t,i);function t(e){var n=i.call(this,e)||this;return n.isRowChanging=!1,n.lockResetRenderedTable=!1,n.isDoingonAnyValueChanged=!1,n.createItemValues("choices"),n.createLocalizableString("placeholder",n,!1,!0),n.createLocalizableString("keyDuplicationError",n,!1,!0),n.detailPanelValue=n.createNewDetailPanel(),n.detailPanel.selectedElementInDesign=n,n.detailPanel.renderWidth="100%",n.detailPanel.isInteractiveDesignElement=!1,n.detailPanel.showTitle=!1,n.registerPropertyChangedHandlers(["columns","cellType"],function(){n.updateColumnsAndRows()}),n.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],function(){n.clearRowsAndResetRenderedTable()}),n.registerPropertyChangedHandlers(["transposeData","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode","displayMode"],function(){n.resetRenderedTable()}),n}return Object.defineProperty(t,"defaultCellType",{get:function(){return N.matrix.defaultCellType},set:function(e){N.matrix.defaultCellType=e},enumerable:!1,configurable:!0}),t.addDefaultColumns=function(e){for(var n=lt.DefaultColums,r=0;r<n.length;r++)e.addColumn(n[r])},t.prototype.createColumnValues=function(){var e=this;return this.createNewArray("columns",function(n){n.colOwner=e,e.onAddColumn&&e.onAddColumn(n),e.survey&&e.survey.matrixColumnAdded(e,n)},function(n){n.colOwner=null,e.onRemoveColumn&&e.onRemoveColumn(n)})},t.prototype.getType=function(){return"matrixdropdownbase"},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.clearGeneratedRows()},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUpdateLocked",{get:function(){return this.isLoadingFromJson||this.isUpdating},enumerable:!1,configurable:!0}),t.prototype.beginUpdate=function(){this.isUpdating=!0},t.prototype.endUpdate=function(){this.isUpdating=!1,this.updateColumnsAndRows()},t.prototype.updateColumnsAndRows=function(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()},t.prototype.itemValuePropertyChanged=function(e,n,r,o){i.prototype.itemValuePropertyChanged.call(this,e,n,r,o),e.ownerPropertyName==="choices"&&this.clearRowsAndResetRenderedTable()},Object.defineProperty(t.prototype,"transposeData",{get:function(){return this.getPropertyValue("transposeData")},set:function(e){this.setPropertyValue("transposeData",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){return this.transposeData?"vertical":"horizontal"},set:function(e){this.transposeData=e==="vertical"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(e){this.columnLayout=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"detailErrorLocation",{get:function(){return this.getPropertyValue("detailErrorLocation")},set:function(e){this.setPropertyValue("detailErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellErrorLocation",{get:function(){return this.getPropertyValue("cellErrorLocation")},set:function(e){this.setPropertyValue("cellErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),t.prototype.getChildErrorLocation=function(e){var n=e.parent?this.detailErrorLocation:this.cellErrorLocation;return n!=="default"?n:i.prototype.getChildErrorLocation.call(this,e)},Object.defineProperty(t.prototype,"isColumnLayoutHorizontal",{get:function(){return this.isMobile?!0:!this.transposeData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUniqueCaseSensitive",{get:function(){return this.isUniqueCaseSensitiveValue!==void 0?this.isUniqueCaseSensitiveValue:N.comparator.caseSensitive},set:function(e){this.isUniqueCaseSensitiveValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode")},set:function(e){this.setPropertyValue("detailPanelMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(t.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),t.prototype.createNewDetailPanel=function(){return H.createClass("panel")},Object.defineProperty(t.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getFooterText=function(){return null},Object.defineProperty(t.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.canRemoveRow=function(e){return!0},t.prototype.onPointerDown=function(e,n){},t.prototype.onRowsChanged=function(){this.clearVisibleRows(),this.resetRenderedTable(),i.prototype.onRowsChanged.call(this)},t.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly(!0)},t.prototype.onEndRowAdding=function(){if(this.lockResetRenderedTable=!1,!!this.renderedTable)if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{var e=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[e],e)}},t.prototype.onEndRowRemoving=function(e){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():e&&this.renderedTable.onRemovedRow(e)},Object.defineProperty(t.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(e){this.setPropertyValue("renderedTable",e)},enumerable:!1,configurable:!0}),t.prototype.clearRowsAndResetRenderedTable=function(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)},t.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isUpdateLocked||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},t.prototype.clearGeneratedRows=function(){if(this.clearVisibleRows(),!!this.generatedVisibleRows){for(var e=0;e<this.generatedVisibleRows.length;e++)this.generatedVisibleRows[e].dispose();i.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(t.prototype,"isRendredTableCreated",{get:function(){return!!this.renderedTableValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedTable",{get:function(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),t.prototype.createRenderedTable=function(){return new ll(this)},t.prototype.onMatrixRowCreated=function(e){if(this.survey)for(var n={rowValue:e.value,row:e,column:null,columnName:null,cell:null,cellQuestion:null,value:null},r=0;r<this.columns.length;r++){n.column=this.columns[r],n.columnName=n.column.name;var o=e.cells[r];n.cell=o,n.cellQuestion=o.question,n.value=o.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(n),this.survey.matrixCellCreated(this,n)}},Object.defineProperty(t.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",N.matrix.defaultCellType)},set:function(e){e=e.toLowerCase(),this.setPropertyValue("cellType",e)},enumerable:!1,configurable:!0}),t.prototype.isSelectCellType=function(){return H.isDescendantOf(this.cellType,"selectbase")},t.prototype.updateColumnsCellType=function(){for(var e=0;e<this.columns.length;e++)this.columns[e].defaultCellTypeChanged()},t.prototype.updateColumnsIndexes=function(e){for(var n=0;n<e.length;n++)e[n].setIndex(n)},Object.defineProperty(t.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount")},set:function(e){e<0||e>4||this.setPropertyValue("columnColCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll")},set:function(e){this.setPropertyValue("horizontalScroll",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(e){this.setPropertyValue("allowAdaptiveActions",e),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=e)},enumerable:!1,configurable:!0}),t.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},t.prototype.hasChoices=function(){return this.choices.length>0},t.prototype.onColumnPropertyChanged=function(e,n,r){if(this.updateHasFooter(),!!this.generatedVisibleRows){for(var o=0;o<this.generatedVisibleRows.length;o++)this.generatedVisibleRows[o].updateCellQuestionOnColumnChanged(e,n,r);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(e,n,r),this.onColumnsChanged(),n=="isRequired"&&this.resetRenderedTable()}},t.prototype.onColumnItemValuePropertyChanged=function(e,n,r,o,c,p){if(this.generatedVisibleRows)for(var y=0;y<this.generatedVisibleRows.length;y++)this.generatedVisibleRows[y].updateCellQuestionOnColumnItemValueChanged(e,n,r,o,c,p)},t.prototype.onShowInMultipleColumnsChanged=function(e){this.resetTableAndRows()},t.prototype.onColumnVisibilityChanged=function(e){this.resetTableAndRows()},t.prototype.onColumnCellTypeChanged=function(e){this.resetTableAndRows()},t.prototype.resetTableAndRows=function(){this.clearGeneratedRows(),this.resetRenderedTable()},t.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(t.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),t.prototype.getAddRowLocation=function(){return"default"},t.prototype.getShowColumnsIfEmpty=function(){return!1},t.prototype.updateShowTableAndAddRow=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},t.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(t.prototype,"hasTotal",{get:function(){for(var e=0;e<this.columns.length;e++)if(this.columns[e].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.getCellType=function(){return this.cellType},t.prototype.getCustomCellType=function(e,n,r){if(!this.survey)return r;var o={rowValue:n.value,row:n,column:e,columnName:e.name,cellType:r};return this.survey.matrixCellCreating(this,o),o.cellType},t.prototype.getConditionJson=function(e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),!n)return i.prototype.getConditionJson.call(this,e);for(var r="",o=n.length-1;o>=0&&n[o]!=".";o--)r=n[o]+r;var c=void 0,p=this.getColumnByName(r);return p?c=p.createCellQuestion(null):this.detailPanelMode!=="none"&&(c=this.detailPanel.getQuestionByName(r)),c?c.getConditionJson(e):null},t.prototype.clearIncorrectValues=function(){if(Array.isArray(this.visibleRows))for(var e=this.generatedVisibleRows,n=0;n<e.length;n++)e[n].clearIncorrectValues(this.getRowValue(n))},t.prototype.clearErrors=function(){i.prototype.clearErrors.call(this),this.runFuncForCellQuestions(function(e){e.clearErrors()})},t.prototype.localeChanged=function(){i.prototype.localeChanged.call(this),this.runFuncForCellQuestions(function(e){e.localeChanged()})},t.prototype.runFuncForCellQuestions=function(e){if(this.generatedVisibleRows)for(var n=0;n<this.generatedVisibleRows.length;n++)for(var r=this.generatedVisibleRows[n],o=0;o<r.cells.length;o++)e(r.cells[o].question)},t.prototype.runCondition=function(e,n){i.prototype.runCondition.call(this,e,n);var r=0,o;do o=g.getUnbindValue(this.totalValue),this.runCellsCondition(e,n),this.runTotalsCondition(e,n),r++;while(!g.isTwoValueEquals(o,this.totalValue)&&r<3);this.updateVisibilityBasedOnRows()},t.prototype.runTriggers=function(e,n){i.prototype.runTriggers.call(this,e,n),this.runFuncForCellQuestions(function(r){r.runTriggers(e,n)})},t.prototype.shouldRunColumnExpression=function(){return!1},t.prototype.runCellsCondition=function(e,n){var r=this.generatedVisibleRows;if(r)for(var o=this.getRowConditionValues(e),c=0;c<r.length;c++)r[c].runCondition(o,n,this.rowsVisibleIf);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()},t.prototype.runConditionsForColumns=function(e,n){var r=this;return this.columns.forEach(function(o){if(!r.columnsVisibleIf)o.isColumnsVisibleIf=!0;else{var c=new on(r.columnsVisibleIf);e.item=o.name,o.isColumnsVisibleIf=c.run(e,n)===!0}}),!1},t.prototype.checkColumnsVisibility=function(){if(!this.isDesignMode){for(var e=!1,n=0;n<this.columns.length;n++){var r=this.columns[n],o=!!r.visibleIf||r.isFilteredMultipleColumns;!o&&!this.columnsVisibleIf&&r.isColumnVisible||(e=this.isColumnVisibilityChanged(r,o)||e)}e&&this.resetRenderedTable()}},t.prototype.checkColumnsRenderedRequired=function(){var e=this.generatedVisibleRows;if(e)for(var n=0;n<this.columns.length;n++){var r=this.columns[n];if(!(!r.requiredIf||!r.isColumnVisible)){for(var o=e.length>0,c=0;c<e.length;c++)if(!e[c].cells[n].question.isRequired){o=!1;break}r.updateIsRenderedRequired(o)}}},t.prototype.isColumnVisibilityChanged=function(e,n){var r=e.isColumnVisible,o=!n,c=this.generatedVisibleRows,p=n&&c,y=p&&e.isFilteredMultipleColumns,b=y?e.getVisibleChoicesInCell:[],E=new Array;if(p)for(var M=0;M<c.length;M++){var Q=c[M].cells[e.index],X=Q==null?void 0:Q.question;if(X&&X.isVisible)if(o=!0,y)this.updateNewVisibleChoices(X,E);else break}return e.hasVisibleCell=o&&e.isColumnsVisibleIf,y&&(e.setVisibleChoicesInCell(E),!g.isArraysEqual(b,E,!0,!1,!1))?!0:r!==e.isColumnVisible},t.prototype.updateNewVisibleChoices=function(e,n){var r=e.visibleChoices;if(Array.isArray(r))for(var o=0;o<r.length;o++){var c=r[o];n.indexOf(c.value)<0&&n.push(c.value)}},t.prototype.runTotalsCondition=function(e,n){this.generatedTotalRow&&this.generatedTotalRow.runCondition(this.getRowConditionValues(e),n)},t.prototype.getRowConditionValues=function(e){var n=e;n||(n={});var r={};return this.isValueEmpty(this.totalValue)||(r=JSON.parse(JSON.stringify(this.totalValue))),n.row={},n.totalRow=r,n},t.prototype.IsMultiplyColumn=function(e){return e.isShowInMultipleColumns&&!this.isMobile},t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this);for(var e=this.columns,n=0;n<e.length;n++)e[n].locStrsChanged();var r=this.generatedVisibleRows;if(r){for(var n=0;n<r.length;n++)r[n].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},t.prototype.getColumnByName=function(e){for(var n=0;n<this.columns.length;n++)if(this.columns[n].name==e)return this.columns[n];return null},t.prototype.getColumnName=function(e){return this.getColumnByName(e)},t.prototype.getColumnWidth=function(e){var n;return e.minWidth?e.minWidth:this.columnMinWidth?this.columnMinWidth:((n=N.matrix.columnWidthsByType[e.cellType])===null||n===void 0?void 0:n.minWidth)||""},Object.defineProperty(t.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(e){this.setPropertyValue("choices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(e){this.setLocalizableStringText("keyDuplicationError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return this.survey?this.survey.storeOthersAsComment:!1},enumerable:!1,configurable:!0}),t.prototype.addColumn=function(e,n){n===void 0&&(n=null);var r=new oo(e,n);return this.columns.push(r),r},t.prototype.clearVisibleRows=function(){this.visibleRowsArray=null},t.prototype.isColumnVisible=function(e){return e.isColumnVisible},t.prototype.getVisibleRows=function(){return this.isUpdateLocked?null:this.isGenereatingRows?[]:this.visibleRowsArray?this.visibleRowsArray:(this.generateVisibleRowsIfNeeded(),this.visibleRowsArray=this.getVisibleFromGenerated(this.generatedVisibleRows),this.visibleRowsArray)},t.prototype.generateVisibleRowsIfNeeded=function(){var e=this;!this.isUpdateLocked&&!this.generatedVisibleRows&&!this.generatedVisibleRows&&(this.isGenereatingRows=!0,this.generatedVisibleRows=this.generateRows(),this.isGenereatingRows=!1,this.generatedVisibleRows.forEach(function(n){return e.onMatrixRowCreated(n)}),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.generatedVisibleRows&&(this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()))},t.prototype.getVisibleFromGenerated=function(e){var n=[];return e?(e.forEach(function(r){r.isVisible&&n.push(r)}),n.length===e.length?e:n):n},t.prototype.updateValueOnRowsGeneration=function(e){for(var n=this.createNewValue(!0),r=this.createNewValue(),o=0;o<e.length;o++){var c=e[o];if(!c.editingObj){var p=this.getRowValue(o),y=c.value;this.isTwoValueEquals(p,y)||(r=this.getNewValueOnRowChanged(c,"",y,!1,r).value)}}this.isTwoValueEquals(n,r)||(this.isRowChanging=!0,this.setNewValue(r),this.isRowChanging=!1)},Object.defineProperty(t.prototype,"totalValue",{get:function(){return!this.hasTotal||!this.visibleTotalRow?{}:this.visibleTotalRow.value},enumerable:!1,configurable:!0}),t.prototype.getVisibleTotalRow=function(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var e={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),e)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(t.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){i.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},t.prototype.getRowValue=function(e){if(e<0||!Array.isArray(this.visibleRows))return null;var n=this.generatedVisibleRows;if(e>=n.length)return null;var r=this.createNewValue();return this.getRowValueCore(n[e],r)},t.prototype.checkIfValueInRowDuplicated=function(e,n){return this.generatedVisibleRows?this.isValueInColumnDuplicated(n.name,!0,e):!1},t.prototype.setRowValue=function(e,n){if(e<0)return null;var r=this.visibleRows;if(e>=r.length)return null;r[e].value=n,this.onRowChanged(r[e],"",n,!1)},t.prototype.generateRows=function(){return null},t.prototype.generateTotalRow=function(){return new gs(this)},t.prototype.createNewValue=function(e){e===void 0&&(e=!1);var n=this.value?this.createValueCopy():{};return e&&this.isMatrixValueEmpty(n)?null:n},t.prototype.getRowValueCore=function(e,n,r){r===void 0&&(r=!1);var o=n&&n[e.rowName]?n[e.rowName]:null;return!o&&r&&(o={},n&&(n[e.rowName]=o)),o},t.prototype.getRowObj=function(e){var n=this.getRowValueCore(e,this.value);return n&&n.getType?n:null},t.prototype.getRowDisplayValue=function(e,n,r){if(!r||n.editingObj)return r;for(var o=Object.keys(r),c=0;c<o.length;c++){var p=o[c],y=n.getQuestionByName(p);if(y||(y=this.getSharedQuestionByName(p,n)),y){var b=y.getDisplayValue(e,r[p]);e&&y.title&&y.title!==p?(r[y.title]=b,delete r[p]):r[p]=b}}return r},t.prototype.getPlainData=function(e){var n=this;e===void 0&&(e={includeEmpty:!0});var r=i.prototype.getPlainData.call(this,e);if(r){r.isNode=!0;var o=Array.isArray(r.data)?[].concat(r.data):[];r.data=this.visibleRows.map(function(c){var p={name:c.dataName,title:c.text,value:c.value,displayValue:n.getRowDisplayValue(!1,c,c.value),getString:function(y){return typeof y=="object"?JSON.stringify(y):y},isNode:!0,data:c.cells.map(function(y){return y.question.getPlainData(e)}).filter(function(y){return!!y})};return(e.calculations||[]).forEach(function(y){p[y.propertyName]=c[y.propertyName]}),p}),r.data=r.data.concat(o)}return r},t.prototype.addConditionObjectsByContext=function(e,n){var r=[].concat(this.columns);this.detailPanelMode!=="none"&&(r=r.concat(this.detailPanel.questions));var o=!!n&&r.indexOf(n)>-1,c=n===!0||o,p=this.getConditionObjectsRowIndeces();c&&p.push(-1);for(var y=0;y<p.length;y++){var b=p[y],E=b>-1?this.getConditionObjectRowName(b):"row";if(E)for(var M=b>-1?this.getConditionObjectRowText(b):"row",Q=b>-1||n===!0,X=Q&&b===-1?".":"",oe=(Q?this.getValueName():"")+X+E+".",we=(Q?this.processedTitle:"")+X+M+".",Ce=0;Ce<r.length;Ce++){var ve=r[Ce];if(!(b===-1&&n===ve)){var Ne={name:oe+ve.name,text:we+ve.fullTitle,question:this};b===-1&&n===!0?Ne.context=this:o&&oe.startsWith("row.")&&(Ne.context=n),e.push(Ne)}}}},t.prototype.onHidingContent=function(){i.prototype.onHidingContent.call(this);var e=[];this.collectNestedQuestions(e,!0),e.forEach(function(n){return n.onHidingContent()})},t.prototype.getIsReadyNestedQuestions=function(){if(!this.generatedVisibleRows)return[];var e=new Array;return this.collectNestedQuestonsInRows(this.generatedVisibleRows,e,!1),this.generatedTotalRow&&this.collectNestedQuestonsInRows([this.generatedTotalRow],e,!1),e},t.prototype.collectNestedQuestionsCore=function(e,n){this.collectNestedQuestonsInRows(this.visibleRows,e,n)},t.prototype.collectNestedQuestonsInRows=function(e,n,r){Array.isArray(e)&&e.forEach(function(o){o.questions.forEach(function(c){return c.collectNestedQuestions(n,r)})})},t.prototype.getConditionObjectRowName=function(e){return""},t.prototype.getConditionObjectRowText=function(e){return this.getConditionObjectRowName(e)},t.prototype.getConditionObjectsRowIndeces=function(){return[]},t.prototype.getProgressInfo=function(){if(this.generatedVisibleRows)return Qt.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);var e=$e.createProgressInfo();return this.updateProgressInfoByValues(e),e.requiredQuestionCount===0&&this.isRequired&&(e.requiredQuestionCount=1,e.requiredAnsweredQuestionCount=this.isEmpty()?0:1),e},t.prototype.updateProgressInfoByValues=function(e){},t.prototype.updateProgressInfoByRow=function(e,n){for(var r=0;r<this.columns.length;r++){var o=this.columns[r];if(o.templateQuestion.hasInput){var c=!g.isValueEmpty(n[o.name]);!c&&o.templateQuestion.visibleIf||(e.questionCount+=1,e.requiredQuestionCount+=o.isRequired,e.answeredQuestionCount+=c?1:0,e.requiredAnsweredQuestionCount+=c&&o.isRequired?1:0)}}},t.prototype.getCellQuestions=function(){var e=[];return this.runFuncForCellQuestions(function(n){e.push(n)}),e},t.prototype.onBeforeValueChanged=function(e){},t.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0))){this.isRowChanging=!0;for(var e=this.createNewValue(),n=0;n<this.generatedVisibleRows.length;n++){var r=this.generatedVisibleRows[n];this.generatedVisibleRows[n].value=this.getRowValueCore(r,e)}this.isRowChanging=!1}},t.prototype.setQuestionValue=function(e){i.prototype.setQuestionValue.call(this,e,!1),this.onSetQuestionValue(),this.updateIsAnswered()},t.prototype.supportGoNextPageAutomatic=function(){var e=this.generatedVisibleRows;if(e||(e=this.visibleRows),!e)return!0;for(var n=0;n<e.length;n++){var r=this.generatedVisibleRows[n].cells;if(r)for(var o=0;o<r.length;o++){var c=r[o].question;if(c&&(!c.supportGoNextPageAutomatic()||!c.value))return!1}}return!0},t.prototype.getContainsErrors=function(){return i.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors(function(e){return e.containsErrors},!1)},t.prototype.getIsAnswered=function(){return i.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors(function(e){return e.isAnswered},!0)},t.prototype.checkForAnswersOrErrors=function(e,n){n===void 0&&(n=!1);var r=this.generatedVisibleRows;if(!r)return!1;for(var o=0;o<r.length;o++){var c=r[o].cells;if(c){for(var p=0;p<c.length;p++)if(c[p]){var y=c[p].question;if(y&&y.isVisible){if(e(y)){if(!n)return!0}else if(n)return!1}}}}return!!n},t.prototype.hasErrors=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=null);var r=this.hasErrorInRows(e,n),o=this.isValueDuplicated();return i.prototype.hasErrors.call(this,e,n)||r||o},t.prototype.getIsRunningValidators=function(){if(i.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var e=0;e<this.generatedVisibleRows.length;e++){var n=this.generatedVisibleRows[e].cells;if(n){for(var r=0;r<n.length;r++)if(n[r]){var o=n[r].question;if(o&&o.isRunningValidators)return!0}}}return!1},t.prototype.getAllErrors=function(){var e=i.prototype.getAllErrors.call(this),n=this.generatedVisibleRows;if(n===null)return e;for(var r=0;r<n.length;r++)for(var o=n[r],c=0;c<o.cells.length;c++){var p=o.cells[c].question.getAllErrors();p&&p.length>0&&(e=e.concat(p))}return e},t.prototype.hasErrorInRows=function(e,n){var r=this,o=this.generatedVisibleRows;this.generatedVisibleRows||(o=this.visibleRows);var c=!1;if(n||(n={}),!o)return n;n.validationValues=this.getDataFilteredValues(),n.isSingleDetailPanel=this.detailPanelMode==="underRowSingle";for(var p=0;p<o.length;p++)o[p].isVisible&&(c=o[p].hasErrors(e,n,function(){r.raiseOnCompletedAsyncValidators()})||c);return c},t.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var e=this.getUniqueColumnsNames(),n=!1,r=0;r<e.length;r++)n=this.isValueInColumnDuplicated(e[r],!0)||n;return n},t.prototype.getUniqueColumnsNames=function(){for(var e=new Array,n=0;n<this.columns.length;n++)this.columns[n].isUnique&&e.push(this.columns[n].name);return e},t.prototype.isValueInColumnDuplicated=function(e,n,r){var o=this.getDuplicatedRows(e);return n&&this.showDuplicatedErrorsInRows(o,e),this.removeDuplicatedErrorsInRows(o,e),r?o.indexOf(r)>-1:o.length>0},t.prototype.getDuplicatedRows=function(e){for(var n={},r=[],o=this.generatedVisibleRows,c=0;c<o.length;c++){var p=void 0,y=o[c].getQuestionByName(e);if(y)p=y.value;else{var b=this.getRowValue(c);p=b?b[e]:void 0}this.isValueEmpty(p)||(!this.isUniqueCaseSensitive&&typeof p=="string"&&(p=p.toLocaleLowerCase()),n[p]||(n[p]=[]),n[p].push(o[c]))}for(var E in n)n[E].length>1&&n[E].forEach(function(M){return r.push(M)});return r},t.prototype.showDuplicatedErrorsInRows=function(e,n){var r=this;e.forEach(function(o){var c=o.getQuestionByName(n),p=r.detailPanel.getQuestionByName(n);!c&&p&&(o.showDetailPanel(),o.detailPanel&&(c=o.detailPanel.getQuestionByName(n))),c&&(p&&o.showDetailPanel(),r.addDuplicationError(c))})},t.prototype.removeDuplicatedErrorsInRows=function(e,n){var r=this;this.generatedVisibleRows.forEach(function(o){if(e.indexOf(o)<0){var c=o.getQuestionByName(n);c&&r.removeDuplicationError(o,c)}})},t.prototype.getDuplicationError=function(e){for(var n=e.errors,r=0;r<n.length;r++)if(n[r].getErrorType()==="keyduplicationerror")return n[r];return null},t.prototype.addDuplicationError=function(e){this.getDuplicationError(e)||e.addError(new fd(this.keyDuplicationError,this))},t.prototype.removeDuplicationError=function(e,n){n.removeError(this.getDuplicationError(n))&&n.errors.length===0&&e.editingObj&&(e.editingObj[n.getValueName()]=n.value)},t.prototype.getFirstQuestionToFocus=function(e){return this.getFirstCellQuestion(e)},t.prototype.getFirstInputElementId=function(){var e=this.getFirstCellQuestion(!1);return e?e.inputId:i.prototype.getFirstInputElementId.call(this)},t.prototype.getFirstErrorInputElementId=function(){var e=this.getFirstCellQuestion(!0);return e?e.inputId:i.prototype.getFirstErrorInputElementId.call(this)},t.prototype.getFirstCellQuestion=function(e){if(!this.generatedVisibleRows)return null;for(var n=0;n<this.generatedVisibleRows.length;n++)for(var r=this.generatedVisibleRows[n].cells,o=0;o<r.length;o++)if(!e||r[o].question.currentErrorCount>0)return r[o].question;return null},t.prototype.onReadOnlyChanged=function(){if(i.prototype.onReadOnlyChanged.call(this),!!this.generateRows)for(var e=0;e<this.visibleRows.length;e++)this.visibleRows[e].onQuestionReadOnlyChanged()},t.prototype.createQuestion=function(e,n){return this.createQuestionCore(e,n)},t.prototype.createQuestionCore=function(e,n){var r=n.createCellQuestion(e);return r.setSurveyImpl(e),r.setParentQuestion(this),r.inMatrixMode=!0,r},t.prototype.deleteRowValue=function(e,n){return e&&(delete e[n.rowName],this.isObject(e)&&Object.keys(e).length==0?null:e)},t.prototype.onAnyValueChanged=function(e,n){if(!(this.isUpdateLocked||this.isDoingonAnyValueChanged||!this.generatedVisibleRows)){this.isDoingonAnyValueChanged=!0;for(var r=this.generatedVisibleRows,o=0;o<r.length;o++)r[o].onAnyValueChanged(e,n);var c=this.visibleTotalRow;c&&c.onAnyValueChanged(e,n),this.isDoingonAnyValueChanged=!1}},t.prototype.isObject=function(e){return e!==null&&typeof e=="object"},t.prototype.getOnCellValueChangedOptions=function(e,n,r){var o=function(c){return e.getQuestionByName(c)};return{row:e,columnName:n,rowValue:r,value:r?r[n]:null,getCellQuestion:o,cellQuestion:e.getQuestionByName(n),column:this.getColumnByName(n)}},t.prototype.onCellValueChanged=function(e,n,r){if(this.survey){var o=this.getOnCellValueChangedOptions(e,n,r);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(o),this.survey.matrixCellValueChanged(this,o)}},t.prototype.validateCell=function(e,n,r){if(this.survey){var o=this.getOnCellValueChangedOptions(e,n,r);return this.survey.matrixCellValidate(this,o)}},Object.defineProperty(t.prototype,"isValidateOnValueChanging",{get:function(){return this.survey?this.survey.isValidateOnValueChanging:!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasInvisibleRows",{get:function(){var e=this.generatedVisibleRows;if(!Array.isArray(e))return!1;for(var n=0;n<e.length;n++)if(!e[n].isVisible)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.getFilteredData=function(){return this.isEmpty()||!this.generatedVisibleRows||!this.hasInvisibleRows?this.value:this.getFilteredDataCore()},t.prototype.getFilteredDataCore=function(){return this.value},t.prototype.onRowChanging=function(e,n,r){if(!this.survey&&!this.cellValueChangingCallback)return r?r[n]:null;var o=this.getOnCellValueChangedOptions(e,n,r),c=this.getRowValueCore(e,this.createNewValue(),!0);return o.oldValue=c?c[n]:null,this.cellValueChangingCallback&&(o.value=this.cellValueChangingCallback(e,n,o.value,o.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,o),o.value},t.prototype.onRowChanged=function(e,n,r,o){var c=n?this.getRowObj(e):null;if(c){var p=null;r&&!o&&(p=r[n]),this.isRowChanging=!0,H.setObjPropertyValue(c,n,p),this.isRowChanging=!1,this.onCellValueChanged(e,n,c)}else{var y=this.createNewValue(!0),b=this.getNewValueOnRowChanged(e,n,r,o,this.createNewValue());if(this.isTwoValueEquals(y,b.value))return;this.isRowChanging=!0,this.setNewValue(b.value),this.isRowChanging=!1,n&&this.onCellValueChanged(e,n,b.rowValue)}this.getUniqueColumnsNames().indexOf(n)>-1&&this.isValueInColumnDuplicated(n,!!c)},t.prototype.getNewValueOnRowChanged=function(e,n,r,o,c){var p=this.getRowValueCore(e,c,!0);o&&delete p[n];for(var y=0;y<e.cells.length;y++){var b=e.cells[y].question.getValueName();delete p[b]}if(r){r=JSON.parse(JSON.stringify(r));for(var b in r)this.isValueEmpty(r[b])||(p[b]=r[b])}return this.isObject(p)&&Object.keys(p).length===0&&(c=this.deleteRowValue(c,e)),{value:c,rowValue:p}},t.prototype.getRowIndex=function(e){return Array.isArray(this.generatedVisibleRows)?this.generatedVisibleRows.indexOf(e):-1},t.prototype.getElementsInDesign=function(e){e===void 0&&(e=!1);var n;return this.detailPanelMode=="none"?n=i.prototype.getElementsInDesign.call(this,e):n=e?[this.detailPanel]:this.detailElements,this.columns.concat(n)},t.prototype.hasDetailPanel=function(e){return this.detailPanelMode=="none"?!1:this.isDesignMode?!0:this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(e):this.detailElements.length>0},t.prototype.getIsDetailPanelShowing=function(e){if(this.detailPanelMode=="none")return!1;if(this.isDesignMode){var n=this.visibleRows.indexOf(e)==0;return n&&(e.detailPanel||e.showDetailPanel()),n}return this.getPropertyValue("isRowShowing"+e.id,!1)},t.prototype.setIsDetailPanelShowing=function(e,n){if(n!=this.getIsDetailPanelShowing(e)&&(this.setPropertyValue("isRowShowing"+e.id,n),this.updateDetailPanelButtonCss(e),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(e,n),this.survey&&this.survey.matrixDetailPanelVisibleChanged(this,e.rowIndex-1,e,n),n&&this.detailPanelMode==="underRowSingle"))for(var r=this.visibleRows,o=0;o<r.length;o++)r[o].id!==e.id&&r[o].isDetailPanelShowing&&r[o].hideDetailPanel()},t.prototype.getDetailPanelButtonCss=function(e){var n=new J().append(this.getPropertyValue("detailButtonCss"+e.id));return n.append(this.cssClasses.detailButton,n.toString()==="").toString()},t.prototype.getDetailPanelIconCss=function(e){var n=new J().append(this.getPropertyValue("detailIconCss"+e.id));return n.append(this.cssClasses.detailIcon,n.toString()==="").toString()},t.prototype.getDetailPanelIconId=function(e){return this.getIsDetailPanelShowing(e)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId},t.prototype.updateDetailPanelButtonCss=function(e){var n=this.cssClasses,r=this.getIsDetailPanelShowing(e),o=new J().append(n.detailIcon).append(n.detailIconExpanded,r);this.setPropertyValue("detailIconCss"+e.id,o.toString());var c=new J().append(n.detailButton).append(n.detailButtonExpanded,r);this.setPropertyValue("detailButtonCss"+e.id,c.toString())},t.prototype.createRowDetailPanel=function(e){var n=this;if(this.isDesignMode)return this.detailPanel;var r=this.createNewDetailPanel();r.readOnly=this.isReadOnly||!e.isRowEnabled(),r.setSurveyImpl(e);var o=this.detailPanel.toJSON();return new et().toObject(o,r),r.renderWidth="100%",r.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(e,r),r.questions.forEach(function(c){return c.setParentQuestion(n)}),r.onSurveyLoad(),r},t.prototype.getSharedQuestionByName=function(e,n){if(!this.survey||!this.valueName)return null;var r=this.getRowIndex(n);return r<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,e,r)},t.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+N.matrix.totalsSuffix,this.totalValue,!1)},t.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},t.prototype.getParentTextProcessor=function(){if(!this.parentQuestion||!this.parent)return null;var e=this.parent.data;return e&&e.getTextProcessor?e.getTextProcessor():null},t.prototype.isMatrixReadOnly=function(){return this.isReadOnly},t.prototype.onRowVisibilityChanged=function(e){this.clearVisibleRows(),this.resetRenderedTable()},t.prototype.clearValueIfInvisibleCore=function(e){i.prototype.clearValueIfInvisibleCore.call(this,e),this.clearInvisibleValuesInRows()},t.prototype.clearInvisibleValuesInRows=function(){var e;if(!(this.isEmpty()||!this.isRowsFiltered())){var n=((e=this.survey)===null||e===void 0?void 0:e.questionsByValueName(this.getValueName()))||[];n.length<2&&(this.value=this.getFilteredData())}},t.prototype.isRowsFiltered=function(){return i.prototype.isRowsFiltered.call(this)||this.visibleRows!==this.generatedVisibleRows},t.prototype.getQuestionFromArray=function(e,n){return n>=this.visibleRows.length?null:this.visibleRows[n].getQuestionByName(e)},t.prototype.isMatrixValueEmpty=function(e){if(e){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(this.isObject(e[n])&&Object.keys(e[n]).length>0)return!1;return!0}return Object.keys(e).length==0}},Object.defineProperty(t.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),t.prototype.getCellTemplateData=function(e){return this.SurveyModel.getMatrixCellTemplateData(e)},t.prototype.getCellWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,e.row instanceof gs?"row-footer":"cell")},t.prototype.getCellWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,e.row instanceof gs?"row-footer":"cell")},t.prototype.getColumnHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,"column-header")},t.prototype.getColumnHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,"column-header")},t.prototype.getRowHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName(e,"row-header")},t.prototype.getRowHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData(e,"row-header")},Object.defineProperty(t.prototype,"showHorizontalScroll",{get:function(){return!this.isDefaultV2Theme&&this.horizontalScroll},enumerable:!1,configurable:!0}),t.prototype.onMobileChanged=function(){i.prototype.onMobileChanged.call(this),this.resetRenderedTable()},t.prototype.getRootCss=function(){return new J().append(i.prototype.getRootCss.call(this)).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()},t}(tl);H.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn",isArray:!0},{name:"columnLayout",alternativeName:"columnsLocation",choices:["horizontal","vertical"],visible:!1,isSerializable:!1},{name:"transposeData:boolean",version:"1.9.130",oldName:"columnLayout"},{name:"detailElements",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},{name:"cellErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"detailErrorLocation",default:"default",choices:["default","top","bottom"],visibleIf:function(i){return!!i&&i.detailPanelMode!="none"}},{name:"horizontalScroll:boolean",visible:!1},{name:"choices:itemvalue[]",uniqueProperty:"value",visibleIf:function(i){return i.isSelectCellType()}},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return oo.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new bi("")},"matrixbase");var Dd=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ld=function(i){Dd(t,i);function t(e,n,r,o){var c=i.call(this,r,o)||this;return c.name=e,c.item=n,c.buildCells(o),c}return Object.defineProperty(t.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),t.prototype.isItemVisible=function(){return this.item.isVisible},t.prototype.isRowEnabled=function(){return this.item.isEnabled},t.prototype.isRowHasEnabledCondition=function(){return!!this.item.enableIf},t.prototype.setRowsVisibleIfValues=function(e){e.item=this.item.value,e.choice=this.item.value},t}(Ur),cl=function(i){Dd(t,i);function t(e){var n=i.call(this,e)||this;return n.defaultValuesInRows={},n.createLocalizableString("totalText",n,!0),n.registerPropertyChangedHandlers(["rows"],function(){n.generatedVisibleRows&&(n.clearGeneratedRows(),n.resetRenderedTable(),n.getVisibleRows(),n.clearIncorrectValues())}),n.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){n.updateVisibilityBasedOnRows()}),n}return t.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(t.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(e){this.setLocalizableStringText("totalText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),t.prototype.getFooterText=function(){return this.locTotalText},t.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},Object.defineProperty(t.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(e){this.setPropertyValue("hideIfRowsEmpty",e)},enumerable:!1,configurable:!0}),t.prototype.getDisplayValueCore=function(e,n){if(!n)return n;var r=this.visibleRows,o={};if(!r)return o;for(var c=0;c<r.length;c++){var p=r[c].rowName,y=n[p];if(y){if(e){var b=ke.getTextOrHtmlByValue(this.rows,p);b&&(p=b)}o[p]=this.getRowDisplayValue(e,r[c],y)}}return o},t.prototype.getConditionObjectRowName=function(e){return"."+this.rows[e].value},t.prototype.getConditionObjectRowText=function(e){return"."+this.rows[e].calculatedText},t.prototype.getConditionObjectsRowIndeces=function(){for(var e=[],n=0;n<this.rows.length;n++)e.push(n);return e},t.prototype.isNewValueCorrect=function(e){return g.isValueObject(e,!0)},t.prototype.clearIncorrectValues=function(){if(!this.isEmpty()){this.getVisibleRows();var e={},n=this.value;for(var r in n){var o=this.getRowByKey(r);o&&o.isVisible&&(e[r]=n[r])}this.value=e}i.prototype.clearIncorrectValues.call(this)},t.prototype.getRowByKey=function(e){var n=this.generatedVisibleRows;if(!n)return null;for(var r=0;r<n.length;r++)if(n[r].rowName===e)return n[r];return null},t.prototype.clearGeneratedRows=function(){var e=this;this.generatedVisibleRows&&(this.isDisposed||this.generatedVisibleRows.forEach(function(n){e.defaultValuesInRows[n.rowName]=n.getNamesWithDefaultValues()}),i.prototype.clearGeneratedRows.call(this))},t.prototype.getRowValueForCreation=function(e,n){var r=e[n];if(!r)return r;var o=this.defaultValuesInRows[n];return!Array.isArray(o)||o.length===0||o.forEach(function(c){delete r[c]}),r},t.prototype.generateRows=function(){var e=new Array,n=this.rows;if(!n||n.length===0)return e;var r=this.value;r||(r={});for(var o=0;o<n.length;o++){var c=n[o];this.isValueEmpty(c.value)||e.push(this.createMatrixRow(c,this.getRowValueForCreation(r,c.value)))}return e},t.prototype.createMatrixRow=function(e,n){return new Ld(e.value,e,this,n)},t.prototype.getFilteredDataCore=function(){var e={},n=this.createValueCopy();return this.generatedVisibleRows.forEach(function(r){var o=n[r.rowName];r.isVisible&&!g.isValueEmpty(o)&&(e[r.rowName]=o)}),e},t.prototype.getSearchableItemValueKeys=function(e){e.push("rows")},t.prototype.updateProgressInfoByValues=function(e){var n=this.value;n||(n={});for(var r=0;r<this.rows.length;r++){var o=this.rows[r],c=n[o.value];this.updateProgressInfoByRow(e,c||{})}},t}(bi);H.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new cl("")},"matrixdropdownbase"),lt.Instance.registerQuestion("matrixdropdown",function(i){var t=new cl(i);return t.choices=[1,2,3,4,5],t.rows=lt.DefaultRows,bi.addDefaultColumns(t),t});var dl=!1,kd=null;typeof navigator<"u"&&navigator&&f.isAvailable()&&(kd=navigator.userAgent||navigator.vendor||f.hasOwn("opera")),function(i){i&&(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0||navigator.platform==="iPad"||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substring(0,4)))&&(dl=!0)}(kd);var Ov=!1,ys=dl||Ov,Md={get isTouch(){return!this.hasMouse&&this.hasTouchEvent},get hasTouchEvent(){return f.isAvailable()&&(f.hasOwn("ontouchstart")||navigator.maxTouchPoints>0)},hasMouse:!0},Rv=f.matchMedia;Md.hasMouse=Ev(Rv);var It=Md.isTouch;function Iv(i){It=i}function Ev(i){if(!i||ys)return!1;var t=i("(pointer:fine)"),e=i("(any-hover:hover)");return!!t&&t.matches||!!e&&e.matches}var _v=function(i,t){for(var e=0,n=t.length,r=i.length;e<n;e++,r++)i[r]=t[e];return i};typeof window<"u"&&window.addEventListener("touchmove",function(i){qd.PreventScrolling&&i.preventDefault()},{passive:!1});var qd=function(){function i(t,e,n){var r=this;e===void 0&&(e=!0),n===void 0&&(n=!1),this.dd=t,this.longTap=e,this.fitToContainer=n,this.scrollIntervalId=null,this.stopLongTapIfMoveEnough=function(o){o.preventDefault(),r.currentX=o.pageX,r.currentY=o.pageY,!r.isMicroMovement&&(r.returnUserSelectBack(),r.stopLongTap())},this.stopLongTap=function(o){clearTimeout(r.timeoutID),r.timeoutID=null,document.removeEventListener("pointerup",r.stopLongTap),document.removeEventListener("pointermove",r.stopLongTapIfMoveEnough)},this.handlePointerCancel=function(o){r.clear()},this.handleEscapeButton=function(o){o.keyCode==27&&r.clear()},this.onContextMenu=function(o){o.preventDefault(),o.stopPropagation()},this.dragOver=function(o){r.moveShortcutElement(o),r.draggedElementShortcut.style.cursor="grabbing",r.dd.dragOver(o)},this.clear=function(){cancelAnimationFrame(r.scrollIntervalId),document.removeEventListener("pointermove",r.dragOver),document.removeEventListener("pointercancel",r.handlePointerCancel),document.removeEventListener("keydown",r.handleEscapeButton),document.removeEventListener("pointerup",r.drop),r.draggedElementShortcut.removeEventListener("pointerup",r.drop),It&&r.draggedElementShortcut.removeEventListener("contextmenu",r.onContextMenu),r.draggedElementShortcut.parentElement.removeChild(r.draggedElementShortcut),r.dd.clear(),r.draggedElementShortcut=null,r.scrollIntervalId=null,It&&(r.savedTargetNode.style.cssText=null,r.savedTargetNode&&r.savedTargetNode.parentElement.removeChild(r.savedTargetNode),r.insertNodeToParentAtIndex(r.savedTargetNodeParent,r.savedTargetNode,r.savedTargetNodeIndex),i.PreventScrolling=!1),r.savedTargetNode=null,r.savedTargetNodeParent=null,r.savedTargetNodeIndex=null,r.returnUserSelectBack()},this.drop=function(){r.dd.drop(),r.clear()},this.draggedElementShortcut=null}return Object.defineProperty(i.prototype,"documentOrShadowRoot",{get:function(){return N.environment.root},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rootElement",{get:function(){return ro(N.environment.root)?this.rootContainer||N.environment.root.host:this.rootContainer||N.environment.root.documentElement||document.body},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMicroMovement",{get:function(){var t=5,e=Math.abs(this.currentX-this.startX),n=Math.abs(this.currentY-this.startY);return e<t&&n<t},enumerable:!1,configurable:!0}),i.prototype.startLongTapProcessing=function(t,e,n,r,o){var c=this;o===void 0&&(o=!1),this.startX=t.pageX,this.startY=t.pageY,document.body.style.setProperty("touch-action","none","important"),this.timeoutID=setTimeout(function(){c.doStartDrag(t,e,n,r),o||(c.savedTargetNode=t.target,c.savedTargetNode.style.cssText=`
          position: absolute;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden;
          clip: rect(1px 1px 1px 1px);
          clip: rect(1px, 1px, 1px, 1px);
        `,c.savedTargetNodeParent=c.savedTargetNode.parentElement,c.savedTargetNodeIndex=c.getNodeIndexInParent(c.savedTargetNode),c.rootElement.appendChild(c.savedTargetNode)),c.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)},i.prototype.moveShortcutElement=function(t){var e=this.rootElement.getBoundingClientRect().x,n=this.rootElement.getBoundingClientRect().y,r=this.rootElement.scrollLeft,o=this.rootElement.scrollTop;this.doScroll(t.clientY,t.clientX);var c=this.draggedElementShortcut.offsetHeight,p=this.draggedElementShortcut.offsetWidth,y=this.draggedElementShortcut.shortcutXOffset||p/2,b=this.draggedElementShortcut.shortcutYOffset||c/2;document.querySelectorAll("[dir='rtl']").length!==0&&(y=p/2,b=c/2);var E=document.documentElement.clientHeight,M=document.documentElement.clientWidth,Q=t.pageX,X=t.pageY,oe=t.clientX,we=t.clientY;e-=r,n-=o;var Ce=this.getShortcutBottomCoordinate(we,c,b),ve=this.getShortcutRightCoordinate(oe,p,y);if(ve>=M){this.draggedElementShortcut.style.left=M-p-e+"px",this.draggedElementShortcut.style.top=we-b-n+"px";return}if(oe-y<=0){this.draggedElementShortcut.style.left=Q-oe-e+"px",this.draggedElementShortcut.style.top=we-n-b+"px";return}if(Ce>=E){this.draggedElementShortcut.style.left=oe-y-e+"px",this.draggedElementShortcut.style.top=E-c-n+"px";return}if(we-b<=0){this.draggedElementShortcut.style.left=oe-y-e+"px",this.draggedElementShortcut.style.top=X-we-n+"px";return}this.draggedElementShortcut.style.left=oe-e-y+"px",this.draggedElementShortcut.style.top=we-n-b+"px"},i.prototype.getShortcutBottomCoordinate=function(t,e,n){return t+e-n},i.prototype.getShortcutRightCoordinate=function(t,e,n){return t+e-n},i.prototype.requestAnimationFrame=function(t){return requestAnimationFrame(t)},i.prototype.scrollByDrag=function(t,e,n){var r=this,o=100,c,p,y,b;t.tagName==="HTML"?(c=0,p=document.documentElement.clientHeight,y=0,b=document.documentElement.clientWidth):(c=t.getBoundingClientRect().top,p=t.getBoundingClientRect().bottom,y=t.getBoundingClientRect().left,b=t.getBoundingClientRect().right);var E=function(){var M=e-c<=o,Q=p-e<=o,X=n-y<=o,oe=b-n<=o;M&&!X&&!oe?t.scrollTop-=15:Q&&!X&&!oe?t.scrollTop+=15:oe&&!M&&!Q?t.scrollLeft+=15:X&&!M&&!Q&&(t.scrollLeft-=15),r.scrollIntervalId=r.requestAnimationFrame(E)};this.scrollIntervalId=this.requestAnimationFrame(E)},i.prototype.doScroll=function(t,e){cancelAnimationFrame(this.scrollIntervalId);var n=this.draggedElementShortcut.style.display;this.draggedElementShortcut.style.display="none";var r=this.documentOrShadowRoot.elementFromPoint(e,t);this.draggedElementShortcut.style.display=n||"block";var o=os(r);this.scrollByDrag(o,t,e)},i.prototype.doStartDrag=function(t,e,n,r){It&&(i.PreventScrolling=!0),t.which!==3&&(this.dd.dragInit(t,e,n,r),this.rootElement.append(this.draggedElementShortcut),this.moveShortcutElement(t),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),It?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop))},i.prototype.returnUserSelectBack=function(){document.body.style.setProperty("touch-action","auto"),document.body.style.setProperty("user-select","auto"),document.body.style.setProperty("-webkit-user-select","auto")},i.prototype.startDrag=function(t,e,n,r,o){if(o===void 0&&(o=!1),document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),It){this.startLongTapProcessing(t,e,n,r,o);return}this.doStartDrag(t,e,n,r)},i.prototype.getNodeIndexInParent=function(t){return _v([],t.parentElement.childNodes).indexOf(t)},i.prototype.insertNodeToParentAtIndex=function(t,e,n){t.insertBefore(e,t.childNodes[n])},i.PreventScrolling=!1,i}(),pl=function(){function i(t,e,n,r){var o=this,c;this.surveyValue=t,this.creator=e,this._isBottom=null,this.onGhostPositionChanged=new Rn,this.onDragStart=new Rn,this.onDragEnd=new Rn,this.onDragClear=new Rn,this.onBeforeDrop=this.onDragStart,this.onAfterDrop=this.onDragEnd,this.draggedElement=null,this.dropTarget=null,this.prevDropTarget=null,this.allowDropHere=!1,this.banDropHere=function(){o.allowDropHere=!1,o.doBanDropHere(),o.dropTarget=null,o.domAdapter.draggedElementShortcut.style.cursor="not-allowed",o.isBottom=null},this.doBanDropHere=function(){},this.domAdapter=r||new qd(this,n,(c=this.survey)===null||c===void 0?void 0:c.fitToContainer)}return Object.defineProperty(i.prototype,"isBottom",{get:function(){return!!this._isBottom},set:function(t){this._isBottom=t,this.ghostPositionChanged()},enumerable:!1,configurable:!0}),i.prototype.ghostPositionChanged=function(){this.onGhostPositionChanged.fire({},{})},Object.defineProperty(i.prototype,"dropTargetDataAttributeName",{get:function(){return"[data-sv-drop-target-"+this.draggedElementType+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"survey",{get:function(){var t;return this.surveyValue||((t=this.creator)===null||t===void 0?void 0:t.survey)},enumerable:!1,configurable:!0}),i.prototype.startDrag=function(t,e,n,r,o){o===void 0&&(o=!1),this.domAdapter.rootContainer=this.getRootElement(this.survey,this.creator),this.domAdapter.startDrag(t,e,n,r,o)},i.prototype.getRootElement=function(t,e){return e?e.rootElement:t.rootElement},i.prototype.dragInit=function(t,e,n,r){this.draggedElement=e,this.parentElement=n;var o=this.getShortcutText(this.draggedElement);this.domAdapter.draggedElementShortcut=this.createDraggedElementShortcut(o,r,t),this.onStartDrag(t);var c=this.draggedElement&&this.draggedElement.parent;this.onDragStart.fire(this,{fromElement:c,draggedElement:this.draggedElement})},i.prototype.onStartDrag=function(t){},i.prototype.isDropTargetDoesntChanged=function(t){return this.dropTarget===this.prevDropTarget&&t===this.isBottom},i.prototype.getShortcutText=function(t){return t==null?void 0:t.shortcutText},i.prototype.createDraggedElementShortcut=function(t,e,n){var r=h.createElement("div");return r&&(r.innerText=t,r.className=this.getDraggedElementClass()),r},i.prototype.getDraggedElementClass=function(){return"sv-dragged-element-shortcut"},i.prototype.doDragOver=function(){},i.prototype.afterDragOver=function(t){},i.prototype.findDropTargetNodeFromPoint=function(t,e){var n=this.domAdapter.draggedElementShortcut.style.display;if(this.domAdapter.draggedElementShortcut.style.display="none",!h.isAvailable())return null;var r=this.domAdapter.documentOrShadowRoot.elementsFromPoint(t,e);this.domAdapter.draggedElementShortcut.style.display=n||"block";for(var o=0,c=r[o];c&&c.className&&typeof c.className.indexOf=="function"&&c.className.indexOf("sv-drag-target-skipped")!=-1;)o++,c=r[o];return c?this.findDropTargetNodeByDragOverNode(c):null},i.prototype.getDataAttributeValueByNode=function(t){var e=this,n="svDropTarget",r=this.draggedElementType.split("-");return r.forEach(function(o){n+=e.capitalizeFirstLetter(o)}),t.dataset[n]},i.prototype.getDropTargetByNode=function(t,e){var n=this.getDataAttributeValueByNode(t);return this.getDropTargetByDataAttributeValue(n,t,e)},i.prototype.capitalizeFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},i.prototype.calculateVerticalMiddleOfHTMLElement=function(t){var e=t.getBoundingClientRect();return e.y+e.height/2},i.prototype.calculateHorizontalMiddleOfHTMLElement=function(t){var e=t.getBoundingClientRect();return e.x+e.width/2},i.prototype.calculateIsBottom=function(t,e){return!1},i.prototype.findDropTargetNodeByDragOverNode=function(t){var e=t.closest(this.dropTargetDataAttributeName);return e},i.prototype.dragOver=function(t){var e=this.findDropTargetNodeFromPoint(t.clientX,t.clientY);if(!e){this.banDropHere();return}this.dropTarget=this.getDropTargetByNode(e,t);var n=this.isDropTargetValid(this.dropTarget,e);if(this.doDragOver(),!n){this.banDropHere();return}var r=this.calculateIsBottom(t.clientY,e);this.allowDropHere=!0,!this.isDropTargetDoesntChanged(r)&&(this.isBottom=null,this.isBottom=r,this.draggedElement!=this.dropTarget&&this.afterDragOver(e),this.prevDropTarget=this.dropTarget)},i.prototype.drop=function(){if(this.allowDropHere){var t=this.draggedElement.parent,e=this.doDrop();this.onDragEnd.fire(this,{fromElement:t,draggedElement:e,toElement:this.dropTarget})}},i.prototype.clear=function(){this.dropTarget=null,this.prevDropTarget=null,this.draggedElement=null,this.isBottom=null,this.parentElement=null,this.onDragClear.fire(this,{})},i}(),Av=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dv=function(i){Av(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.fromIndex=null,e.toIndex=null,e.doDrop=function(){return e.parentElement.moveRowByIndex(e.fromIndex,e.toIndex),e.parentElement},e}return Object.defineProperty(t.prototype,"draggedElementType",{get:function(){return"matrix-row"},enumerable:!1,configurable:!0}),t.prototype.onStartDrag=function(){var e=h.getBody();e&&(this.restoreUserSelectValue=e.style.userSelect,e.style.userSelect="none")},t.prototype.createDraggedElementShortcut=function(e,n,r){var o=this,c=h.createElement("div");if(c){c.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 10000;
          font-family: var(--sjs-font-family, var(--font-family, var(--sjs-default-font-family)));
        `;var p=!0;if(n){var y=n.closest("[data-sv-drop-target-matrix-row]"),b=y.cloneNode(p);b.style.cssText=`
        box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));
        background-color: var(--sjs-general-backcolor, var(--background, #fff));
        display: flex;
        flex-grow: 0;
        flex-shrink: 0;
        align-items: center;
        line-height: 0;
        width: `+y.offsetWidth+`px;
      `,b.classList.remove("sv-matrix__drag-drop--moveup"),b.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,c.appendChild(b);var E=n.getBoundingClientRect();c.shortcutXOffset=r.clientX-E.x,c.shortcutYOffset=r.clientY-E.y}var M=this.parentElement.renderedTable.rows;return M.forEach(function(Q,X){Q.row===o.draggedElement&&(Q.isGhostRow=!0)}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement),c}},t.prototype.getDropTargetByDataAttributeValue=function(e){var n=this.parentElement,r;return r=n.renderedTable.rows.filter(function(o){return o.row&&o.row.id===e})[0],r.row},t.prototype.canInsertIntoThisRow=function(e){var n=this.parentElement.lockedRowCount;return n<=0||e.rowIndex>n},t.prototype.isDropTargetValid=function(e,n){return this.canInsertIntoThisRow(e)},t.prototype.calculateIsBottom=function(e){var n=this.parentElement.renderedTable.rows,r=n.map(function(o){return o.row});return r.indexOf(this.dropTarget)-r.indexOf(this.draggedElement)>0},t.prototype.afterDragOver=function(e){var n=this;if(!this.isDropTargetDoesntChanged(this.isBottom)){var r,o,c,p=this.parentElement.renderedTable.rows;p.forEach(function(y,b){y.row===n.dropTarget&&(r=b),y.row===n.draggedElement&&(c=y,o=b,c.isGhostRow=!0)}),p.splice(o,1),p.splice(r,0,c),this.toIndex=this.parentElement.visibleRows.indexOf(this.dropTarget),i.prototype.ghostPositionChanged.call(this)}},t.prototype.clear=function(){var e=this.parentElement.renderedTable.rows;e.forEach(function(r){r.isGhostRow=!1}),this.parentElement.clearOnDrop(),this.fromIndex=null,this.toIndex=null;var n=h.getBody();n&&(n.style.userSelect=this.restoreUserSelectValue||"initial"),i.prototype.clear.call(this)},t}(pl),fl=function(){function i(t){var e=this;this.dragHandler=t,this.onPointerUp=function(n){e.clearListeners()},this.tryToStartDrag=function(n){if(e.currentX=n.pageX,e.currentY=n.pageY,!e.isMicroMovement)return e.clearListeners(),e.dragHandler(e.pointerDownEvent,e.currentTarget,e.itemModel),!0}}return i.prototype.onPointerDown=function(t,e){if(It){this.dragHandler(t,t.currentTarget,e);return}this.pointerDownEvent=t,this.currentTarget=t.currentTarget,this.startX=t.pageX,this.startY=t.pageY,h.addEventListener("pointermove",this.tryToStartDrag),this.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=e},Object.defineProperty(i.prototype,"isMicroMovement",{get:function(){var t=10,e=Math.abs(this.currentX-this.startX),n=Math.abs(this.currentY-this.startY);return e<t&&n<t},enumerable:!1,configurable:!0}),i.prototype.clearListeners=function(){this.pointerDownEvent&&(h.removeEventListener("pointermove",this.tryToStartDrag),this.currentTarget.removeEventListener("pointerup",this.onPointerUp))},i}(),hl=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jd=function(i){hl(t,i);function t(e,n,r){var o=i.call(this,n,r)||this;return o.index=e,o.buildCells(r),o}return t.prototype.getRowIndex=function(){var e=i.prototype.getRowIndex.call(this);return e>0?e:this.index+1},Object.defineProperty(t.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataName",{get:function(){return"row"+(this.index+1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return"row "+(this.index+1)},enumerable:!1,configurable:!0}),t.prototype.getAccessbilityText=function(){return(this.index+1).toString()},Object.defineProperty(t.prototype,"shortcutText",{get:function(){var e=this.data,n=e.visibleRows.indexOf(this)+1,r=this.cells.length>1?this.cells[1].questionValue:void 0,o=this.cells.length>0?this.cells[0].questionValue:void 0;return r&&r.value||o&&o.value||""+n},enumerable:!1,configurable:!0}),t}(Ur),gl=function(i){hl(t,i);function t(e){var n=i.call(this,e)||this;n.rowCounter=0,n.setRowCountValueFromData=!1,n.startDragMatrixRow=function(o,c){n.dragDropMatrixRows.startDrag(o,n.draggedRow,n,o.target)},n.initialRowCount=n.getDefaultPropertyValue("rowCount"),n.createLocalizableString("confirmDeleteText",n,!1,"confirmDelete");var r=n.createLocalizableString("addRowText",n);return r.onGetTextCallback=function(o){return o||n.defaultAddRowText},n.createLocalizableString("removeRowText",n,!1,"removeRow"),n.createLocalizableString("emptyRowsText",n,!1,!0),n.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],function(){n.updateShowTableAndAddRow()}),n.registerPropertyChangedHandlers(["allowRowsDragAndDrop","isReadOnly","lockedRowCount"],function(){n.resetRenderedTable()}),n.registerPropertyChangedHandlers(["minRowCount"],function(){n.onMinRowCountChanged()}),n.registerPropertyChangedHandlers(["maxRowCount"],function(){n.onMaxRowCountChanged()}),n.dragOrClickHelper=new fl(n.startDragMatrixRow),n}return t.prototype.setSurveyImpl=function(e,n){i.prototype.setSurveyImpl.call(this,e,n),this.dragDropMatrixRows=new Dv(this.survey,null,!0)},t.prototype.isBanStartDrag=function(e){var n=e.target;return n.getAttribute("contenteditable")==="true"||n.nodeName==="INPUT"||!this.isDragHandleAreaValid(n)},t.prototype.isDragHandleAreaValid=function(e){return this.survey.matrixDragHandleArea==="icon"?e.classList.contains(this.cssClasses.dragElementDecorator):!0},t.prototype.onPointerDown=function(e,n){!n||!this.isRowsDragAndDrop||this.isBanStartDrag(e)||n.isDetailPanelShowing||(this.draggedRow=n,this.dragOrClickHelper.onPointerDown(e))},t.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(t.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(e){this.setPropertyValue("confirmDelete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(e){this.setPropertyValue("keyName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(e){this.setPropertyValue("defaultRowValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow")},set:function(e){this.setPropertyValue("defaultValueFromLastRow",e)},enumerable:!1,configurable:!0}),t.prototype.isDefaultValueEmpty=function(){return i.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},t.prototype.valueFromData=function(e){if(this.minRowCount<1||this.isEmpty())return i.prototype.valueFromData.call(this,e);Array.isArray(e)||(e=[]);for(var n=e.length;n<this.minRowCount;n++)e.push({});return e},t.prototype.isNewValueCorrect=function(e){return Array.isArray(e)},t.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultRowValue)||!this.isValueEmpty(this.defaultValue)){i.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.rowCount==0)){for(var e=[],n=0;n<this.rowCount;n++)e.push(this.defaultRowValue);this.value=e}},t.prototype.moveRowByIndex=function(e,n){var r=this.createNewValue();if(!(!Array.isArray(r)&&Math.max(e,n)>=r.length)){var o=r[e];r.splice(e,1),r.splice(n,0,o),this.value=r}},t.prototype.clearOnDrop=function(){this.isEditingSurveyElement||this.resetRenderedTable()},t.prototype.initDataUI=function(){this.generatedVisibleRows||this.getVisibleRows()},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(e){if(e=g.getNumber(e),!(e<0||e>N.matrix.maxRowCount)){this.setRowCountValueFromData=!1;var n=this.rowCountValue;if(this.rowCountValue=e,this.value&&this.value.length>e){var r=this.value;r.splice(e),this.value=r}if(this.isUpdateLocked){this.initialRowCount=e;return}if(this.generatedVisibleRows||n==0){this.generatedVisibleRows||(this.clearGeneratedRows(),this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(e);for(var o=n;o<e;o++){var c=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(c),this.onMatrixRowCreated(c)}this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}this.onRowsChanged()}},enumerable:!1,configurable:!0}),t.prototype.updateBindingProp=function(e,n){i.prototype.updateBindingProp.call(this,e,n);var r=this.generatedVisibleRows;if(!(e!=="rowCount"||!Array.isArray(r))){var o=this.getUnbindValue(this.value)||[];if(o.length<r.length){for(var c=!1,p=o.length;p<r.length;p++)c||(c=!r[p].isEmpty),o.push(r[p].value||{});c&&(this.value=o)}}},t.prototype.updateProgressInfoByValues=function(e){var n=this.value;Array.isArray(n)||(n=[]);for(var r=0;r<this.rowCount;r++){var o=r<n.length?n[r]:{};this.updateProgressInfoByRow(e,o)}},t.prototype.getValueForNewRow=function(){var e=null;return this.onGetValueForNewRowCallBack&&(e=this.onGetValueForNewRowCallBack(this)),e},Object.defineProperty(t.prototype,"allowRowsDragAndDrop",{get:function(){return this.getPropertyValue("allowRowsDragAndDrop")},set:function(e){this.setPropertyValue("allowRowsDragAndDrop",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRowsDragAndDrop",{get:function(){return this.allowRowsDragAndDrop&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lockedRowCount",{get:function(){return this.getPropertyValue("lockedRowCount",0)},set:function(e){this.setPropertyValue("lockedRowCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"iconDragElement",{get:function(){return this.cssClasses.iconDragElement},enumerable:!1,configurable:!0}),t.prototype.createRenderedTable=function(){return new Lv(this)},Object.defineProperty(t.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount")},set:function(e){this.setPropertyValue("rowCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount")},set:function(e){e<0&&(e=0),this.setPropertyValue("minRowCount",e)},enumerable:!1,configurable:!0}),t.prototype.onMinRowCountChanged=function(){var e=this.minRowCount;e>this.maxRowCount&&(this.maxRowCount=e),this.initialRowCount<e&&(this.initialRowCount=e),this.rowCount<e&&(this.rowCount=e)},Object.defineProperty(t.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount")},set:function(e){e<=0||(e>N.matrix.maxRowCount&&(e=N.matrix.maxRowCount),e!=this.maxRowCount&&this.setPropertyValue("maxRowCount",e))},enumerable:!1,configurable:!0}),t.prototype.onMaxRowCountChanged=function(){var e=this.maxRowCount;e<this.minRowCount&&(this.minRowCount=e),this.rowCount>e&&(this.rowCount=e)},Object.defineProperty(t.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows")},set:function(e){this.setPropertyValue("allowAddRows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows")},set:function(e){this.setPropertyValue("allowRemoveRows",e),this.isUpdateLocked||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemoveRows",{get:function(){var e=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(e):e},enumerable:!1,configurable:!0}),t.prototype.canRemoveRow=function(e){if(!this.survey)return!0;var n=e.rowIndex-1;return this.lockedRowCount>0&&n<this.lockedRowCount?!1:this.survey.matrixAllowRemoveRow(this,n,e)},t.prototype.addRowUI=function(){this.addRow(!0)},t.prototype.getQuestionToFocusOnAddingRow=function(){if(this.visibleRows.length===0)return null;for(var e=this.visibleRows[this.visibleRows.length-1],n=0;n<e.cells.length;n++){var r=e.cells[n].question;if(r&&r.isVisible&&!r.isReadOnly)return r}return null},t.prototype.addRow=function(e){var n=this.rowCount,r=this.canAddRow,o={question:this,canAddRow:r,allow:r};this.survey&&this.survey.matrixBeforeRowAdded(o);var c=r!==o.allow?o.allow:r!==o.canAddRow?o.canAddRow:r;if(c&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),e&&n!==this.rowCount)){var p=this.getQuestionToFocusOnAddingRow();p&&p.focus()}},Object.defineProperty(t.prototype,"detailPanelShowOnAdding",{get:function(){return this.getPropertyValue("detailPanelShowOnAdding")},set:function(e){this.setPropertyValue("detailPanelShowOnAdding",e)},enumerable:!1,configurable:!0}),t.prototype.hasRowsAsItems=function(){return!1},t.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,i.prototype.unbindValue.call(this)},t.prototype.isValueSurveyElement=function(e){return this.isEditingSurveyElement||i.prototype.isValueSurveyElement.call(this,e)},t.prototype.addRowCore=function(){var e=this.rowCount;this.rowCount=this.rowCount+1;var n=this.getDefaultRowValue(!0),r=null;if(this.isValueEmpty(n)||(r=this.createNewValue(),r.length==this.rowCount&&(r[r.length-1]=n,this.value=r)),this.data){this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties());var o=this.visibleRows;if(this.isValueEmpty(n)&&o.length>0){var c=o[o.length-1];this.isValueEmpty(c.value)||(r||(r=this.createNewValue()),!this.isValueSurveyElement(r)&&!this.isTwoValueEquals(r[r.length-1],c.value)&&(r[r.length-1]=c.value,this.value=r))}}if(this.survey){var o=this.visibleRows;if(e+1==this.rowCount&&o.length>0){var c=o[o.length-1];this.survey.matrixRowAdded(this,c),this.onRowsChanged()}}},t.prototype.getDefaultRowValue=function(e){for(var n=null,r=0;r<this.columns.length;r++){var o=this.columns[r].templateQuestion;o&&!this.isValueEmpty(o.getDefaultValue())&&(n=n||{},n[this.columns[r].name]=o.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var c in this.defaultRowValue)n=n||{},n[c]=this.defaultRowValue[c];if(e&&this.defaultValueFromLastRow){var p=this.value;if(p&&Array.isArray(p)&&p.length>=this.rowCount-1){var y=p[this.rowCount-2];for(var c in y)n=n||{},n[c]=y[c]}}return n},t.prototype.removeRowUI=function(e){if(e&&e.rowName){var n=this.visibleRows.indexOf(e);if(n<0)return;e=n}this.removeRow(e)},t.prototype.isRequireConfirmOnRowDelete=function(e){if(!this.confirmDelete||e<0||e>=this.rowCount)return!1;var n=this.createNewValue();return this.isValueEmpty(n)||!Array.isArray(n)||e>=n.length?!1:!this.isValueEmpty(n[e])},t.prototype.removeRow=function(e,n){var r=this;if(this.canRemoveRows&&!(e<0||e>=this.rowCount)){var o=this.visibleRows&&e<this.visibleRows.length?this.visibleRows[e]:null;if(n===void 0&&(n=this.isRequireConfirmOnRowDelete(e)),n){to(this.confirmDeleteText,function(){r.removeRowAsync(e,o)},void 0,this.getLocale(),this.survey.rootElement);return}this.removeRowAsync(e,o)}},t.prototype.removeRowAsync=function(e,n){n&&this.survey&&!this.survey.matrixRowRemoving(this,e,n)||(this.onStartRowAddingRemoving(),this.removeRowCore(e),this.onEndRowRemoving(n))},t.prototype.removeRowCore=function(e){var n=this.generatedVisibleRows?this.generatedVisibleRows[e]:null;if(this.generatedVisibleRows&&e<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(e,1),this.rowCountValue--,this.value){var r=[];Array.isArray(this.value)&&e<this.value.length?r=this.createValueCopy():r=this.createNewValue(),r.splice(e,1),r=this.deleteRowValue(r,null),this.isRowChanging=!0,this.value=r,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,e,n)},Object.defineProperty(t.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(e){this.setLocalizableStringText("confirmDeleteText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addRowText",{get:function(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)},set:function(e){this.setLocalizableStringText("addRowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultAddRowText",{get:function(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(e){this.setPropertyValue("addRowLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(t.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(e){this.setPropertyValue("hideColumnsIfEmpty",e)},enumerable:!1,configurable:!0}),t.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(t.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText")},set:function(e){this.setLocalizableStringText("removeRowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText")},set:function(e){this.setLocalizableStringText("emptyRowsText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),t.prototype.getDisplayValueCore=function(e,n){if(!n||!Array.isArray(n))return n;for(var r=this.getUnbindValue(n),o=this.visibleRows,c=0;c<o.length&&c<r.length;c++){var p=r[c];p&&(r[c]=this.getRowDisplayValue(e,o[c],p))}return r},t.prototype.getConditionObjectRowName=function(e){return"["+e.toString()+"]"},t.prototype.getConditionObjectsRowIndeces=function(){for(var e=[],n=Math.max(this.rowCount,1),r=0;r<Math.min(N.matrix.maxRowCountInCondition,n);r++)e.push(r);return e},t.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(t.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.onCheckForErrors=function(e,n,r){i.prototype.onCheckForErrors.call(this,e,n,r),!n&&this.hasErrorInMinRows()&&e.push(new dv(this.minRowCount,this))},t.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var e=0,n=0;n<this.generatedVisibleRows.length;n++){var r=this.generatedVisibleRows[n];r.isEmpty||e++}return e<this.minRowCount},t.prototype.getUniqueColumnsNames=function(){var e=i.prototype.getUniqueColumnsNames.call(this),n=this.keyName;return n&&e.indexOf(n)<0&&e.push(n),e},t.prototype.generateRows=function(){var e=new Array;if(this.rowCount===0)return e;for(var n=this.createNewValue(),r=0;r<this.rowCount;r++)e.push(this.createMatrixRow(this.getRowValueByIndex(n,r)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=n),e},t.prototype.createMatrixRow=function(e){return new jd(this.rowCounter++,this,e)},t.prototype.getInsertedDeletedIndex=function(e,n){for(var r=Math.min(e.length,n.length),o=0;o<r;o++)if(n[o]!==e[o].editingObj)return o;return r},t.prototype.isEditingObjectValueChanged=function(){var e=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(e))return!1;var n=this.lastDeletedRow;this.lastDeletedRow=void 0;var r=this.generatedVisibleRows;if(!Array.isArray(e)||Math.abs(r.length-e.length)>1||r.length===e.length)return!1;var o=this.getInsertedDeletedIndex(r,e);if(r.length>e.length){this.lastDeletedRow=r[o];var c=r[o];r.splice(o,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(c)}else{var p=void 0;n&&n.editingObj===e[o]?p=n:(n=void 0,p=this.createMatrixRow(e[o])),r.splice(o,0,p),n||this.onMatrixRowCreated(p),this.isRendredTableCreated&&this.renderedTable.onAddedRow(p,o)}return this.setPropertyValueDirectly("rowCount",e.length),!0},t.prototype.updateValueFromSurvey=function(e,n){if(n===void 0&&(n=!1),this.setRowCountValueFromData=!0,this.minRowCount>0&&g.isValueEmpty(e)&&!g.isValueEmpty(this.defaultRowValue)){e=[];for(var r=0;r<this.minRowCount;r++)e.push(g.createCopy(this.defaultRowValue))}i.prototype.updateValueFromSurvey.call(this,e,n),this.setRowCountValueFromData=!1},t.prototype.getFilteredDataCore=function(){var e=[],n=this.createValueCopy();if(!Array.isArray(n))return e;for(var r=this.generatedVisibleRows,o=0;o<r.length&&o<n.length;o++){var c=n[o];r[o].isVisible&&!g.isValueEmpty(c)&&e.push(c)}return e},t.prototype.onBeforeValueChanged=function(e){if(!(!e||!Array.isArray(e))){var n=e.length;if(n!=this.rowCount&&!(!this.setRowCountValueFromData&&n<this.initialRowCount)&&!this.isEditingObjectValueChanged()&&(this.setRowCountValueFromData=!0,this.rowCountValue=n,!!this.generatedVisibleRows)){if(n==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();var r=this.getRowValueByIndex(e,n-1),o=this.createMatrixRow(r);this.generatedVisibleRows.push(o),this.onMatrixRowCreated(o),this.onEndRowAdding()}else this.clearGeneratedRows(),this.getVisibleRows(),this.onRowsChanged();this.setRowCountValueFromData=!1}}},t.prototype.createNewValue=function(){var e=this.createValueCopy();(!e||!Array.isArray(e))&&(e=[]),e.length>this.rowCount&&e.splice(this.rowCount);var n=this.getDefaultRowValue(!1);n=n||{};for(var r=e.length;r<this.rowCount;r++)e.push(this.getUnbindValue(n));return e},t.prototype.deleteRowValue=function(e,n){if(!Array.isArray(e))return e;for(var r=!0,o=0;o<e.length;o++)if(this.isObject(e[o])&&Object.keys(e[o]).length>0){r=!1;break}return r?null:e},t.prototype.getRowValueByIndex=function(e,n){return Array.isArray(e)&&n>=0&&n<e.length?e[n]:null},t.prototype.getRowValueCore=function(e,n,r){if(r===void 0&&(r=!1),!this.generatedVisibleRows)return{};var o=this.getRowValueByIndex(n,this.generatedVisibleRows.indexOf(e));return!o&&r&&(o={}),o},t.prototype.getAddRowButtonCss=function(e){return e===void 0&&(e=!1),new J().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,e).toString()},t.prototype.getRemoveRowButtonCss=function(){return new J().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()},t.prototype.getRootCss=function(){var e;return new J().append(i.prototype.getRootCss.call(this)).append(this.cssClasses.empty,!(!((e=this.renderedTable)===null||e===void 0)&&e.showTable)).toString()},t}(bi),Lv=function(i){hl(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.setDefaultRowActions=function(e,n){i.prototype.setDefaultRowActions.call(this,e,n)},t}(ll);H.addClass("matrixdynamic",[{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:N.matrix.maxRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(i){return!i||i.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(i){return!i||i.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(i){return i.detailPanelMode!=="none"}},"allowRowsDragAndDrop:switch"],function(){return new gl("")},"matrixdropdownbase"),lt.Instance.registerQuestion("matrixdynamic",function(i){var t=new gl(i);return t.choices=[1,2,3,4,5],bi.addDefaultColumns(t),t});var Dt={currentType:"",getCss:function(){var i=this.currentType?this[this.currentType]:ms;return i||(i=ms),i},getAvailableThemes:function(){return Object.keys(this).filter(function(i){return["currentType","getCss","getAvailableThemes"].indexOf(i)===-1})}},ms={root:"sd-root-modern",rootProgress:"sd-progress",rootMobile:"sd-root-modern--mobile",rootAnimationDisabled:"sd-root-modern--animation-disabled",rootReadOnly:"sd-root--readonly",rootCompact:"sd-root--compact",rootFitToContainer:"sd-root-modern--full-container",rootWrapper:"sd-root-modern__wrapper",rootWrapperFixed:"sd-root-modern__wrapper--fixed",rootWrapperHasImage:"sd-root-modern__wrapper--has-image",rootBackgroundImage:"sd-root_background-image",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",bodyLoading:"sd-body--loading",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",completedBeforePage:"sd-completed-before-page",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:"sd-btn sd-btn--small"},panel:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-element__content sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredText:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",nested:"sd-element--nested sd-element--nested-with-borders",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact",errorsContainer:"sd-panel__errbox sd-element__erbox sd-element__erbox--above-element"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",iconRemove:"sd-hidden",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",nested:"sd-element--nested sd-element--nested-with-borders",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelsContainer:"sd-paneldynamic__panels-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",panelWrapperEnter:"sd-paneldynamic__panel-wrapper--enter",panelWrapperLeave:"sd-paneldynamic__panel-wrapper--leave",panelWrapperList:"sd-paneldynamic__panel-wrapper--list",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact",tabsRoot:"sd-tabs-toolbar",tabsLeft:"sd-tabs-toolbar--left",tabsRight:"sd-tabs-toolbar--right",tabsCenter:"sd-tabs-toolbar--center",tabs:{item:"sd-tab-item",itemPressed:"sd-tab-item--pressed",itemAsIcon:"sd-tab-item--icon",itemIcon:"sd-tab-item__icon",itemTitle:"sd-tab-item__title"}},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsRoot:"sd-progress-buttons",progressButtonsNumbered:"sd-progress-buttons--numbered",progressButtonsFitSurveyWidth:"sd-progress-buttons--fit-survey-width",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsConnector:"sd-progress-buttons__connector",progressButtonsButton:"sd-progress-buttons__button",progressButtonsButtonBackground:"sd-progress-buttons__button-background",progressButtonsButtonContent:"sd-progress-buttons__button-content",progressButtonsHeader:"sd-progress-buttons__header",progressButtonsFooter:"sd-progress-buttons__footer",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description",number:"sd-page__num",errorsContainer:"sd-page__errbox"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",rowEnter:"sd-row--enter",rowDelayedEnter:"sd-row--delayed-enter",rowLeave:"sd-row--leave",rowReplace:"sd-row--replace",pageRow:"sd-page__row",question:{contentEnter:"sd-element__content--enter",contentLeave:"sd-element__content--leave",enter:"sd-element-wrapper--enter",leave:"sd-element-wrapper--leave",mobile:"sd-question--mobile",mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-element__content sd-question__content",contentSupportContainerQueries:"sd-question__content--support-container-queries",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleTopRoot:"sd-question--title-top",descriptionUnderInputRoot:"sd-question--description-under-input",titleBottomRoot:"sd-question--title-bottom",titleOnAnswer:"sd-question__title--answer",titleEmpty:"sd-question__title--empty",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleReadOnly:"sd-element__title--readonly",titleBar:"sd-action-title-bar",requiredText:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-description sd-question__description sd-question__description--under-input",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",hasErrorTop:"sd-question--error-top",hasErrorBottom:"sd-question--error-bottom",collapsed:"sd-element--collapsed",expandable:"sd-element--expandable",expandableAnimating:"sd-elemenet--expandable--animating",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex sd-composite",disabled:"sd-question--disabled",readOnly:"sd-question--readonly",preview:"sd-question--preview",noPointerEventsMode:"sd-question--no-pointer-events",errorsContainer:"sd-element__erbox sd-question__erbox",errorsContainerTop:"sd-element__erbox--above-element sd-question__erbox--above-question",errorsContainerBottom:"sd-question__erbox--below-question"},image:{mainRoot:"sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:"",nested:"sd-element--nested sd-html--nested"},error:{root:"sd-error",icon:"",item:"",locationTop:"",locationBottom:""},checkbox:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemReadOnly:"sd-item--readonly sd-checkbox--readonly",itemPreview:"sd-item--preview sd-checkbox--preview",itemPreviewSvgIconId:"#icon-v2check",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-v2check",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-v2check",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container sd-boolean-root",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemExchanged:"sd-boolean--exchanged",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemReadOnly:"sd-boolean--readonly",itemPreview:"sd-boolean--preview",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",labelTrue:"sd-boolean__label--true",labelFalse:"sd-boolean__label--false",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",labelReadOnly:"sd-checkbox__label--readonly",labelPreview:"sd-checkbox__label--preview",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioItemDisabled:"sd-item--disabled sd-radio--disabled",radioItemReadOnly:"sd-item--readonly sd-radio--readonly",radioItemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-v2check",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-item--disabled sd-checkbox--disabled",checkboxItemReadOnly:"sd-item--readonly sd-checkbox--readonly",checkboxItemPreview:"sd-item--preview sd-checkbox--preview",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-v2check"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",constrolWithCharacterCounter:"sd-text__character-counter",characterCounterBig:"sd-text__character-counter--big",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",rootMobile:"sd-multipletext--mobile",itemLabel:"sd-multipletext__item-container sd-input",itemLabelReadOnly:"sd-input--readonly",itemLabelDisabled:"sd-input--disabled",itemLabelPreview:"sd-input--preview",itemLabelOnError:"sd-multipletext__item-container--error",itemLabelAllowFocus:"sd-multipletext__item-container--allow-focus",itemLabelAnswered:"sd-multipletext__item-container--answered",itemWithCharacterCounter:"sd-multipletext-item__character-counter",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell",cellError:"sd-multipletext__cell--error",cellErrorTop:"sd-multipletext__cell--error-top",cellErrorBottom:"sd-multipletext__cell--error-bottom"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-dropdown_clean-button",cleanButtonSvg:"sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemReadOnly:"sd-imagepicker__item--readonly",itemPreview:"sd-imagepicker__item--preview",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-v2check_24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",rowDisabled:"sd-table__row-disabled",rowReadOnly:"sd-table__row-readonly",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemReadOnly:"sd-item--readonly sd-radio--readonly",itemPreview:"sd-item--preview sd-radio--preview",itemPreviewSvgIconId:"#icon-v2check",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",itemCell:"sd-table__cell--item",row:"sd-table__row",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",expandedRow:"sd-table__row--expanded",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",columnsAutoWidth:"sd-table--columnsautowidth",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",cellResponsiveTitle:"sd-table__responsive-title",row:"sd-table__row",rowDelayedEnter:"sd-table__row--delayed-enter",rowEnter:"sd-table__row--enter",rowLeave:"sd-table__row--leave",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",expandedRow:"sd-table__row--expanded",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"sd-hidden",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-v2dragelement_16x16",footer:"sd-matrixdynamic__footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",emptyRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-rating--wrappable",rootLabelsTop:"sd-rating--labels-top",rootLabelsBottom:"sd-rating--labels-bottom",rootLabelsDiagonal:"sd-rating--labels-diagonal",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarReadOnly:"sd-rating__item-star--readonly",itemStarPreview:"sd-rating__item-star--preview",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyReadOnly:"sd-rating__item-smiley--readonly",itemSmileyPreview:"sd-rating__item-smiley--preview",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemReadOnly:"sd-rating__item--readonly",itemPreview:"sd-rating__item--preview",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",selectWrapper:"sv-dropdown_select-wrapper",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",onError:"sd-input--error"},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",rootDragging:"sd-file--dragging",rootAnswered:"sd-file--answered",rootDisabled:"sd-file--disabled",rootReadOnly:"sd-file--readonly",rootPreview:"sd-file--preview",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",previewItem:"sd-file__preview-item",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",noFileChosen:"sd-description sd-file__no-file-chosen",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",controlDisabled:"sd-file__choose-file-btn--disabled",removeButton:"sd-context-btn--negative",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-close_16x16",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn--small sd-context-btn--with-border sd-context-btn--colorful sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",imageWrapperDefaultImage:"sd-file__image-wrapper--default-image",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile",videoContainer:"sd-file__video-container",contextButton:"sd-context-btn",video:"sd-file__video",actionsContainer:"sd-file__actions-container",closeCameraButton:"sd-file__close-camera-button",changeCameraButton:"sd-file__change-camera-button",takePictureButton:"sd-file__take-picture-button",loadingIndicator:"sd-file__loading-indicator",page:"sd-file__page"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas sd-signaturepad__canvas",backgroundImage:"sjs_sp__background-image sd-signaturepad__background-image",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear",loadingIndicator:"sd-signaturepad__loading-indicator"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootReadOnly:"sd-ranking--readonly",rootPreview:"sd-ranking--preview",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankEmptyValueMod:"sv-ranking--select-to-rank-empty-value",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",itemDisabled:"sv-ranking-item--disabled",itemReadOnly:"sv-ranking-item--readonly",itemPreview:"sv-ranking-item--preview",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemSvgIconId:"#icon-v2check",item:"sd-item sd-checkbox sd-selectbase__item",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemEnter:"sd-item--enter",itemLeave:"sd-item--leave",cleanButton:"sd-tagbox_clean-button sd-dropdown_clean-button",cleanButtonSvg:"sd-tagbox_clean-button-svg sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlEditable:"sd-input--editable",controlDisabled:"sd-input--disabled",controlReadOnly:"sd-input--readonly",controlPreview:"sd-input--preview",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}},Nd="defaultV2";Dt[Nd]=ms;var kv="surveyjs.io",Mv=65536,Fd=function(){function i(){}return Object.defineProperty(i,"serviceUrl",{get:function(){return N.web.surveyServiceUrl},set:function(t){N.web.surveyServiceUrl=t},enumerable:!1,configurable:!0}),i.prototype.loadSurvey=function(t,e){var n=new XMLHttpRequest;n.open("GET",this.serviceUrl+"/getSurvey?surveyId="+t),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){var r=JSON.parse(n.response);e(n.status==200,r,n.response)},n.send()},i.prototype.getSurveyJsonAndIsCompleted=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",this.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+t+"&clientId="+e),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onload=function(){var o=JSON.parse(r.response),c=o?o.survey:null,p=o?o.isCompleted:null;n(r.status==200,c,p,r.response)},r.send()},i.prototype.canSendResult=function(t){if(!this.isSurveJSIOService)return!0;var e=JSON.stringify(t);return e.length<Mv},Object.defineProperty(i.prototype,"isSurveJSIOService",{get:function(){return this.serviceUrl.indexOf(kv)>=0},enumerable:!1,configurable:!0}),i.prototype.sendResult=function(t,e,n,r,o){r===void 0&&(r=null),o===void 0&&(o=!1),this.canSendResult(e)?this.sendResultCore(t,e,n,r,o):n(!1,v.getString("savingExceedSize",this.locale),void 0)},i.prototype.sendResultCore=function(t,e,n,r,o){r===void 0&&(r=null),o===void 0&&(o=!1);var c=new XMLHttpRequest;c.open("POST",this.serviceUrl+"/post/"),c.setRequestHeader("Content-Type","application/json; charset=utf-8");var p={postId:t,surveyResult:JSON.stringify(e)};r&&(p.clientId=r),o&&(p.isPartialCompleted=!0);var y=JSON.stringify(p);c.onload=c.onerror=function(){n&&n(c.status===200,c.response,c)},c.send(y)},i.prototype.sendFile=function(t,e,n){var r=new XMLHttpRequest;r.onload=r.onerror=function(){n&&n(r.status==200,JSON.parse(r.response))},r.open("POST",this.serviceUrl+"/upload/",!0);var o=new FormData;o.append("file",e),o.append("postId",t),r.send(o)},i.prototype.getResult=function(t,e,n){var r=new XMLHttpRequest,o="resultId="+t+"&name="+e;r.open("GET",this.serviceUrl+"/getResult?"+o),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onload=function(){var c=null,p=null;if(r.status==200){c=JSON.parse(r.response),p=[];for(var y in c.QuestionResult){var b={name:y,value:c.QuestionResult[y]};p.push(b)}}n(r.status==200,c,p,r.response)},r.send()},i.prototype.isCompleted=function(t,e,n){var r=new XMLHttpRequest,o="resultId="+t+"&clientId="+e;r.open("GET",this.serviceUrl+"/isCompleted?"+o),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onload=function(){var c=null;r.status==200&&(c=JSON.parse(r.response)),n(r.status==200,c,r.response)},r.send()},Object.defineProperty(i.prototype,"serviceUrl",{get:function(){return i.serviceUrl||""},enumerable:!1,configurable:!0}),i}(),Wr={setTimeout:function(i){return Wr.safeTimeOut(i,1e3)},clearTimeout:function(i){clearTimeout(i)},safeTimeOut:function(i,t){return t<=0?(i(),0):setTimeout(i,t)},now:function(){return Date.now()}},yl=function(){function i(){this.listenerCounter=0,this.timerId=-1,this.onTimerTick=new Rn,this.onTimer=this.onTimerTick}return Object.defineProperty(i,"instance",{get:function(){return i.instanceValue||(i.instanceValue=new i),i.instanceValue},enumerable:!1,configurable:!0}),i.prototype.start=function(t){var e=this;t===void 0&&(t=null),t&&this.onTimerTick.add(t),this.prevTimeInMs=Wr.now(),this.timerId<0&&(this.timerId=Wr.setTimeout(function(){e.doTimer()})),this.listenerCounter++},i.prototype.stop=function(t){t===void 0&&(t=null),t&&this.onTimerTick.remove(t),this.listenerCounter--,this.listenerCounter==0&&this.timerId>-1&&(Wr.clearTimeout(this.timerId),this.timerId=-1)},i.prototype.doTimer=function(){var t=this;if((this.onTimerTick.isEmpty||this.listenerCounter==0)&&(this.timerId=-1),!(this.timerId<0)){var e=Wr.now(),n=Math.floor((e-this.prevTimeInMs)/1e3);this.prevTimeInMs=e,n<0&&(n=1);var r=this.timerId;this.onTimerTick.fire(this,{seconds:n}),r===this.timerId&&(this.timerId=Wr.setTimeout(function(){t.doTimer()}))}},i.instanceValue=null,i}(),qv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ao=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Bd=function(i){qv(t,i);function t(e){var n=i.call(this)||this;return n.timerFunc=null,n.surveyValue=e,n.onCreating(),n}return Object.defineProperty(t.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),t.prototype.onCreating=function(){},t.prototype.start=function(){var e=this;this.survey&&(this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(function(){e.update()}),this.timerFunc=function(n,r){e.doTimer(r.seconds)},this.setIsRunning(!0),this.update(),yl.instance.start(this.timerFunc)))},t.prototype.stop=function(){this.isRunning&&(this.setIsRunning(!1),yl.instance.stop(this.timerFunc))},Object.defineProperty(t.prototype,"isRunning",{get:function(){return this.getPropertyValue("isRunning",!1)},enumerable:!1,configurable:!0}),t.prototype.setIsRunning=function(e){this.setPropertyValue("isRunning",e)},t.prototype.update=function(){this.updateText(),this.updateProgress()},t.prototype.doTimer=function(e){var n=this.survey.currentPage;if(n){var r=n.getMaxTimeToFinish();r>0&&r<n.timeSpent+e&&(e=r-n.timeSpent),n.timeSpent=n.timeSpent+e}this.spent=this.spent+e,this.update(),this.onTimerTick&&this.onTimerTick(n)},t.prototype.updateProgress=function(){var e=this,n=this.survey.timerInfo,r=n.spent,o=n.limit;o?(r==0?(this.progress=0,setTimeout(function(){e.progress=Math.floor((r+1)/o*100)/100},0)):r<=o&&(this.progress=Math.floor((r+1)/o*100)/100),this.progress>1&&(this.progress=void 0)):this.progress=void 0},t.prototype.updateText=function(){var e=this.survey.timerClock;this.clockMajorText=e.majorText,this.clockMinorText=e.minorText,this.text=this.survey.timerInfoText},Object.defineProperty(t.prototype,"showProgress",{get:function(){return this.progress!==void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTimerAsClock",{get:function(){return!!this.survey.getCss().clockTimerRoot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rootCss",{get:function(){return new J().append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()},enumerable:!1,configurable:!0}),t.prototype.getProgressCss=function(){return new J().append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()},Object.defineProperty(t.prototype,"textContainerCss",{get:function(){return this.survey.getCss().clockTimerTextContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minorTextCss",{get:function(){return this.survey.getCss().clockTimerMinorText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"majorTextCss",{get:function(){return this.survey.getCss().clockTimerMajorText},enumerable:!1,configurable:!0}),ao([V()],t.prototype,"text",void 0),ao([V()],t.prototype,"progress",void 0),ao([V()],t.prototype,"clockMajorText",void 0),ao([V()],t.prototype,"clockMinorText",void 0),ao([V({defaultValue:0})],t.prototype,"spent",void 0),t}($e),jv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Hd=function(i){jv(t,i);function t(e){var n=i.call(this)||this;return n.cssClasses=e,n.timeout=N.notifications.lifetime,n.timer=void 0,n.actionsVisibility={},n.showActions=!0,n.actionBar=new Nn,n.actionBar.updateCallback=function(r){n.actionBar.actions.forEach(function(o){return o.cssClasses={}})},n.css=n.cssClasses.root,n}return t.prototype.getCssClass=function(e){return new J().append(this.cssClasses.root).append(this.cssClasses.rootWithButtons,this.actionBar.visibleActions.length>0).append(this.cssClasses.info,e!=="error"&&e!=="success").append(this.cssClasses.error,e==="error").append(this.cssClasses.success,e==="success").append(this.cssClasses.shown,this.active).toString()},t.prototype.updateActionsVisibility=function(e){var n=this;this.actionBar.actions.forEach(function(r){return r.visible=n.showActions&&n.actionsVisibility[r.id]===e})},t.prototype.notify=function(e,n,r){var o=this;n===void 0&&(n="info"),r===void 0&&(r=!1),this.isDisplayed=!0,setTimeout(function(){o.updateActionsVisibility(n),o.message=e,o.active=!0,o.css=o.getCssClass(n),o.timer&&(clearTimeout(o.timer),o.timer=void 0),r||(o.timer=setTimeout(function(){o.timer=void 0,o.active=!1,o.css=o.getCssClass(n)},o.timeout))},1)},t.prototype.addAction=function(e,n){e.visible=!1,e.innerCss=this.cssClasses.button;var r=this.actionBar.addAction(e);this.actionsVisibility[r.id]=n},vs([V({defaultValue:!1})],t.prototype,"active",void 0),vs([V({defaultValue:!1})],t.prototype,"isDisplayed",void 0),vs([V()],t.prototype,"message",void 0),vs([V()],t.prototype,"css",void 0),t}($e),Nv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mt=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Qd=function(){function i(t,e,n){this.cover=t,this.positionX=e,this.positionY=n}return i.prototype.calcRow=function(t){return t==="top"?1:t==="middle"?2:3},i.prototype.calcColumn=function(t){return t==="left"?1:t==="center"?2:3},i.prototype.calcAlignItems=function(t){return t==="left"?"flex-start":t==="center"?"center":"flex-end"},i.prototype.calcAlignText=function(t){return t==="left"?"start":t==="center"?"center":"end"},i.prototype.calcJustifyContent=function(t){return t==="top"?"flex-start":t==="middle"?"center":"flex-end"},Object.defineProperty(i.prototype,"survey",{get:function(){return this.cover.survey},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"css",{get:function(){var t=i.CLASSNAME+" "+i.CLASSNAME+"--"+this.positionX+" "+i.CLASSNAME+"--"+this.positionY;return t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){var t={};return t.gridColumn=this.calcColumn(this.positionX),t.gridRow=this.calcRow(this.positionY),t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"contentStyle",{get:function(){var t={};return t.textAlign=this.calcAlignText(this.positionX),t.alignItems=this.calcAlignItems(this.positionX),t.justifyContent=this.calcJustifyContent(this.positionY),t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showLogo",{get:function(){return this.survey.hasLogo&&this.positionX===this.cover.logoPositionX&&this.positionY===this.cover.logoPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showTitle",{get:function(){return this.survey.hasTitle&&this.positionX===this.cover.titlePositionX&&this.positionY===this.cover.titlePositionY},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showDescription",{get:function(){return this.survey.renderedHasDescription&&this.positionX===this.cover.descriptionPositionX&&this.positionY===this.cover.descriptionPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textAreaWidth",{get:function(){return this.cover.textAreaWidth?""+this.cover.textAreaWidth+"px":""},enumerable:!1,configurable:!0}),i.CLASSNAME="sv-header__cell",i}(),bs=function(i){Nv(t,i);function t(){var e=i.call(this)||this;return e.cells=[],["top","middle","bottom"].forEach(function(n){return["left","center","right"].forEach(function(r){return e.cells.push(new Qd(e,r,n))})}),e.init(),e}return t.prototype.calcBackgroundSize=function(e){return e==="fill"?"100% 100%":e==="tile"?"auto":e},t.prototype.updateHeaderClasses=function(){this.headerClasses=new J().append("sv-header").append("sv-header__without-background",this.backgroundColor==="transparent"&&!this.backgroundImage).append("sv-header__background-color--none",this.backgroundColor==="transparent"&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--accent",!this.backgroundColor&&!this.titleColor&&!this.descriptionColor).append("sv-header__background-color--custom",!!this.backgroundColor&&this.backgroundColor!=="transparent"&&!this.titleColor&&!this.descriptionColor).append("sv-header__overlap",this.overlapEnabled).toString()},t.prototype.updateContentClasses=function(){var e=!!this.survey&&this.survey.calculateWidthMode();this.maxWidth=this.inheritWidthFrom==="survey"&&!!e&&e==="static"&&this.survey.renderedWidth,this.contentClasses=new J().append("sv-header__content").append("sv-header__content--static",this.inheritWidthFrom==="survey"&&!!e&&e==="static").append("sv-header__content--responsive",this.inheritWidthFrom==="container"||!!e&&e==="responsive").toString()},t.prototype.updateBackgroundImageClasses=function(){this.backgroundImageClasses=new J().append("sv-header__background-image").append("sv-header__background-image--contain",this.backgroundImageFit==="contain").append("sv-header__background-image--tile",this.backgroundImageFit==="tile").toString()},t.prototype.fromTheme=function(e){i.prototype.fromJSON.call(this,e.header||{}),e.cssVariables&&(this.backgroundColor=e.cssVariables["--sjs-header-backcolor"],this.titleColor=e.cssVariables["--sjs-font-headertitle-color"],this.descriptionColor=e.cssVariables["--sjs-font-headerdescription-color"]),this.init()},t.prototype.init=function(){this.renderBackgroundImage=za(this.backgroundImage),this.updateHeaderClasses(),this.updateContentClasses(),this.updateBackgroundImageClasses()},t.prototype.getType=function(){return"cover"},Object.defineProperty(t.prototype,"renderedHeight",{get:function(){if(this.survey&&!this.survey.isMobile||!this.survey)return this.height?Math.max(this.height,this.actualHeight+40)+"px":void 0;if(this.survey&&this.survey.isMobile)return this.mobileHeight?Math.max(this.mobileHeight,this.actualHeight)+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedtextAreaWidth",{get:function(){return this.textAreaWidth?this.textAreaWidth+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"survey",{get:function(){return this._survey},set:function(e){var n=this;this._survey!==e&&(this._survey=e,e&&(this.updateContentClasses(),this._survey.onPropertyChanged.add(function(r,o){(o.name=="widthMode"||o.name=="width")&&n.updateContentClasses()})))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImageStyle",{get:function(){return this.backgroundImage?{opacity:this.backgroundImageOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.calcBackgroundSize(this.backgroundImageFit)}:null},enumerable:!1,configurable:!0}),t.prototype.propertyValueChanged=function(e,n,r,o,c){i.prototype.propertyValueChanged.call(this,e,n,r),(e==="backgroundColor"||e==="backgroundImage"||e==="overlapEnabled")&&this.updateHeaderClasses(),e==="inheritWidthFrom"&&this.updateContentClasses(),e==="backgroundImageFit"&&this.updateBackgroundImageClasses()},t.prototype.calculateActualHeight=function(e,n,r){var o=["top","middle","bottom"],c=o.indexOf(this.logoPositionY),p=o.indexOf(this.titlePositionY),y=o.indexOf(this.descriptionPositionY),b=["left","center","right"],E=b.indexOf(this.logoPositionX),M=b.indexOf(this.titlePositionX),Q=b.indexOf(this.descriptionPositionX),X=[[0,0,0],[0,0,0],[0,0,0]];return X[c][E]=e,X[p][M]+=n,X[y][Q]+=r,X.reduce(function(oe,we){return oe+Math.max.apply(Math,we)},0)},t.prototype.processResponsiveness=function(e){if(this.survey&&this.survey.rootElement)if(this.survey.isMobile){var b=this.survey.rootElement.querySelectorAll(".sv-header > div")[0];this.actualHeight=b?b.getBoundingClientRect().height:0}else{var n=this.survey.rootElement.querySelectorAll(".sv-header__logo")[0],r=this.survey.rootElement.querySelectorAll(".sv-header__title")[0],o=this.survey.rootElement.querySelectorAll(".sv-header__description")[0],c=n?n.getBoundingClientRect().height:0,p=r?r.getBoundingClientRect().height:0,y=o?o.getBoundingClientRect().height:0;this.actualHeight=this.calculateActualHeight(c,p,y)}},Object.defineProperty(t.prototype,"hasBackground",{get:function(){return!!this.backgroundImage||this.backgroundColor!=="transparent"},enumerable:!1,configurable:!0}),mt([V({defaultValue:0})],t.prototype,"actualHeight",void 0),mt([V()],t.prototype,"height",void 0),mt([V()],t.prototype,"mobileHeight",void 0),mt([V()],t.prototype,"inheritWidthFrom",void 0),mt([V()],t.prototype,"textAreaWidth",void 0),mt([V()],t.prototype,"textGlowEnabled",void 0),mt([V()],t.prototype,"overlapEnabled",void 0),mt([V()],t.prototype,"backgroundColor",void 0),mt([V()],t.prototype,"titleColor",void 0),mt([V()],t.prototype,"descriptionColor",void 0),mt([V({onSet:function(e,n){n.renderBackgroundImage=za(e)}})],t.prototype,"backgroundImage",void 0),mt([V()],t.prototype,"renderBackgroundImage",void 0),mt([V()],t.prototype,"backgroundImageFit",void 0),mt([V()],t.prototype,"backgroundImageOpacity",void 0),mt([V()],t.prototype,"logoPositionX",void 0),mt([V()],t.prototype,"logoPositionY",void 0),mt([V()],t.prototype,"titlePositionX",void 0),mt([V()],t.prototype,"titlePositionY",void 0),mt([V()],t.prototype,"descriptionPositionX",void 0),mt([V()],t.prototype,"descriptionPositionY",void 0),mt([V()],t.prototype,"logoStyle",void 0),mt([V()],t.prototype,"titleStyle",void 0),mt([V()],t.prototype,"descriptionStyle",void 0),mt([V()],t.prototype,"headerClasses",void 0),mt([V()],t.prototype,"contentClasses",void 0),mt([V()],t.prototype,"maxWidth",void 0),mt([V()],t.prototype,"backgroundImageClasses",void 0),t}($e);H.addClass("cover",[{name:"height:number",minValue:0,default:256},{name:"mobileHeight:number",minValue:0,default:0},{name:"inheritWidthFrom",default:"container"},{name:"textAreaWidth:number",minValue:0,default:512},{name:"textGlowEnabled:boolean"},{name:"overlapEnabled:boolean"},{name:"backgroundImage:file"},{name:"backgroundImageOpacity:number",minValue:0,maxValue:1,default:1},{name:"backgroundImageFit",default:"cover",choices:["cover","fill","contain"]},{name:"logoPositionX",default:"right"},{name:"logoPositionY",default:"top"},{name:"titlePositionX",default:"left"},{name:"titlePositionY",default:"bottom"},{name:"descriptionPositionX",default:"left"},{name:"descriptionPositionY",default:"bottom"}],function(){return new bs});var Fv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bv=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Hv=function(){function i(t){this.type=t,this.timestamp=new Date}return i}(),Qv=function(i){Fv(t,i);function t(){var e=i.call(this)||this;return e.taskList=[],e.onAllTasksCompleted=e.addEvent(),e}return t.prototype.runTask=function(e,n){var r=this,o=new Hv(e);return this.taskList.push(o),this.hasActiveTasks=!0,n(function(){return r.taskFinished(o)}),o},t.prototype.waitAndExecute=function(e){if(!this.hasActiveTasks){e();return}this.onAllTasksCompleted.add(function(){e()})},t.prototype.taskFinished=function(e){var n=this.taskList.indexOf(e);n>-1&&this.taskList.splice(n,1),this.hasActiveTasks&&this.taskList.length==0&&(this.hasActiveTasks=!1,this.onAllTasksCompleted.fire(this,{}))},Bv([V({defaultValue:!1})],t.prototype,"hasActiveTasks",void 0),t}($e),zd=function(){function i(t,e,n){n===void 0&&(n=-1),this.source=t,this.target=e,this.nestedPanelDepth=n}return i}(),zv=function(){function i(t){this.panel=t}return i.prototype.dragDropAddTarget=function(t){var e=this.dragDropFindRow(t.target);this.dragDropAddTargetToRow(t,e)&&this.panel.updateRowsRemoveElementFromRow(t.target,e)},i.prototype.dragDropFindRow=function(t){if(!t||t.isPage)return null;for(var e=t,n=this.panel.rows,r=0;r<n.length;r++)if(n[r].elements.indexOf(e)>-1)return n[r];for(var r=0;r<this.panel.elements.length;r++){var o=this.panel.elements[r].getPanel();if(o){var c=o.dragDropFindRow(e);if(c)return c}}return null},i.prototype.dragDropMoveElement=function(t,e,n){var r=t.parent.elements.indexOf(t);n>r&&n--,this.panel.removeElement(t),this.panel.addElement(e,n)},i.prototype.updateRowsOnElementAdded=function(t,e,n,r){n||(n=new zd(null,t),n.target=t,n.isEdge=this.panel.elements.length>1,this.panel.elements.length<2?n.destination=r:(n.isBottom=e>0,e==0?n.destination=this.panel.elements[1]:n.destination=this.panel.elements[e-1])),this.dragDropAddTargetToRow(n,null)},i.prototype.dragDropAddTargetToRow=function(t,e){if(!t.destination||this.dragDropAddTargetToEmptyPanel(t))return!0;var n=t.destination,r=this.dragDropFindRow(n);return r?t.target.startWithNewLine?this.dragDropAddTargetToNewRow(t,r,e):this.dragDropAddTargetToExistingRow(t,r,e):!0},i.prototype.dragDropAddTargetToEmptyPanel=function(t){if(t.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.panel.root,t.target,t.isBottom),!0;var e=t.destination;if(e.isPanel&&!t.isEdge){var n=e;if(t.target.template===e)return!1;if(t.nestedPanelDepth<0||t.nestedPanelDepth>=n.depth)return this.dragDropAddTargetToEmptyPanelCore(e,t.target,t.isBottom),!0}return!1},i.prototype.dragDropAddTargetToExistingRow=function(t,e,n){var r=e.elements.indexOf(t.destination);if(r==0&&!t.isBottom&&!this.panel.isDesignModeV2){if(e.elements[0].startWithNewLine)return e.index>0?(t.isBottom=!0,e=e.panel.rows[e.index-1],t.destination=e.elements[e.elements.length-1],this.dragDropAddTargetToExistingRow(t,e,n)):this.dragDropAddTargetToNewRow(t,e,n)}var o=-1;n==e&&(o=e.elements.indexOf(t.target)),t.isBottom&&r++;var c=this.panel.findRowByElement(t.source);return c==e&&c.elements.indexOf(t.source)==r||r==o?!1:(o>-1&&(e.elements.splice(o,1),o<r&&r--),e.elements.splice(r,0,t.target),e.updateVisible(),o<0)},i.prototype.dragDropAddTargetToNewRow=function(t,e,n){var r=e.panel.createRowAndSetLazy(e.panel.rows.length);this.panel.isDesignModeV2&&r.setIsLazyRendering(!1),r.addElement(t.target);var o=e.index;if(t.isBottom&&o++,n&&n.panel==r.panel&&n.index==o)return!1;var c=this.panel.findRowByElement(t.source);return c&&c.panel==r.panel&&c.elements.length==1&&c.index==o?!1:(e.panel.rows.splice(o,0,r),!0)},i.prototype.dragDropAddTargetToEmptyPanelCore=function(t,e,n){var r=t.createRow();r.addElement(e),t.elements.length==0||n?t.rows.push(r):t.rows.splice(0,0,r)},i}(),Uv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ml=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ud=function(i){Uv(t,i);function t(e,n){var r=i.call(this)||this;return r.effectiveWidth=e,r.questionTitleWidth=n,r}return t.prototype.getType=function(){return"panellayoutcolumn"},t.prototype.isEmpty=function(){return!this.width&&!this.questionTitleWidth},ml([V()],t.prototype,"width",void 0),ml([V({onSet:function(e,n,r){e!==r&&(n.width=e)}})],t.prototype,"effectiveWidth",void 0),ml([V()],t.prototype,"questionTitleWidth",void 0),t}($e);H.addClass("panellayoutcolumn",[{name:"effectiveWidth:number",isSerializable:!1,minValue:0},{name:"width:number",visible:!1},"questionTitleWidth"],function(i){return new Ud});var vl=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ci=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Wd=function(i,t){for(var e=0,n=t.length,r=i.length;e<n;e++,r++)i[r]=t[e];return i},$d=function(i){vl(t,i);function t(e){var n=i.call(this)||this;return n.panel=e,n._scrollableParent=void 0,n._updateVisibility=void 0,n.visibleElementsAnimation=new cr(n.getVisibleElementsAnimationOptions(),function(r){n.setWidth(r),n.setPropertyValue("visibleElements",r)},function(){return n.visibleElements}),n.idValue=t.getRowId(),n.visible=e.areInvisibleElementsShowing,n.createNewArray("elements"),n.createNewArray("visibleElements"),n}return t.getRowId=function(){return"pr_"+t.rowCounter++},Object.defineProperty(t.prototype,"allowRendering",{get:function(){return!this.panel||!this.panel.survey||!this.panel.survey.isLazyRenderingSuspended},enumerable:!1,configurable:!0}),t.prototype.startLazyRendering=function(e,n){var r=this;if(n===void 0&&(n=os),!!h.isAvailable()){this._scrollableParent=n(e),this._scrollableParent===h.getDocumentElement()&&(this._scrollableParent=f.getWindow());var o=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!o,o&&(this._updateVisibility=function(){if(r.allowRendering){var c=Hm(e,50);!r.isNeedRender&&c&&(r.isNeedRender=!0,r.stopLazyRendering())}},setTimeout(function(){r._scrollableParent&&r._scrollableParent.addEventListener&&r._scrollableParent.addEventListener("scroll",r._updateVisibility),r.ensureVisibility()},10))}},t.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},t.prototype.stopLazyRendering=function(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},t.prototype.setIsLazyRendering=function(e){this.isLazyRenderingValue=e,this.isNeedRender=!e},t.prototype.isLazyRendering=function(){return this.isLazyRenderingValue===!0},Object.defineProperty(t.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),t.prototype.equalsCore=function(e){return this==e},Object.defineProperty(t.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),t.prototype.getIsAnimationAllowed=function(){var e;return i.prototype.getIsAnimationAllowed.call(this)&&this.visible&&((e=this.panel)===null||e===void 0?void 0:e.animationAllowed)},t.prototype.getVisibleElementsAnimationOptions=function(){var e=this,n=function(r){Hn(r),io(r,{width:$a(r)+"px"})};return{getRerenderEvent:function(){return e.onElementRerendered},isAnimationEnabled:function(){return e.animationAllowed},allowSyncRemovalAddition:!1,getAnimatedElement:function(r){return r.getWrapperElement()},getLeaveOptions:function(r){var o=r,c=r.isPanel?o.cssClasses.panel:o.cssClasses;return{cssClass:c.leave,onBeforeRunAnimation:n,onAfterRunAnimation:hn}},getEnterOptions:function(r){var o=r,c=r.isPanel?o.cssClasses.panel:o.cssClasses;return{cssClass:c.enter,onBeforeRunAnimation:n,onAfterRunAnimation:hn}}}},Object.defineProperty(t.prototype,"visibleElements",{get:function(){return this.getPropertyValue("visibleElements")},set:function(e){if(e.length)this.visible=!0;else{this.visible=!1,this.visibleElementsAnimation.cancel();return}this.visibleElementsAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){this.setPropertyValue("visible",e),this.onVisibleChangedCallback&&this.onVisibleChangedCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(e){this.setPropertyValue("isneedrender",e)},enumerable:!1,configurable:!0}),t.prototype.updateVisible=function(){for(var e=[],n=0;n<this.elements.length;n++)this.elements[n].isVisible&&e.push(this.elements[n]),(this.elements[n].isPanel||this.elements[n].getType()==="paneldynamic")&&(this.setIsLazyRendering(!1),this.stopLazyRendering());this.visibleElements=e},t.prototype.addElement=function(e){this.elements.push(e),this.updateVisible()},Object.defineProperty(t.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),t.prototype.setWidth=function(e){var n,r=e.length;if(r!=0){for(var o=e.length===1,c=0,p=[],y=0;y<this.elements.length;y++){var b=this.elements[y];if(b.isVisible){b.isSingleInRow=o;var E=this.getElementWidth(b);E&&(b.renderWidth=this.getRenderedWidthFromWidth(E),p.push(b)),c<r-1&&!(this.panel.isDefaultV2Theme||!((n=this.panel.parentQuestion)===null||n===void 0)&&n.isDefaultV2Theme)?b.rightIndent=1:b.rightIndent=0,c++}else b.renderWidth=""}for(var y=0;y<this.elements.length;y++){var b=this.elements[y];!b.isVisible||p.indexOf(b)>-1||(p.length==0?b.renderWidth=Number.parseFloat((100/r).toFixed(6))+"%":b.renderWidth=this.getRenderedCalcWidth(b,p,r))}}},t.prototype.getRenderedCalcWidth=function(e,n,r){for(var o="100%",c=0;c<n.length;c++)o+=" - "+n[c].renderWidth;var p=r-n.length;return p>1&&(o="("+o+")/"+p.toString()),"calc("+o+")"},t.prototype.getElementWidth=function(e){var n=e.width;return!n||typeof n!="string"?"":n.trim()},t.prototype.getRenderedWidthFromWidth=function(e){return g.isNumber(e)?e+"px":e},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.stopLazyRendering()},t.prototype.getRowCss=function(){return new J().append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||this.panel.showPanelAsPage).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()},t.prototype.setRootElement=function(e){this.rootElement=e},t.prototype.getRootElement=function(){return this.rootElement},t.rowCounter=100,Ci([V({defaultValue:null})],t.prototype,"dragTypeOverMe",void 0),t}($e),Cs=function(i){vl(t,i);function t(e){e===void 0&&(e="");var n=i.call(this,e)||this;return n.isQuestionsReady=!1,n.questionsValue=new Array,n._columns=void 0,n._columnsReady=!1,n.rowsAnimation=new cr(n.getRowsAnimationOptions(),function(r){n.setPropertyValue("visibleRows",r)},function(){return n.visibleRows}),n.isRandomizing=!1,n.onColumnPropertyValueChangedCallback=function(r,o,c,p,y){n._columnsReady&&(n.updateColumnWidth(n.layoutColumns),n.updateRootStyle())},n.locCountRowUpdates=0,n.createNewArray("rows",function(r,o){n.onAddRow(r)},function(r){n.onRemoveRow(r)}),n.createNewArray("visibleRows"),n.elementsValue=n.createNewArray("elements",n.onAddElement.bind(n),n.onRemoveElement.bind(n)),n.id=t.getPanelId(),n.addExpressionProperty("visibleIf",function(r,o){n.visible=o===!0},function(r){return!n.areInvisibleElementsShowing}),n.addExpressionProperty("enableIf",function(r,o){n.readOnly=o===!1}),n.addExpressionProperty("requiredIf",function(r,o){n.isRequired=o===!0}),n.createLocalizableString("requiredErrorText",n),n.createLocalizableString("navigationTitle",n,!0).onGetTextCallback=function(r){return r||n.title||n.name},n.registerPropertyChangedHandlers(["questionTitleLocation"],function(){n.onVisibleChanged.bind(n),n.updateElementCss(!0)}),n.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],function(){n.updateVisibleIndexes()}),n.registerPropertyChangedHandlers(["title"],function(){n.calcHasTextInTitle()}),n.dragDropPanelHelper=new zv(n),n}return t.getPanelId=function(){return"sp_"+t.panelCounter++},t.prototype.onAddRow=function(e){var n=this;this.onRowVisibleChanged(),e.onVisibleChangedCallback=function(){return n.onRowVisibleChanged()}},t.prototype.getRowsAnimationOptions=function(){var e=this;return{getRerenderEvent:function(){return e.onElementRerendered},isAnimationEnabled:function(){return e.animationAllowed},getAnimatedElement:function(n){return n.getRootElement()},getLeaveOptions:function(n,r){return{cssClass:e.cssClasses.rowLeave,onBeforeRunAnimation:Hn,onAfterRunAnimation:hn}},getEnterOptions:function(n,r){var o=e.cssClasses;return{cssClass:new J().append(o.rowEnter).append(o.rowDelayedEnter,r.isDeletingRunning).toString(),onBeforeRunAnimation:Hn,onAfterRunAnimation:hn}}}},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getPropertyValue("visibleRows")},set:function(e){this.rowsAnimation.sync(e)},enumerable:!1,configurable:!0}),t.prototype.onRemoveRow=function(e){e.visibleElementsAnimation.cancel(),this.visibleRows=this.rows.filter(function(n){return n.visible}),e.onVisibleChangedCallback=void 0},t.prototype.onRowVisibleChanged=function(){this.visibleRows=this.rows.filter(function(e){return e.visible})},t.prototype.getType=function(){return"panelbase"},t.prototype.setSurveyImpl=function(e,n){this.blockAnimations(),i.prototype.setSurveyImpl.call(this,e,n),this.isDesignMode&&this.onVisibleChanged();for(var r=0;r<this.elements.length;r++)this.elements[r].setSurveyImpl(e,n);this.releaseAnimations()},t.prototype.endLoadingFromJson=function(){var e=this;i.prototype.endLoadingFromJson.call(this),this.updateDescriptionVisibility(this.description),this.markQuestionListDirty(),this.onRowsChanged(),this.layoutColumns.forEach(function(n){n.onPropertyValueChangedCallback=e.onColumnPropertyValueChangedCallback})},t.prototype.calcHasTextInTitle=function(){this.hasTextInTitle=!!this.title},Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.canShowTitle()&&(this.hasTextInTitle||this.locTitle.textOrHtml.length>0)||this.isDesignMode&&!(N.supportCreatorV2&&this.isPanel)&&this.showTitle&&N.designMode.showEmptyTitles},enumerable:!1,configurable:!0}),t.prototype.delete=function(e){e===void 0&&(e=!0),this.deletePanel(),this.removeFromParent(),e&&this.dispose()},t.prototype.deletePanel=function(){for(var e=this.elements,n=0;n<e.length;n++){var r=e[n];r.isPanel&&r.deletePanel(),this.onRemoveElementNotifySurvey(r)}},t.prototype.removeFromParent=function(){},t.prototype.canShowTitle=function(){return!0},Object.defineProperty(t.prototype,"_showDescription",{get:function(){return!this.hasTitle&&this.isDesignMode?!1:this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&N.designMode.showEmptyDescriptions},enumerable:!1,configurable:!0}),t.prototype.localeChanged=function(){i.prototype.localeChanged.call(this);for(var e=0;e<this.elements.length;e++)this.elements[e].localeChanged()},t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this);for(var e=0;e<this.elements.length;e++)this.elements[e].locStrsChanged()},t.prototype.getMarkdownHtml=function(e,n){return n==="navigationTitle"&&this.locNavigationTitle.isEmpty?this.locTitle.renderedHtml||this.name:i.prototype.getMarkdownHtml.call(this,e,n)},Object.defineProperty(t.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedNavigationTitle",{get:function(){return this.locNavigationTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(e){this.setLocalizableStringText("requiredErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(e){this.setPropertyValue("questionsOrder",e)},enumerable:!1,configurable:!0}),t.prototype.canRandomize=function(e){return e&&this.questionsOrder!=="initial"||this.questionsOrder==="random"},t.prototype.randomizeElements=function(e){if(!(!this.canRandomize(e)||this.isRandomizing)){this.isRandomizing=!0;for(var n=[],r=this.elements,o=0;o<r.length;o++)n.push(r[o]);var c=g.randomizeArray(n);this.setArrayPropertyDirectly("elements",c,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1}},Object.defineProperty(t.prototype,"areQuestionsRandomized",{get:function(){var e=this.questionsOrder=="default"&&this.survey?this.survey.questionsOrder:this.questionsOrder;return e=="random"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(e){this.setPropertyValue("parent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depth",{get:function(){return this.parent==null?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(e){this.setPropertyValue("visibleIf",e)},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(e){var n={panel:{},error:{},row:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(n.panel,e.panel),this.copyCssClasses(n.error,e.error),e.pageRow&&(n.pageRow=e.pageRow),e.rowCompact&&(n.rowCompact=e.rowCompact),e.row&&(n.row=e.row),e.rowEnter&&(n.rowEnter=e.rowEnter),e.rowLeave&&(n.rowLeave=e.rowLeave),e.rowDelayedEnter&&(n.rowDelayedEnter=e.rowDelayedEnter),e.rowMultiple&&(n.rowMultiple=e.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,n),n},Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this},t.prototype.getLayoutType=function(){return"row"},t.prototype.isLayoutTypeSupported=function(e){return e!=="flow"},Object.defineProperty(t.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var e=0;e<this.elements.length;e++){var n=this.elements[e];if(n.isPanel)for(var r=n.questions,o=0;o<r.length;o++)this.questionsValue.push(r[o]);else this.questionsValue.push(n)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),t.prototype.getQuestions=function(e){var n=this.questions;if(!e)return n;var r=[];return n.forEach(function(o){r.push(o),o.getNestedQuestions().forEach(function(c){return r.push(c)})}),r},t.prototype.getValidName=function(e){return e&&e.trim()},t.prototype.getQuestionByName=function(e){for(var n=this.questions,r=0;r<n.length;r++)if(n[r].name==e)return n[r];return null},t.prototype.getElementByName=function(e){for(var n=this.elements,r=0;r<n.length;r++){var o=n[r];if(o.name==e)return o;var c=o.getPanel();if(c){var p=c.getElementByName(e);if(p)return p}}return null},t.prototype.getQuestionByValueName=function(e){var n=this.getQuestionsByValueName(e);return n.length>0?n[0]:null},t.prototype.getQuestionsByValueName=function(e){for(var n=[],r=this.questions,o=0;o<r.length;o++)r[o].getValueName()==e&&n.push(r[o]);return n},t.prototype.getValue=function(){var e={};return this.collectValues(e,0),g.getUnbindValue(e)},t.prototype.collectValues=function(e,n){var r=this.elements;n===0&&(r=this.questions);for(var o=0;o<r.length;o++){var c=r[o];if(c.isPanel||c.isPage){var p={};c.collectValues(p,n-1)&&(e[c.name]=p)}else{var y=c;if(!y.isEmpty()){var b=y.getValueName();if(e[b]=y.value,this.data){var E=this.data.getComment(b);E&&(e[b+$e.commentSuffix]=E)}}}}return!0},t.prototype.getDisplayValue=function(e){for(var n={},r=this.questions,o=0;o<r.length;o++){var c=r[o];if(!c.isEmpty()){var p=e?c.title:c.getValueName();n[p]=c.getDisplayValue(e)}}return n},t.prototype.getComments=function(){var e={};if(!this.data)return e;for(var n=this.questions,r=0;r<n.length;r++){var o=n[r],c=this.data.getComment(o.getValueName());c&&(e[o.getValueName()]=c)}return e},t.prototype.clearIncorrectValues=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearIncorrectValues()},t.prototype.clearErrors=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].clearErrors();this.errors=[]},t.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(t.prototype,"elements",{get:function(){return $e.collectDependency(this,"elements"),this.elementsValue},enumerable:!1,configurable:!0}),t.prototype.getElementsInDesign=function(e){return this.elements},t.prototype.containsElement=function(e){for(var n=0;n<this.elements.length;n++){var r=this.elements[n];if(r==e)return!0;var o=r.getPanel();if(o&&o.containsElement(e))return!0}return!1},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(e){this.setPropertyValue("isRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(e){this.setPropertyValue("requiredIf",e)},enumerable:!1,configurable:!0}),t.prototype.searchText=function(e,n){i.prototype.searchText.call(this,e,n);for(var r=0;r<this.elements.length;r++)this.elements[r].searchText(e,n)},t.prototype.hasErrors=function(e,n,r){return e===void 0&&(e=!0),n===void 0&&(n=!1),r===void 0&&(r=null),!this.validate(e,n,r)},t.prototype.validate=function(e,n,r){return e===void 0&&(e=!0),n===void 0&&(n=!1),r===void 0&&(r=null),r=r||{fireCallback:e,focusOnFirstError:n,firstErrorQuestion:null,result:!1},r.result!==!0&&(r.result=!1),this.hasErrorsCore(r),!r.result},t.prototype.validateContainerOnly=function(){this.hasErrorsInPanels({fireCallback:!0}),this.parent&&this.parent.validateContainerOnly()},t.prototype.onQuestionValueChanged=function(e){var n=this.questions.indexOf(e);if(!(n<0)){for(var r=5,o=this.questions.length-1,c=n-r>0?n-r:0,p=n+r<o?n+r:o,y=c;y<=p;y++)if(y!==n){var b=this.questions[y];b.errors.length>0&&b.validate(!1)&&b.validate(!0)}}},t.prototype.hasErrorsInPanels=function(e){var n=[];if(this.hasRequiredError(e,n),this.survey){var r=this.survey.validatePanel(this);r&&(n.push(r),e.result=!0)}e.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,n),this.errors=n)},t.prototype.getErrorCustomText=function(e,n){return this.survey?this.survey.getSurveyErrorCustomText(this,e,n):e},t.prototype.hasRequiredError=function(e,n){if(this.isRequired){var r=[];if(this.addQuestionsToList(r,!0),r.length!=0){for(var o=0;o<r.length;o++)if(!r[o].isEmpty())return;e.result=!0,n.push(new cd(this.requiredErrorText,this)),e.focusOnFirstError&&!e.firstErrorQuestion&&(e.firstErrorQuestion=r[0])}}},t.prototype.hasErrorsCore=function(e){for(var n=this.elements,r=null,o=null,c=0;c<n.length;c++)if(r=n[c],!!r.isVisible)if(r.isPanel)r.hasErrorsCore(e);else{var p=r;p.validate(e.fireCallback,e)||(o||(o=p),e.firstErrorQuestion||(e.firstErrorQuestion=p),e.result=!0)}this.hasErrorsInPanels(e),this.updateContainsErrors(),!o&&this.errors.length>0&&(o=this.getFirstQuestionToFocus(!1,!0),e.firstErrorQuestion||(e.firstErrorQuestion=o)),e.fireCallback&&o&&(o===e.firstErrorQuestion&&e.focusOnFirstError?o.focus(!0):o.expandAllParents())},t.prototype.getContainsErrors=function(){var e=i.prototype.getContainsErrors.call(this);if(e)return e;for(var n=this.elements,r=0;r<n.length;r++)if(n[r].containsErrors)return!0;return!1},t.prototype.updateElementVisibility=function(){for(var e=0;e<this.elements.length;e++){var n=this.elements[e];n.setPropertyValue("isVisible",n.isVisible),n.isPanel&&n.updateElementVisibility()}},t.prototype.getFirstQuestionToFocus=function(e,n){if(e===void 0&&(e=!1),n===void 0&&(n=!1),!e&&!n&&this.isCollapsed)return null;for(var r=this.elements,o=0;o<r.length;o++){var c=r[o];if(!(!c.isVisible||!n&&c.isCollapsed))if(c.isPanel){var p=c.getFirstQuestionToFocus(e,n);if(p)return p}else{var y=c.getFirstQuestionToFocus(e);if(y)return y}}return null},t.prototype.focusFirstQuestion=function(){var e=this.getFirstQuestionToFocus();e&&e.focus()},t.prototype.focusFirstErrorQuestion=function(){var e=this.getFirstQuestionToFocus(!0);e&&e.focus()},t.prototype.addQuestionsToList=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=!1),this.addElementsToList(e,n,r,!1)},t.prototype.addPanelsIntoList=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=!1),this.addElementsToList(e,n,r,!0)},t.prototype.addElementsToList=function(e,n,r,o){n&&!this.visible||this.addElementsToListCore(e,this.elements,n,r,o)},t.prototype.addElementsToListCore=function(e,n,r,o,c){for(var p=0;p<n.length;p++){var y=n[p];r&&!y.visible||((c&&y.isPanel||!c&&!y.isPanel)&&e.push(y),y.isPanel?y.addElementsToListCore(e,y.elements,r,o,c):o&&this.addElementsToListCore(e,y.getElementsInDesign(!1),r,o,c))}},t.prototype.calcMaxRowColSpan=function(){var e=0;return this.rows.forEach(function(n){var r=0,o=!1;n.elements.forEach(function(c){c.width&&(o=!0),r+=c.colSpan||1}),!o&&r>e&&(e=r)}),e},t.prototype.updateColumnWidth=function(e){var n=0,r=0;if(e.forEach(function(p){p.width?(n+=p.width,p.setPropertyValue("effectiveWidth",p.width)):r++}),r)for(var o=rv((100-n)/r),c=0;c<e.length;c++)e[c].width||e[c].setPropertyValue("effectiveWidth",o)},t.prototype.updateColumns=function(){this._columns=void 0,this.updateRootStyle()},t.prototype.updateRootStyle=function(){var e;i.prototype.updateRootStyle.call(this),(e=this.elements)===null||e===void 0||e.forEach(function(n){return n.updateRootStyle()})},t.prototype.updateCustomWidgets=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].updateCustomWidgets()},Object.defineProperty(t.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),t.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():this.questionTitleLocation!="default"?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},t.prototype.availableQuestionTitleWidth=function(){var e=this.getQuestionTitleLocation();return e==="left"?!0:this.hasElementWithTitleLocationLeft()},t.prototype.hasElementWithTitleLocationLeft=function(){var e=this.elements.some(function(n){if(n instanceof t)return n.hasElementWithTitleLocationLeft();if(n instanceof zt)return n.getTitleLocation()==="left"});return e},t.prototype.getQuestionTitleWidth=function(){return this.questionTitleWidth||this.parent&&this.parent.getQuestionTitleWidth()},Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns||this.generateColumns(),this._columns||[]},enumerable:!1,configurable:!0}),t.prototype.generateColumns=function(){var e=this.calcMaxRowColSpan(),n=[].concat(this.layoutColumns);if(e<=this.layoutColumns.length)n=this.layoutColumns.slice(0,e);else for(var r=this.layoutColumns.length;r<e;r++){var o=new Ud;o.onPropertyValueChangedCallback=this.onColumnPropertyValueChangedCallback,n.push(o)}this._columns=n;try{this._columnsReady=!1,this.updateColumnWidth(n)}finally{this._columnsReady=!0}this.layoutColumns=n},t.prototype.getColumsForElement=function(e){var n=this.findRowByElement(e);if(!n||!this.survey||!this.survey.gridLayoutEnabled)return[];for(var r=n.elements.length-1;r>=0&&n.elements[r].getPropertyValueWithoutDefault("colSpan");)r--;for(var o=n.elements.indexOf(e),c=0,p=0;p<o;p++)c+=n.elements[p].colSpan;var y=e.getPropertyValueWithoutDefault("colSpan");if(!y&&o===r){for(var b=0,p=0;p<n.elements.length;p++)p!==r&&(b+=n.elements[p].colSpan);y=this.columns.length-b}var E=this.columns.slice(c,c+(y||1));return e.setPropertyValue("effectiveColSpan",E.length),E},t.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.getProgressInfo=function(){return Qt.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t.prototype.childVisibilityChanged=function(){var e=this.getIsPageVisible(null),n=this.getPropertyValue("isVisible",!0);e!==n&&this.onVisibleChanged()},t.prototype.canRenderFirstRows=function(){return this.isPage},t.prototype.isLazyRenderInRow=function(e){return!this.survey||!this.survey.isLazyRendering?!1:e>=this.survey.lazyRenderingFirstBatchSize||!this.canRenderFirstRows()},t.prototype.createRowAndSetLazy=function(e){var n=this.createRow();return n.setIsLazyRendering(this.isLazyRenderInRow(e)),n},t.prototype.createRow=function(){return new $d(this)},t.prototype.onSurveyLoad=function(){this.blockAnimations(),i.prototype.onSurveyLoad.call(this);for(var e=0;e<this.elements.length;e++)this.elements[e].onSurveyLoad();this.onElementVisibilityChanged(this),this.releaseAnimations(),this.calcHasTextInTitle()},t.prototype.onFirstRendering=function(){i.prototype.onFirstRendering.call(this);for(var e=0;e<this.elements.length;e++)this.elements[e].onFirstRendering();this.onRowsChanged()},t.prototype.updateRows=function(){if(!this.isLoadingFromJson){for(var e=0;e<this.elements.length;e++)this.elements[e].isPanel&&this.elements[e].updateRows();this.onRowsChanged()}},Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),t.prototype.ensureRowsVisibility=function(){this.rows.forEach(function(e){e.ensureVisibility()})},t.prototype.onRowsChanged=function(){this.isLoadingFromJson||(this.blockAnimations(),this.setArrayPropertyDirectly("rows",this.buildRows()),this.updateColumns(),this.releaseAnimations())},t.prototype.blockRowsUpdates=function(){this.locCountRowUpdates++},t.prototype.releaseRowsUpdates=function(){this.locCountRowUpdates--},t.prototype.updateRowsBeforeElementRemoved=function(e){var n=this,r=this.findRowByElement(e),o=this.rows.indexOf(r),c=r.elements.indexOf(e);r.elements.splice(c,1),r.elements.length==0?this.rows.splice(o,1):!r.elements[0].startWithNewLine&&this.rows[o-1]?(r.elements.forEach(function(p){return n.rows[o-1].addElement(p)}),this.rows.splice(o,1)):r.updateVisible()},t.prototype.updateRowsOnElementAdded=function(e){var n=this,r=this.elements.indexOf(e),o=this.elements[r+1],c=function(M){var Q=n.createRowAndSetLazy(M);return n.isDesignModeV2&&Q.setIsLazyRendering(!1),n.rows.splice(M,0,Q),Q},p=function(M,Q,X){for(var oe,we=[],Ce=3;Ce<arguments.length;Ce++)we[Ce-3]=arguments[Ce];var ve=(oe=M.elements).splice.apply(oe,Wd([Q,X],we));return M.updateVisible(),ve};if(!o){r==0||e.startWithNewLine?p(c(this.rows.length),0,0,e):this.rows[this.rows.length-1].addElement(e);return}var y=this.findRowByElement(o);if(y){var b=this.rows.indexOf(y),E=y.elements.indexOf(o);E==0?o.startWithNewLine?e.startWithNewLine||b<1?c(b).addElement(e):this.rows[b-1].addElement(e):p(y,0,0,e):e.startWithNewLine?p.apply(void 0,Wd([c(b+1),0,0],[e].concat(p(y,E,y.elements.length)))):p(y,E,0,e)}},t.prototype.onAddElement=function(e,n){var r=this;if(e.setSurveyImpl(this.surveyImpl),e.parent=this,this.markQuestionListDirty(),this.canBuildRows()&&this.updateRowsOnElementAdded(e),e.isPanel){var o=e;this.survey&&this.survey.panelAdded(o,n,this,this.root)}else if(this.survey){var c=e;this.survey.questionAdded(c,n,this,this.root)}this.addElementCallback&&this.addElementCallback(e),e.registerPropertyChangedHandlers(["visible","isVisible"],function(){r.onElementVisibilityChanged(e)},this.id),e.registerPropertyChangedHandlers(["startWithNewLine"],function(){r.onElementStartWithNewLineChanged(e)},this.id),this.onElementVisibilityChanged(this)},t.prototype.onRemoveElement=function(e){e.parent=null,this.markQuestionListDirty(),e.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id),this.updateRowsOnElementRemoved(e),!this.isRandomizing&&(this.onRemoveElementNotifySurvey(e),this.removeElementCallback&&this.removeElementCallback(e),this.onElementVisibilityChanged(this))},t.prototype.onRemoveElementNotifySurvey=function(e){this.survey&&(e.isPanel?this.survey.panelRemoved(e):this.survey.questionRemoved(e))},t.prototype.onElementVisibilityChanged=function(e){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(e),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},t.prototype.onElementStartWithNewLineChanged=function(e){this.locCountRowUpdates>0||(this.updateRowsBeforeElementRemoved(e),this.updateRowsOnElementAdded(e))},t.prototype.updateRowsVisibility=function(e){for(var n=this.rows,r=0;r<n.length;r++){var o=n[r];if(o.elements.indexOf(e)>-1){o.updateVisible(),o.visible&&!o.isNeedRender&&(o.isNeedRender=!0);break}}},t.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&this.getChildrenLayoutType()=="row"},t.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var e=new Array,n=0;n<this.elements.length;n++){var r=this.elements[n],o=n==0||r.startWithNewLine,c=o?this.createRowAndSetLazy(e.length):e[e.length-1];o&&e.push(c),c.addElement(r)}for(var n=0;n<e.length;n++)e[n].updateVisible();return e},t.prototype.getDragDropInfo=function(){var e=this.getPage(this.parent);return e?e.getDragDropInfo():void 0},t.prototype.updateRowsOnElementRemoved=function(e){this.canBuildRows()&&(this.updateRowsRemoveElementFromRow(e,this.findRowByElement(e)),this.updateColumns())},t.prototype.updateRowsRemoveElementFromRow=function(e,n){if(!(!n||!n.panel)){var r=n.elements.indexOf(e);r<0||(n.elements.splice(r,1),n.elements.length>0?(this.blockRowsUpdates(),n.elements[0].startWithNewLine=!0,this.releaseRowsUpdates(),n.updateVisible()):n.index>=0&&n.panel.rows.splice(n.index,1))}},t.prototype.getAllRows=function(){var e=this,n=[];return this.rows.forEach(function(r){var o=[];r.elements.forEach(function(c){c.isPanel?o.push.apply(o,c.getAllRows()):c.getType()=="paneldynamic"&&(e.isDesignMode?o.push.apply(o,c.template.getAllRows()):c.panels.forEach(function(p){return o.push.apply(o,p.getAllRows())}))}),n.push(r),n.push.apply(n,o)}),n},t.prototype.findRowAndIndexByElement=function(e,n){if(!e)return{row:void 0,index:this.rows.length-1};n=n||this.rows;for(var r=0;r<n.length;r++)if(n[r].elements.indexOf(e)>-1)return{row:n[r],index:r};return{row:null,index:-1}},t.prototype.forceRenderRow=function(e){e&&!e.isNeedRender&&(e.isNeedRender=!0,e.stopLazyRendering())},t.prototype.forceRenderElement=function(e,n,r){n===void 0&&(n=function(){}),r===void 0&&(r=0);var o=this.getAllRows(),c=this.findRowAndIndexByElement(e,o),p=c.row,y=c.index;if(y>=0&&y<o.length){var b=[];b.push(p);for(var E=y-1;E>=y-r&&E>=0;E--)b.push(o[E]);this.forceRenderRows(b,n)}},t.prototype.forceRenderRows=function(e,n){var r=this;n===void 0&&(n=function(){});var o=function(c){return function(){c--,c<=0&&n()}}(e.length);e.forEach(function(c){return new Fm(c.visibleElements,o)}),e.forEach(function(c){return r.forceRenderRow(c)})},t.prototype.findRowByElement=function(e){return this.findRowAndIndexByElement(e).row},t.prototype.elementWidthChanged=function(e){if(!this.isLoadingFromJson){var n=this.findRowByElement(e);n&&n.updateVisible()}},Object.defineProperty(t.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),t.prototype.getRenderedTitle=function(e){return this.textProcessor!=null?this.textProcessor.processText(e,!0):e},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(e){e!==this.visible&&(this.setPropertyValue("visible",e),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),t.prototype.onHidingContent=function(){this.questions.forEach(function(e){return e.onHidingContent()})},t.prototype.onVisibleChanged=function(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.survey&&this.survey.getQuestionClearIfInvisible("default")!=="none"&&!this.isLoadingFromJson))for(var e=this.questions,n=this.isVisible,r=0;r<e.length;r++){var o=e[r];n?o.updateValueWithDefaults():(o.clearValueIfInvisible("onHiddenContainer"),o.onHidingContent())}},t.prototype.notifyStateChanged=function(e){i.prototype.notifyStateChanged.call(this,e),this.isCollapsed&&this.questions.forEach(function(n){return n.onHidingContent()})},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),t.prototype.getIsContentVisible=function(e){if(this.areInvisibleElementsShowing)return!0;for(var n=0;n<this.elements.length;n++)if(this.elements[n]!=e&&this.elements[n].isVisible)return!0;return!1},t.prototype.getIsPageVisible=function(e){return this.visible&&this.getIsContentVisible(e)},t.prototype.setVisibleIndex=function(e){if(!this.isVisible||e<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=e;var n=e;e+=this.beforeSetVisibleIndex(e);for(var r=this.getPanelStartIndex(e),o=r,c=0;c<this.elements.length;c++)o+=this.elements[c].setVisibleIndex(o);return this.isContinueNumbering()&&(e+=o-r),e-n},t.prototype.updateVisibleIndexes=function(){this.lastVisibleIndex!==void 0&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))},t.prototype.resetVisibleIndexes=function(){for(var e=0;e<this.elements.length;e++)this.elements[e].setVisibleIndex(-1)},t.prototype.beforeSetVisibleIndex=function(e){return 0},t.prototype.getPanelStartIndex=function(e){return e},t.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){var e=!!this.parent&&this.parent.isReadOnly,n=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||e||n},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){for(var e=0;e<this.elements.length;e++){var n=this.elements[e];n.setPropertyValue("isReadOnly",n.isReadOnly)}i.prototype.onReadOnlyChanged.call(this)},t.prototype.updateElementCss=function(e){i.prototype.updateElementCss.call(this,e);for(var n=0;n<this.elements.length;n++){var r=this.elements[n];r.updateElementCss(e)}},Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(e){this.setPropertyValue("enableIf",e)},enumerable:!1,configurable:!0}),t.prototype.addElement=function(e,n){return n===void 0&&(n=-1),this.canAddElement(e)?(n<0||n>=this.elements.length?this.elements.push(e):this.elements.splice(n,0,e),this.wasRendered&&e.onFirstRendering(),this.updateColumns(),!0):!1},t.prototype.insertElement=function(e,n,r){if(r===void 0&&(r="bottom"),!n){this.addElement(e);return}this.blockRowsUpdates();var o=this.elements.indexOf(n),c=this.findRowByElement(n);r=="left"||r=="right"?r=="right"?(e.startWithNewLine=!1,o++):c.elements.indexOf(n)==0?(n.startWithNewLine=!1,e.startWithNewLine=!0):e.startWithNewLine=!1:(e.startWithNewLine=!0,r=="top"?o=this.elements.indexOf(c.elements[0]):o=this.elements.indexOf(c.elements[c.elements.length-1])+1),this.releaseRowsUpdates(),this.addElement(e,o)},t.prototype.insertElementAfter=function(e,n){var r=this.elements.indexOf(n);r>=0&&this.addElement(e,r+1)},t.prototype.insertElementBefore=function(e,n){var r=this.elements.indexOf(n);r>=0&&this.addElement(e,r)},t.prototype.canAddElement=function(e){return!!e&&e.isLayoutTypeSupported(this.getChildrenLayoutType())},t.prototype.addQuestion=function(e,n){return n===void 0&&(n=-1),this.addElement(e,n)},t.prototype.addPanel=function(e,n){return n===void 0&&(n=-1),this.addElement(e,n)},t.prototype.addNewQuestion=function(e,n,r){n===void 0&&(n=null),r===void 0&&(r=-1);var o=lt.Instance.createQuestion(e,n);return this.addQuestion(o,r)?o:null},t.prototype.addNewPanel=function(e){e===void 0&&(e=null);var n=this.createNewPanel(e);return this.addPanel(n)?n:null},t.prototype.indexOf=function(e){return this.elements.indexOf(e)},t.prototype.createNewPanel=function(e){var n=H.createClass("panel");return n.name=e,n},t.prototype.removeElement=function(e){var n=this.elements.indexOf(e);if(n<0){for(var r=0;r<this.elements.length;r++)if(this.elements[r].removeElement(e))return!0;return!1}return this.elements.splice(n,1),this.updateColumns(),!0},t.prototype.removeQuestion=function(e){this.removeElement(e)},t.prototype.runCondition=function(e,n){if(!(this.isDesignMode||this.isLoadingFromJson)){for(var r=this.elements.slice(),o=0;o<r.length;o++)r[o].runCondition(e,n);this.runConditionCore(e,n)}},t.prototype.onAnyValueChanged=function(e,n){for(var r=this.elements,o=0;o<r.length;o++)r[o].onAnyValueChanged(e,n)},t.prototype.checkBindings=function(e,n){for(var r=this.elements,o=0;o<r.length;o++)r[o].checkBindings(e,n)},t.prototype.dragDropAddTarget=function(e){this.dragDropPanelHelper.dragDropAddTarget(e)},t.prototype.dragDropFindRow=function(e){return this.dragDropPanelHelper.dragDropFindRow(e)},t.prototype.dragDropMoveElement=function(e,n,r){this.dragDropPanelHelper.dragDropMoveElement(e,n,r)},t.prototype.needResponsiveWidth=function(){var e=!1;return this.elements.forEach(function(n){n.needResponsiveWidth()&&(e=!0)}),this.rows.forEach(function(n){n.elements.length>1&&(e=!0)}),e},Object.defineProperty(t.prototype,"hasDescriptionUnderTitle",{get:function(){return this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeader",{get:function(){return this.cssClasses.panel.header},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssDescription",{get:function(){return this.cssClasses.panel.description},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(e){this.setPropertyValue("questionErrorLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionErrorLocation=function(){return this.questionErrorLocation!=="default"?this.questionErrorLocation:this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},t.prototype.getTitleOwner=function(){return this},Object.defineProperty(t.prototype,"no",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssTitleNumber",{get:function(){return this.cssClasses.panel.number},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRequiredText",{get:function(){return this.cssClasses.panel.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssError",{get:function(){return this.getCssError(this.cssClasses)},enumerable:!1,configurable:!0}),t.prototype.getCssError=function(e){return new J().append(e.error.root).toString()},t.prototype.getSerializableColumnsValue=function(){for(var e=-1,n=this.layoutColumns.length-1;n>=0;n--)if(!this.layoutColumns[n].isEmpty()){e=n;break}return this.layoutColumns.slice(0,e+1)},t.prototype.afterRender=function(e){this.afterRenderCore(e)},t.prototype.dispose=function(){if(i.prototype.dispose.call(this),this.rows){for(var e=0;e<this.rows.length;e++)this.rows[e].dispose();this.rows.splice(0,this.rows.length)}for(var e=0;e<this.elements.length;e++)this.elements[e].dispose();this.elements.splice(0,this.elements.length)},t.panelCounter=100,Ci([ee()],t.prototype,"layoutColumns",void 0),Ci([V({defaultValue:!0})],t.prototype,"showTitle",void 0),Ci([V({defaultValue:!1})],t.prototype,"hasTextInTitle",void 0),Ci([V({defaultValue:!0})],t.prototype,"showDescription",void 0),Ci([V()],t.prototype,"questionTitleWidth",void 0),t}(Qt),ws=function(i){vl(t,i);function t(e){e===void 0&&(e="");var n=i.call(this,e)||this;return n.forcusFirstQuestionOnExpand=!0,n.createNewArray("footerActions"),n.registerPropertyChangedHandlers(["width"],function(){n.parent&&n.parent.elementWidthChanged(n)}),n.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],function(){n.onIndentChanged()}),n.registerPropertyChangedHandlers(["colSpan"],function(){var r;(r=n.parent)===null||r===void 0||r.updateColumns()}),n}return t.prototype.getType=function(){return"panel"},Object.defineProperty(t.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),t.prototype.getSurvey=function(e){return e===void 0&&(e=!1),e?this.parent?this.parent.getSurvey(e):null:i.prototype.getSurvey.call(this,e)},t.prototype.onSurveyLoad=function(){i.prototype.onSurveyLoad.call(this),this.onIndentChanged()},t.prototype.onSetData=function(){i.prototype.onSetData.call(this),this.onIndentChanged(),this.calcHasTextInTitle()},Object.defineProperty(t.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(e){this.setPage(this.parent,e)},enumerable:!1,configurable:!0}),t.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},t.prototype.moveTo=function(e,n){return n===void 0&&(n=null),this.moveToBase(this.parent,e,n)},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber")},set:function(e){this.setPropertyValue("showNumber",e),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){this.setPropertyValue("showQuestionNumbers",e),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(e){this.setPropertyValue("questionStartIndex",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:i.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(t.prototype,"no",{get:function(){return this.getPropertyValue("no","")},enumerable:!1,configurable:!0}),t.prototype.setNo=function(e){this.setPropertyValue("no",g.getNumberByIndex(this.visibleIndex,this.getStartIndex()))},t.prototype.notifyStateChanged=function(e){this.isLoadingFromJson||this.locTitle.strChanged(),i.prototype.notifyStateChanged.call(this,e)},t.prototype.createLocTitleProperty=function(){var e=this,n=i.prototype.createLocTitleProperty.call(this);return n.onGetTextCallback=function(r){return!r&&e.state!=="default"&&(r=e.name),r},n},t.prototype.beforeSetVisibleIndex=function(e){var n=-1;return this.showNumber&&(this.isDesignMode||!this.locTitle.isEmpty||this.hasParentInQuestionIndex())&&(n=e),this.setPropertyValue("visibleIndex",n),this.setNo(n),n<0?0:1},t.prototype.getPanelStartIndex=function(e){return this.showQuestionNumbers==="off"?-1:this.showQuestionNumbers==="onpanel"?0:e},t.prototype.hasParentInQuestionIndex=function(){if(this.showQuestionNumbers!=="onpanel")return!1;var e=this.questionStartIndex,n=e.indexOf(".");return n>-1&&n<e.length-1},t.prototype.isContinueNumbering=function(){return this.showQuestionNumbers!=="off"&&this.showQuestionNumbers!=="onpanel"},t.prototype.notifySurveyOnVisibilityChanged=function(){this.survey!=null&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)},t.prototype.getRenderedTitle=function(e){if(!e){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return i.prototype.getRenderedTitle.call(this,e)},Object.defineProperty(t.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent")},set:function(e){this.setPropertyValue("innerIndent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(e){this.setPropertyValue("startWithNewLine",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(e){this.setPropertyValue("allowAdaptiveActions",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerPaddingLeft",{get:function(){return this.getPropertyValue("innerPaddingLeft","")},set:function(e){this.setPropertyValue("innerPaddingLeft",e)},enumerable:!1,configurable:!0}),t.prototype.onIndentChanged=function(){this.getSurvey()&&(this.innerPaddingLeft=this.getIndentSize(this.innerIndent),this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent))},t.prototype.getIndentSize=function(e){if(e<1)return"";var n=this.survey.css;return!n||!n.question.indent?"":e*n.question.indent+"px"},t.prototype.clearOnDeletingContainer=function(){this.elements.forEach(function(e){(e instanceof zt||e instanceof t)&&e.clearOnDeletingContainer()})},Object.defineProperty(t.prototype,"footerActions",{get:function(){return this.getPropertyValue("footerActions")},enumerable:!1,configurable:!0}),t.prototype.getFooterToolbar=function(){var e=this,n,r;if(!this.footerToolbarValue){var o=this.footerActions;this.hasEditButton&&o.push({id:"cancel-preview",locTitle:this.survey.locEditText,innerCss:this.survey.cssNavigationEdit,component:"sv-nav-btn",action:function(){e.cancelPreview()}}),this.onGetFooterActionsCallback?o=this.onGetFooterActionsCallback():o=(n=this.survey)===null||n===void 0?void 0:n.getUpdatedPanelFooterActions(this,o),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions);var c=this.onGetFooterToolbarCssCallback?this.onGetFooterToolbarCssCallback():"";c||(c=(r=this.cssClasses.panel)===null||r===void 0?void 0:r.footer),c&&(this.footerToolbarValue.containerCss=c),this.footerToolbarValue.setItems(o)}return this.footerToolbarValue},Object.defineProperty(t.prototype,"hasEditButton",{get:function(){return this.survey&&this.survey.state==="preview"?this.parent&&this.parent instanceof lo:!1},enumerable:!1,configurable:!0}),t.prototype.cancelPreview=function(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.getCssTitle(this.cssClasses.panel)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsAbovePanel",{get:function(){return this.isDefaultV2Theme&&!this.showPanelAsPage},enumerable:!1,configurable:!0}),t.prototype.getCssError=function(e){var n=new J().append(i.prototype.getCssError.call(this,e)).append(e.panel.errorsContainer);return n.append("panel-error-root",n.isEmpty()).toString()},t.prototype.onVisibleChanged=function(){i.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},t.prototype.needResponsiveWidth=function(){return this.startWithNewLine?i.prototype.needResponsiveWidth.call(this):!0},t.prototype.focusIn=function(){this.survey&&this.survey.whenPanelFocusIn(this)},t.prototype.getHasFrameV2=function(){return i.prototype.getHasFrameV2.call(this)&&!this.showPanelAsPage},t.prototype.getIsNested=function(){return i.prototype.getIsNested.call(this)&&this.parent!==void 0},Object.defineProperty(t.prototype,"showPanelAsPage",{get:function(){var e=this;return e.originalPage?!0:e.survey.isShowingPreview&&e.survey.isSinglePage&&!!e.parent&&!!e.parent.originalPage},enumerable:!1,configurable:!0}),t.prototype.expand=function(e){e===void 0&&(e=!0),this.forcusFirstQuestionOnExpand=e,i.prototype.expand.call(this)},t.prototype.onElementExpanded=function(e){var n=this;if(this.forcusFirstQuestionOnExpand&&this.survey!=null&&!this.isLoadingFromJson){var r=this.getFirstQuestionToFocus(!1);r&&setTimeout(function(){!n.isDisposed&&n.survey&&n.survey.scrollElementToTop(r,r,null,r.inputId,!1,{behavior:"smooth"})},e?0:15)}},t.prototype.getCssRoot=function(e){return new J().append(i.prototype.getCssRoot.call(this,e)).append(e.container).append(e.asPage,this.showPanelAsPage).append(e.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},t.prototype.getContainerCss=function(){return this.getCssRoot(this.cssClasses.panel)},t.prototype.afterRenderCore=function(e){var n;i.prototype.afterRenderCore.call(this,e),(n=this.survey)===null||n===void 0||n.afterRenderPanel(this,e)},t}(Cs);H.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"readOnly:boolean",overridingProperty:"enableIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"questionTitleWidth",visibleIf:function(i){return!!i&&i.availableQuestionTitleWidth()}},{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"layoutColumns:panellayoutcolumns",className:"panellayoutcolumn",isArray:!0,onSerializeValue:function(i){return i.getSerializableColumnsValue()},visibleIf:function(i){return!!i&&!!i.survey&&i.survey.gridLayoutEnabled}},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionsOrder",default:"default",choices:["default","initial","random"]},{name:"questionErrorLocation",default:"default",choices:["default","top","bottom"]}],function(){return new Cs}),H.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},"width",{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"maxWidth",defaultFunc:function(){return N.maxWidth}},{name:"colSpan:number",visible:!1,onSerializeValue:function(i){return i.getPropertyValue("colSpan")}},{name:"effectiveColSpan:number",minValue:1,isSerializable:!1,visibleIf:function(i){return!!i&&!!i.survey&&i.survey.gridLayoutEnabled}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3],visible:!1},{name:"page",isSerializable:!1,visibleIf:function(i){var t=i?i.survey:null;return!t||!t.pages||t.pages.length>1},choices:function(i){var t=i?i.survey:null;return t?t.pages.map(function(e){return{value:e.name,text:e.title}}):[]}},"showNumber:boolean",{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},"questionStartIndex",{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new ws},"panelbase"),pr.Instance.registerElement("panel",function(i){return new ws(i)});var Wv=function(){function i(t){this.page=t}return i.prototype.getDragDropInfo=function(){return this.dragDropInfo},i.prototype.dragDropStart=function(t,e,n){n===void 0&&(n=-1),this.dragDropInfo=new zd(t,e,n)},i.prototype.dragDropMoveTo=function(t,e,n){if(e===void 0&&(e=!1),n===void 0&&(n=!1),!this.dragDropInfo||(this.dragDropInfo.destination=t,this.dragDropInfo.isBottom=e,this.dragDropInfo.isEdge=n,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert()))return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var r=this.page.dragDropFindRow(this.dragDropInfo.target);this.page.updateRowsRemoveElementFromRow(this.dragDropInfo.target,r)}return!1}return this.page.dragDropAddTarget(this.dragDropInfo),!0},i.prototype.correctDragDropInfo=function(t){if(t.destination){var e=t.destination.isPanel?t.destination:null;e&&(t.target.isLayoutTypeSupported(e.getChildrenLayoutType())||(t.isEdge=!0))}},i.prototype.dragDropAllowFromSurvey=function(){var t=this.dragDropInfo.destination;if(!t||!this.page.survey)return!0;var e=null,n=null,r=t.isPage||!this.dragDropInfo.isEdge&&t.isPanel?t:t.parent;if(!t.isPage){var o=t.parent;if(o){var c=o.elements,p=c.indexOf(t);p>-1&&(e=t,n=t,this.dragDropInfo.isBottom?e=p<c.length-1?c[p+1]:null:n=p>0?c[p-1]:null)}}var y={allow:!0,target:this.dragDropInfo.target,source:this.dragDropInfo.source,toElement:this.dragDropInfo.target,draggedElement:this.dragDropInfo.source,parent:r,fromElement:this.dragDropInfo.source?this.dragDropInfo.source.parent:null,insertAfter:n,insertBefore:e};return this.page.survey.dragAndDropAllow(y)},i.prototype.dragDropFinish=function(t){if(t===void 0&&(t=!1),!!this.dragDropInfo){var e=this.dragDropInfo.target,n=this.dragDropInfo.source,r=this.dragDropInfo.destination,o=this.page.dragDropFindRow(e),c=this.dragDropGetElementIndex(e,o);this.page.updateRowsRemoveElementFromRow(e,o);var p=[],y=[];if(!t&&o){var b=!1;if(this.page.isDesignModeV2){var E=n&&n.parent&&n.parent.dragDropFindRow(n);o.panel.elements[c]&&o.panel.elements[c].startWithNewLine&&o.elements.length>1&&o.panel.elements[c]===r&&(p.push(e),y.push(o.panel.elements[c])),e.startWithNewLine&&o.elements.length>1&&(!o.panel.elements[c]||!o.panel.elements[c].startWithNewLine)&&y.push(e),E&&E.elements[0]===n&&E.elements[1]&&p.push(E.elements[1]),o.elements.length<=1&&p.push(e),e.startWithNewLine&&o.elements.length>1&&o.elements[0]!==r&&y.push(e)}this.page.survey.startMovingQuestion(),n&&n.parent&&(b=o.panel==n.parent,b?(o.panel.dragDropMoveElement(n,e,c),c=-1):n.parent.removeElement(n)),c>-1&&o.panel.addElement(e,c),this.page.survey.stopMovingQuestion()}return p.map(function(M){M.startWithNewLine=!0}),y.map(function(M){M.startWithNewLine=!1}),this.dragDropInfo=null,t?null:e}},i.prototype.dragDropGetElementIndex=function(t,e){if(!e)return-1;var n=e.elements.indexOf(t);if(e.index==0)return n;var r=e.panel.rows[e.index-1],o=r.elements[r.elements.length-1];return n+e.panel.elements.indexOf(o)+1},i.prototype.dragDropCanDropTagert=function(){var t=this.dragDropInfo.destination;return!t||t.isPage?!0:this.dragDropCanDropCore(this.dragDropInfo.target,t)},i.prototype.dragDropCanDropSource=function(){var t=this.dragDropInfo.source;if(!t)return!0;var e=this.dragDropInfo.destination;if(!this.dragDropCanDropCore(t,e))return!1;if(this.page.isDesignModeV2){var n=this.page.dragDropFindRow(t),r=this.page.dragDropFindRow(e);if(n!==r&&(!t.startWithNewLine&&e.startWithNewLine||t.startWithNewLine&&!e.startWithNewLine))return!0;var o=this.page.dragDropFindRow(e);if(o&&o.elements.length==1)return!0}return this.dragDropCanDropNotNext(t,e,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},i.prototype.dragDropCanDropCore=function(t,e){if(!e)return!0;if(this.dragDropIsSameElement(e,t))return!1;if(t.isPanel){var n=t;if(n.containsElement(e)||n.getElementByName(e.name))return!1}return!0},i.prototype.dragDropCanDropNotNext=function(t,e,n,r){if(!e||e.isPanel&&!n||typeof t.parent>"u"||t.parent!==e.parent)return!0;var o=t.parent,c=o.elements.indexOf(t),p=o.elements.indexOf(e);return p<c&&!r&&p--,r&&p++,c<p?p-c>1:c-p>0},i.prototype.dragDropIsSameElement=function(t,e){return t==e||t.name==e.name},i}(),$v=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jv=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},lo=function(i){$v(t,i);function t(e){e===void 0&&(e="");var n=i.call(this,e)||this;return n.hasShownValue=!1,n.timeSpent=0,n.createLocalizableString("navigationDescription",n,!0),n.dragDropPageHelper=new Wv(n),n}return t.prototype.getType=function(){return"page"},t.prototype.toString=function(){return this.name},Object.defineProperty(t.prototype,"isPage",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"no",{get:function(){return this.canShowPageNumber()?this.num+". ":""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssTitleNumber",{get:function(){return this.cssClasses.page.number},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRequiredText",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.canShowPageNumber=function(){return this.survey&&this.survey.showPageNumbers},t.prototype.canShowTitle=function(){return this.survey&&this.survey.showPageTitles},t.prototype.setTitleValue=function(e){i.prototype.setTitleValue.call(this,e),this.navigationLocStrChanged()},Object.defineProperty(t.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(e){this.setLocalizableStringText("navigationTitle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(e){this.setLocalizableStringText("navigationDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),t.prototype.navigationLocStrChanged=function(){this.locNavigationTitle.isEmpty&&this.locTitle.strChanged(),this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()},t.prototype.getMarkdownHtml=function(e,n){var r=i.prototype.getMarkdownHtml.call(this,e,n);return n==="navigationTitle"&&this.canShowPageNumber()&&r?this.num+". "+r:r},Object.defineProperty(t.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(e){this.setPropertyValue("passed",e)},enumerable:!1,configurable:!0}),t.prototype.removeFromParent=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},t.prototype.onFirstRendering=function(){this.wasShown||i.prototype.onFirstRendering.call(this)},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(e){this.setPropertyValue("visibleIndex",e)},enumerable:!1,configurable:!0}),t.prototype.canRenderFirstRows=function(){return!this.isDesignMode||this.visibleIndex==0},Object.defineProperty(t.prototype,"isStartPage",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStarted",{get:function(){return this.isStartPage},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(e){var n={page:{},error:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:"",rowEnter:"",rowLeave:"",rowDelayedEnter:"",rowReplace:""};return this.copyCssClasses(n.page,e.page),this.copyCssClasses(n.error,e.error),e.pageTitle&&(n.pageTitle=e.pageTitle),e.pageDescription&&(n.pageDescription=e.pageDescription),e.row&&(n.row=e.row),e.pageRow&&(n.pageRow=e.pageRow),e.rowMultiple&&(n.rowMultiple=e.rowMultiple),e.rowCompact&&(n.rowCompact=e.rowCompact),e.rowEnter&&(n.rowEnter=e.rowEnter),e.rowDelayedEnter&&(n.rowDelayedEnter=e.rowDelayedEnter),e.rowLeave&&(n.rowLeave=e.rowLeave),e.rowReplace&&(n.rowReplace=e.rowReplace),this.survey&&this.survey.updatePageCssClasses(this,n),n},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.cssClasses.page?new J().append(this.cssClasses.page.title).toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRoot",{get:function(){return!this.cssClasses.page||!this.survey?"":new J().append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!this.survey.renderedHasHeader&&!(this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString()},enumerable:!1,configurable:!0}),t.prototype.getCssError=function(e){return new J().append(i.prototype.getCssError.call(this,e)).append(e.page.errorsContainer).toString()},Object.defineProperty(t.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(e){this.setPropertyValue("navigationButtonsVisibility",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return!!this.survey&&this.survey.currentPage===this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),t.prototype.setWasShown=function(e){if(e!=this.hasShownValue&&(this.hasShownValue=e,!(this.isDesignMode||e!==!0))){for(var n=this.elements,r=0;r<n.length;r++)n[r].isPanel&&n[r].randomizeElements(this.areQuestionsRandomized);this.randomizeElements(this.areQuestionsRandomized)}},t.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},t.prototype.getAllPanels=function(e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=new Array;return this.addPanelsIntoList(r,e,n),r},t.prototype.getPanels=function(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!1),this.getAllPanels(e,n)},Object.defineProperty(t.prototype,"timeLimit",{get:function(){return this.getPropertyValue("timeLimit",0)},set:function(e){this.setPropertyValue("timeLimit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTimeToFinish",{get:function(){return this.timeLimit},set:function(e){this.timeLimit=e},enumerable:!1,configurable:!0}),t.prototype.getMaxTimeToFinish=function(){if(this.timeLimit!==0)return this.timeLimit;var e=this.survey?this.survey.timeLimitPerPage:0;return e>0?e:0},t.prototype.onNumChanged=function(e){},t.prototype.onVisibleChanged=function(){this.isRandomizing||(i.prototype.onVisibleChanged.call(this),this.survey!=null&&this.survey.pageVisibilityChanged(this,this.isVisible))},t.prototype.getDragDropInfo=function(){return this.dragDropPageHelper.getDragDropInfo()},t.prototype.dragDropStart=function(e,n,r){r===void 0&&(r=-1),this.dragDropPageHelper.dragDropStart(e,n,r)},t.prototype.dragDropMoveTo=function(e,n,r){return n===void 0&&(n=!1),r===void 0&&(r=!1),this.dragDropPageHelper.dragDropMoveTo(e,n,r)},t.prototype.dragDropFinish=function(e){return e===void 0&&(e=!1),this.dragDropPageHelper.dragDropFinish(e)},t.prototype.ensureRowsVisibility=function(){i.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach(function(e){return e.ensureRowsVisibility()})},Jv([V({defaultValue:-1,onSet:function(e,n){return n.onNumChanged(e)}})],t.prototype,"num",void 0),t}(Cs);H.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(i){return!!i.survey&&(i.survey.progressBarType==="buttons"||i.survey.showTOC)},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(i){return!!i.survey&&i.survey.progressBarType==="buttons"},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"}],function(){return new lo},"panelbase");var Gv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jd=function(i){Gv(t,i);function t(e){var n=i.call(this)||this;return n.survey=e,n.onResize=n.addEvent(),n}return t.prototype.isListElementClickable=function(e){return!this.survey.onServerValidateQuestions||this.survey.onServerValidateQuestions.isEmpty||this.survey.checkErrorsMode==="onComplete"?!0:e<=this.survey.currentPageNo+1},t.prototype.getRootCss=function(e){e===void 0&&(e="center");var n=this.survey.css.progressButtonsContainerCenter;return this.survey.css.progressButtonsRoot&&(n+=" "+this.survey.css.progressButtonsRoot+" "+this.survey.css.progressButtonsRoot+"--"+(["footer","contentBottom"].indexOf(e)!==-1?"bottom":"top"),n+=" "+this.survey.css.progressButtonsRoot+"--"+(this.showItemTitles?"with-titles":"no-titles")),this.showItemNumbers&&this.survey.css.progressButtonsNumbered&&(n+=" "+this.survey.css.progressButtonsNumbered),this.isFitToSurveyWidth&&(n+=" "+this.survey.css.progressButtonsFitSurveyWidth),n},t.prototype.getListElementCss=function(e){if(!(e>=this.survey.visiblePages.length))return new J().append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[e].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===e).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(e)).toString()},t.prototype.getScrollButtonCss=function(e,n){return new J().append(this.survey.css.progressButtonsImageButtonLeft,n).append(this.survey.css.progressButtonsImageButtonRight,!n).append(this.survey.css.progressButtonsImageButtonHidden,!e).toString()},t.prototype.clickListElement=function(e){e instanceof lo||(e=this.survey.visiblePages[e]),this.survey.tryNavigateToPage(e)},t.prototype.isListContainerHasScroller=function(e){var n=e.querySelector("."+this.survey.css.progressButtonsListContainer);return n?n.scrollWidth>n.offsetWidth:!1},t.prototype.isCanShowItemTitles=function(e){var n=e.querySelector("ul");if(!n||n.children.length<2)return!0;if(n.clientWidth>n.parentElement.clientWidth)return!1;for(var r=n.children[0].clientWidth,o=0;o<n.children.length;o++)if(Math.abs(n.children[o].clientWidth-r)>5)return!1;return!0},t.prototype.clearConnectorsWidth=function(e){for(var n=e.querySelectorAll(".sd-progress-buttons__connector"),r=0;r<n.length;r++)n[r].style.width=""},t.prototype.adjustConnectors=function(e){var n=e.querySelector("ul");if(n)for(var r=e.querySelectorAll(".sd-progress-buttons__connector"),o=this.showItemNumbers?36:20,c=(n.clientWidth-o)/(n.children.length-1)-o,p=0;p<r.length;p++)r[p].style.width=c+"px"},Object.defineProperty(t.prototype,"isFitToSurveyWidth",{get:function(){return Dt.currentType!=="defaultV2"?!1:this.survey.progressBarInheritWidthFrom==="survey"&&this.survey.widthMode=="static"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressWidth",{get:function(){return this.isFitToSurveyWidth?this.survey.renderedWidth:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showItemNumbers",{get:function(){return Dt.currentType!=="defaultV2"?!1:this.survey.progressBarShowPageNumbers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showItemTitles",{get:function(){return Dt.currentType!=="defaultV2"?!0:this.survey.progressBarShowPageTitles},enumerable:!1,configurable:!0}),t.prototype.getItemNumber=function(e){var n="";return this.showItemNumbers&&(n+=this.survey.visiblePages.indexOf(e)+1),n},Object.defineProperty(t.prototype,"headerText",{get:function(){return this.survey.currentPage?this.survey.currentPage.renderedNavigationTitle:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerText",{get:function(){return this.survey.progressText},enumerable:!1,configurable:!0}),t.prototype.processResponsiveness=function(e){this.onResize.fire(this,{width:e})},t}($e),Kv=function(){function i(t,e,n){var r=this;this.model=t,this.element=e,this.viewModel=n,this.criticalProperties=["progressBarType","progressBarShowPageTitles"],this.canShowItemTitles=!0,this.processResponsiveness=function(o,c){if(r.viewModel.onUpdateScroller(o.isListContainerHasScroller(r.element)),r.model.clearConnectorsWidth(r.element),!o.showItemTitles){r.model.adjustConnectors(r.element);return}if(o.survey.isMobile){r.prevWidth=c.width,r.canShowItemTitles=!1,r.model.adjustConnectors(r.element),r.viewModel.onResize(r.canShowItemTitles);return}r.timer!==void 0&&clearTimeout(r.timer),r.timer=setTimeout(function(){(r.prevWidth===void 0||r.prevWidth<c.width&&!r.canShowItemTitles||r.prevWidth>c.width&&r.canShowItemTitles)&&(r.prevWidth=c.width,r.canShowItemTitles=o.isCanShowItemTitles(r.element),r.viewModel.onResize(r.canShowItemTitles),r.timer=void 0)},10)},this.model.survey.registerFunctionOnPropertiesValueChanged(this.criticalProperties,function(){return r.forceUpdate()},"ProgressButtonsResponsivityManager"+this.viewModel.container),this.model.onResize.add(this.processResponsiveness),this.forceUpdate()}return i.prototype.forceUpdate=function(){this.viewModel.onUpdateSettings(),this.processResponsiveness(this.model,{})},i.prototype.dispose=function(){clearTimeout(this.timer),this.model.onResize.remove(this.processResponsiveness),this.model.survey.unRegisterFunctionOnPropertiesValueChanged(this.criticalProperties,"ProgressButtonsResponsivityManager"+this.viewModel.container),this.element=void 0,this.model=void 0},i}();function Gd(i,t){return i.isDesignMode||t.focusFirstQuestion(),!0}function Kd(i,t){var e=Zd(i,t),n=e.filter(function(c){return!!i.currentPage&&c.id===i.currentPage.name})[0]||e[0],r={items:e,onSelectionChanged:function(c){c.action()&&(o.selectedItem=c)},allowSelection:!0,searchEnabled:!1,locOwner:i,selectedItem:n},o=new Yi(r);return o.allowSelection=!1,i.onCurrentPageChanged.add(function(c,p){o.selectedItem=o.actions.filter(function(y){return!!i.currentPage&&y.id===i.currentPage.name})[0]}),i.registerFunctionOnPropertyValueChanged("pages",function(){o.setItems(Zd(i,t))},"toc"),o}function Zd(i,t){var e,n=i.questionsOnPageMode==="singlePage"?(e=i.pages[0])===null||e===void 0?void 0:e.elements:i.pages,r=(n||[]).map(function(o){return new ot({id:o.name,locTitle:o.locNavigationTitle,action:function(){return h.activeElementBlur(),t&&t(),o instanceof lo?i.tryNavigateToPage(o):Gd(i,o)},visible:new At(function(){return o.isVisible&&!o.isStartPage})})});return r}function Yd(i,t){t===void 0&&(t=!1);var e=$r.RootStyle;return t?e+" "+$r.RootStyle+"--mobile":(e+=" "+$r.RootStyle+"--"+(i.tocLocation||"").toLowerCase(),$r.StickyPosition&&(e+=" "+$r.RootStyle+"--sticky"),e)}var $r=function(){function i(t){var e=this;this.survey=t,this.icon="icon-navmenu_24x24",this.togglePopup=function(){e.popupModel.toggleVisibility()},this.listModel=Kd(t,function(){e.popupModel.isVisible=!1}),this.popupModel=new Xi("sv-list",{model:this.listModel}),this.popupModel.overlayDisplayMode="plain",this.popupModel.displayMode=new At(function(){return e.isMobile?"overlay":"popup"}),i.StickyPosition&&(t.onAfterRenderSurvey.add(function(n,r){return e.initStickyTOCSubscriptions(r.htmlElement)}),this.initStickyTOCSubscriptions(t.rootElement))}return i.prototype.initStickyTOCSubscriptions=function(t){var e=this;i.StickyPosition&&t&&(t.addEventListener("scroll",function(n){e.updateStickyTOCSize(t)}),this.updateStickyTOCSize(t))},i.prototype.updateStickyTOCSize=function(t){if(t){var e=t.querySelector("."+i.RootStyle);if(e&&(e.style.height="",!this.isMobile&&i.StickyPosition&&t)){var n=t.getBoundingClientRect().height,r=this.survey.headerView==="advanced"?".sv-header":".sv_custom_header+div div."+(this.survey.css.title||"sd-title"),o=t.querySelector(r),c=o?o.getBoundingClientRect().height:0,p=t.scrollTop>c?0:c-t.scrollTop;e.style.height=n-p-1+"px"}}},Object.defineProperty(i.prototype,"isMobile",{get:function(){return this.survey.isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"containerCss",{get:function(){return Yd(this.survey,this.isMobile)},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){this.survey.unRegisterFunctionOnPropertyValueChanged("pages","toc"),this.popupModel.dispose(),this.listModel.dispose()},i.RootStyle="sv_progress-toc",i.StickyPosition=!0,i}(),Zv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vt=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},fr=function(i){Zv(t,i);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.call(this)||this;r.valuesHash={},r.variablesHash={},r.onTriggerExecuted=r.addEvent(),r.onCompleting=r.addEvent(),r.onComplete=r.addEvent(),r.onShowingPreview=r.addEvent(),r.onNavigateToUrl=r.addEvent(),r.onStarted=r.addEvent(),r.onPartialSend=r.addEvent(),r.onCurrentPageChanging=r.addEvent(),r.onCurrentPageChanged=r.addEvent(),r.onValueChanging=r.addEvent(),r.onValueChanged=r.addEvent(),r.onVariableChanged=r.addEvent(),r.onQuestionVisibleChanged=r.addEvent(),r.onVisibleChanged=r.onQuestionVisibleChanged,r.onPageVisibleChanged=r.addEvent(),r.onPanelVisibleChanged=r.addEvent(),r.onQuestionCreated=r.addEvent(),r.onQuestionAdded=r.addEvent(),r.onQuestionRemoved=r.addEvent(),r.onPanelAdded=r.addEvent(),r.onPanelRemoved=r.addEvent(),r.onPageAdded=r.addEvent(),r.onValidateQuestion=r.addEvent(),r.onSettingQuestionErrors=r.addEvent(),r.onServerValidateQuestions=r.addEvent(),r.onValidatePanel=r.addEvent(),r.onErrorCustomText=r.addEvent(),r.onValidatedErrorsOnCurrentPage=r.addEvent(),r.onProcessHtml=r.addEvent(),r.onGetQuestionDisplayValue=r.addEvent(),r.onGetQuestionTitle=r.addEvent(),r.onGetTitleTagName=r.addEvent(),r.onGetQuestionNo=r.addEvent(),r.onProgressText=r.addEvent(),r.onTextMarkdown=r.addEvent(),r.onTextRenderAs=r.addEvent(),r.onSendResult=r.addEvent(),r.onGetResult=r.addEvent(),r.onOpenFileChooser=r.addEvent(),r.onUploadFiles=r.addEvent(),r.onDownloadFile=r.addEvent(),r.onClearFiles=r.addEvent(),r.onLoadChoicesFromServer=r.addEvent(),r.onLoadedSurveyFromService=r.addEvent(),r.onProcessTextValue=r.addEvent(),r.onUpdateQuestionCssClasses=r.addEvent(),r.onUpdatePanelCssClasses=r.addEvent(),r.onUpdatePageCssClasses=r.addEvent(),r.onUpdateChoiceItemCss=r.addEvent(),r.onAfterRenderSurvey=r.addEvent(),r.onAfterRenderHeader=r.addEvent(),r.onAfterRenderPage=r.addEvent(),r.onAfterRenderQuestion=r.addEvent(),r.onAfterRenderQuestionInput=r.addEvent(),r.onAfterRenderPanel=r.addEvent(),r.onFocusInQuestion=r.addEvent(),r.onFocusInPanel=r.addEvent(),r.onShowingChoiceItem=r.addEvent(),r.onChoicesLazyLoad=r.addEvent(),r.onChoicesSearch=r.addEvent(),r.onGetChoiceDisplayValue=r.addEvent(),r.onMatrixRowAdded=r.addEvent(),r.onMatrixRowAdding=r.addEvent(),r.onMatrixBeforeRowAdded=r.onMatrixRowAdding,r.onMatrixRowRemoving=r.addEvent(),r.onMatrixRowRemoved=r.addEvent(),r.onMatrixRenderRemoveButton=r.addEvent(),r.onMatrixAllowRemoveRow=r.onMatrixRenderRemoveButton,r.onMatrixDetailPanelVisibleChanged=r.addEvent(),r.onMatrixCellCreating=r.addEvent(),r.onMatrixCellCreated=r.addEvent(),r.onAfterRenderMatrixCell=r.addEvent(),r.onMatrixAfterCellRender=r.onAfterRenderMatrixCell,r.onMatrixCellValueChanged=r.addEvent(),r.onMatrixCellValueChanging=r.addEvent(),r.onMatrixCellValidate=r.addEvent(),r.onMatrixColumnAdded=r.addEvent(),r.onMultipleTextItemAdded=r.addEvent(),r.onDynamicPanelAdded=r.addEvent(),r.onDynamicPanelRemoved=r.addEvent(),r.onDynamicPanelRemoving=r.addEvent(),r.onTimerTick=r.addEvent(),r.onTimer=r.onTimerTick,r.onTimerPanelInfoText=r.addEvent(),r.onDynamicPanelItemValueChanged=r.addEvent(),r.onGetDynamicPanelTabTitle=r.addEvent(),r.onDynamicPanelCurrentIndexChanged=r.addEvent(),r.onIsAnswerCorrect=r.addEvent(),r.onDragDropAllow=r.addEvent(),r.onScrollingElementToTop=r.addEvent(),r.onLocaleChangedEvent=r.addEvent(),r.onGetQuestionTitleActions=r.addEvent(),r.onGetPanelTitleActions=r.addEvent(),r.onGetPageTitleActions=r.addEvent(),r.onGetPanelFooterActions=r.addEvent(),r.onGetMatrixRowActions=r.addEvent(),r.onElementContentVisibilityChanged=r.addEvent(),r.onGetExpressionDisplayValue=r.addEvent(),r.onPopupVisibleChanged=r.addEvent(),r.onOpenDropdownMenu=r.addEvent(),r.onElementWrapperComponentName=r.addEvent(),r.onElementWrapperComponentData=r.addEvent(),r.jsonErrors=null,r.cssValue=null,r.showHeaderOnCompletePage="auto",r._isLazyRenderingSuspended=!1,r.hideRequiredErrors=!1,r.cssVariables={},r._isMobile=!1,r._isCompact=!1,r._isDesignMode=!1,r.validationAllowSwitchPages=!1,r.validationAllowComplete=!1,r.isNavigationButtonPressed=!1,r.mouseDownPage=null,r.isCalculatingProgressText=!1,r.isSmoothScrollEnabled=!1,r.onResize=new Rn,r.isCurrentPageRendering=!0,r.isCurrentPageRendered=void 0,r.skeletonHeight=void 0,r.isTriggerIsRunning=!1,r.triggerValues=null,r.triggerKeys=null,r.conditionValues=null,r.isValueChangedOnRunningCondition=!1,r.conditionRunnerCounter=0,r.conditionUpdateVisibleIndexes=!1,r.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,r.isEndLoadingFromJson=null,r.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},r.needRenderIcons=!0,r.skippedPages=[],r.skeletonComponentName="sv-skeleton",r.taskManager=new Qv,r.questionErrorComponent="sv-question-error",r.onBeforeRunConstructor();var o=function(p){return"<h3>"+p+"</h3>"};r.createHtmlLocString("completedHtml","completingSurvey",o),r.createHtmlLocString("completedBeforeHtml","completingSurveyBefore",o,"completed-before"),r.createHtmlLocString("loadingHtml","loadingSurvey",o,"loading"),r.createLocalizableString("emptySurveyText",r,!0,"emptySurvey"),r.createLocalizableString("logo",r,!1),r.createLocalizableString("startSurveyText",r,!1,!0),r.createLocalizableString("pagePrevText",r,!1,!0),r.createLocalizableString("pageNextText",r,!1,!0),r.createLocalizableString("completeText",r,!1,!0),r.createLocalizableString("previewText",r,!1,!0),r.createLocalizableString("editText",r,!1,!0),r.createLocalizableString("questionTitleTemplate",r,!0),r.timerModelValue=new Bd(r),r.timerModelValue.onTimerTick=function(p){r.doTimer(p)},r.createNewArray("pages",function(p){r.doOnPageAdded(p)},function(p){r.doOnPageRemoved(p)}),r.createNewArray("triggers",function(p){p.setOwner(r)}),r.createNewArray("calculatedValues",function(p){p.setOwner(r)}),r.createNewArray("completedHtmlOnCondition",function(p){p.locOwner=r}),r.createNewArray("navigateToUrlOnCondition",function(p){p.locOwner=r}),r.registerPropertyChangedHandlers(["locale"],function(){r.onSurveyLocaleChanged()}),r.registerPropertyChangedHandlers(["firstPageIsStarted"],function(){r.onFirstPageIsStartedChanged()}),r.registerPropertyChangedHandlers(["mode"],function(){r.onModeChanged()}),r.registerPropertyChangedHandlers(["progressBarType"],function(){r.updateProgressText()}),r.registerPropertyChangedHandlers(["questionStartIndex","requiredText","questionTitlePattern"],function(){r.resetVisibleIndexes()}),r.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","mode","isStartedState","currentPage","isShowingPreview"],function(){r.updateState()}),r.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],function(){r.onStateAndCurrentPageChanged()}),r.registerPropertyChangedHandlers(["logo","logoPosition"],function(){r.updateHasLogo()}),r.registerPropertyChangedHandlers(["backgroundImage"],function(){r.updateRenderBackgroundImage()}),r.registerPropertyChangedHandlers(["renderBackgroundImage","backgroundOpacity","backgroundImageFit","fitToContainer","backgroundImageAttachment"],function(){r.updateBackgroundImageStyle()}),r.registerPropertyChangedHandlers(["showPrevButton","showCompleteButton"],function(){r.updateButtonsVisibility()}),r.onGetQuestionNo.onCallbacksChanged=function(){r.resetVisibleIndexes()},r.onProgressText.onCallbacksChanged=function(){r.updateProgressText()},r.onTextMarkdown.onCallbacksChanged=function(){r.locStrsChanged()},r.onProcessHtml.onCallbacksChanged=function(){r.locStrsChanged()},r.onGetQuestionTitle.onCallbacksChanged=function(){r.locStrsChanged()},r.onUpdatePageCssClasses.onCallbacksChanged=function(){r.currentPage&&r.currentPage.updateElementCss()},r.onUpdatePanelCssClasses.onCallbacksChanged=function(){r.currentPage&&r.currentPage.updateElementCss()},r.onUpdateQuestionCssClasses.onCallbacksChanged=function(){r.currentPage&&r.currentPage.updateElementCss()},r.onShowingChoiceItem.onCallbacksChanged=function(){r.rebuildQuestionChoices()},r.navigationBarValue=r.createNavigationBar(),r.navigationBar.locOwner=r,r.onBeforeCreating(),e&&((typeof e=="string"||e instanceof String)&&(e=JSON.parse(e)),e&&e.clientId&&(r.clientId=e.clientId),r.fromJSON(e),r.surveyId&&r.loadSurveyFromService(r.surveyId,r.clientId)),r.onCreating(),n&&r.render(n),r.updateCss(),r.setCalculatedWidthModeUpdater(),r.notifier=new Hd(r.css.saveData),r.notifier.addAction(r.createTryAgainAction(),"error"),r.onPopupVisibleChanged.add(function(p,y){y.visible?r.onScrollCallback=function(){y.popup.hide()}:r.onScrollCallback=void 0}),r.progressBarValue=new Jd(r),r.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:r.timerModel}),r.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",data:r.progressBar,processResponsiveness:function(p){return r.progressBar.processResponsiveness&&r.progressBar.processResponsiveness(p)}}),r.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:r}),r.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:r}),r.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:r}),r.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:r});var c=new $r(r);return r.addLayoutElement({id:"toc-navigation",component:"sv-navigation-toc",data:c,processResponsiveness:function(p){return c.updateStickyTOCSize(r.rootElement)}}),r.layoutElements.push({id:"buttons-navigation",component:"sv-action-bar",data:r.navigationBar}),r.locTitle.onStringChanged.add(function(){return r.titleIsEmpty=r.locTitle.isEmpty}),r}return Object.defineProperty(t.prototype,"platformName",{get:function(){return t.platform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentSuffix",{get:function(){return N.commentSuffix},set:function(e){N.commentSuffix=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentPrefix",{get:function(){return this.commentSuffix},set:function(e){this.commentSuffix=e},enumerable:!1,configurable:!0}),t.prototype.processClosedPopup=function(e,n){throw new Error("Method not implemented.")},t.prototype.createTryAgainAction=function(){var e=this;return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:function(){e.isCompleted?e.saveDataOnComplete():e.doComplete()}}},t.prototype.createHtmlLocString=function(e,n,r,o){var c=this,p=this.createLocalizableString(e,this,!1,n);p.onGetLocalizationTextCallback=r,o&&(p.onGetTextCallback=function(y){return c.processHtml(y,o)})},t.prototype.getType=function(){return"survey"},t.prototype.onPropertyValueChanged=function(e,n,r){e==="questionsOnPageMode"&&this.onQuestionsOnPageModeChanged(n)},Object.defineProperty(t.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),t.prototype.render=function(e){this.renderCallback&&this.renderCallback()},t.prototype.updateSurvey=function(e,n){var r=function(){if(c=="model"||c=="children")return"continue";if(c.indexOf("on")==0&&o[c]&&o[c].add){var p=e[c],y=function(b,E){p(b,E)};o[c].add(y)}else o[c]=e[c]},o=this;for(var c in e)r();e&&e.data&&this.onValueChanged.add(function(p,y){e.data[y.name]=y.value})},t.prototype.getCss=function(){return this.css},t.prototype.updateCompletedPageCss=function(){this.containerCss=this.css.container,this.completedCss=new J().append(this.css.body).append(this.css.completedPage).toString(),this.completedBeforeCss=new J().append(this.css.body).append(this.css.completedBeforePage).toString(),this.loadingBodyCss=new J().append(this.css.body).append(this.css.bodyLoading).toString()},t.prototype.updateCss=function(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss(),this.updateWrapperFormCss()},Object.defineProperty(t.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,Dt.getCss())),this.cssValue},set:function(e){this.setCss(e)},enumerable:!1,configurable:!0}),t.prototype.setCss=function(e,n){n===void 0&&(n=!0),n?this.mergeValues(e,this.css):this.cssValue=e,this.updateElementCss(!1)},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.css.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssSurveyNavigationButton",{get:function(){return new J().append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyCss",{get:function(){return new J().append(this.css.body).append(this.css.bodyWithTimer,this.showTimer&&this.state==="running").append(this.css.body+"--"+this.calculatedWidthMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyContainerCss",{get:function(){return this.css.bodyContainer},enumerable:!1,configurable:!0}),t.prototype.insertAdvancedHeader=function(e){e.survey=this,this.layoutElements.push({id:"advanced-header",container:"header",component:"sv-header",index:-100,data:e,processResponsiveness:function(n){return e.processResponsiveness(n)}})},t.prototype.getNavigationCss=function(e,n){return new J().append(e).append(n).toString()},Object.defineProperty(t.prototype,"lazyRendering",{get:function(){return this.lazyRenderingValue===!0},set:function(e){if(this.lazyRendering!==e){this.lazyRenderingValue=e;var n=this.currentPage;n&&n.updateRows()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLazyRendering",{get:function(){return this.lazyRendering||N.lazyRender.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lazyRenderingFirstBatchSize",{get:function(){return this.lazyRenderingFirstBatchSizeValue||N.lazyRender.firstBatchSize},set:function(e){this.lazyRenderingFirstBatchSizeValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLazyRenderingSuspended",{get:function(){return this._isLazyRenderingSuspended},enumerable:!1,configurable:!0}),t.prototype.suspendLazyRendering=function(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!0)},t.prototype.releaseLazyRendering=function(){this.isLazyRendering&&(this._isLazyRenderingSuspended=!1)},t.prototype.updateLazyRenderingRowsOnRemovingElements=function(){if(this.isLazyRendering){var e=this.currentPage;e&&id(e.id)}},Object.defineProperty(t.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(e){this.setPropertyValue("triggers",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(e){this.setPropertyValue("calculatedValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(e){this.setPropertyValue("surveyId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(e){this.setPropertyValue("surveyPostId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(e){this.setPropertyValue("clientId",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(e){this.setPropertyValue("cookieName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext")},set:function(e){this.setPropertyValue("sendResultOnPageNext",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving")},set:function(e){this.setPropertyValue("surveyShowDataSaving",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic")},set:function(e){this.setPropertyValue("focusFirstQuestionAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError")},set:function(e){this.setPropertyValue("focusOnFirstError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(e){(e===!0||e===void 0)&&(e="bottom"),e===!1&&(e="none"),this.setPropertyValue("showNavigationButtons",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton")},set:function(e){this.setPropertyValue("showPrevButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCompleteButton",{get:function(){return this.getPropertyValue("showCompleteButton",!0)},set:function(e){this.setPropertyValue("showCompleteButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTOC",{get:function(){return this.getPropertyValue("showTOC")},set:function(e){this.setPropertyValue("showTOC",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tocLocation",{get:function(){return this.getPropertyValue("tocLocation")},set:function(e){this.setPropertyValue("tocLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle")},set:function(e){this.setPropertyValue("showTitle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles")},set:function(e){this.setPropertyValue("showPageTitles",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage")},set:function(e){this.setPropertyValue("showCompletedPage",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(e){this.setPropertyValue("navigateToUrl",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(e){this.setPropertyValue("navigateToUrlOnCondition",e)},enumerable:!1,configurable:!0}),t.prototype.getNavigateToUrl=function(){var e=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),n=e?e.url:this.navigateToUrl;return n&&(n=this.processText(n,!1)),n},t.prototype.navigateTo=function(){var e=this.getNavigateToUrl(),n={url:e,allow:!0};this.onNavigateToUrl.fire(this,n),!(!n.url||!n.allow)&&Qm(n.url)},Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(e){this.setPropertyValue("requiredText",e)},enumerable:!1,configurable:!0}),t.prototype.beforeSettingQuestionErrors=function(e,n){this.makeRequiredErrorsInvisible(n),this.onSettingQuestionErrors.fire(this,{question:e,errors:n})},t.prototype.beforeSettingPanelErrors=function(e,n){this.makeRequiredErrorsInvisible(n)},t.prototype.makeRequiredErrorsInvisible=function(e){if(this.hideRequiredErrors)for(var n=0;n<e.length;n++){var r=e[n].getErrorType();(r=="required"||r=="requireoneanswer")&&(e[n].visible=!1)}},Object.defineProperty(t.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(e){this.setPropertyValue("questionStartIndex",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(e){this.setPropertyValue("storeOthersAsComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength")},set:function(e){this.setPropertyValue("maxTextLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength")},set:function(e){this.setPropertyValue("maxOthersLength",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic")},set:function(e){this.setPropertyValue("goNextPageAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic")},set:function(e){this.setPropertyValue("allowCompleteSurveyAutomatic",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(e){this.setPropertyValue("checkErrorsMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validateVisitedEmptyFields",{get:function(){return this.getPropertyValue("validateVisitedEmptyFields")},set:function(e){this.setPropertyValue("validateVisitedEmptyFields",e)},enumerable:!1,configurable:!0}),t.prototype.getValidateVisitedEmptyFields=function(){return this.validateVisitedEmptyFields&&this.isValidateOnValueChange},Object.defineProperty(t.prototype,"autoGrowComment",{get:function(){return this.getPropertyValue("autoGrowComment")},set:function(e){this.setPropertyValue("autoGrowComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowResizeComment",{get:function(){return this.getPropertyValue("allowResizeComment")},set:function(e){this.setPropertyValue("allowResizeComment",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"commentAreaRows",{get:function(){return this.getPropertyValue("commentAreaRows")},set:function(e){this.setPropertyValue("commentAreaRows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(e){e===!0&&(e="onComplete"),e===!1&&(e="none"),this.setPropertyValue("clearInvisibleValues",e)},enumerable:!1,configurable:!0}),t.prototype.clearIncorrectValues=function(e){e===void 0&&(e=!1);for(var n=0;n<this.pages.length;n++)this.pages[n].clearIncorrectValues();if(e){var r=this.data,o=!1;for(var c in r)if(!this.getQuestionByValueName(c)&&!(this.iscorrectValueWithPostPrefix(c,N.commentSuffix)||this.iscorrectValueWithPostPrefix(c,N.matrix.totalsSuffix))){var p=this.getCalculatedValueByName(c);p&&p.includeIntoResult||(o=!0,delete r[c])}o&&(this.data=r)}},t.prototype.iscorrectValueWithPostPrefix=function(e,n){return e.indexOf(n)!==e.length-n.length?!1:!!this.getQuestionByValueName(e.substring(0,e.indexOf(n)))},Object.defineProperty(t.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues")},set:function(e){this.setPropertyValue("keepIncorrectValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this.getPropertyValueWithoutDefault("locale")||v.currentLocale},set:function(e){e===v.defaultLocale&&!v.currentLocale&&(e=""),this.setPropertyValue("locale",e)},enumerable:!1,configurable:!0}),t.prototype.onSurveyLocaleChanged=function(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)},Object.defineProperty(t.prototype,"localeDir",{get:function(){return v.localeDirections[this.locale]},enumerable:!1,configurable:!0}),t.prototype.getUsedLocales=function(){var e=new Array;this.addUsedLocales(e);var n=e.indexOf("default");if(n>-1){var r=v.defaultLocale,o=e.indexOf(r);o>-1&&e.splice(o,1),n=e.indexOf("default"),e[n]=r}return e},t.prototype.localeChanged=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].localeChanged()},t.prototype.getLocale=function(){return this.locale},t.prototype.locStrsChanged=function(){if(!this.isClearingUnsedValues&&(i.prototype.locStrsChanged.call(this),!!this.currentPage)){if(this.isDesignMode)this.pages.forEach(function(o){return o.locStrsChanged()});else{var e=this.activePage;e&&e.locStrsChanged();for(var n=this.visiblePages,r=0;r<n.length;r++)n[r].navigationLocStrChanged()}this.isShowStartingPage||this.updateProgressText(),this.navigationBar.locStrsChanged()}},t.prototype.getMarkdownHtml=function(e,n){return this.getSurveyMarkdownHtml(this,e,n)},t.prototype.getRenderer=function(e){return this.getRendererForString(this,e)},t.prototype.getRendererContext=function(e){return this.getRendererContextForString(this,e)},t.prototype.getRendererForString=function(e,n){var r=this.getBuiltInRendererForString(e,n);r=this.elementWrapperComponentNameCore(r,e,"string",n);var o={element:e,name:n,renderAs:r};return this.onTextRenderAs.fire(this,o),o.renderAs},t.prototype.getRendererContextForString=function(e,n){return this.elementWrapperDataCore(n,e,"string")},t.prototype.getExpressionDisplayValue=function(e,n,r){var o={question:e,value:n,displayValue:r};return this.onGetExpressionDisplayValue.fire(this,o),o.displayValue},t.prototype.getBuiltInRendererForString=function(e,n){if(this.isDesignMode)return In.editableRenderer},t.prototype.getProcessedText=function(e){return this.processText(e,!0)},t.prototype.getLocString=function(e){return this.getLocalizationString(e)},t.prototype.getErrorCustomText=function(e,n){return this.getSurveyErrorCustomText(this,e,n)},t.prototype.getSurveyErrorCustomText=function(e,n,r){var o={text:n,name:r.getErrorType(),obj:e,error:r};return this.onErrorCustomText.fire(this,o),o.text},t.prototype.getQuestionDisplayValue=function(e,n){var r={question:e,displayValue:n};return this.onGetQuestionDisplayValue.fire(this,r),r.displayValue},Object.defineProperty(t.prototype,"emptySurveyText",{get:function(){return this.getLocalizableStringText("emptySurveyText")},set:function(e){this.setLocalizableStringText("emptySurveyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(e){this.setLocalizableStringText("logo",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoWidth",{get:function(){return this.getPropertyValue("logoWidth")},set:function(e){this.setPropertyValue("logoWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedLogoWidth",{get:function(){return this.logoWidth?Br(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleLogoWidth",{get:function(){return this.logoWidth?ss(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoHeight",{get:function(){return this.getPropertyValue("logoHeight")},set:function(e){this.setPropertyValue("logoHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedLogoHeight",{get:function(){return this.logoHeight?Br(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleLogoHeight",{get:function(){return this.logoHeight?ss(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition")},set:function(e){this.setPropertyValue("logoPosition",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasLogo",{get:function(){return this.getPropertyValue("hasLogo",!1)},enumerable:!1,configurable:!0}),t.prototype.updateHasLogo=function(){this.setPropertyValue("hasLogo",!!this.logo&&this.logoPosition!=="none")},Object.defineProperty(t.prototype,"isLogoBefore",{get:function(){return this.isDesignMode?!1:this.renderedHasLogo&&(this.logoPosition==="left"||this.logoPosition==="top")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLogoAfter",{get:function(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&(this.logoPosition==="right"||this.logoPosition==="bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoClassNames",{get:function(){var e={left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"};return new J().append(this.css.logo).append(e[this.logoPosition]).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.titleIsEmpty&&this.showTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasDescription",{get:function(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.renderedHasTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasLogo",{get:function(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHasHeader",{get:function(){return this.renderedHasTitle||this.renderedHasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(e){this.setPropertyValue("logoFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"themeVariables",{get:function(){return Object.assign({},this.cssVariables)},enumerable:!1,configurable:!0}),t.prototype.setIsMobile=function(e){e===void 0&&(e=!0),this._isMobile!==e&&(this._isMobile=e,this.updateCss(),this.getAllQuestions().forEach(function(n){return n.setIsMobile(e)}))},Object.defineProperty(t.prototype,"isMobile",{get:function(){return this._isMobile&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompact",{get:function(){return this._isCompact},set:function(e){e!==this._isCompact&&(this._isCompact=e,this.updateElementCss(),this.triggerResponsiveness(!0))},enumerable:!1,configurable:!0}),t.prototype.isLogoImageChoosen=function(){return this.locLogo.renderedHtml},Object.defineProperty(t.prototype,"titleMaxWidth",{get:function(){if(!(Bm()||this.isMobile)&&!this.isValueEmpty(this.isLogoImageChoosen())&&!N.supportCreatorV2){var e=this.logoWidth;if(this.logoPosition==="left"||this.logoPosition==="right")return"calc(100% - 5px - 2em - "+e+")"}return""},enumerable:!1,configurable:!0}),t.prototype.updateRenderBackgroundImage=function(){var e=this.backgroundImage;this.renderBackgroundImage=za(e)},Object.defineProperty(t.prototype,"backgroundOpacity",{get:function(){return this.getPropertyValue("backgroundOpacity")},set:function(e){this.setPropertyValue("backgroundOpacity",e)},enumerable:!1,configurable:!0}),t.prototype.updateBackgroundImageStyle=function(){this.backgroundImageStyle={opacity:this.backgroundOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.backgroundImageFit,backgroundAttachment:this.fitToContainer?void 0:this.backgroundImageAttachment}},t.prototype.updateWrapperFormCss=function(){this.wrapperFormCss=new J().append(this.css.rootWrapper).append(this.css.rootWrapperHasImage,!!this.backgroundImage).append(this.css.rootWrapperFixed,!!this.backgroundImage&&this.backgroundImageAttachment==="fixed").toString()},Object.defineProperty(t.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(e){this.setLocalizableStringText("completedHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(e){this.setPropertyValue("completedHtmlOnCondition",e)},enumerable:!1,configurable:!0}),t.prototype.runExpression=function(e,n){if(!e)return null;var r=this.getFilteredValues(),o=this.getFilteredProperties(),c=new Nr(e),p=void 0;return c.onRunComplete=function(y){p=y,n&&n(y)},c.run(r,o)||p},t.prototype.runCondition=function(e){if(!e)return!1;var n=this.getFilteredValues(),r=this.getFilteredProperties();return new on(e).run(n,r)},t.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(t.prototype,"renderedCompletedHtml",{get:function(){var e=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return e?e.html:this.completedHtml},enumerable:!1,configurable:!0}),t.prototype.getExpressionItemOnRunCondition=function(e){if(e.length==0)return null;for(var n=this.getFilteredValues(),r=this.getFilteredProperties(),o=0;o<e.length;o++)if(e[o].runCondition(n,r))return e[o];return null},Object.defineProperty(t.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(e){this.setLocalizableStringText("completedBeforeHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(e){this.setLocalizableStringText("loadingHtml",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultLoadingHtml",{get:function(){return"<h3>"+this.getLocalizationString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"navigationBar",{get:function(){return this.navigationBarValue},enumerable:!1,configurable:!0}),t.prototype.addNavigationItem=function(e){return e.component||(e.component="sv-nav-btn"),e.innerCss||(e.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(e)},Object.defineProperty(t.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText")},set:function(e){this.setLocalizableStringText("startSurveyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText")},set:function(e){this.setLocalizableStringText("pagePrevText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText")},set:function(e){this.setLocalizableStringText("pageNextText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText")},set:function(e){this.setLocalizableStringText("completeText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText")},set:function(e){this.setLocalizableStringText("previewText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText")},set:function(e){this.setLocalizableStringText("editText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),t.prototype.getElementTitleTagName=function(e,n){if(this.onGetTitleTagName.isEmpty)return n;var r={element:e,tagName:n};return this.onGetTitleTagName.fire(this,r),r.tagName},Object.defineProperty(t.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(e){e!=="numRequireTitle"&&e!=="requireNumTitle"&&e!="numTitle"&&(e="numTitleRequire"),this.setPropertyValue("questionTitlePattern",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionTitlePatternOptions=function(){var e=new Array,n=this.getLocalizationString("questionTitlePatternText"),r=this.questionStartIndex?this.questionStartIndex:"1.";return e.push({value:"numTitleRequire",text:r+" "+n+" "+this.requiredText}),e.push({value:"numRequireTitle",text:r+" "+this.requiredText+" "+n}),e.push({value:"numTitle",text:r+" "+n}),e},Object.defineProperty(t.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(e){this.setLocalizableStringText("questionTitleTemplate",e),this.questionTitlePattern=this.getNewTitlePattern(e),this.questionStartIndex=this.getNewQuestionTitleElement(e,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(e,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),t.prototype.getNewTitlePattern=function(e){if(e){for(var n=[];e.indexOf("{")>-1;){e=e.substring(e.indexOf("{")+1);var r=e.indexOf("}");if(r<0)break;n.push(e.substring(0,r)),e=e.substring(r+1)}if(n.length>1){if(n[0]=="require")return"requireNumTitle";if(n[1]=="require"&&n.length==3)return"numRequireTitle";if(n.indexOf("require")<0)return"numTitle"}if(n.length==1&&n[0]=="title")return"numTitle"}return"numTitleRequire"},t.prototype.getNewQuestionTitleElement=function(e,n,r,o){if(n="{"+n+"}",!e||e.indexOf(n)<0)return r;for(var c=e.indexOf(n),p="",y="",b=c-1;b>=0&&e[b]!="}";b--);for(b<c-1&&(p=e.substring(b+1,c)),c+=n.length,b=c;b<e.length&&e[b]!="{";b++);for(b>c&&(y=e.substring(c,b)),b=0;b<p.length&&p.charCodeAt(b)<33;)b++;for(p=p.substring(b),b=y.length-1;b>=0&&y.charCodeAt(b)<33;)b--;if(y=y.substring(0,b+1),!p&&!y)return r;var E=r||o;return p+E+y},Object.defineProperty(t.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),t.prototype.getUpdatedQuestionTitle=function(e,n){if(this.onGetQuestionTitle.isEmpty)return n;var r={question:e,title:n};return this.onGetQuestionTitle.fire(this,r),r.title},t.prototype.getUpdatedQuestionNo=function(e,n){if(this.onGetQuestionNo.isEmpty)return n;var r={question:e,no:n};return this.onGetQuestionNo.fire(this,r),r.no},Object.defineProperty(t.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers")},set:function(e){e!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",e),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){e===!0&&(e="on"),e===!1&&(e="off"),e=e.toLowerCase(),e=e==="onpage"?"onPage":e,e!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",e),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressBar",{get:function(){return this.progressBarValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(e){this.setPropertyValue("showProgressBar",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(e){e==="correctquestion"&&(e="correctQuestion"),e==="requiredquestion"&&(e="requiredQuestion"),this.setPropertyValue("progressBarType",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progressBarComponentName",{get:function(){var e=this.progressBarType;return!N.legacyProgressBarView&&Dt.currentType==="defaultV2"&&hr(e,"pages")&&(e="buttons"),"progress-"+e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowProgressBarOnTop",{get:function(){return this.canShowProresBar()?["auto","aboveheader","belowheader","topbottom","top","both"].indexOf(this.showProgressBar)!==-1:!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowProgressBarOnBottom",{get:function(){return this.canShowProresBar()?this.showProgressBar==="bottom"||this.showProgressBar==="both"||this.showProgressBar==="topbottom":!1},enumerable:!1,configurable:!0}),t.prototype.getProgressTypeComponent=function(){return"sv-progress-"+this.progressBarType.toLowerCase()},t.prototype.getProgressCssClasses=function(e){return e===void 0&&(e=""),new J().append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop&&(!e||e=="header")).append(this.css.progressBottom,this.isShowProgressBarOnBottom&&(!e||e=="footer")).toString()},t.prototype.canShowProresBar=function(){return!this.isShowingPreview||this.showPreviewBeforeComplete!="showAllQuestions"},Object.defineProperty(t.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(e){this.setPropertyValue("questionTitleLocation",e.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)},enumerable:!1,configurable:!0}),t.prototype.updateElementCss=function(e){this.startedPage&&this.startedPage.updateElementCss(e);for(var n=this.visiblePages,r=0;r<n.length;r++)n[r].updateElementCss(e);this.updateCss()},Object.defineProperty(t.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(e){this.setPropertyValue("questionErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(e){this.setPropertyValue("questionDescriptionLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(e){e=e.toLowerCase(),e!=this.mode&&(e!="edit"&&e!="display"||this.setPropertyValue("mode",e))},enumerable:!1,configurable:!0}),t.prototype.onModeChanged=function(){for(var e=0;e<this.pages.length;e++){var n=this.pages[e];n.setPropertyValue("isReadOnly",n.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()},Object.defineProperty(t.prototype,"data",{get:function(){for(var e={},n=this.getValuesKeys(),r=0;r<n.length;r++){var o=n[r],c=this.getDataValueCore(this.valuesHash,o);c!==void 0&&(e[o]=c)}return this.setCalculatedValuesIntoResult(e),e},set:function(e){this.valuesHash={},this.setDataCore(e,!e)},enumerable:!1,configurable:!0}),t.prototype.mergeData=function(e){if(e){var n=this.data;this.mergeValues(e,n),this.setDataCore(n)}},t.prototype.setDataCore=function(e,n){if(n===void 0&&(n=!1),n&&(this.valuesHash={}),e)for(var r in e){var o=typeof r=="string"?r.trim():r;this.setDataValueCore(this.valuesHash,o,e[r])}this.updateAllQuestionsValue(n),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue(n)},Object.defineProperty(t.prototype,"isSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getData=function(e){var n=e||{includePages:!1,includePanels:!1};return!n.includePages&&!n.includePanels?this.data:this.getStructuredData(!!n.includePages,n.includePanels?-1:n.includePages?1:0)},t.prototype.getStructuredData=function(e,n){if(e===void 0&&(e=!0),n===void 0&&(n=-1),n===0)return this.data;var r={};return this.pages.forEach(function(o){if(e){var c={};o.collectValues(c,n-1)&&(r[o.name]=c)}else o.collectValues(r,n)}),r},t.prototype.setStructuredData=function(e,n){if(n===void 0&&(n=!1),!!e){var r={};for(var o in e){var c=this.getQuestionByValueName(o);if(c)r[o]=e[o];else{var p=this.getPageByName(o);p||(p=this.getPanelByName(o)),p&&this.collectDataFromPanel(p,r,e[o])}}n?this.mergeData(r):this.data=r}},t.prototype.collectDataFromPanel=function(e,n,r){for(var o in r){var c=e.getElementByName(o);c&&(c.isPanel?this.collectDataFromPanel(c,n,r[o]):n[o]=r[o])}},Object.defineProperty(t.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(e){var n=this;if(this.editingObj!=e&&(this.unConnectEditingObj(),this.editingObjValue=e,!this.isDisposed)){if(!e)for(var r=this.getAllQuestions(),o=0;o<r.length;o++)r[o].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(c,p){H.hasOriginalProperty(n.editingObj,p.name)&&(p.name==="locale"&&n.setDataCore({}),n.updateOnSetValue(p.name,n.editingObj[p.name],p.oldValue))},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),t.prototype.unConnectEditingObj=function(){this.editingObj&&!this.editingObj.isDisposed&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged)},Object.defineProperty(t.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),t.prototype.setCalculatedValuesIntoResult=function(e){for(var n=0;n<this.calculatedValues.length;n++){var r=this.calculatedValues[n];r.includeIntoResult&&r.name&&this.getVariable(r.name)!==void 0&&(e[r.name]=this.getVariable(r.name))}},t.prototype.getAllValues=function(){return this.data},t.prototype.getPlainData=function(e){e||(e={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});var n=[],r=[];if(this.getAllQuestions().forEach(function(b){var E=b.getPlainData(e);E&&(n.push(E),r.push(b.valueName||b.name))}),e.includeValues)for(var o=this.getValuesKeys(),c=0;c<o.length;c++){var p=o[c];if(r.indexOf(p)==-1){var y=this.getDataValueCore(this.valuesHash,p);y&&n.push({name:p,title:p,value:y,displayValue:y,isNode:!1,getString:function(b){return typeof b=="object"?JSON.stringify(b):b}})}}return n},t.prototype.getFilteredValues=function(){var e={};for(var n in this.variablesHash)e[n]=this.variablesHash[n];this.addCalculatedValuesIntoFilteredValues(e);for(var r=this.getValuesKeys(),o=0;o<r.length;o++){var n=r[o];e[n]=this.getDataValueCore(this.valuesHash,n)}return this.getAllQuestions().forEach(function(c){c.hasFilteredValue&&(e[c.getFilteredName()]=c.getFilteredValue())}),e},t.prototype.addCalculatedValuesIntoFilteredValues=function(e){for(var n=this.calculatedValues,r=0;r<n.length;r++)e[n[r].name]=n[r].value},t.prototype.getFilteredProperties=function(){return{survey:this}},t.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var e=H.getPropertiesByObj(this.editingObj),n=[],r=0;r<e.length;r++)n.push(e[r].name);return n},t.prototype.getDataValueCore=function(e,n){return this.editingObj?H.getObjPropertyValue(this.editingObj,n):this.getDataFromValueHash(e,n)},t.prototype.setDataValueCore=function(e,n,r){this.editingObj?H.setObjPropertyValue(this.editingObj,n,r):this.setDataToValueHash(e,n,r)},t.prototype.deleteDataValueCore=function(e,n){this.editingObj?this.editingObj[n]=null:this.deleteDataFromValueHash(e,n)},t.prototype.getDataFromValueHash=function(e,n){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(e,n):e[n]},t.prototype.setDataToValueHash=function(e,n,r){this.valueHashSetDataCallback?this.valueHashSetDataCallback(e,n,r):e[n]=r},t.prototype.deleteDataFromValueHash=function(e,n){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(e,n):delete e[n]},Object.defineProperty(t.prototype,"comments",{get:function(){for(var e={},n=this.getValuesKeys(),r=0;r<n.length;r++){var o=n[r];o.indexOf(this.commentSuffix)>0&&(e[o]=this.getDataValueCore(this.valuesHash,o))}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var e=new Array,n=0;n<this.pages.length;n++)this.isPageInVisibleList(this.pages[n])&&e.push(this.pages[n]);return e},enumerable:!1,configurable:!0}),t.prototype.isPageInVisibleList=function(e){return this.isDesignMode||e.isVisible&&!e.isStartPage},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.pages.length==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startedPage",{get:function(){var e=this.firstPageIsStarted&&this.pages.length>1?this.pages[0]:null;return e&&(e.onFirstRendering(),e.setWasShown(!0)),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPage",{get:function(){return this.getPropertyValue("currentPage",null)},set:function(e){if(!this.isLoadingFromJson){var n=this.getPageByObject(e);if(!(e&&!n)&&!(!n&&this.isCurrentPageAvailable)){var r=this.visiblePages;if(!(n!=null&&r.indexOf(n)<0)&&n!=this.currentPage){var o=this.currentPage;!this.isShowingPreview&&!this.currentPageChanging(n,o)||(this.setPropertyValue("currentPage",n),n&&(n.onFirstRendering(),n.updateCustomWidgets(),n.setWasShown(!0)),this.locStrsChanged(),this.isShowingPreview||this.currentPageChanged(n,o))}}}},enumerable:!1,configurable:!0}),t.prototype.tryNavigateToPage=function(e){if(this.isDesignMode)return!1;var n=this.visiblePages.indexOf(e);if(n<0||n>=this.visiblePageCount||n===this.currentPageNo)return!1;if(n<this.currentPageNo||this.isValidateOnComplete)return this.currentPageNo=n,!0;for(var r=this.currentPageNo;r<n;r++){var o=this.visiblePages[r];if(!o.validate(!0,!0))return!1;o.passed=!0}return this.currentPage=e,!0},t.prototype.updateCurrentPage=function(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)},Object.defineProperty(t.prototype,"isCurrentPageAvailable",{get:function(){var e=this.currentPage;return!!e&&this.isPageInVisibleList(e)&&this.isPageExistsInSurvey(e)},enumerable:!1,configurable:!0}),t.prototype.isPageExistsInSurvey=function(e){return this.pages.indexOf(e)>-1?!0:!!this.onContainsPageCallback&&this.onContainsPageCallback(e)},Object.defineProperty(t.prototype,"activePage",{get:function(){return this.getPropertyValue("activePage")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowStartingPage",{get:function(){return this.state==="starting"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"matrixDragHandleArea",{get:function(){return this.getPropertyValue("matrixDragHandleArea","entireItem")},set:function(e){this.setPropertyValue("matrixDragHandleArea",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowingPage",{get:function(){return this.state=="running"||this.state=="preview"||this.isShowStartingPage},enumerable:!1,configurable:!0}),t.prototype.updateActivePage=function(){var e=this.isShowStartingPage?this.startedPage:this.currentPage;e!==this.activePage&&this.setPropertyValue("activePage",e)},t.prototype.onStateAndCurrentPageChanged=function(){this.updateActivePage(),this.updateButtonsVisibility()},t.prototype.getPageByObject=function(e){if(!e)return null;if(e.getType&&e.getType()=="page")return e;if(typeof e=="string"||e instanceof String)return this.getPageByName(String(e));if(!isNaN(e)){var n=Number(e),r=this.visiblePages;return e<0||e>=r.length?null:r[n]}return e},Object.defineProperty(t.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(e){var n=this.visiblePages;e<0||e>=n.length||(this.currentPage=n[e])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(e){this.setPropertyValue("questionsOrder",e)},enumerable:!1,configurable:!0}),t.prototype.focusFirstQuestion=function(){if(!this.focusingQuestionInfo){var e=this.activePage;e&&(e.scrollToTop(),e.focusFirstQuestion())}},t.prototype.scrollToTopOnPageChange=function(e){e===void 0&&(e=!0);var n=this.activePage;n&&(e&&n.scrollToTop(),this.isCurrentPageRendering&&this.focusFirstQuestionAutomatic&&!this.focusingQuestionInfo&&(n.focusFirstQuestion(),this.isCurrentPageRendering=!1))},Object.defineProperty(t.prototype,"state",{get:function(){return this.getPropertyValue("state","empty")},enumerable:!1,configurable:!0}),t.prototype.updateState=function(){this.setPropertyValue("state",this.calcState())},t.prototype.calcState=function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},Object.defineProperty(t.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(e){this.setPropertyValue("isCompleted",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(e){this.isShowingPreview!=e&&(this.setPropertyValue("isShowingPreview",e),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(e){this.setPropertyValue("isStartedState",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(e){this.setPropertyValue("isCompletedBefore",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(e){this.setPropertyValue("isLoading",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedState",{get:function(){return this.getPropertyValue("completedState","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedStateText",{get:function(){return this.getPropertyValue("completedStateText","")},enumerable:!1,configurable:!0}),t.prototype.setCompletedState=function(e,n){this.setPropertyValue("completedState",e),n||(e=="saving"&&(n=this.getLocalizationString("savingData")),e=="error"&&(n=this.getLocalizationString("savingDataError")),e=="success"&&(n=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",n),this.state==="completed"&&this.showCompletedPage&&this.completedState&&this.notify(this.completedStateText,this.completedState,e==="error")},t.prototype.notify=function(e,n,r){r===void 0&&(r=!1),this.notifier.showActions=r,this.notifier.notify(e,n,r)},t.prototype.clear=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0),this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,e&&this.setDataCore(null,!0),this.timerModel.spent=0;for(var r=0;r<this.pages.length;r++)this.pages[r].timeSpent=0,this.pages[r].setWasShown(!1),this.pages[r].passed=!1;this.onFirstPageIsStartedChanged(),n&&(this.currentPage=this.firstVisiblePage),e&&this.updateValuesWithDefaults()},t.prototype.mergeValues=function(e,n){dr(e,n)},t.prototype.updateValuesWithDefaults=function(){if(!(this.isDesignMode||this.isLoading))for(var e=0;e<this.pages.length;e++)for(var n=this.pages[e].questions,r=0;r<n.length;r++)n[r].updateValueWithDefaults()},t.prototype.updateCustomWidgets=function(e){e&&e.updateCustomWidgets()},t.prototype.currentPageChanging=function(e,n){var r=this.createPageChangeEventOptions(e,n);r.allow=!0,r.allowChanging=!0,this.onCurrentPageChanging.fire(this,r);var o=r.allowChanging&&r.allow;return o&&(this.isCurrentPageRendering=!0),o},t.prototype.currentPageChanged=function(e,n){this.notifyQuestionsOnHidingContent(n);var r=this.createPageChangeEventOptions(e,n);n&&!n.passed&&n.validate(!1)&&(n.passed=!0),this.isCurrentPageRendered===!0&&(this.isCurrentPageRendered=!1),this.onCurrentPageChanged.fire(this,r)},t.prototype.notifyQuestionsOnHidingContent=function(e){e&&e.questions.forEach(function(n){return n.onHidingContent()})},t.prototype.createPageChangeEventOptions=function(e,n){var r=e&&n?e.visibleIndex-n.visibleIndex:0;return{oldCurrentPage:n,newCurrentPage:e,isNextPage:r===1,isPrevPage:r===-1,isGoingForward:r>0,isGoingBackward:r<0,isAfterPreview:this.changeCurrentPageFromPreview===!0}},t.prototype.getProgress=function(){if(this.currentPage==null)return 0;if(this.progressBarType!=="pages"){var e=this.getProgressInfo();return this.progressBarType==="requiredQuestions"?e.requiredQuestionCount>=1?Math.ceil(e.requiredAnsweredQuestionCount*100/e.requiredQuestionCount):100:e.questionCount>=1?Math.ceil(e.answeredQuestionCount*100/e.questionCount):100}var n=this.visiblePages,r=n.indexOf(this.currentPage);return Math.ceil(r*100/n.length)},Object.defineProperty(t.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var e=this.currentPage;return e?e.navigationButtonsVisibility==="show"?this.showNavigationButtons==="none"?"bottom":this.showNavigationButtons:e.navigationButtonsVisibility==="hide"?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNavigationButtonsShowingOnTop",{get:function(){return this.getIsNavigationButtonsShowingOn("top")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNavigationButtonsShowingOnBottom",{get:function(){return this.getIsNavigationButtonsShowingOn("bottom")},enumerable:!1,configurable:!0}),t.prototype.getIsNavigationButtonsShowingOn=function(e){var n=this.isNavigationButtonsShowing;return n=="both"||n==e},Object.defineProperty(t.prototype,"isEditMode",{get:function(){return this.mode=="edit"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDisplayMode",{get:function(){return this.mode=="display"&&!this.isDesignMode||this.state=="preview"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUpdateValueTextOnTyping",{get:function(){return this.textUpdateMode=="onTyping"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),t.prototype.setDesignMode=function(e){!!this._isDesignMode!=!!e&&(this._isDesignMode=!!e,this.onQuestionsOnPageModeChanged("standard"))},Object.defineProperty(t.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(e){var n=this.visiblePages;this.setPropertyValue("showInvisibleElements",e),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(n))},enumerable:!1,configurable:!0}),t.prototype.updateAllElementsVisibility=function(e){for(var n=0;n<this.pages.length;n++){var r=this.pages[n];r.updateElementVisibility(),e.indexOf(r)>-1!=r.isVisible&&this.onPageVisibleChanged.fire(this,{page:r,visible:r.isVisible})}},Object.defineProperty(t.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&this.showPreviewBeforeComplete=="showAnsweredQuestions"&&this.isAnyQuestionAnswered},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAnyQuestionAnswered",{get:function(){for(var e=this.getAllQuestions(!0),n=0;n<e.length;n++)if(!e[n].isEmpty())return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCookie",{get:function(){if(!this.cookieName)return!1;var e=h.getCookie();return e&&e.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),t.prototype.setCookie=function(){this.cookieName&&h.setCookie(this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},t.prototype.deleteCookie=function(){this.cookieName&&h.setCookie(this.cookieName+"=;")},Object.defineProperty(t.prototype,"ignoreValidation",{get:function(){return!this.validationEnabled},set:function(e){this.validationEnabled=!e},enumerable:!1,configurable:!0}),t.prototype.nextPage=function(){return this.isLastPage?!1:this.doCurrentPageComplete(!1)},t.prototype.hasErrorsOnNavigate=function(e){var n=this;if(!this.isEditMode||this.ignoreValidation)return!1;var r=e&&this.validationAllowComplete||!e&&this.validationAllowSwitchPages,o=function(c){(!c||r)&&n.doCurrentPageCompleteCore(e)};return this.isValidateOnComplete?this.isLastPage?this.validate(!0,this.focusOnFirstError,o,!0)!==!0&&!r:!1:this.validateCurrentPage(o)!==!0&&!r},t.prototype.checkForAsyncQuestionValidation=function(e,n){var r=this;this.clearAsyncValidationQuesitons();for(var o=function(){if(e[p].isRunningValidators){var y=e[p];y.onCompletedAsyncValidators=function(b){r.onCompletedAsyncQuestionValidators(y,n,b)},c.asyncValidationQuesitons.push(e[p])}},c=this,p=0;p<e.length;p++)o();return this.asyncValidationQuesitons.length>0},t.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var e=this.asyncValidationQuesitons,n=0;n<e.length;n++)e[n].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},t.prototype.onCompletedAsyncQuestionValidators=function(e,n,r){if(r){if(this.clearAsyncValidationQuesitons(),n(!0),this.focusOnFirstError&&e&&e.page&&e.page===this.currentPage){for(var o=this.currentPage.questions,c=0;c<o.length;c++)if(o[c]!==e&&o[c].errors.length>0)return;e.focus(!0)}return}for(var p=this.asyncValidationQuesitons,y=0;y<p.length;y++)if(p[y].isRunningValidators)return;n(!1)},Object.defineProperty(t.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCurrentPageValid",{get:function(){return!this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),t.prototype.hasCurrentPageErrors=function(e){return this.hasPageErrors(void 0,e)},t.prototype.validateCurrentPage=function(e){return this.validatePage(void 0,e)},t.prototype.hasPageErrors=function(e,n){var r=this.validatePage(e,n);return r===void 0?r:!r},t.prototype.validatePage=function(e,n){return e||(e=this.activePage),e?this.checkIsPageHasErrors(e)?!1:n&&this.checkForAsyncQuestionValidation(e.questions,function(r){return n(r)})?void 0:!0:!0},t.prototype.hasErrors=function(e,n,r){e===void 0&&(e=!0),n===void 0&&(n=!1);var o=this.validate(e,n,r);return o===void 0?o:!o},t.prototype.validate=function(e,n,r,o){e===void 0&&(e=!0),n===void 0&&(n=!1),r&&(e=!0);for(var c=this.visiblePages,p=!0,y={fireCallback:e,focusOnFirstError:n,firstErrorQuestion:null,result:!1},b=0;b<c.length;b++)c[b].validate(e,n,y)||(p=!1);return y.firstErrorQuestion&&(n||o)&&(n?y.firstErrorQuestion.focus(!0):this.currentPage=y.firstErrorQuestion.page),!p||!r?p:this.checkForAsyncQuestionValidation(this.getAllQuestions(),function(E){return r(E)})?void 0:!0},t.prototype.ensureUniqueNames=function(e){if(e===void 0&&(e=null),e==null)for(var n=0;n<this.pages.length;n++)this.ensureUniqueName(this.pages[n]);else this.ensureUniqueName(e)},t.prototype.ensureUniqueName=function(e){if(e.isPage&&this.ensureUniquePageName(e),e.isPanel&&this.ensureUniquePanelName(e),e.isPage||e.isPanel)for(var n=e.elements,r=0;r<n.length;r++)this.ensureUniqueNames(n[r]);else this.ensureUniqueQuestionName(e)},t.prototype.ensureUniquePageName=function(e){var n=this;return this.ensureUniqueElementName(e,function(r){return n.getPageByName(r)})},t.prototype.ensureUniquePanelName=function(e){var n=this;return this.ensureUniqueElementName(e,function(r){return n.getPanelByName(r)})},t.prototype.ensureUniqueQuestionName=function(e){var n=this;return this.ensureUniqueElementName(e,function(r){return n.getQuestionByName(r)})},t.prototype.ensureUniqueElementName=function(e,n){var r=n(e.name);if(!(!r||r==e)){for(var o=this.getNewName(e.name);n(o);)var o=this.getNewName(e.name);e.name=o}},t.prototype.getNewName=function(e){for(var n=e.length;n>0&&e[n-1]>="0"&&e[n-1]<="9";)n--;var r=e.substring(0,n),o=0;return n<e.length&&(o=parseInt(e.substring(n))),o++,r+o},t.prototype.checkIsCurrentPageHasErrors=function(e){return e===void 0&&(e=void 0),this.checkIsPageHasErrors(this.activePage,e)},t.prototype.checkIsPageHasErrors=function(e,n){if(n===void 0&&(n=void 0),n===void 0&&(n=this.focusOnFirstError),!e)return!0;var r=!e.validate(!0,n);return this.fireValidatedErrorsOnPage(e),r},t.prototype.fireValidatedErrorsOnPage=function(e){if(!(this.onValidatedErrorsOnCurrentPage.isEmpty||!e)){for(var n=e.questions,r=new Array,o=new Array,c=0;c<n.length;c++){var p=n[c];if(p.errors.length>0){r.push(p);for(var y=0;y<p.errors.length;y++)o.push(p.errors[y])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:r,errors:o,page:e})}},t.prototype.prevPage=function(){var e=this;if(this.isFirstPage||this.state==="starting")return!1;this.resetNavigationButton();var n=this.skippedPages.find(function(c){return c.to==e.currentPage});if(n)this.currentPage=n.from,this.skippedPages.splice(this.skippedPages.indexOf(n),1);else{var r=this.visiblePages,o=r.indexOf(this.currentPage);this.currentPage=r[o-1]}return!0},t.prototype.completeLastPage=function(){this.isValidateOnComplete&&this.cancelPreview();var e=this.doCurrentPageComplete(!0);return e&&this.cancelPreview(),e},t.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},t.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},t.prototype.nextPageUIClick=function(){if(!(this.mouseDownPage&&this.mouseDownPage!==this.activePage))return this.mouseDownPage=null,this.nextPage()},t.prototype.nextPageMouseDown=function(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()},t.prototype.showPreview=function(){return this.resetNavigationButton(),!this.isValidateOnComplete&&(this.hasErrorsOnNavigate(!0)||this.doServerValidation(!0,!0))?!1:(this.showPreviewCore(),!0)},t.prototype.showPreviewCore=function(){var e={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,e),this.isShowingPreview=e.allowShowPreview&&e.allow},t.prototype.cancelPreview=function(e){e===void 0&&(e=null),this.isShowingPreview&&(this.gotoPageFromPreview=e,this.isShowingPreview=!1)},t.prototype.cancelPreviewByPage=function(e){this.cancelPreview(e.originalPage)},t.prototype.doCurrentPageComplete=function(e){return this.isValidatingOnServer||(this.resetNavigationButton(),this.hasErrorsOnNavigate(e))?!1:this.doCurrentPageCompleteCore(e)},t.prototype.doCurrentPageCompleteCore=function(e){return this.doServerValidation(e)?!1:e?(this.currentPage.passed=!0,this.doComplete(this.canBeCompletedByTrigger,this.completedTrigger)):(this.doNextPage(),!0)},Object.defineProperty(t.prototype,"isSinglePage",{get:function(){return this.questionsOnPageMode=="singlePage"},set:function(e){this.questionsOnPageMode=e?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode")},set:function(e){this.setPropertyValue("questionsOnPageMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted")},set:function(e){this.setPropertyValue("firstPageIsStarted",e)},enumerable:!1,configurable:!0}),t.prototype.isPageStarted=function(e){return this.firstPageIsStarted&&this.pages.length>1&&this.pages[0]===e},Object.defineProperty(t.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete")},set:function(e){this.setPropertyValue("showPreviewBeforeComplete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowPreviewBeforeComplete",{get:function(){var e=this.showPreviewBeforeComplete;return e=="showAllQuestions"||e=="showAnsweredQuestions"},enumerable:!1,configurable:!0}),t.prototype.onFirstPageIsStartedChanged=function(){this.isStartedState=this.firstPageIsStarted&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)},t.prototype.onShowingPreviewChanged=function(){if(!this.isDesignMode)if(this.isShowingPreview?(this.runningPages=this.pages.slice(0,this.pages.length),this.setupPagesForPageModes(!0,!1)):(this.runningPages&&this.restoreOriginalPages(this.runningPages),this.runningPages=void 0),this.runConditions(),this.updateAllElementsVisibility(this.pages),this.updateVisibleIndexes(),this.isShowingPreview)this.currentPageNo=0;else{var e=this.gotoPageFromPreview;this.gotoPageFromPreview=null,g.isValueEmpty(e)&&this.visiblePageCount>0&&(e=this.visiblePages[this.visiblePageCount-1]),e&&(this.changeCurrentPageFromPreview=!0,this.currentPage=e,this.changeCurrentPageFromPreview=!1)}},t.prototype.onQuestionsOnPageModeChanged=function(e,n){n===void 0&&(n=!1),!this.isShowingPreview&&(this.questionsOnPageMode=="standard"||this.isDesignMode?(this.originalPages&&this.restoreOriginalPages(this.originalPages),this.originalPages=void 0):((!e||e=="standard")&&(this.originalPages=this.pages.slice(0,this.pages.length)),this.setupPagesForPageModes(this.isSinglePage,n)),this.runConditions(),this.updateVisibleIndexes())},t.prototype.restoreOriginalPages=function(e){this.questionHashesClear(),this.pages.splice(0,this.pages.length);for(var n=0;n<e.length;n++){var r=e[n];r.setWasShown(!1),this.pages.push(r)}},t.prototype.getPageStartIndex=function(){return this.firstPageIsStarted&&this.pages.length>0?1:0},t.prototype.setupPagesForPageModes=function(e,n){var r=this;this.questionHashesClear(),this.firstPageIsStarted&&this.pages.length>0&&this.pages[0].questions.forEach(function(b){return r.questionHashesAdded(b)}),this.isLockingUpdateOnPageModes=!n;var o=this.getPageStartIndex();i.prototype.startLoadingFromJson.call(this);var c=this.createPagesForQuestionOnPageMode(e,o),p=this.pages.length-o;this.pages.splice(o,p);for(var y=0;y<c.length;y++)this.pages.push(c[y]);i.prototype.endLoadingFromJson.call(this);for(var y=0;y<c.length;y++)c[y].setSurveyImpl(this,!0);this.doElementsOnLoad(),this.updateCurrentPage(),this.isLockingUpdateOnPageModes=!1},t.prototype.createPagesForQuestionOnPageMode=function(e,n){return e?[this.createSinglePage(n)]:this.createPagesForEveryQuestion(n)},t.prototype.createSinglePage=function(e){var n=this.createNewPage("all");n.setSurveyImpl(this);for(var r=e;r<this.pages.length;r++){var o=this.pages[r],c=H.createClass("panel");c.originalPage=o,n.addPanel(c);var p=new et().toJsonObject(o);new et().toObject(p,c),this.showPageTitles||(c.title="")}return n},t.prototype.createPagesForEveryQuestion=function(e){for(var n=[],r=e;r<this.pages.length;r++){var o=this.pages[r];o.setWasShown(!0);for(var c=0;c<o.elements.length;c++){var p=o.elements[c],y=H.createClass(p.getType());if(y){var b=new et;b.lightSerializing=!0;var E=b.toJsonObject(o),M=H.createClass(o.getType());M.fromJSON(E),M.name=p.name,M.setSurveyImpl(this),n.push(M);var Q=new et().toJsonObject(p);M.addElement(y),new et().toObject(Q,y);for(var X=0;X<M.questions.length;X++)this.questionHashesAdded(M.questions[X])}}}return n},Object.defineProperty(t.prototype,"isFirstPage",{get:function(){return this.getPropertyValue("isFirstPage")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLastPage",{get:function(){return this.getPropertyValue("isLastPage")},enumerable:!1,configurable:!0}),t.prototype.updateButtonsVisibility=function(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible())},Object.defineProperty(t.prototype,"isShowPrevButton",{get:function(){return this.getPropertyValue("isShowPrevButton")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowNextButton",{get:function(){return this.getPropertyValue("isShowNextButton")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCompleteButtonVisible",{get:function(){return this.getPropertyValue("isCompleteButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPreviewButtonVisible",{get:function(){return this.getPropertyValue("isPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.getPropertyValue("isCancelPreviewButtonVisible")},enumerable:!1,configurable:!0}),t.prototype.updateIsFirstLastPageState=function(){var e=this.currentPage;this.setPropertyValue("isFirstPage",!!e&&e===this.firstVisiblePage),this.setPropertyValue("isLastPage",!!e&&e===this.lastVisiblePage)},t.prototype.calcIsShowPrevButton=function(){if(this.isFirstPage||!this.showPrevButton||this.state!=="running")return!1;var e=this.visiblePages[this.currentPageNo-1];return e&&e.getMaxTimeToFinish()<=0},t.prototype.calcIsShowNextButton=function(){return this.state==="running"&&!this.isLastPage&&!this.canBeCompletedByTrigger},t.prototype.calcIsCompleteButtonVisible=function(){var e=this.state;return this.isEditMode&&(this.state==="running"&&(this.isLastPage&&!this.isShowPreviewBeforeComplete||this.canBeCompletedByTrigger)||e==="preview")&&this.showCompleteButton},t.prototype.calcIsPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="running"&&this.isLastPage},t.prototype.calcIsCancelPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="preview"},Object.defineProperty(t.prototype,"firstVisiblePage",{get:function(){for(var e=this.pages,n=0;n<e.length;n++)if(this.isPageInVisibleList(e[n]))return e[n];return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastVisiblePage",{get:function(){for(var e=this.pages,n=e.length-1;n>=0;n--)if(this.isPageInVisibleList(e[n]))return e[n];return null},enumerable:!1,configurable:!0}),t.prototype.doComplete=function(e,n){if(e===void 0&&(e=!1),!this.isCompleted)return this.checkOnCompletingEvent(e,n)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.notifyQuestionsOnHidingContent(this.currentPage),this.isCompleted=!0,this.clearUnusedValues(),this.saveDataOnComplete(e,n),this.setCookie(),!0):(this.isCompleted=!1,!1)},t.prototype.saveDataOnComplete=function(e,n){var r=this;e===void 0&&(e=!1);var o=this.hasCookie,c=function(Q){E=!0,r.setCompletedState("saving",Q)},p=function(Q){r.setCompletedState("error",Q)},y=function(Q){r.setCompletedState("success",Q),r.navigateTo()},b=function(Q){r.setCompletedState("","")},E=!1,M={isCompleteOnTrigger:e,completeTrigger:n,showSaveInProgress:c,showSaveError:p,showSaveSuccess:y,clearSaveMessages:b,showDataSaving:c,showDataSavingError:p,showDataSavingSuccess:y,showDataSavingClear:b};this.onComplete.fire(this,M),!o&&this.surveyPostId&&this.sendResult(),E||this.navigateTo()},t.prototype.checkOnCompletingEvent=function(e,n){var r={allowComplete:!0,allow:!0,isCompleteOnTrigger:e,completeTrigger:n};return this.onCompleting.fire(this,r),r.allowComplete&&r.allow},t.prototype.start=function(){return!this.firstPageIsStarted||(this.isCurrentPageRendering=!0,this.checkIsPageHasErrors(this.startedPage,!0))?!1:(this.isStartedState=!1,this.notifyQuestionsOnHidingContent(this.pages[0]),this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPage&&this.currentPage.locStrsChanged(),!0)},Object.defineProperty(t.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),t.prototype.setIsValidatingOnServer=function(e){e!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",e),this.onIsValidatingOnServerChanged())},t.prototype.createServerValidationOptions=function(e,n){var r=this,o={data:{},errors:{},survey:this,complete:function(){r.completeServerValidation(o,n)}};if(e&&this.isValidateOnComplete)o.data=this.data;else for(var c=this.activePage.questions,p=0;p<c.length;p++){var y=c[p];if(y.visible){var b=this.getValue(y.getValueName());this.isValueEmpty(b)||(o.data[y.getValueName()]=b)}}return o},t.prototype.onIsValidatingOnServerChanged=function(){},t.prototype.doServerValidation=function(e,n){var r=this;if(n===void 0&&(n=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!e&&this.isValidateOnComplete)return!1;this.setIsValidatingOnServer(!0);var o=typeof this.onServerValidateQuestions=="function";return this.serverValidationEventCount=o?1:this.onServerValidateQuestions.length,o?this.onServerValidateQuestions(this,this.createServerValidationOptions(e,n)):this.onServerValidateQuestions.fireByCreatingOptions(this,function(){return r.createServerValidationOptions(e,n)}),!0},t.prototype.completeServerValidation=function(e,n){if(!(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,e&&e.errors&&Object.keys(e.errors).length===0))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),!(!e&&!e.survey))){var r=e.survey,o=!1;if(e.errors){var c=this.focusOnFirstError;for(var p in e.errors){var y=r.getQuestionByName(p);y&&y.errors&&(o=!0,y.addError(new wn(e.errors[p],this)),c&&(c=!1,y.page&&(this.currentPage=y.page),y.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}o||(n?this.showPreviewCore():r.isLastPage?r.doComplete():r.doNextPage())}},t.prototype.doNextPage=function(){var e=this.currentPage;if(this.checkOnPageTriggers(!1),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),e===this.currentPage){var n=this.visiblePages,r=n.indexOf(this.currentPage);this.currentPage=n[r+1]}},t.prototype.setCompleted=function(e){this.doComplete(!0,e)},t.prototype.canBeCompleted=function(e,n){var r;if(N.triggers.changeNavigationButtonsOnComplete){var o=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),n?this.completedByTriggers[e.id]={trigger:e,pageId:(r=this.currentPage)===null||r===void 0?void 0:r.id}:delete this.completedByTriggers[e.id],o!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}},Object.defineProperty(t.prototype,"canBeCompletedByTrigger",{get:function(){var e;if(!this.completedByTriggers)return!1;var n=Object.keys(this.completedByTriggers);if(n.length===0)return!1;var r=(e=this.currentPage)===null||e===void 0?void 0:e.id;if(!r)return!0;for(var o=0;o<n.length;o++)if(r===this.completedByTriggers[n[o]].pageId)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completedTrigger",{get:function(){if(this.canBeCompletedByTrigger){var e=Object.keys(this.completedByTriggers)[0];return this.completedByTriggers[e].trigger}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedCompletedHtml",{get:function(){var e=this.renderedCompletedHtml;return e?this.processHtml(e,"completed"):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedCompletedBeforeHtml",{get:function(){return this.locCompletedBeforeHtml.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedLoadingHtml",{get:function(){return this.locLoadingHtml.textOrHtml},enumerable:!1,configurable:!0}),t.prototype.getProgressInfo=function(){var e=this.isDesignMode?this.pages:this.visiblePages;return Qt.getProgressInfoByElements(e,!1)},Object.defineProperty(t.prototype,"progressText",{get:function(){var e=this.getPropertyValue("progressText","");return e||(this.updateProgressText(),e=this.getPropertyValue("progressText","")),e},enumerable:!1,configurable:!0}),t.prototype.updateProgressText=function(e){e===void 0&&(e=!1),!(this.isCalculatingProgressText||this.isShowingPreview||this.isLockingUpdateOnPageModes)&&(e&&this.progressBarType=="pages"&&this.onProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1))},t.prototype.getProgressText=function(){if(!this.isDesignMode&&this.currentPage==null)return"";var e={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},n=this.progressBarType.toLowerCase();if(n==="questions"||n==="requiredquestions"||n==="correctquestions"||!this.onProgressText.isEmpty){var r=this.getProgressInfo();e.questionCount=r.questionCount,e.answeredQuestionCount=r.answeredQuestionCount,e.requiredQuestionCount=r.requiredQuestionCount,e.requiredAnsweredQuestionCount=r.requiredAnsweredQuestionCount}return e.text=this.getProgressTextCore(e),this.onProgressText.fire(this,e),e.text},t.prototype.getProgressTextCore=function(e){var n=this.progressBarType.toLowerCase();if(n==="questions")return this.getLocalizationFormatString("questionsProgressText",e.answeredQuestionCount,e.questionCount);if(n==="requiredquestions")return this.getLocalizationFormatString("questionsProgressText",e.requiredAnsweredQuestionCount,e.requiredQuestionCount);if(n==="correctquestions"){var r=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",r,e.questionCount)}var o=this.isDesignMode?this.pages:this.visiblePages,c=o.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",c,o.length)},t.prototype.getRootCss=function(){return new J().append(this.css.root).append(this.css.rootProgress+"--"+this.progressBarType).append(this.css.rootMobile,this.isMobile).append(this.css.rootAnimationDisabled,!N.animationEnabled).append(this.css.rootReadOnly,this.mode==="display"&&!this.isDesignMode).append(this.css.rootCompact,this.isCompact).append(this.css.rootFitToContainer,this.fitToContainer).toString()},t.prototype.afterRenderSurvey=function(e){var n=this;this.destroyResizeObserver(),Array.isArray(e)&&(e=Qt.GetFirstNonTextElement(e));var r=e,o=this.css.variables;if(o){var c=Number.parseFloat(h.getComputedStyle(r).getPropertyValue(o.mobileWidth));if(c){var p=!1;this.resizeObserver=new ResizeObserver(function(y){f.requestAnimationFrame(function(){p||!Ja(r)?p=!1:p=n.processResponsiveness(r.offsetWidth,c,r.offsetHeight)})}),this.resizeObserver.observe(r)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:e}),this.rootElement=e,this.addScrollEventListener()},t.prototype.processResponsiveness=function(e,n,r){var o=e<n,c=this.isMobile!==o;this.setIsMobile(o),this.layoutElements.forEach(function(y){return y.processResponsiveness&&y.processResponsiveness(e)});var p={height:r,width:e};return this.onResize.fire(this,p),c},t.prototype.triggerResponsiveness=function(e){this.getAllQuestions().forEach(function(n){n.triggerResponsiveness(e)})},t.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},t.prototype.updateQuestionCssClasses=function(e,n){this.onUpdateQuestionCssClasses.fire(this,{question:e,cssClasses:n})},t.prototype.updatePanelCssClasses=function(e,n){this.onUpdatePanelCssClasses.fire(this,{panel:e,cssClasses:n})},t.prototype.updatePageCssClasses=function(e,n){this.onUpdatePageCssClasses.fire(this,{page:e,cssClasses:n})},t.prototype.updateChoiceItemCss=function(e,n){n.question=e,this.onUpdateChoiceItemCss.fire(this,n)},t.prototype.afterRenderPage=function(e){var n=this;if(!this.isDesignMode&&!this.focusingQuestionInfo){var r=this.isCurrentPageRendered===!1;setTimeout(function(){return n.scrollToTopOnPageChange(r)},1)}this.focusQuestionInfo(),this.isCurrentPageRendered=!0,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:e})},t.prototype.afterRenderHeader=function(e){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:e})},t.prototype.afterRenderQuestion=function(e,n){this.onAfterRenderQuestion.fire(this,{question:e,htmlElement:n})},t.prototype.afterRenderQuestionInput=function(e,n){if(!this.onAfterRenderQuestionInput.isEmpty){var r=e.inputId,o=N.environment.root;if(r&&n.id!==r&&typeof o<"u"){var c=o.getElementById(r);c&&(n=c)}this.onAfterRenderQuestionInput.fire(this,{question:e,htmlElement:n})}},t.prototype.afterRenderPanel=function(e,n){this.onAfterRenderPanel.fire(this,{panel:e,htmlElement:n})},t.prototype.whenQuestionFocusIn=function(e){this.onFocusInQuestion.fire(this,{question:e})},t.prototype.whenPanelFocusIn=function(e){this.onFocusInPanel.fire(this,{panel:e})},t.prototype.rebuildQuestionChoices=function(){this.getAllQuestions().forEach(function(e){return e.surveyChoiceItemVisibilityChange()})},t.prototype.canChangeChoiceItemsVisibility=function(){return!this.onShowingChoiceItem.isEmpty},t.prototype.getChoiceItemVisibility=function(e,n,r){var o={question:e,item:n,visible:r};return this.onShowingChoiceItem.fire(this,o),o.visible},t.prototype.loadQuestionChoices=function(e){this.onChoicesLazyLoad.fire(this,e)},t.prototype.getChoiceDisplayValue=function(e){this.onGetChoiceDisplayValue.isEmpty?e.setItems(null):this.onGetChoiceDisplayValue.fire(this,e)},t.prototype.matrixBeforeRowAdded=function(e){this.onMatrixRowAdding.fire(this,e)},t.prototype.matrixRowAdded=function(e,n){this.onMatrixRowAdded.fire(this,{question:e,row:n})},t.prototype.matrixColumnAdded=function(e,n){this.onMatrixColumnAdded.fire(this,{question:e,column:n})},t.prototype.multipleTextItemAdded=function(e,n){this.onMultipleTextItemAdded.fire(this,{question:e,item:n})},t.prototype.getQuestionByValueNameFromArray=function(e,n,r){var o=this.getQuestionsByValueName(e);if(o){for(var c=0;c<o.length;c++){var p=o[c].getQuestionFromArray(n,r);if(p)return p}return null}},t.prototype.matrixRowRemoved=function(e,n,r){this.onMatrixRowRemoved.fire(this,{question:e,rowIndex:n,row:r})},t.prototype.matrixRowRemoving=function(e,n,r){var o={question:e,rowIndex:n,row:r,allow:!0};return this.onMatrixRowRemoving.fire(this,o),o.allow},t.prototype.matrixAllowRemoveRow=function(e,n,r){var o={question:e,rowIndex:n,row:r,allow:!0};return this.onMatrixRenderRemoveButton.fire(this,o),o.allow},t.prototype.matrixDetailPanelVisibleChanged=function(e,n,r,o){var c={question:e,rowIndex:n,row:r,visible:o,detailPanel:r.detailPanel};this.onMatrixDetailPanelVisibleChanged.fire(this,c)},t.prototype.matrixCellCreating=function(e,n){n.question=e,this.onMatrixCellCreating.fire(this,n)},t.prototype.matrixCellCreated=function(e,n){n.question=e,this.onMatrixCellCreated.fire(this,n)},t.prototype.matrixAfterCellRender=function(e,n){n.question=e,this.onAfterRenderMatrixCell.fire(this,n)},t.prototype.matrixCellValueChanged=function(e,n){n.question=e,this.onMatrixCellValueChanged.fire(this,n)},t.prototype.matrixCellValueChanging=function(e,n){n.question=e,this.onMatrixCellValueChanging.fire(this,n)},Object.defineProperty(t.prototype,"isValidateOnValueChanging",{get:function(){return this.checkErrorsMode==="onValueChanging"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateOnValueChanged",{get:function(){return this.checkErrorsMode==="onValueChanged"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateOnValueChange",{get:function(){return this.isValidateOnValueChanged||this.isValidateOnValueChanging},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValidateOnComplete",{get:function(){return this.checkErrorsMode==="onComplete"||this.validationAllowSwitchPages&&!this.validationAllowComplete},enumerable:!1,configurable:!0}),t.prototype.matrixCellValidate=function(e,n){return n.question=e,this.onMatrixCellValidate.fire(this,n),n.error?new wn(n.error,this):null},t.prototype.dynamicPanelAdded=function(e,n,r){if(this.isLoadingFromJson||this.updateVisibleIndexes(),!this.onDynamicPanelAdded.isEmpty){var o=e.panels;n===void 0&&(n=o.length-1,r=o[n]),this.onDynamicPanelAdded.fire(this,{question:e,panel:r,panelIndex:n})}},t.prototype.dynamicPanelRemoved=function(e,n,r){for(var o=r?r.questions:[],c=0;c<o.length;c++)o[c].clearOnDeletingContainer();this.updateVisibleIndexes(),this.onDynamicPanelRemoved.fire(this,{question:e,panelIndex:n,panel:r})},t.prototype.dynamicPanelRemoving=function(e,n,r){var o={question:e,panelIndex:n,panel:r,allow:!0};return this.onDynamicPanelRemoving.fire(this,o),o.allow},t.prototype.dynamicPanelItemValueChanged=function(e,n){n.question=e,n.panelIndex=n.itemIndex,n.panelData=n.itemValue,this.onDynamicPanelItemValueChanged.fire(this,n)},t.prototype.dynamicPanelGetTabTitle=function(e,n){n.question=e,this.onGetDynamicPanelTabTitle.fire(this,n)},t.prototype.dynamicPanelCurrentIndexChanged=function(e,n){n.question=e,this.onDynamicPanelCurrentIndexChanged.fire(this,n)},t.prototype.dragAndDropAllow=function(e){return this.onDragDropAllow.fire(this,e),e.allow},t.prototype.elementContentVisibilityChanged=function(e){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:e})},t.prototype.getUpdatedPanelFooterActions=function(e,n,r){var o={question:r,panel:e,actions:n};return this.onGetPanelFooterActions.fire(this,o),o.actions},t.prototype.getUpdatedElementTitleActions=function(e,n){return e.isPage?this.getUpdatedPageTitleActions(e,n):e.isPanel?this.getUpdatedPanelTitleActions(e,n):this.getUpdatedQuestionTitleActions(e,n)},t.prototype.getUpdatedQuestionTitleActions=function(e,n){var r={question:e,titleActions:n};return this.onGetQuestionTitleActions.fire(this,r),r.titleActions},t.prototype.getUpdatedPanelTitleActions=function(e,n){var r={panel:e,titleActions:n};return this.onGetPanelTitleActions.fire(this,r),r.titleActions},t.prototype.getUpdatedPageTitleActions=function(e,n){var r={page:e,titleActions:n};return this.onGetPageTitleActions.fire(this,r),r.titleActions},t.prototype.getUpdatedMatrixRowActions=function(e,n,r){var o={question:e,actions:r,row:n};return this.onGetMatrixRowActions.fire(this,o),o.actions},t.prototype.scrollElementToTop=function(e,n,r,o,c,p,y,b){var E=this,M={element:e,question:n,page:r,elementId:o,cancel:!1};if(this.onScrollingElementToTop.fire(this,M),!M.cancel){var Q=this.getPageByElement(e);if(this.isLazyRendering&&Q){var X=1,oe=N.environment.rootElement,we=this.rootElement||y||oe;this.skeletonHeight&&we&&typeof we.getBoundingClientRect=="function"&&(X=we.getBoundingClientRect().height/this.skeletonHeight-1),Q.forceRenderElement(e,function(){E.suspendLazyRendering(),Qt.ScrollElementToTop(M.elementId,c,p,function(){E.releaseLazyRendering(),id(Q.id),b&&b()})},X)}else Qt.ScrollElementToTop(M.elementId,c,p,b)}},t.prototype.chooseFiles=function(e,n,r){this.onOpenFileChooser.isEmpty?ld(e,n):this.onOpenFileChooser.fire(this,{input:e,element:r&&r.element||this.survey,elementType:r&&r.elementType,item:r&&r.item,propertyName:r&&r.propertyName,callback:n,context:r})},t.prototype.uploadFiles=function(e,n,r,o){var c=this;this.onUploadFiles.isEmpty?o("error",this.getLocString("noUploadFilesHandler")):this.taskManager.runTask("file",function(p){c.onUploadFiles.fire(c,{question:e,name:n,files:r||[],callback:function(y,b){o(y,b),p()}})}),this.surveyPostId&&this.uploadFilesCore(n,r,o)},t.prototype.downloadFile=function(e,n,r,o){this.onDownloadFile.isEmpty&&o&&o("skipped",r.content||r),this.onDownloadFile.fire(this,{question:e,name:n,content:r.content||r,fileValue:r,callback:o})},t.prototype.clearFiles=function(e,n,r,o,c){this.onClearFiles.isEmpty&&c&&c("success",r),this.onClearFiles.fire(this,{question:e,name:n,value:r,fileName:o,callback:c})},t.prototype.updateChoicesFromServer=function(e,n,r){var o={question:e,choices:n,serverResult:r};return this.onLoadChoicesFromServer.fire(this,o),o.choices},t.prototype.loadedChoicesFromServer=function(e){this.locStrsChanged()},t.prototype.createSurveyService=function(){return new Fd},t.prototype.uploadFilesCore=function(e,n,r){var o=this,c=[];n.forEach(function(p){r&&r("uploading",p),o.createSurveyService().sendFile(o.surveyPostId,p,function(y,b){y?(c.push({content:b,file:p}),c.length===n.length&&r&&r("success",c)):r&&r("error",{response:b,file:p})})})},t.prototype.getPage=function(e){return this.pages[e]},t.prototype.addPage=function(e,n){n===void 0&&(n=-1),e!=null&&(n<0||n>=this.pages.length?this.pages.push(e):this.pages.splice(n,0,e))},t.prototype.addNewPage=function(e,n){e===void 0&&(e=null),n===void 0&&(n=-1);var r=this.createNewPage(e);return this.addPage(r,n),r},t.prototype.removePage=function(e){var n=this.pages.indexOf(e);n<0||(this.pages.splice(n,1),this.currentPage==e&&(this.currentPage=this.pages.length>0?this.pages[0]:null))},t.prototype.getQuestionByName=function(e,n){if(n===void 0&&(n=!1),!e)return null;n&&(e=e.toLowerCase());var r=n?this.questionHashes.namesInsensitive:this.questionHashes.names,o=r[e];return o?o[0]:null},t.prototype.findQuestionByName=function(e){return this.getQuestionByName(e)},t.prototype.getEditingSurveyElement=function(){return this.editingObjValue},t.prototype.getQuestionByValueName=function(e,n){n===void 0&&(n=!1);var r=this.getQuestionsByValueName(e,n);return r?r[0]:null},t.prototype.getQuestionsByValueName=function(e,n){n===void 0&&(n=!1);var r=n?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames,o=r[e];return o||null},t.prototype.getCalculatedValueByName=function(e){for(var n=0;n<this.calculatedValues.length;n++)if(e==this.calculatedValues[n].name)return this.calculatedValues[n];return null},t.prototype.getQuestionsByNames=function(e,n){n===void 0&&(n=!1);var r=[];if(!e)return r;for(var o=0;o<e.length;o++)if(e[o]){var c=this.getQuestionByName(e[o],n);c&&r.push(c)}return r},t.prototype.getPageByElement=function(e){for(var n=0;n<this.pages.length;n++){var r=this.pages[n];if(r.containsElement(e))return r}return null},t.prototype.getPageByQuestion=function(e){return this.getPageByElement(e)},t.prototype.getPageByName=function(e){for(var n=0;n<this.pages.length;n++)if(this.pages[n].name==e)return this.pages[n];return null},t.prototype.getPagesByNames=function(e){var n=[];if(!e)return n;for(var r=0;r<e.length;r++)if(e[r]){var o=this.getPageByName(e[r]);o&&n.push(o)}return n},t.prototype.getAllQuestions=function(e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1),r===void 0&&(r=!1),r&&(n=!1);for(var o=[],c=0;c<this.pages.length;c++)this.pages[c].addQuestionsToList(o,e,n);if(!r)return o;var p=[];return o.forEach(function(y){p.push(y),y.getNestedQuestions(e).forEach(function(b){return p.push(b)})}),p},t.prototype.getQuizQuestions=function(){for(var e=new Array,n=this.getPageStartIndex(),r=n;r<this.pages.length;r++)if(this.pages[r].isVisible)for(var o=this.pages[r].questions,c=0;c<o.length;c++){var p=o[c];p.quizQuestionCount>0&&e.push(p)}return e},t.prototype.getPanelByName=function(e,n){n===void 0&&(n=!1);var r=this.getAllPanels();n&&(e=e.toLowerCase());for(var o=0;o<r.length;o++){var c=r[o].name;if(n&&(c=c.toLowerCase()),c==e)return r[o]}return null},t.prototype.getAllPanels=function(e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);for(var r=new Array,o=0;o<this.pages.length;o++)this.pages[o].addPanelsIntoList(r,e,n);return r},t.prototype.createNewPage=function(e){var n=H.createClass("page");return n.name=e,n},t.prototype.questionOnValueChanging=function(e,n,r){if(this.editingObj){var o=H.findProperty(this.editingObj.getType(),e);o&&(n=o.settingValue(this.editingObj,n))}if(this.onValueChanging.isEmpty)return n;var c={name:e,question:this.getQuestionByValueName(r||e),value:this.getUnbindValue(n),oldValue:this.getValue(e)};return this.onValueChanging.fire(this,c),c.value},t.prototype.updateQuestionValue=function(e,n){if(!this.isLoadingFromJson){var r=this.getQuestionsByValueName(e);if(r)for(var o=0;o<r.length;o++){var c=r[o].value;(c===n&&Array.isArray(c)&&this.editingObj||!this.isTwoValueEquals(c,n))&&r[o].updateValueFromSurvey(n,!1)}}},t.prototype.checkQuestionErrorOnValueChanged=function(e){!this.isNavigationButtonPressed&&(this.isValidateOnValueChanged||e.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(e)},t.prototype.checkQuestionErrorOnValueChangedCore=function(e){var n=e.getAllErrors().length,r=!e.validate(!0,{isOnValueChanged:!this.isValidateOnValueChanging});return e.page&&this.isValidateOnValueChange&&(n>0||e.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(e.page),r},t.prototype.checkErrorsOnValueChanging=function(e,n){if(this.isLoadingFromJson)return!1;var r=this.getQuestionsByValueName(e);if(!r)return!1;for(var o=!1,c=0;c<r.length;c++){var p=r[c];this.isTwoValueEquals(p.valueForSurvey,n)||(p.value=n),this.checkQuestionErrorOnValueChangedCore(p)&&(o=!0),o=o||p.errors.length>0}return o},t.prototype.notifyQuestionOnValueChanged=function(e,n,r){if(!this.isLoadingFromJson){var o=this.getQuestionsByValueName(e);if(o)for(var c=0;c<o.length;c++){var p=o[c];this.checkQuestionErrorOnValueChanged(p),p.onSurveyValueChanged(n),this.onValueChanged.fire(this,{name:e,question:p,value:n})}else this.onValueChanged.fire(this,{name:e,question:null,value:n});this.isDisposed||(this.checkElementsBindings(e,n),this.notifyElementsOnAnyValueOrVariableChanged(e,r))}},t.prototype.checkElementsBindings=function(e,n){this.isRunningElementsBindings=!0;for(var r=0;r<this.pages.length;r++)this.pages[r].checkBindings(e,n);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)},t.prototype.notifyElementsOnAnyValueOrVariableChanged=function(e,n){if(this.isEndLoadingFromJson!=="processing"){if(this.isRunningConditions){this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0;return}for(var r=0;r<this.pages.length;r++)this.pages[r].onAnyValueChanged(e,n);this.isEndLoadingFromJson||this.locStrsChanged()}},t.prototype.updateAllQuestionsValue=function(e){for(var n=this.getAllQuestions(),r=0;r<n.length;r++){var o=n[r],c=o.getValueName();o.updateValueFromSurvey(this.getValue(c),e),o.requireUpdateCommentValue&&o.updateCommentFromSurvey(this.getComment(c))}},t.prototype.notifyAllQuestionsOnValueChanged=function(){for(var e=this.getAllQuestions(),n=0;n<e.length;n++)e[n].onSurveyValueChanged(this.getValue(e[n].getValueName()))},t.prototype.checkOnPageTriggers=function(e){for(var n=this.getCurrentPageQuestions(!0),r={},o=0;o<n.length;o++){var c=n[o],p=c.getValueName();r[p]=this.getValue(p)}this.addCalculatedValuesIntoFilteredValues(r),this.checkTriggers(r,!0,e)},t.prototype.getCurrentPageQuestions=function(e){e===void 0&&(e=!1);var n=[],r=this.currentPage;if(!r)return n;for(var o=0;o<r.questions.length;o++){var c=r.questions[o];!e&&!c.visible||!c.name||n.push(c)}return n},t.prototype.checkTriggers=function(e,n,r,o){if(r===void 0&&(r=!1),!(this.isCompleted||this.triggers.length==0||this.isDisplayMode)){if(this.isTriggerIsRunning){this.triggerValues=this.getFilteredValues();for(var c in e)this.triggerKeys[c]=e[c];return}var p=!1;if(!r&&o&&this.hasRequiredValidQuestionTrigger){var y=this.getQuestionByValueName(o);p=y&&!y.validate(!1)}this.isTriggerIsRunning=!0,this.triggerKeys=e,this.triggerValues=this.getFilteredValues();for(var b=this.getFilteredProperties(),E=this.canBeCompletedByTrigger,M=0;M<this.triggers.length;M++){var Q=this.triggers[M];p&&Q.requireValidQuestion||Q.checkExpression(n,r,this.triggerKeys,this.triggerValues,b)}E!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}},t.prototype.checkTriggersAndRunConditions=function(e,n,r){var o={};o[e]={newValue:n,oldValue:r},this.runConditionOnValueChanged(e,n),this.checkTriggers(o,!1,!1,e)},Object.defineProperty(t.prototype,"hasRequiredValidQuestionTrigger",{get:function(){for(var e=0;e<this.triggers.length;e++)if(this.triggers[e].requireValidQuestion)return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.doElementsOnLoad=function(){for(var e=0;e<this.pages.length;e++)this.pages[e].onSurveyLoad()},Object.defineProperty(t.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),t.prototype.runExpressions=function(){this.runConditions()},t.prototype.runConditions=function(){if(!(this.isCompleted||this.isEndLoadingFromJson==="processing"||this.isRunningConditions)){this.conditionValues=this.getFilteredValues();var e=this.getFilteredProperties(),n=this.pages.indexOf(this.currentPage);this.runConditionsCore(e),this.checkIfNewPagesBecomeVisible(n),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<N.maxConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},t.prototype.runConditionOnValueChanged=function(e,n){this.isRunningConditions?(this.conditionValues[e]=n,this.isValueChangedOnRunningCondition=!0):(this.runConditions(),this.runQuestionsTriggers(e,n))},t.prototype.runConditionsCore=function(e){for(var n=this.pages,r=0;r<this.calculatedValues.length;r++)this.calculatedValues[r].resetCalculation();for(var r=0;r<this.calculatedValues.length;r++)this.calculatedValues[r].doCalculation(this.calculatedValues,this.conditionValues,e);i.prototype.runConditionCore.call(this,this.conditionValues,e);for(var o=0;o<n.length;o++)n[o].runCondition(this.conditionValues,e)},t.prototype.runQuestionsTriggers=function(e,n){if(!(this.isDisplayMode||this.isDesignMode)){var r=this.getAllQuestions();r.forEach(function(o){return o.runTriggers(e,n)})}},t.prototype.checkIfNewPagesBecomeVisible=function(e){var n=this.pages.indexOf(this.currentPage);if(!(n<=e+1)){for(var r=e+1;r<n;r++)if(this.pages[r].isVisible){this.currentPage=this.pages[r];break}}},t.prototype.sendResult=function(e,n,r){var o=this;if(e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=!1),!!this.isEditMode&&(r&&this.onPartialSend&&this.onPartialSend.fire(this,null),!e&&this.surveyPostId&&(e=this.surveyPostId),!!e&&(n&&(this.clientId=n),!(r&&!this.clientId)))){var c=this.createSurveyService();c.locale=this.getLocale();var p=this.surveyShowDataSaving||!r&&c.isSurveJSIOService;p&&this.setCompletedState("saving",""),c.sendResult(e,this.data,function(y,b,E){(p||c.isSurveJSIOService)&&(y?o.setCompletedState("success",""):o.setCompletedState("error",b));var M={success:y,response:b,request:E};o.onSendResult.fire(o,M)},this.clientId,r)}},t.prototype.getResult=function(e,n){var r=this;this.createSurveyService().getResult(e,n,function(o,c,p,y){r.onGetResult.fire(r,{success:o,data:c,dataList:p,response:y})})},t.prototype.loadSurveyFromService=function(e,n){e===void 0&&(e=null),n===void 0&&(n=null),e&&(this.surveyId=e),n&&(this.clientId=n);var r=this;this.isLoading=!0,this.onLoadingSurveyFromService(),n?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,function(o,c,p,y){o&&(r.isCompletedBefore=p=="completed",r.loadSurveyFromServiceJson(c)),r.isLoading=!1}):this.createSurveyService().loadSurvey(this.surveyId,function(o,c,p){o&&r.loadSurveyFromServiceJson(c),r.isLoading=!1})},t.prototype.loadSurveyFromServiceJson=function(e){e&&(this.fromJSON(e),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},t.prototype.onLoadingSurveyFromService=function(){},t.prototype.onLoadSurveyFromService=function(){},t.prototype.resetVisibleIndexes=function(){for(var e=this.getAllQuestions(!0),n=0;n<e.length;n++)e[n].setVisibleIndex(-1);this.updateVisibleIndexes()},t.prototype.updateVisibleIndexes=function(){if(!(this.isLoadingFromJson||this.isEndLoadingFromJson||this.isLockingUpdateOnPageModes)){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty){this.conditionUpdateVisibleIndexes=!0;return}if(this.isRunningElementsBindings){this.updateVisibleIndexAfterBindings=!0;return}if(this.updatePageVisibleIndexes(this.showPageNumbers),this.showQuestionNumbers=="onPage")for(var e=this.visiblePages,n=0;n<e.length;n++)e[n].setVisibleIndex(0);else for(var r=this.showQuestionNumbers=="on"?0:-1,n=0;n<this.pages.length;n++)r+=this.pages[n].setVisibleIndex(r);this.updateProgressText(!0)}},t.prototype.updatePageVisibleIndexes=function(e){this.updateButtonsVisibility();for(var n=0,r=0;r<this.pages.length;r++){var o=this.pages[r],c=o.isVisible&&(r>0||!o.isStartPage);o.visibleIndex=c?n++:-1,o.num=c?o.visibleIndex+1:-1}},t.prototype.fromJSON=function(e,n){if(e){this.questionHashesClear(),this.jsonErrors=null;var r=new et;r.toObject(e,this,n),r.errors.length>0&&(this.jsonErrors=r.errors),this.onStateAndCurrentPageChanged(),this.updateState()}},t.prototype.startLoadingFromJson=function(e){i.prototype.startLoadingFromJson.call(this,e),e&&e.locale&&(this.locale=e.locale)},t.prototype.setJsonObject=function(e){this.fromJSON(e)},t.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),this.onQuestionsOnPageModeChanged("standard",!0),i.prototype.endLoadingFromJson.call(this),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateHasLogo(),this.updateRenderBackgroundImage(),this.updateCurrentPage(),this.hasDescription=!!this.description,this.titleIsEmpty=this.locTitle.isEmpty,this.setCalculatedWidthModeUpdater()},t.prototype.updateNavigationCss=function(){this.navigationBar&&(this.updateNavigationBarCss(),this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())},t.prototype.updateNavigationBarCss=function(){var e=this.navigationBar;e.cssClasses=this.css.actionBar,e.containerCss=this.css.footer},t.prototype.createNavigationBar=function(){var e=new Nn;return e.setItems(this.createNavigationActions()),e},t.prototype.createNavigationActions=function(){var e=this,n="sv-nav-btn",r=new ot({id:"sv-nav-start",visible:new At(function(){return e.isShowStartingPage}),visibleIndex:10,locTitle:this.locStartSurveyText,action:function(){return e.start()},component:n}),o=new ot({id:"sv-nav-prev",visible:new At(function(){return e.isShowPrevButton}),visibleIndex:20,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locPagePrevText,action:function(){return e.prevPage()},component:n}),c=new ot({id:"sv-nav-next",visible:new At(function(){return e.isShowNextButton}),visibleIndex:30,data:{mouseDown:function(){return e.nextPageMouseDown()}},locTitle:this.locPageNextText,action:function(){return e.nextPageUIClick()},component:n}),p=new ot({id:"sv-nav-preview",visible:new At(function(){return e.isPreviewButtonVisible}),visibleIndex:40,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locPreviewText,action:function(){return e.showPreview()},component:n}),y=new ot({id:"sv-nav-complete",visible:new At(function(){return e.isCompleteButtonVisible}),visibleIndex:50,data:{mouseDown:function(){return e.navigationMouseDown()}},locTitle:this.locCompleteText,action:function(){return e.taskManager.waitAndExecute(function(){return e.completeLastPage()})},component:n});return this.updateNavigationItemCssCallback=function(){r.innerCss=e.cssNavigationStart,o.innerCss=e.cssNavigationPrev,c.innerCss=e.cssNavigationNext,p.innerCss=e.cssNavigationPreview,y.innerCss=e.cssNavigationComplete},[r,o,c,p,y]},t.prototype.onBeforeRunConstructor=function(){},t.prototype.onBeforeCreating=function(){},t.prototype.onCreating=function(){},t.prototype.getProcessedTextValue=function(e){if(this.getProcessedTextValueCore(e),!this.onProcessTextValue.isEmpty){var n=this.isValueEmpty(e.value);this.onProcessTextValue.fire(this,e),e.isExists=e.isExists||n&&!this.isValueEmpty(e.value)}},t.prototype.getBuiltInVariableValue=function(e){if(e==="pageno"){var n=this.currentPage;return n!=null?this.visiblePages.indexOf(n)+1:0}if(e==="pagecount")return this.visiblePageCount;if(e==="correctedanswers"||e==="correctanswers"||e==="correctedanswercount")return this.getCorrectedAnswerCount();if(e==="incorrectedanswers"||e==="incorrectanswers"||e==="incorrectedanswercount")return this.getInCorrectedAnswerCount();if(e==="questioncount")return this.getQuizQuestionCount()},t.prototype.getProcessedTextValueCore=function(e){var n=e.name.toLocaleLowerCase();if(["no","require","title"].indexOf(n)===-1){var r=this.getBuiltInVariableValue(n);if(r!==void 0){e.isExists=!0,e.value=r;return}if(n==="locale"){e.isExists=!0,e.value=this.locale?this.locale:v.defaultLocale;return}var o=this.getVariable(n);if(o!==void 0){e.isExists=!0,e.value=o;return}var c=this.getFirstName(n);if(c){var p=c.useDisplayValuesInDynamicTexts;e.isExists=!0;var y=c.getValueName().toLowerCase();n=y+n.substring(y.length),n=n.toLocaleLowerCase();var b={};b[y]=e.returnDisplayValue&&p?c.getDisplayValue(!1,void 0):c.value,e.value=new Ie().getValue(n,b);return}this.getProcessedValuesWithoutQuestion(e)}},t.prototype.getProcessedValuesWithoutQuestion=function(e){var n=this.getValue(e.name);if(n!==void 0){e.isExists=!0,e.value=n;return}var r=new Ie,o=r.getFirstName(e.name);if(o!==e.name){var c={},p=this.getValue(o);g.isValueEmpty(p)&&(p=this.getVariable(o)),!g.isValueEmpty(p)&&(c[o]=p,e.value=r.getValue(e.name,c),e.isExists=r.hasValue(e.name,c))}},t.prototype.getFirstName=function(e){e=e.toLowerCase();var n;do n=this.getQuestionByValueName(e,!0),e=this.reduceFirstName(e);while(!n&&e);return n},t.prototype.reduceFirstName=function(e){var n=e.lastIndexOf("."),r=e.lastIndexOf("[");if(n<0&&r<0)return"";var o=Math.max(n,r);return e.substring(0,o)},t.prototype.clearUnusedValues=function(){this.isClearingUnsedValues=!0;for(var e=this.getAllQuestions(),n=0;n<e.length;n++)e[n].clearUnusedValues();this.clearInvisibleQuestionValues(),this.isClearingUnsedValues=!1},t.prototype.hasVisibleQuestionByValueName=function(e){var n=this.getQuestionsByValueName(e);if(!n)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(o.isVisible&&o.isParentVisible&&!o.parentQuestion)return!0}return!1},t.prototype.questionsByValueName=function(e){var n=this.getQuestionsByValueName(e);return n||[]},t.prototype.clearInvisibleQuestionValues=function(){for(var e=this.clearInvisibleValues==="none"?"none":"onComplete",n=this.getAllQuestions(),r=0;r<n.length;r++)n[r].clearValueIfInvisible(e)},t.prototype.getVariable=function(e){if(!e)return null;e=e.toLowerCase();var n=this.variablesHash[e];return this.isValueEmpty(n)&&(e.indexOf(".")>-1||e.indexOf("[")>-1)&&new Ie().hasValue(e,this.variablesHash)?new Ie().getValue(e,this.variablesHash):n},t.prototype.setVariable=function(e,n){if(e){var r=this.getVariable(e);this.valuesHash&&delete this.valuesHash[e],e=e.toLowerCase(),this.variablesHash[e]=n,this.notifyElementsOnAnyValueOrVariableChanged(e),g.isTwoValueEquals(r,n)||(this.checkTriggersAndRunConditions(e,n,r),this.onVariableChanged.fire(this,{name:e,value:n}))}},t.prototype.getVariableNames=function(){var e=[];for(var n in this.variablesHash)e.push(n);return e},t.prototype.getUnbindValue=function(e){return this.editingObj?e:g.getUnbindValue(e)},t.prototype.getValue=function(e){if(!e||e.length==0)return null;var n=this.getDataValueCore(this.valuesHash,e);return this.getUnbindValue(n)},t.prototype.setValue=function(e,n,r,o,c){if(r===void 0&&(r=!1),o===void 0&&(o=!0),!this.isLockingUpdateOnPageModes){var p=n;if(o&&(p=this.questionOnValueChanging(e,n)),!(this.isValidateOnValueChanging&&this.checkErrorsOnValueChanging(e,p))&&!(!this.editingObj&&this.isValueEqual(e,p)&&this.isTwoValueEquals(p,n))){var y=this.getValue(e);this.isValueEmpyOnSetValue(e,p)?this.deleteDataValueCore(this.valuesHash,e):(p=this.getUnbindValue(p),this.setDataValueCore(this.valuesHash,e,p)),this.updateOnSetValue(e,p,y,r,o,c)}}},t.prototype.isValueEmpyOnSetValue=function(e,n){return this.isValueEmpty(n,!1)?!this.editingObj||n===null||n===void 0?!0:this.editingObj.getDefaultPropertyValue(e)===n:!1},t.prototype.updateOnSetValue=function(e,n,r,o,c,p){o===void 0&&(o=!1),c===void 0&&(c=!0),this.updateQuestionValue(e,n),!(o===!0||this.isDisposed||this.isRunningElementsBindings)&&(p=p||e,this.checkTriggersAndRunConditions(e,n,r),c&&this.notifyQuestionOnValueChanged(e,n,p),o!=="text"&&this.tryGoNextPageAutomatic(e))},t.prototype.isValueEqual=function(e,n){(n===""||n===void 0)&&(n=null);var r=this.getValue(e);return(r===""||r===void 0)&&(r=null),n===null||r===null?n===r:this.isTwoValueEquals(n,r)},t.prototype.doOnPageAdded=function(e){if(e.setSurveyImpl(this),e.name||(e.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(),!this.runningPages){this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage());var n={page:e};this.onPageAdded.fire(this,n)}},t.prototype.doOnPageRemoved=function(e){e.setSurveyImpl(null),!this.runningPages&&(e===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements())},t.prototype.generateNewName=function(e,n){for(var r={},o=0;o<e.length;o++)r[e[o].name]=!0;for(var c=1;r[n+c];)c++;return n+c},t.prototype.tryGoNextPageAutomatic=function(e){var n=this;if(!(this.isEndLoadingFromJson||!this.goNextPageAutomatic||!this.currentPage)){var r=this.getQuestionByValueName(e);if(!(!r||r&&(!r.visible||!r.supportGoNextPageAutomatic()))&&!(!r.validate(!1)&&!r.supportGoNextPageError())){var o=this.getCurrentPageQuestions();if(!(o.indexOf(r)<0)){for(var c=0;c<o.length;c++)if(o[c].hasInput&&o[c].isEmpty())return;if(!(this.isLastPage&&(this.goNextPageAutomatic!==!0||!this.allowCompleteSurveyAutomatic))&&!this.checkIsCurrentPageHasErrors(!1)){var p=this.currentPage,y=function(){p===n.currentPage&&(n.isLastPage?n.isShowPreviewBeforeComplete?n.showPreview():n.completeLastPage():n.nextPage())};Wr.safeTimeOut(y,N.autoAdvanceDelay)}}}}},t.prototype.getComment=function(e){var n=this.getValue(e+this.commentSuffix);return n||""},t.prototype.setComment=function(e,n,r){if(r===void 0&&(r=!1),n||(n=""),!this.isTwoValueEquals(n,this.getComment(e))){var o=e+this.commentSuffix;n=this.questionOnValueChanging(o,n,e),this.isValueEmpty(n)?this.deleteDataValueCore(this.valuesHash,o):this.setDataValueCore(this.valuesHash,o,n);var c=this.getQuestionsByValueName(e);if(c)for(var p=0;p<c.length;p++)c[p].updateCommentFromSurvey(n),this.checkQuestionErrorOnValueChanged(c[p]);r||this.checkTriggersAndRunConditions(e,this.getValue(e),void 0),r!=="text"&&this.tryGoNextPageAutomatic(e);var y=this.getQuestionByValueName(e);y&&(this.onValueChanged.fire(this,{name:o,question:y,value:n}),y.comment=n,y.comment!=n&&(y.comment=n))}},t.prototype.clearValue=function(e){this.setValue(e,null),this.setComment(e,null)},Object.defineProperty(t.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(e){this.setPropertyValue("clearValueOnDisableItems",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionClearIfInvisible=function(e){return this.isShowingPreview||this.runningPages?"none":e!=="default"?e:this.clearInvisibleValues},t.prototype.questionVisibilityChanged=function(e,n,r){r&&this.updateVisibleIndexes(),this.onQuestionVisibleChanged.fire(this,{question:e,name:e.name,visible:n})},t.prototype.pageVisibilityChanged=function(e,n){this.isLoadingFromJson||((n&&!this.currentPage||e===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:e,visible:n}))},t.prototype.panelVisibilityChanged=function(e,n){this.updateVisibleIndexes(),this.onPanelVisibleChanged.fire(this,{panel:e,visible:n})},t.prototype.questionCreated=function(e){this.onQuestionCreated.fire(this,{question:e})},t.prototype.questionAdded=function(e,n,r,o){e.name||(e.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),e.page&&this.questionHashesAdded(e),this.isLoadingFromJson||(this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(),this.setCalculatedWidthModeUpdater()),this.canFireAddElement()&&this.onQuestionAdded.fire(this,{question:e,name:e.name,index:n,parent:r,page:o,parentPanel:r,rootPanel:o})},t.prototype.canFireAddElement=function(){return!this.isMovingQuestion||this.isDesignMode&&!N.supportCreatorV2},t.prototype.questionRemoved=function(e){this.questionHashesRemoved(e,e.name,e.getValueName()),this.updateVisibleIndexes(),this.onQuestionRemoved.fire(this,{question:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()},t.prototype.questionRenamed=function(e,n,r){this.questionHashesRemoved(e,n,r),this.questionHashesAdded(e)},t.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},t.prototype.questionHashesPanelAdded=function(e){if(!this.isLoadingFromJson)for(var n=e.questions,r=0;r<n.length;r++)this.questionHashesAdded(n[r])},t.prototype.questionHashesAdded=function(e){this.questionHashAddedCore(this.questionHashes.names,e,e.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,e,e.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,e,e.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,e,e.getValueName().toLowerCase())},t.prototype.questionHashesRemoved=function(e,n,r){n&&(this.questionHashRemovedCore(this.questionHashes.names,e,n),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,e,n.toLowerCase())),r&&(this.questionHashRemovedCore(this.questionHashes.valueNames,e,r),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,e,r.toLowerCase()))},t.prototype.questionHashAddedCore=function(e,n,r){var o=e[r];if(o){var o=e[r];o.indexOf(n)<0&&o.push(n)}else e[r]=[n]},t.prototype.questionHashRemovedCore=function(e,n,r){var o=e[r];if(o){var c=o.indexOf(n);c>-1&&o.splice(c,1),o.length==0&&delete e[r]}},t.prototype.panelAdded=function(e,n,r,o){e.name||(e.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(e),this.updateVisibleIndexes(),this.canFireAddElement()&&this.onPanelAdded.fire(this,{panel:e,name:e.name,index:n,parent:r,page:o,parentPanel:r,rootPanel:o})},t.prototype.panelRemoved=function(e){this.updateVisibleIndexes(),this.onPanelRemoved.fire(this,{panel:e,name:e.name}),this.updateLazyRenderingRowsOnRemovingElements()},t.prototype.validateQuestion=function(e){if(this.onValidateQuestion.isEmpty)return null;var n={name:e.name,question:e,value:e.value,error:null};return this.onValidateQuestion.fire(this,n),n.error?new wn(n.error,this):null},t.prototype.validatePanel=function(e){if(this.onValidatePanel.isEmpty)return null;var n={name:e.name,panel:e,error:null};return this.onValidatePanel.fire(this,n),n.error?new wn(n.error,this):null},t.prototype.processHtml=function(e,n){n||(n="");var r={html:e,reason:n};return this.onProcessHtml.fire(this,r),this.processText(r.html,!0)},t.prototype.processText=function(e,n){return this.processTextEx({text:e,returnDisplayValue:n,doEncoding:!1}).text},t.prototype.processTextEx=function(e){var n=e.doEncoding===void 0?N.web.encodeUrlParams:e.doEncoding,r=e.text;(e.runAtDesign||!this.isDesignMode)&&(r=this.textPreProcessor.process(r,e.returnDisplayValue===!0,n));var o={text:r,hasAllValuesOnLastRun:!0};return o.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,o},Object.defineProperty(t.prototype,"textPreProcessor",{get:function(){var e=this;return this.textPreProcessorValue||(this.textPreProcessorValue=new nl,this.textPreProcessorValue.onProcess=function(n){e.getProcessedTextValue(n)}),this.textPreProcessorValue},enumerable:!1,configurable:!0}),t.prototype.getSurveyMarkdownHtml=function(e,n,r){var o={element:e,text:n,name:r,html:null};return this.onTextMarkdown.fire(this,o),o.html},t.prototype.getCorrectedAnswerCount=function(){return this.getCorrectAnswerCount()},t.prototype.getCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},t.prototype.getQuizQuestionCount=function(){for(var e=this.getQuizQuestions(),n=0,r=0;r<e.length;r++)n+=e[r].quizQuestionCount;return n},t.prototype.getInCorrectedAnswerCount=function(){return this.getInCorrectAnswerCount()},t.prototype.getInCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},t.prototype.onCorrectQuestionAnswer=function(e,n){this.onIsAnswerCorrect.isEmpty||(n.question=e,this.onIsAnswerCorrect.fire(this,n))},t.prototype.getCorrectedAnswerCountCore=function(e){for(var n=this.getQuizQuestions(),r=0,o=0;o<n.length;o++){var c=n[o],p=c.correctAnswerCount;e?r+=p:r+=c.quizQuestionCount-p}return r},t.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},t.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(t.prototype,"showTimerPanel",{get:function(){return this.showTimer?this.timerLocation:"none"},set:function(e){this.showTimer=e!=="none",this.showTimer&&(this.timerLocation=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showTimer",{get:function(){return this.getPropertyValue("showTimer")},set:function(e){this.setPropertyValue("showTimer",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerLocation",{get:function(){return this.getPropertyValue("timerLocation")},set:function(e){this.setPropertyValue("timerLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTimerPanelShowingOnTop",{get:function(){return this.showTimer&&this.timerLocation==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTimerPanelShowingOnBottom",{get:function(){return this.showTimer&&this.timerLocation==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerInfoMode",{get:function(){return this.getTimerInfoVal(this.getPropertyValue("timerInfoMode"))},set:function(e){this.setPropertyValue("timerInfoMode",e)},enumerable:!1,configurable:!0}),t.prototype.getTimerInfoVal=function(e){return e==="all"?"combined":e},Object.defineProperty(t.prototype,"showTimerPanelMode",{get:function(){var e=this.timerInfoMode;return e==="combined"?"all":e},set:function(e){this.timerInfoMode=this.getTimerInfoVal(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"widthMode",{get:function(){return this.getPropertyValue("widthMode")},set:function(e){this.setPropertyValue("widthMode",e)},enumerable:!1,configurable:!0}),t.prototype.setCalculatedWidthModeUpdater=function(){var e=this;this.isLoadingFromJson||(this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new At(function(){return e.calculateWidthMode()}),this.calculatedWidthMode=this.calculatedWidthModeUpdater)},t.prototype.calculateWidthMode=function(){if(this.widthMode=="auto"){var e=!1;return this.pages.forEach(function(n){n.needResponsiveWidth()&&(e=!0)}),e?"responsive":"static"}return this.widthMode},Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){this.setPropertyValue("width",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedWidth",{get:function(){var e=this.getPropertyValue("width");return e&&!isNaN(e)&&(e=e+"px"),this.getPropertyValue("calculatedWidthMode")=="static"&&e||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerInfo",{get:function(){return this.getTimerInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerClock",{get:function(){var e,n;if(this.currentPage){var r=this.getTimerInfo(),o=r.spent,c=r.limit,p=r.minorSpent,y=r.minorLimit;c>0?e=this.getDisplayClockTime(c-o):e=this.getDisplayClockTime(o),p!==void 0&&(y>0?n=this.getDisplayClockTime(y-p):n=this.getDisplayClockTime(p))}return{majorText:e,minorText:n}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timerInfoText",{get:function(){var e={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,e);var n=new In(this,!0);return n.text=e.text,n.textOrHtml},enumerable:!1,configurable:!0}),t.prototype.getTimerInfo=function(){var e=this.currentPage;if(!e)return{spent:0,limit:0};var n=e.timeSpent,r=this.timeSpent,o=e.getMaxTimeToFinish(),c=this.timeLimit;return this.timerInfoMode=="page"?{spent:n,limit:o}:this.timerInfoMode=="survey"?{spent:r,limit:c}:o>0&&c>0?{spent:n,limit:o,minorSpent:r,minorLimit:c}:o>0?{spent:n,limit:o,minorSpent:r}:c>0?{spent:r,limit:c,minorSpent:n}:{spent:n,minorSpent:r}},t.prototype.getTimerInfoText=function(){var e=this.currentPage;if(!e)return"";var n=this.getDisplayTime(e.timeSpent),r=this.getDisplayTime(this.timeSpent),o=e.getMaxTimeToFinish(),c=this.getDisplayTime(o),p=this.getDisplayTime(this.timeLimit);if(this.timerInfoMode=="page")return this.getTimerInfoPageText(e,n,c);if(this.timerInfoMode=="survey")return this.getTimerInfoSurveyText(r,p);if(this.timerInfoMode=="combined"){if(o<=0&&this.timeLimit<=0)return this.getLocalizationFormatString("timerSpentAll",n,r);if(o>0&&this.timeLimit>0)return this.getLocalizationFormatString("timerLimitAll",n,c,r,p);var y=this.getTimerInfoPageText(e,n,c),b=this.getTimerInfoSurveyText(r,p);return y+" "+b}return""},t.prototype.getTimerInfoPageText=function(e,n,r){return e&&e.getMaxTimeToFinish()>0?this.getLocalizationFormatString("timerLimitPage",n,r):this.getLocalizationFormatString("timerSpentPage",n,r)},t.prototype.getTimerInfoSurveyText=function(e,n){var r=this.timeLimit>0?"timerLimitSurvey":"timerSpentSurvey";return this.getLocalizationFormatString(r,e,n)},t.prototype.getDisplayClockTime=function(e){e<0&&(e=0);var n=Math.floor(e/60),r=e%60,o=r.toString();return r<10&&(o="0"+o),n+":"+o},t.prototype.getDisplayTime=function(e){var n=Math.floor(e/60),r=e%60,o="";return n>0&&(o+=n+" "+this.getLocalizationString("timerMin")),o&&r==0?o:(o&&(o+=" "),o+r+" "+this.getLocalizationString("timerSec"))},Object.defineProperty(t.prototype,"timerModel",{get:function(){return this.timerModelValue},enumerable:!1,configurable:!0}),t.prototype.startTimer=function(){this.isEditMode&&this.timerModel.start()},t.prototype.startTimerFromUI=function(){this.showTimer&&this.state==="running"&&this.startTimer()},t.prototype.stopTimer=function(){this.timerModel.stop()},Object.defineProperty(t.prototype,"timeSpent",{get:function(){return this.timerModel.spent},set:function(e){this.timerModel.spent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeLimit",{get:function(){return this.getPropertyValue("timeLimit",0)},set:function(e){this.setPropertyValue("timeLimit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTimeToFinish",{get:function(){return this.timeLimit},set:function(e){this.timeLimit=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeLimitPerPage",{get:function(){return this.getPropertyValue("timeLimitPerPage",0)},set:function(e){this.setPropertyValue("timeLimitPerPage",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxTimeToFinishPage",{get:function(){return this.timeLimitPerPage},set:function(e){this.timeLimitPerPage=e},enumerable:!1,configurable:!0}),t.prototype.doTimer=function(e){if(this.onTimerTick.fire(this,{}),this.timeLimit>0&&this.timeLimit<=this.timeSpent&&(this.timeSpent=this.timeLimit,this.completeLastPage()),e){var n=e.getMaxTimeToFinish();n>0&&n==e.timeSpent&&(this.isLastPage?this.completeLastPage():this.nextPage())}},Object.defineProperty(t.prototype,"inSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getSurveyData=function(){return this},t.prototype.getSurvey=function(){return this},t.prototype.getTextProcessor=function(){return this},t.prototype.getObjects=function(e,n){var r=[];return Array.prototype.push.apply(r,this.getPagesByNames(e)),Array.prototype.push.apply(r,this.getQuestionsByNames(n)),r},t.prototype.setTriggerValue=function(e,n,r){if(e)if(r)this.setVariable(e,n);else{var o=this.getQuestionByName(e);if(o)o.value=n;else{var c=new Ie,p=c.getFirstName(e);if(p==e)this.setValue(e,n);else{if(!this.getQuestionByName(p))return;var y=this.getUnbindValue(this.getFilteredValues());c.setValue(y,e,n),this.setValue(p,y[p])}}}},t.prototype.copyTriggerValue=function(e,n,r){if(!(!e||!n)){var o;if(r)o=this.processText("{"+n+"}",!0);else{var c=new Ie;o=c.getValue(n,this.getFilteredValues())}this.setTriggerValue(e,o,!1)}},t.prototype.triggerExecuted=function(e){this.onTriggerExecuted.fire(this,{trigger:e})},t.prototype.startMovingQuestion=function(){this.isMovingQuestion=!0},t.prototype.stopMovingQuestion=function(){this.isMovingQuestion=!1},Object.defineProperty(t.prototype,"isQuestionDragging",{get:function(){return this.isMovingQuestion},enumerable:!1,configurable:!0}),t.prototype.focusQuestion=function(e){return this.focusQuestionByInstance(this.getQuestionByName(e,!0))},t.prototype.focusQuestionByInstance=function(e,n){var r;if(n===void 0&&(n=!1),!e||!e.isVisible||!e.page)return!1;var o=(r=this.focusingQuestionInfo)===null||r===void 0?void 0:r.question;if(o===e)return!1;this.focusingQuestionInfo={question:e,onError:n},this.skippedPages.push({from:this.currentPage,to:e.page});var c=this.activePage!==e.page&&!e.page.isStartPage;return c&&(this.currentPage=e.page),c||this.focusQuestionInfo(),!0},t.prototype.focusQuestionInfo=function(){var e,n=(e=this.focusingQuestionInfo)===null||e===void 0?void 0:e.question;n&&!n.isDisposed&&n.focus(this.focusingQuestionInfo.onError),this.focusingQuestionInfo=void 0},t.prototype.questionEditFinishCallback=function(e,n){var r=this.enterKeyAction||N.enterKeyAction;if(r=="loseFocus"&&n.target.blur(),r=="moveToNextEditor"){var o=this.currentPage.questions,c=o.indexOf(e);c>-1&&c<o.length-1?o[c+1].focus():n.target.blur()}},t.prototype.elementWrapperComponentNameCore=function(e,n,r,o,c){if(this.onElementWrapperComponentName.isEmpty)return e;var p={componentName:e,element:n,wrapperName:r,reason:o,item:c};return this.onElementWrapperComponentName.fire(this,p),p.componentName},t.prototype.elementWrapperDataCore=function(e,n,r,o,c){if(this.onElementWrapperComponentData.isEmpty)return e;var p={data:e,element:n,wrapperName:r,reason:o,item:c};return this.onElementWrapperComponentData.fire(this,p),p.data},t.prototype.getElementWrapperComponentName=function(e,n){var r=n==="logo-image"?"sv-logo-image":t.TemplateRendererComponentName;return this.elementWrapperComponentNameCore(r,e,"component",n)},t.prototype.getQuestionContentWrapperComponentName=function(e){return this.elementWrapperComponentNameCore(t.TemplateRendererComponentName,e,"content-component")},t.prototype.getRowWrapperComponentName=function(e){return this.elementWrapperComponentNameCore(t.TemplateRendererComponentName,e,"row")},t.prototype.getItemValueWrapperComponentName=function(e,n){return this.elementWrapperComponentNameCore(t.TemplateRendererComponentName,n,"itemvalue",void 0,e)},t.prototype.getElementWrapperComponentData=function(e,n){return this.elementWrapperDataCore(e,e,"component",n)},t.prototype.getRowWrapperComponentData=function(e){return this.elementWrapperDataCore(e,e,"row")},t.prototype.getItemValueWrapperComponentData=function(e,n){return this.elementWrapperDataCore(e,n,"itemvalue",void 0,e)},t.prototype.getMatrixCellTemplateData=function(e){var n=e.question;return this.elementWrapperDataCore(n,n,"cell")},t.prototype.searchText=function(e){e&&(e=e.toLowerCase());for(var n=[],r=0;r<this.pages.length;r++)this.pages[r].searchText(e,n);return n},t.prototype.getSkeletonComponentName=function(e){return this.skeletonComponentName},t.prototype.addLayoutElement=function(e){var n=this.removeLayoutElement(e.id);return this.layoutElements.push(e),n},t.prototype.findLayoutElement=function(e){var n=this.layoutElements.filter(function(r){return r.id===e})[0];return n},t.prototype.removeLayoutElement=function(e){var n=this.findLayoutElement(e);if(n){var r=this.layoutElements.indexOf(n);this.layoutElements.splice(r,1)}return n},t.prototype.getContainerContent=function(e){for(var n=[],r=0,o=this.layoutElements;r<o.length;r++){var c=o[r];if(this.mode!=="display"&&hr(c.id,"timerpanel"))e==="header"&&this.isTimerPanelShowingOnTop&&!this.isShowStartingPage&&n.push(c),e==="footer"&&this.isTimerPanelShowingOnBottom&&!this.isShowStartingPage&&n.push(c);else if(this.state==="running"&&hr(c.id,this.progressBarComponentName)){if(this.questionsOnPageMode!="singlePage"){var p=this.findLayoutElement("advanced-header"),y=p&&p.data,b=!y||y.hasBackground;hr(this.showProgressBar,"aboveHeader")&&(b=!1),hr(this.showProgressBar,"belowHeader")&&(b=!0),e==="header"&&!b&&(c.index=-150,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&n.push(c)),e==="center"&&b&&(c.index&&delete c.index,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&n.push(c)),e==="footer"&&this.isShowProgressBarOnBottom&&!this.isShowStartingPage&&n.push(c)}}else hr(c.id,"buttons-navigation")?(e==="contentTop"&&["top","both"].indexOf(this.isNavigationButtonsShowing)!==-1&&n.push(c),e==="contentBottom"&&["bottom","both"].indexOf(this.isNavigationButtonsShowing)!==-1&&n.push(c)):this.state==="running"&&hr(c.id,"toc-navigation")&&this.showTOC?(e==="left"&&["left","both"].indexOf(this.tocLocation)!==-1&&n.push(c),e==="right"&&["right","both"].indexOf(this.tocLocation)!==-1&&n.push(c)):hr(c.id,"advanced-header")?(this.state==="running"||this.state==="starting"||this.showHeaderOnCompletePage===!0&&this.state==="completed")&&c.container===e&&n.push(c):(Array.isArray(c.container)&&c.container.indexOf(e)!==-1||c.container===e)&&n.push(c)}return n.sort(function(E,M){return(E.index||0)-(M.index||0)}),n},t.prototype.processPopupVisiblityChanged=function(e,n,r){this.onPopupVisibleChanged.fire(this,{question:e,popup:n,visible:r})},t.prototype.processOpenDropdownMenu=function(e,n){var r=Object.assign({question:e},n);this.onOpenDropdownMenu.fire(this,r),n.menuType=r.menuType},t.prototype.applyTheme=function(e){var n=this;if(e){if(Object.keys(e).forEach(function(o){o!=="header"&&(o==="isPanelless"?n.isCompact=e[o]:n[o]=e[o])}),this.headerView==="advanced"||"header"in e){this.removeLayoutElement("advanced-header");var r=new bs;r.fromTheme(e),this.insertAdvancedHeader(r)}this.themeChanged(e)}},t.prototype.themeChanged=function(e){this.getAllQuestions().forEach(function(n){return n.themeChanged(e)})},t.prototype.dispose=function(){if(this.unConnectEditingObj(),this.removeScrollEventListener(),this.destroyResizeObserver(),this.rootElement=void 0,this.layoutElements){for(var e=0;e<this.layoutElements.length;e++)this.layoutElements[e].data&&this.layoutElements[e].data!==this&&this.layoutElements[e].data.dispose&&this.layoutElements[e].data.dispose();this.layoutElements.splice(0,this.layoutElements.length)}if(i.prototype.dispose.call(this),this.editingObj=null,!!this.pages){this.currentPage=null;for(var e=0;e<this.pages.length;e++)this.pages[e].setSurveyImpl(void 0),this.pages[e].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}},t.prototype._isElementShouldBeSticky=function(e){if(!e)return!1;var n=this.rootElement.querySelector(e);return n?this.rootElement.scrollTop>0&&n.getBoundingClientRect().y<=this.rootElement.getBoundingClientRect().y:!1},t.prototype.onScroll=function(){this.rootElement&&(this._isElementShouldBeSticky(".sv-components-container-center")?this.rootElement.classList&&this.rootElement.classList.add("sv-root--sticky-top"):this.rootElement.classList&&this.rootElement.classList.remove("sv-root--sticky-top")),this.onScrollCallback&&this.onScrollCallback()},t.prototype.addScrollEventListener=function(){var e=this,n;this.scrollHandler=function(){e.onScroll()},this.rootElement.addEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].addEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&((n=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])===null||n===void 0||n.addEventListener("scroll",this.scrollHandler))},t.prototype.removeScrollEventListener=function(){var e;this.rootElement&&this.scrollHandler&&(this.rootElement.removeEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].removeEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&((e=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])===null||e===void 0||e.removeEventListener("scroll",this.scrollHandler)))},t.TemplateRendererComponentName="sv-template-renderer",t.platform="unknown",vt([V()],t.prototype,"completedCss",void 0),vt([V()],t.prototype,"completedBeforeCss",void 0),vt([V()],t.prototype,"loadingBodyCss",void 0),vt([V()],t.prototype,"containerCss",void 0),vt([V({onSet:function(e,n){n.updateCss()}})],t.prototype,"fitToContainer",void 0),vt([V({onSet:function(e,n){if(e==="advanced"){var r=n.findLayoutElement("advanced-header");if(!r){var o=new bs;o.logoPositionX=n.logoPosition==="right"?"right":"left",o.logoPositionY="middle",o.titlePositionX=n.logoPosition==="right"?"left":"right",o.titlePositionY="middle",o.descriptionPositionX=n.logoPosition==="right"?"left":"right",o.descriptionPositionY="middle",n.insertAdvancedHeader(o)}}else n.removeLayoutElement("advanced-header")}})],t.prototype,"headerView",void 0),vt([V()],t.prototype,"showBrandInfo",void 0),vt([V()],t.prototype,"enterKeyAction",void 0),vt([V()],t.prototype,"lazyRenderingFirstBatchSizeValue",void 0),vt([V({defaultValue:!0})],t.prototype,"titleIsEmpty",void 0),vt([V({defaultValue:{}})],t.prototype,"cssVariables",void 0),vt([V()],t.prototype,"_isMobile",void 0),vt([V()],t.prototype,"_isCompact",void 0),vt([V({onSet:function(e,n){n.updateCss()}})],t.prototype,"backgroundImage",void 0),vt([V()],t.prototype,"renderBackgroundImage",void 0),vt([V()],t.prototype,"backgroundImageFit",void 0),vt([V({onSet:function(e,n){n.updateCss()}})],t.prototype,"backgroundImageAttachment",void 0),vt([V()],t.prototype,"backgroundImageStyle",void 0),vt([V()],t.prototype,"wrapperFormCss",void 0),vt([V({getDefaultValue:function(e){return e.progressBarType==="buttons"}})],t.prototype,"progressBarShowPageTitles",void 0),vt([V()],t.prototype,"progressBarShowPageNumbers",void 0),vt([V()],t.prototype,"progressBarInheritWidthFrom",void 0),vt([V({defaultValue:!0})],t.prototype,"validationEnabled",void 0),vt([V()],t.prototype,"rootCss",void 0),vt([V()],t.prototype,"gridLayoutEnabled",void 0),vt([V()],t.prototype,"calculatedWidthMode",void 0),vt([ee()],t.prototype,"layoutElements",void 0),t}(is);function hr(i,t){return!i||!t?!1:i.toUpperCase()===t.toUpperCase()}H.addClass("survey",[{name:"locale",choices:function(){return v.getLocales(!0)},onGetValue:function(i){return i.locale==v.defaultLocale?null:i.locale}},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo:file",serializationProperty:"locLogo"},{name:"logoWidth",default:"300px",minValue:0},{name:"logoHeight",default:"200px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean"},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem",isArray:!0},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page",isArray:!0,onSerializeValue:function(i){return i.originalPages||i.pages}},{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(i){return null},onSetValue:function(i,t,e){i.pages.splice(0,i.pages.length);var n=i.addNewPage("");e.toObject({questions:t},n,e==null?void 0:e.options)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue",isArray:!0},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0,visibleIf:function(i){return i.showNavigationButtons!=="none"}},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem",isArray:!0},{name:"questionsOrder",default:"initial",choices:["initial","random"]},{name:"matrixDragHandleArea",visible:!1,default:"entireItem",choices:["entireItem","icon"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","auto","aboveheader","belowheader","bottom","topbottom"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions"],visibleIf:function(i){return i.showProgressBar!=="off"}},{name:"progressBarShowPageTitles:switch",category:"navigation",visibleIf:function(i){return i.showProgressBar!=="off"&&i.progressBarType==="pages"}},{name:"progressBarShowPageNumbers:switch",default:!1,category:"navigation",visibleIf:function(i){return i.showProgressBar!=="off"&&i.progressBarType==="pages"}},{name:"progressBarInheritWidthFrom",default:"container",choices:["container","survey"],category:"navigation",visibleIf:function(i){return i.showProgressBar!=="off"&&i.progressBarType==="pages"}},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"],dependsOn:["showTOC"],visibleIf:function(i){return!!i&&i.showTOC}},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},{name:"goNextPageAutomatic:boolean",onSetValue:function(i,t){t!=="autogonext"&&(t=g.isTwoValueEquals(t,!0)),i.setPropertyValue("goNextPageAutomatic",t)}},{name:"allowCompleteSurveyAutomatic:boolean",default:!0,visibleIf:function(i){return i.goNextPageAutomatic===!0}},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onComplete"]},{name:"validateVisitedEmptyFields:boolean",dependsOn:"checkErrorsMode",visibleIf:function(i){return i.checkErrorsMode==="onValueChanged"}},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"allowResizeComment:boolean",default:!0},{name:"commentAreaRows:number",minValue:1},{name:"startSurveyText",serializationProperty:"locStartSurveyText",visibleIf:function(i){return i.firstPageIsStarted}},{name:"pagePrevText",serializationProperty:"locPagePrevText",visibleIf:function(i){return i.showNavigationButtons!=="none"&&i.showPrevButton}},{name:"pageNextText",serializationProperty:"locPageNextText",visibleIf:function(i){return i.showNavigationButtons!=="none"}},{name:"completeText",serializationProperty:"locCompleteText",visibleIf:function(i){return i.showNavigationButtons!=="none"}},{name:"previewText",serializationProperty:"locPreviewText",visibleIf:function(i){return i.showPreviewBeforeComplete!=="noPreview"}},{name:"editText",serializationProperty:"locEditText",visibleIf:function(i){return i.showPreviewBeforeComplete!=="noPreview"}},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(i){return!i||i.showQuestionNumbers!=="off"}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(i){return i?i.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["standard","singlePage","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"showTimer:boolean"},{name:"timeLimit:number",alternativeName:"maxTimeToFinish",default:0,minValue:0,enableIf:function(i){return i.showTimer}},{name:"timeLimitPerPage:number",alternativeName:"maxTimeToFinishPage",default:0,minValue:0,enableIf:function(i){return i.showTimer}},{name:"timerLocation",default:"top",choices:["top","bottom"],enableIf:function(i){return i.showTimer}},{name:"timerInfoMode",alternativeName:"showTimerPanelMode",default:"combined",choices:["page","survey","combined"],enableIf:function(i){return i.showTimer}},{name:"showTimerPanel",visible:!1,isSerializable:!1},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},{name:"gridLayoutEnabled:boolean",default:!1},{name:"width",visibleIf:function(i){return i.widthMode==="static"}},{name:"fitToContainer:boolean",default:!0,visible:!1},{name:"headerView",default:"basic",choices:["basic","advanced"],visible:!1},{name:"backgroundImage:file",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundImageAttachment",default:"scroll",choices:["scroll","fixed"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}]);var Xd=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ps=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},bl=function(i){Xd(t,i);function t(e){var n=i.call(this,e)||this;n.otherItemValue=new ke("other"),n.isSettingDefaultValue=!1,n.isSettingComment=!1,n.isRunningChoices=!1,n.isFirstLoadChoicesFromUrl=!0,n.isUpdatingChoicesDependedQuestions=!1,n._renderedChoices=[],n.renderedChoicesAnimation=new cr(n.getRenderedChoicesAnimationOptions(),function(o){n._renderedChoices=o,n.renderedChoicesChangedCallback&&n.renderedChoicesChangedCallback()},function(){return n._renderedChoices}),n.headItemsCount=0,n.footItemsCount=0,n.prevIsOtherSelected=!1,n.noneItemValue=n.createDefaultItem(N.noneItemValue,"noneText","noneItemText"),n.refuseItemValue=n.createDefaultItem(N.refuseItemValue,"refuseText","refuseItemText"),n.dontKnowItemValue=n.createDefaultItem(N.dontKnowItemValue,"dontKnowText","dontKnowItemText"),n.createItemValues("choices"),n.registerPropertyChangedHandlers(["choices"],function(){n.filterItems()||n.onVisibleChoicesChanged()}),n.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","choiceValuesFromQuestion","choiceTextsFromQuestion","showNoneItem","showRefuseItem","showDontKnowItem","isUsingRestful","isMessagePanelVisible"],function(){n.onVisibleChoicesChanged()}),n.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],function(){n.onVisibleChanged()}),n.otherTextAreaModel=new us(n.getOtherTextAreaOptions()),n.createNewArray("visibleChoices",function(){return n.updateRenderedChoices()},function(){return n.updateRenderedChoices()}),n.setNewRestfulProperty();var r=n.createLocalizableString("otherText",n.otherItemValue,!0,"otherItemText");return n.createLocalizableString("otherErrorText",n,!0,"otherRequiredError"),n.otherItemValue.locOwner=n,n.otherItemValue.setLocText(r),n.choicesByUrl.createItemValue=function(o){return n.createItemValue(o)},n.choicesByUrl.beforeSendRequestCallback=function(){n.onBeforeSendRequest()},n.choicesByUrl.getResultCallback=function(o){n.onLoadChoicesFromUrl(o)},n.choicesByUrl.updateResultCallback=function(o,c){return n.survey?n.survey.updateChoicesFromServer(n,o,c):o},n}return Object.defineProperty(t.prototype,"waitingChoicesByURL",{get:function(){return!this.isChoicesLoaded&&this.hasChoicesUrl},enumerable:!1,configurable:!0}),t.prototype.getOtherTextAreaOptions=function(){var e=this,n={question:this,id:function(){return e.otherId},propertyName:"otherValue",className:function(){return e.cssClasses.other},placeholder:function(){return e.otherPlaceholder},isDisabledAttr:function(){return e.isInputReadOnly||!1},rows:function(){return e.commentAreaRows},maxLength:function(){return e.getOthersMaxLength()},autoGrow:function(){return e.survey&&e.survey.autoGrowComment},ariaRequired:function(){return e.ariaRequired||e.a11y_input_ariaRequired},ariaLabel:function(){return e.ariaLabel||e.a11y_input_ariaLabel},getTextValue:function(){return e.otherValue},onTextAreaChange:function(r){e.onOtherValueChange(r)},onTextAreaInput:function(r){e.onOtherValueInput(r)}};return n},t.prototype.getType=function(){return"selectbase"},t.prototype.dispose=function(){i.prototype.dispose.call(this);var e=this.getQuestionWithChoices();e&&e.removeDependedQuestion(this)},t.prototype.resetDependedQuestion=function(){this.choicesFromQuestion=""},Object.defineProperty(t.prototype,"otherId",{get:function(){return this.id+"_other"},enumerable:!1,configurable:!0}),t.prototype.getCommentElementsId=function(){return[this.commentId,this.otherId]},t.prototype.getItemValueType=function(){return"itemvalue"},t.prototype.createItemValue=function(e,n){var r=H.createClass(this.getItemValueType(),{value:e});return r.locOwner=this,n&&(r.text=n),r},Object.defineProperty(t.prototype,"isUsingCarryForward",{get:function(){return!!this.carryForwardQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"carryForwardQuestionType",{get:function(){return this.getPropertyValue("carryForwardQuestionType")},enumerable:!1,configurable:!0}),t.prototype.setCarryForwardQuestionType=function(e,n){var r=e?"select":n?"array":void 0;this.setPropertyValue("carryForwardQuestionType",r)},Object.defineProperty(t.prototype,"isUsingRestful",{get:function(){return this.getPropertyValueWithoutDefault("isUsingRestful")||!1},enumerable:!1,configurable:!0}),t.prototype.updateIsUsingRestful=function(){this.setPropertyValueDirectly("isUsingRestful",this.hasChoicesUrl)},t.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.otherValue},t.prototype.isLayoutTypeSupported=function(e){return!0},t.prototype.localeChanged=function(){i.prototype.localeChanged.call(this),this.choicesOrder!=="none"&&(this.updateVisibleChoices(),this.onVisibleChoicesChanged())},t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this),this.choicesFromUrl&&(ke.locStrsChanged(this.choicesFromUrl),ke.locStrsChanged(this.visibleChoices)),this.isUsingCarryForward&&ke.locStrsChanged(this.visibleChoices)},t.prototype.updatePrevOtherErrorValue=function(e){var n=this.otherValue;e!==n&&(this.prevOtherErrorValue=n)},Object.defineProperty(t.prototype,"otherValue",{get:function(){return this.showCommentArea?this.otherValueCore:this.comment},set:function(e){this.updatePrevOtherErrorValue(e),this.showCommentArea?this.setOtherValueInternally(e):this.comment=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherValueCore",{get:function(){return this.getPropertyValue("otherValue")},set:function(e){this.setPropertyValue("otherValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNoneSelected",{get:function(){return this.showNoneItem&&this.getIsItemValue(this.renderedValue,this.noneItem)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNoneItem",{get:function(){return this.getPropertyValue("showNoneItem")},set:function(e){this.setPropertyValue("showNoneItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasNone",{get:function(){return this.showNoneItem},set:function(e){this.showNoneItem=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText")},set:function(e){this.setLocalizableStringText("noneText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRefuseItem",{get:function(){return this.getPropertyValue("showRefuseItem")},set:function(e){this.setPropertyValue("showRefuseItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refuseItem",{get:function(){return this.refuseItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refuseText",{get:function(){return this.getLocalizableStringText("refuseText")},set:function(e){this.setLocalizableStringText("refuseText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRefuseText",{get:function(){return this.getLocalizableString("refuseText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showDontKnowItem",{get:function(){return this.getPropertyValue("showDontKnowItem")},set:function(e){this.setPropertyValue("showDontKnowItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dontKnowItem",{get:function(){return this.dontKnowItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dontKnowText",{get:function(){return this.getLocalizableStringText("dontKnowText")},set:function(e){this.setLocalizableStringText("dontKnowText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDontKnowText",{get:function(){return this.getLocalizableString("dontKnowText")},enumerable:!1,configurable:!0}),t.prototype.createDefaultItem=function(e,n,r){var o=new ke(e),c=this.createLocalizableString(n,o,!0,r);return o.locOwner=this,o.setLocText(c),o},Object.defineProperty(t.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(e){this.setPropertyValue("choicesVisibleIf",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(e){this.setPropertyValue("choicesEnableIf",e),this.filterItems()},enumerable:!1,configurable:!0}),t.prototype.surveyChoiceItemVisibilityChange=function(){this.filterItems()},t.prototype.runCondition=function(e,n){i.prototype.runCondition.call(this,e,n),this.runItemsEnableCondition(e,n),this.runItemsCondition(e,n),this.choices.forEach(function(r){r.runConditionCore(e,n)})},t.prototype.isTextValue=function(){return!0},t.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevOtherValue=void 0;var e=this.comment;i.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1,this.comment&&this.getStoreOthersAsComment()&&e!==this.comment&&(this.setValueCore(this.setOtherValueIntoValue(this.value)),this.setCommentIntoData(this.comment))},t.prototype.getIsMultipleValue=function(){return!1},t.prototype.convertDefaultValue=function(e){if(e==null||e==null)return e;if(this.getIsMultipleValue()){if(!Array.isArray(e))return[e]}else if(Array.isArray(e)&&e.length>0)return e[0];return e},t.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var e=this.getDataFilteredValues(),n=this.getDataFilteredProperties();return this.runItemsEnableCondition(e,n),this.runItemsCondition(e,n)},t.prototype.runItemsCondition=function(e,n){this.setConditionalChoicesRunner();var r=this.runConditionsForItems(e,n);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),r&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),r},t.prototype.runItemsEnableCondition=function(e,n){var r=this;this.setConditionalEnableChoicesRunner();var o=ke.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,e,n,function(c,p){return p&&r.onEnableItemCallBack(c)});o&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},t.prototype.onAfterRunItemsEnableCondition=function(){},t.prototype.onEnableItemCallBack=function(e){return!0},t.prototype.onSelectedItemValuesChangedHandler=function(e){var n;(n=this.survey)===null||n===void 0||n.loadedChoicesFromServer(this)},t.prototype.getItemIfChoicesNotContainThisValue=function(e,n){return this.waitingChoicesByURL?this.createItemValue(e,n):null},t.prototype.getSingleSelectedItem=function(){var e=this.selectedItemValues;if(this.isEmpty())return null;var n=ke.getItemByValue(this.visibleChoices,this.value);return this.onGetSingleSelectedItem(n),!n&&(!e||this.value!=e.id)&&this.updateSelectedItemValues(),n||e||(this.isOtherSelected?this.otherItem:this.getItemIfChoicesNotContainThisValue(this.value))},t.prototype.onGetSingleSelectedItem=function(e){},t.prototype.getMultipleSelectedItems=function(){return[]},t.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new on(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},t.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new on(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},t.prototype.canSurveyChangeItemVisibility=function(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()},t.prototype.changeItemVisibility=function(){var e=this;return this.canSurveyChangeItemVisibility()?function(n,r){return e.survey.getChoiceItemVisibility(e,n,r)}:null},t.prototype.runConditionsForItems=function(e,n){this.filteredChoicesValue=[];var r=this.changeItemVisibility();return ke.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,e,n,!this.survey||!this.survey.areInvisibleElementsShowing,function(o,c){return r?r(o,c):c})},t.prototype.getHasOther=function(e){return this.getIsItemValue(e,this.otherItem)},t.prototype.getIsItemValue=function(e,n){return e===n.value},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),t.prototype.createRestful=function(){return new zr},t.prototype.setNewRestfulProperty=function(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this},Object.defineProperty(t.prototype,"autoOtherMode",{get:function(){return this.getPropertyValue("autoOtherMode")},set:function(e){this.setPropertyValue("autoOtherMode",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionComment=function(){return this.showCommentArea?i.prototype.getQuestionComment.call(this):this.otherValueCore?this.otherValueCore:this.hasComment||this.getStoreOthersAsComment()?i.prototype.getQuestionComment.call(this):this.otherValueCore},t.prototype.selectOtherValueFromComment=function(e){e&&(this.prevIsOtherSelected=!0),this.value=e?this.otherItem.value:void 0},t.prototype.setQuestionComment=function(e){if(this.updatePrevOtherErrorValue(e),this.showCommentArea){i.prototype.setQuestionComment.call(this,e);return}this.onUpdateCommentOnAutoOtherMode(e),this.getStoreOthersAsComment()?i.prototype.setQuestionComment.call(this,e):this.setOtherValueInternally(e),this.updateChoicesDependedQuestions()},t.prototype.onUpdateCommentOnAutoOtherMode=function(e){if(this.autoOtherMode){this.prevOtherValue=void 0;var n=this.isOtherSelected;(!n&&e||n&&!e)&&this.selectOtherValueFromComment(!!e)}},t.prototype.setOtherValueInternally=function(e){!this.isSettingComment&&e!=this.otherValueCore&&(this.isSettingComment=!0,this.otherValueCore=e,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1)},t.prototype.clearValue=function(e){i.prototype.clearValue.call(this,e),this.prevOtherValue=void 0,this.selectedItemValues=void 0},t.prototype.updateCommentFromSurvey=function(e){i.prototype.updateCommentFromSurvey.call(this,e),this.prevOtherValue=void 0},Object.defineProperty(t.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(n){if(!this.isReadOnlyAttr){this.setPropertyValue("renderedValue",n);var n=this.rendredValueToData(n);this.isTwoValueEquals(n,this.value)||(this.value=n)}},enumerable:!1,configurable:!0}),t.prototype.setQuestionValue=function(e,n,r){if(n===void 0&&(n=!0),r===void 0&&(r=!0),!(this.isLoadingFromJson||this.isTwoValueEquals(this.value,e))&&(i.prototype.setQuestionValue.call(this,e,n),this.setPropertyValue("renderedValue",this.rendredValueFromData(e)),this.updateChoicesDependedQuestions(),!(this.hasComment||!r))){var o=this.isOtherSelected;if(o&&this.prevOtherValue){var c=this.prevOtherValue;this.prevOtherValue=void 0,this.otherValue=c}!o&&this.otherValue&&(this.getStoreOthersAsComment()&&!this.autoOtherMode&&(this.prevOtherValue=this.otherValue),this.makeCommentEmpty=!0,this.otherValueCore="",this.setPropertyValue("comment",""))}},t.prototype.setValueCore=function(e){i.prototype.setValueCore.call(this,e),this.makeCommentEmpty&&(this.setCommentIntoData(""),this.makeCommentEmpty=!1)},t.prototype.setNewValue=function(e){e=this.valueFromData(e),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(e))&&(this.cachedValueForUrlRequests=e),i.prototype.setNewValue.call(this,e)},t.prototype.valueFromData=function(e){var n=ke.getItemByValue(this.activeChoices,e);return n?n.value:i.prototype.valueFromData.call(this,e)},t.prototype.rendredValueFromData=function(e){return this.getStoreOthersAsComment()?e:this.renderedValueFromDataCore(e)},t.prototype.rendredValueToData=function(e){return this.getStoreOthersAsComment()?e:this.rendredValueToDataCore(e)},t.prototype.renderedValueFromDataCore=function(e){return this.hasUnknownValue(e,!0,!1)?(this.otherValue=e,this.otherItem.value):this.valueFromData(e)},t.prototype.rendredValueToDataCore=function(e){return e==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(e=this.otherValue),e},t.prototype.needConvertRenderedOtherToDataValue=function(){var e=this.otherValue;return!e||(e=e.trim(),!e)?!1:this.hasUnknownValue(e,!0,!1)},t.prototype.getIsQuestionReady=function(){return i.prototype.getIsQuestionReady.call(this)&&!this.waitingChoicesByURL&&!this.waitingGetChoiceDisplayValueResponse},t.prototype.updateSelectedItemValues=function(){var e=this;if(!(this.waitingGetChoiceDisplayValueResponse||!this.survey||this.isEmpty())){var n=this.value,r=Array.isArray(n)?n:[n],o=r.some(function(c){return!ke.getItemByValue(e.choices,c)});o&&(this.choicesLazyLoadEnabled||this.hasChoicesUrl)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.updateIsReady(),this.survey.getChoiceDisplayValue({question:this,values:r,setItems:function(c){for(var p=[],y=1;y<arguments.length;y++)p[y-1]=arguments[y];if(e.waitingGetChoiceDisplayValueResponse=!1,!c||!c.length){e.updateIsReady();return}var b=c.map(function(E,M){return e.createItemValue(r[M],E)});e.setCustomValuesIntoItems(b,p),Array.isArray(n)?e.selectedItemValues=b:e.selectedItemValues=b[0],e.updateIsReady()}}))}},t.prototype.setCustomValuesIntoItems=function(e,n){!Array.isArray(n)||n.length===0||n.forEach(function(r){var o=r.values,c=r.propertyName;if(Array.isArray(o))for(var p=0;p<e.length&&p<o.length;p++)e[p][c]=o[p]})},t.prototype.hasUnknownValue=function(e,n,r,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),o===void 0&&(o=!1),!Array.isArray(e))return this.hasUnknownValueItem(e,n,r,o);for(var c=0;c<e.length;c++)if(this.hasUnknownValueItem(e,n,r,o))return!0;return!1},t.prototype.hasUnknownValueItem=function(e,n,r,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),o===void 0&&(o=!1),!o&&this.isValueEmpty(e)||n&&e==this.otherItem.value||this.showNoneItem&&e==this.noneItem.value||this.showRefuseItem&&e==this.refuseItem.value||this.showDontKnowItem&&e==this.dontKnowItem.value)return!1;var c=r?this.getFilteredChoices():this.activeChoices;return ke.getItemByValue(c,e)==null},t.prototype.isValueDisabled=function(e){var n=ke.getItemByValue(this.getFilteredChoices(),e);return!!n&&!n.isEnabled},t.prototype.endLoadingFromJson=function(){i.prototype.endLoadingFromJson.call(this),this.updateVisibleChoices()},Object.defineProperty(t.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},set:function(e){e&&(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(e.toJSON()))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(e){this.setPropertyValue("choices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(e){var n=this.getQuestionWithChoices();this.isLockVisibleChoices=!!n&&n.name===e,n&&n.name!==e&&(n.removeDependedQuestion(this),this.isInDesignMode&&!this.isLoadingFromJson&&e&&this.setPropertyValue("choicesFromQuestion",void 0)),this.setPropertyValue("choicesFromQuestion",e),this.isLockVisibleChoices=!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(e){this.setPropertyValue("choicesFromQuestionMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choiceValuesFromQuestion",{get:function(){return this.getPropertyValue("choiceValuesFromQuestion")},set:function(e){this.setPropertyValue("choiceValuesFromQuestion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choiceTextsFromQuestion",{get:function(){return this.getPropertyValue("choiceTextsFromQuestion")},set:function(e){this.setPropertyValue("choiceTextsFromQuestion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty")},set:function(e){this.setPropertyValue("hideIfChoicesEmpty",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(e){this.setPropertyValue("keepIncorrectValues",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(e){this.setPropertyValue("storeOthersAsComment",e)},enumerable:!1,configurable:!0}),t.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(t.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(e){e=e.toLowerCase(),e!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",e),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText")},set:function(e){this.setLocalizableStringText("otherText",e),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherPlaceHolder",{get:function(){return this.otherPlaceholder},set:function(e){this.otherPlaceholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText")},set:function(e){this.setLocalizableStringText("otherErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabledChoices",{get:function(){for(var e=[],n=this.visibleChoices,r=0;r<n.length;r++)n[r].isEnabled&&e.push(n[r]);return e},enumerable:!1,configurable:!0}),t.prototype.updateVisibleChoices=function(){if(!(this.isLoadingFromJson||this.isDisposed)){var e=new Array,n=this.calcVisibleChoices();n||(n=[]);for(var r=0;r<n.length;r++)e.push(n[r]);var o=this.visibleChoices;(!this.isTwoValueEquals(o,e)||this.choicesLazyLoadEnabled)&&(this.setArrayPropertyDirectly("visibleChoices",e),this.updateRenderedChoices())}},t.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var e=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(e,this.isAddDefaultItems),e},t.prototype.canUseFilteredChoices=function(){return!this.isAddDefaultItems&&!this.showNoneItem&&!this.showRefuseItem&&!this.showDontKnowItem&&!this.hasOther&&this.choicesOrder=="none"},t.prototype.setCanShowOptionItemCallback=function(e){this.canShowOptionItemCallback=e,e&&this.onVisibleChoicesChanged()},Object.defineProperty(t.prototype,"newItem",{get:function(){return this.newItemValue},enumerable:!1,configurable:!0}),t.prototype.addToVisibleChoices=function(e,n){this.headItemsCount=0,this.footItemsCount=0,this.isEmptyActiveChoicesInDesign||this.addNewItemToVisibleChoices(e,n);var r=new Array;this.addNonChoicesItems(r,n),r.sort(function(p,y){return p.index===y.index?0:p.index<y.index?-1:1});for(var o=0;o<r.length;o++){var c=r[o];c.index<0?(e.splice(o,0,c.item),this.headItemsCount++):(e.push(c.item),this.footItemsCount++)}},t.prototype.addNewItemToVisibleChoices=function(e,n){var r=this;n&&(this.newItemValue||(this.newItemValue=this.createItemValue("newitem"),this.newItemValue.isGhost=!0,this.newItemValue.registerFunctionOnPropertyValueChanged("isVisible",function(){r.updateVisibleChoices()})),this.newItemValue.isVisible&&!this.isUsingCarryForward&&this.canShowOptionItem(this.newItemValue,n,!1)&&(this.footItemsCount=1,e.push(this.newItemValue)))},t.prototype.addNonChoicesItems=function(e,n){this.supportNone()&&this.addNonChoiceItem(e,this.noneItem,n,this.showNoneItem,N.specialChoicesOrder.noneItem),this.supportRefuse()&&this.addNonChoiceItem(e,this.refuseItem,n,this.showRefuseItem,N.specialChoicesOrder.refuseItem),this.supportDontKnow()&&this.addNonChoiceItem(e,this.dontKnowItem,n,this.showDontKnowItem,N.specialChoicesOrder.dontKnowItem),this.supportOther()&&this.addNonChoiceItem(e,this.otherItem,n,this.hasOther,N.specialChoicesOrder.otherItem)},t.prototype.addNonChoiceItem=function(e,n,r,o,c){this.canShowOptionItem(n,r,o)&&c.forEach(function(p){return e.push({index:p,item:n})})},t.prototype.canShowOptionItem=function(e,n,r){var o=n&&(this.canShowOptionItemCallback?this.canShowOptionItemCallback(e):!0)||r;if(this.canSurveyChangeItemVisibility()){var c=this.changeItemVisibility();return c(e,o)}return o},t.prototype.isItemInList=function(e){return e===this.otherItem?this.hasOther:e===this.noneItem?this.showNoneItem:e===this.refuseItem?this.showRefuseItem:e===this.dontKnowItem?this.showDontKnowItem:e!==this.newItemValue},Object.defineProperty(t.prototype,"isAddDefaultItems",{get:function(){return N.showDefaultItemsInCreatorV2&&this.isInDesignModeV2&&!this.customWidget},enumerable:!1,configurable:!0}),t.prototype.getPlainData=function(e){var n=this;e===void 0&&(e={includeEmpty:!0,includeQuestionTypes:!1});var r=i.prototype.getPlainData.call(this,e);if(r){var o=Array.isArray(this.value)?this.value:[this.value];r.isNode=!0,r.data=(r.data||[]).concat(o.map(function(c,p){var y=ke.getItemByValue(n.visibleChoices,c),b={name:p,title:"Choice",value:c,displayValue:n.getChoicesDisplayValue(n.visibleChoices,c),getString:function(E){return typeof E=="object"?JSON.stringify(E):E},isNode:!1};return y&&(e.calculations||[]).forEach(function(E){b[E.propertyName]=y[E.propertyName]}),n.isOtherSelected&&n.otherItemValue===y&&(b.isOther=!0,b.displayValue=n.otherValue),b}))}return r},t.prototype.getDisplayValueCore=function(e,n){return this.useDisplayValuesInDynamicTexts?this.getChoicesDisplayValue(this.visibleChoices,n):n},t.prototype.getDisplayValueEmpty=function(){return ke.getTextOrHtmlByValue(this.visibleChoices,void 0)},t.prototype.getChoicesDisplayValue=function(e,n){if(n==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;var r=this.getSingleSelectedItem();if(r&&this.isTwoValueEquals(r.value,n))return r.locText.textOrHtml;var o=ke.getTextOrHtmlByValue(e,n);return o==""&&n?n:o},t.prototype.getDisplayArrayValue=function(e,n,r){for(var o=this,c=this.visibleChoices,p=[],y=[],b=0;b<n.length;b++)y.push(r?r(b):n[b]);if(g.isTwoValueEquals(this.value,y)&&this.getMultipleSelectedItems().forEach(function(M,Q){return p.push(o.getItemDisplayValue(M,y[Q]))}),p.length===0)for(var b=0;b<y.length;b++){var E=this.getChoicesDisplayValue(c,y[b]);E&&p.push(E)}return p.join(N.choicesSeparator)},t.prototype.getItemDisplayValue=function(e,n){if(e===this.otherItem){if(this.hasOther&&this.showCommentArea&&n)return n;if(this.comment)return this.comment}return e.locText.textOrHtml},t.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(t.prototype,"activeChoices",{get:function(){var e=this.getCarryForwardQuestion();return this.carryForwardQuestionType==="select"?(e.addDependedQuestion(this),this.getChoicesFromSelectQuestion(e)):this.carryForwardQuestionType==="array"?(e.addDependedQuestion(this),this.getChoicesFromArrayQuestion(e)):this.isEmptyActiveChoicesInDesign?[]:this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMessagePanelVisible",{get:function(){return this.getPropertyValue("isMessagePanelVisible",!1)},set:function(e){this.setPropertyValue("isMessagePanelVisible",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmptyActiveChoicesInDesign",{get:function(){return this.isInDesignModeV2&&(this.hasChoicesUrl||this.isMessagePanelVisible)},enumerable:!1,configurable:!0}),t.prototype.getCarryForwardQuestion=function(e){var n=this.findCarryForwardQuestion(e),r=this.getQuestionWithChoicesCore(n),o=r?null:this.getQuestionWithArrayValue(n);return this.setCarryForwardQuestionType(!!r,!!o),r||o?n:null},t.prototype.getIsReadyDependsOn=function(){var e=i.prototype.getIsReadyDependsOn.call(this);return this.carryForwardQuestion&&e.push(this.carryForwardQuestion),e},t.prototype.getQuestionWithChoices=function(){return this.getQuestionWithChoicesCore(this.findCarryForwardQuestion())},t.prototype.findCarryForwardQuestion=function(e){return e||(e=this.data),this.carryForwardQuestion=null,this.choicesFromQuestion&&e&&(this.carryForwardQuestion=e.findQuestionByName(this.choicesFromQuestion)),this.carryForwardQuestion},t.prototype.getQuestionWithChoicesCore=function(e){return e&&e.visibleChoices&&H.isDescendantOf(e.getType(),"selectbase")&&e!==this?e:null},t.prototype.getQuestionWithArrayValue=function(e){return e&&e.isValueArray?e:null},t.prototype.getChoicesFromArrayQuestion=function(e){if(this.isInDesignMode)return[];var n=e.value;if(!Array.isArray(n))return[];for(var r=[],o=0;o<n.length;o++){var c=n[o];if(g.isValueObject(c)){var p=this.getValueKeyName(c);if(p&&!this.isValueEmpty(c[p])){var y=this.choiceTextsFromQuestion?c[this.choiceTextsFromQuestion]:void 0;r.push(this.createItemValue(c[p],y))}}}return r},t.prototype.getValueKeyName=function(e){if(this.choiceValuesFromQuestion)return this.choiceValuesFromQuestion;var n=Object.keys(e);return n.length>0?n[0]:void 0},t.prototype.getChoicesFromSelectQuestion=function(e){if(this.isInDesignMode)return[];for(var n=[],r=this.choicesFromQuestionMode=="selected"?!0:this.choicesFromQuestionMode=="unselected"?!1:void 0,o=e.visibleChoices,c=0;c<o.length;c++)if(!e.isBuiltInChoice(o[c])){if(r===void 0){n.push(this.copyChoiceItem(o[c]));continue}var p=e.isItemSelected(o[c]);(p&&r||!p&&!r)&&n.push(this.copyChoiceItem(o[c]))}return this.choicesFromQuestionMode==="selected"&&!this.showOtherItem&&e.isOtherSelected&&e.comment&&n.push(this.createItemValue(e.otherItem.value,e.comment)),n},t.prototype.copyChoiceItem=function(e){var n=this.createItemValue(e.value);return n.setData(e),n},Object.defineProperty(t.prototype,"hasActiveChoices",{get:function(){var e=this.visibleChoices;(!e||e.length==0)&&(this.onVisibleChoicesChanged(),e=this.visibleChoices);for(var n=0;n<e.length;n++)if(!this.isBuiltInChoice(e[n]))return!0;return!1},enumerable:!1,configurable:!0}),t.prototype.isBuiltInChoice=function(e){return this.isNoneItem(e)||e===this.otherItem||e===this.newItemValue},t.prototype.isNoneItem=function(e){return this.getNoneItems().indexOf(e)>-1},t.prototype.getNoneItems=function(){return[this.noneItem,this.refuseItem,this.dontKnowItem]},t.prototype.getChoices=function(){return this.choices},t.prototype.supportOther=function(){return this.isSupportProperty("showOtherItem")},t.prototype.supportNone=function(){return this.isSupportProperty("showNoneItem")},t.prototype.supportRefuse=function(){return this.isSupportProperty("showRefuseItem")},t.prototype.supportDontKnow=function(){return this.isSupportProperty("showDontKnowItem")},t.prototype.isSupportProperty=function(e){return!this.isDesignMode||this.getPropertyByName(e).visible},t.prototype.onCheckForErrors=function(e,n,r){var o=this;if(i.prototype.onCheckForErrors.call(this,e,n,r),!(!this.hasOther||!this.isOtherSelected||this.otherValue||n&&!this.prevOtherErrorValue)){var c=new lv(this.otherErrorText,this);c.onUpdateErrorTextCallback=function(p){p.text=o.otherErrorText},e.push(c)}},t.prototype.setSurveyImpl=function(e,n){this.isRunningChoices=!0,i.prototype.setSurveyImpl.call(this,e,n),this.isRunningChoices=!1,this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()},t.prototype.setSurveyCore=function(e){i.prototype.setSurveyCore.call(this,e),e&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()},t.prototype.getStoreOthersAsComment=function(){return this.isSettingDefaultValue||this.showCommentArea?!1:this.storeOthersAsComment===!0||this.storeOthersAsComment=="default"&&(this.survey!=null?this.survey.storeOthersAsComment:!0)||this.hasChoicesUrl&&!this.choicesFromUrl},t.prototype.onSurveyLoad=function(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),i.prototype.onSurveyLoad.call(this)},t.prototype.onAnyValueChanged=function(e,n){i.prototype.onAnyValueChanged.call(this,e,n),e!=this.getValueName()&&this.runChoicesByUrl();var r=this.choicesFromQuestion;e&&r&&(e===r||n===r)&&this.onVisibleChoicesChanged()},t.prototype.updateValueFromSurvey=function(e,n){var r="";this.hasOther&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(e)&&!this.getHasOther(e)?(r=this.getCommentFromValue(e),e=this.setOtherValueIntoValue(e)):this.data&&(r=this.data.getComment(this.getValueName()))),i.prototype.updateValueFromSurvey.call(this,e,n),(this.isRunningChoices||this.choicesByUrl.isRunning)&&!this.isEmpty()&&(this.cachedValueForUrlRequests=this.value),r&&this.setNewComment(r)},t.prototype.getCommentFromValue=function(e){return e},t.prototype.setOtherValueIntoValue=function(e){return this.otherItem.value},t.prototype.onOtherValueInput=function(e){this.isInputTextUpdate?e.target&&(this.otherValue=e.target.value):this.updateCommentElements()},t.prototype.onOtherValueChange=function(e){this.otherValue=e.target.value,this.otherValue!==e.target.value&&(e.target.value=this.otherValue)},t.prototype.runChoicesByUrl=function(){if(this.updateIsUsingRestful(),!(!this.choicesByUrl||this.isLoadingFromJson||this.isRunningChoices||this.isInDesignModeV2)){var e=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;e||(e=this.survey),e&&(this.updateIsReady(),this.isRunningChoices=!0,this.choicesByUrl.run(e),this.isRunningChoices=!1)}},t.prototype.onBeforeSendRequest=function(){N.web.disableQuestionWhileLoadingChoices===!0&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)},t.prototype.onLoadChoicesFromUrl=function(e){this.enableOnLoadingChoices&&(this.readOnly=!1);var n=[];this.isReadOnly||this.choicesByUrl&&this.choicesByUrl.error&&n.push(this.choicesByUrl.error);var r=null,o=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,o=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value);var c=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,o);if(e&&(e.length>0||this.choicesByUrl.allowEmptyResponse)&&(r=new Array,ke.setData(r,e)),r)for(var p=0;p<r.length;p++)r[p].locOwner=this;this.setChoicesFromUrl(r,n,c)},t.prototype.canAvoidSettChoicesFromUrl=function(e){if(this.isFirstLoadChoicesFromUrl)return!1;var n=!e||Array.isArray(e)&&e.length===0;return n&&!this.isEmpty()?!1:g.isTwoValueEquals(this.choicesFromUrl,e)},t.prototype.setChoicesFromUrl=function(e,n,r){if(!this.canAvoidSettChoicesFromUrl(e)){if(this.isFirstLoadChoicesFromUrl=!1,this.choicesFromUrl=e,this.filterItems(),this.onVisibleChoicesChanged(),e){var o=this.updateCachedValueForUrlRequests(r,e);if(o&&!this.isReadOnly){var c=!this.isTwoValueEquals(this.value,o.value);try{this.isValueEmpty(o.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=c,c?this.value=o.value:this.setQuestionValue(o.value)}finally{this.allowNotifyValueChanged=!0}}}!this.isReadOnly&&!e&&!this.isFirstLoadChoicesFromUrl&&(this.value=null),this.errors=n,this.choicesLoaded()}},t.prototype.createCachedValueForUrlRequests=function(e,n){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var r=[],o=0;o<e.length;o++)r.push(this.createCachedValueForUrlRequests(e[o],!0));return r}var c=n?!this.hasUnknownValue(e):!0;return{value:e,isExists:c}},t.prototype.updateCachedValueForUrlRequests=function(e,n){if(this.isValueEmpty(e))return null;if(Array.isArray(e)){for(var r=[],o=0;o<e.length;o++){var c=this.updateCachedValueForUrlRequests(e[o],n);if(c&&!this.isValueEmpty(c.value)){var p=c.value,b=ke.getItemByValue(n,c.value);b&&(p=b.value),r.push(p)}}return{value:r}}var y=e.isExists&&this.hasUnknownValue(e.value)?null:e.value,b=ke.getItemByValue(n,y);return b&&(y=b.value),{value:y}},t.prototype.updateChoicesDependedQuestions=function(){this.isLoadingFromJson||this.isUpdatingChoicesDependedQuestions||!this.allowNotifyValueChanged||this.choicesByUrl.isRunning||(this.isUpdatingChoicesDependedQuestions=!0,this.updateDependedQuestions(),this.isUpdatingChoicesDependedQuestions=!1)},t.prototype.updateDependedQuestion=function(){this.onVisibleChoicesChanged(),this.clearIncorrectValues()},t.prototype.onSurveyValueChanged=function(e){i.prototype.onSurveyValueChanged.call(this,e),this.updateChoicesDependedQuestions()},t.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||this.isLockVisibleChoices||(this.updateVisibleChoices(),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},t.prototype.isVisibleCore=function(){var e=i.prototype.isVisibleCore.call(this);if(!this.hideIfChoicesEmpty||!e)return e;var n=this.isUsingCarryForward?this.visibleChoices:this.getFilteredChoices();return!n||n.length>0},t.prototype.sortVisibleChoices=function(e){if(this.isInDesignMode)return e;var n=this.choicesOrder.toLowerCase();return n=="asc"?this.sortArray(e,1):n=="desc"?this.sortArray(e,-1):n=="random"?this.randomizeArray(e):e},t.prototype.sortArray=function(e,n){return e.sort(function(r,o){return g.compareStrings(r.calculatedText,o.calculatedText)*n})},t.prototype.randomizeArray=function(e){return g.randomizeArray(e)},Object.defineProperty(t.prototype,"hasChoicesUrl",{get:function(){return this.choicesByUrl&&!!this.choicesByUrl.url},enumerable:!1,configurable:!0}),t.prototype.clearIncorrectValues=function(){!this.hasValueToClearIncorrectValues()||!this.canClearIncorrectValues()||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())},t.prototype.canClearIncorrectValues=function(){return!(this.carryForwardQuestion&&!this.carryForwardQuestion.isReady||this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1||this.hasChoicesUrl&&(!this.choicesFromUrl||this.choicesFromUrl.length==0))},t.prototype.hasValueToClearIncorrectValues=function(){return this.survey&&this.survey.keepIncorrectValues?!1:!this.keepIncorrectValues&&!this.isEmpty()},t.prototype.clearValueIfInvisibleCore=function(e){i.prototype.clearValueIfInvisibleCore.call(this,e),this.clearIncorrectValues()},t.prototype.isItemSelected=function(e){return e===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(e)},t.prototype.isItemSelectedCore=function(e){return e.value===this.value},t.prototype.clearDisabledValues=function(){!this.survey||!this.survey.clearValueOnDisableItems||this.clearDisabledValuesCore()},t.prototype.clearIncorrectValuesCore=function(){var e=this.value;this.canClearValueAnUnknown(e)&&this.clearValue(!0)},t.prototype.canClearValueAnUnknown=function(e){return!this.getStoreOthersAsComment()&&this.isOtherSelected?!1:this.hasUnknownValue(e,!0,!0,!0)},t.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue(!0)},t.prototype.clearUnusedValues=function(){i.prototype.clearUnusedValues.call(this),this.isOtherSelected||(this.otherValue=""),!this.showCommentArea&&!this.getStoreOthersAsComment()&&!this.isOtherSelected&&(this.comment="")},t.prototype.getColumnClass=function(){return new J().append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()},t.prototype.getItemIndex=function(e){return this.visibleChoices.indexOf(e)},t.prototype.getItemClass=function(e){var n={item:e},r=this.getItemClassCore(e,n);return n.css=r,this.survey&&this.survey.updateChoiceItemCss(this,n),n.css},t.prototype.getCurrentColCount=function(){return this.colCount},t.prototype.getItemClassCore=function(e,n){var r=new J().append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&this.colCount===0).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&this.colCount!==0).append(this.cssClasses.itemOnError,this.hasCssError()),o=this.getIsDisableAndReadOnlyStyles(!e.isEnabled),c=o[0],p=o[1],y=this.isItemSelected(e)||this.isOtherSelected&&this.otherItem.value===e.value,b=!p&&!y&&!(this.survey&&this.survey.isDesignMode),E=e===this.noneItem;return n.isDisabled=p||c,n.isChecked=y,n.isNone=E,r.append(this.cssClasses.itemDisabled,p).append(this.cssClasses.itemReadOnly,c).append(this.cssClasses.itemPreview,this.isPreviewStyle).append(this.cssClasses.itemChecked,y).append(this.cssClasses.itemHover,b).append(this.cssClasses.itemNone,E).toString()},t.prototype.getLabelClass=function(e){return new J().append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(e)).toString()},t.prototype.getControlLabelClass=function(e){return new J().append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(e)).toString()||void 0},t.prototype.updateRenderedChoices=function(){this.renderedChoices=this.onGetRenderedChoicesCallback?this.onGetRenderedChoicesCallback(this.visibleChoices):this.visibleChoices},t.prototype.getRenderedChoicesAnimationOptions=function(){var e=this;return{isAnimationEnabled:function(){return e.animationAllowed},getRerenderEvent:function(){return e.onElementRerendered},getKey:function(n){return n!=e.newItemValue?n.value:e.newItemValue},getLeaveOptions:function(n){var r=e.cssClasses.itemLeave;if(e.hasColumns){var o=e.bodyItems.indexOf(n);o!==-1&&o!==e.bodyItems.length-1&&(r="")}return{cssClass:r,onBeforeRunAnimation:Hn,onAfterRunAnimation:hn}},getAnimatedElement:function(n){return n.getRootElement()},getEnterOptions:function(n){var r=e.cssClasses.itemEnter;if(e.hasColumns){var o=e.bodyItems.indexOf(n);o!==-1&&o!==e.bodyItems.length-1&&(r="")}return{cssClass:r,onBeforeRunAnimation:function(c){if(e.getCurrentColCount()==0&&e.bodyItems.indexOf(n)>=0){var p=c.parentElement.firstElementChild.offsetLeft;c.offsetLeft>p&&io(c,{moveAnimationDuration:"0s",fadeAnimationDelay:"0s"},"--")}Hn(c)},onAfterRunAnimation:hn}}}},Object.defineProperty(t.prototype,"renderedChoices",{get:function(){return this._renderedChoices},set:function(e){this.renderedChoicesAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headItems",{get:function(){for(var e=this.separateSpecialChoices||this.isInDesignMode?this.headItemsCount:0,n=[],r=0;r<e;r++)this.renderedChoices[r]&&n.push(this.renderedChoices[r]);return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footItems",{get:function(){for(var e=this.separateSpecialChoices||this.isInDesignMode?this.footItemsCount:0,n=[],r=this.renderedChoices,o=0;o<e;o++)this.renderedChoices[r.length-e+o]&&n.push(this.renderedChoices[r.length-e+o]);return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChoices",{get:function(){var e=this;return this.renderedChoices.filter(function(n){return!e.isBuiltInChoice(n)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodyItems",{get:function(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.renderedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasHeadItems",{get:function(){return this.headItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFootItems",{get:function(){return this.footItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){var e=[],n=this.getCurrentColCount();if(this.hasColumns&&this.renderedChoices.length>0){var r=!this.separateSpecialChoices&&!this.isInDesignMode?this.renderedChoices:this.dataChoices;if(N.showItemsInOrder=="column")for(var o=0,c=r.length%n,p=0;p<n;p++){for(var y=[],b=o;b<o+Math.floor(r.length/n);b++)y.push(r[b]);c>0&&(c--,y.push(r[b]),b++),o=b,e.push(y)}else for(var p=0;p<n;p++){for(var y=[],b=p;b<r.length;b+=n)y.push(r[b]);e.push(y)}}return e},enumerable:!1,configurable:!0}),t.prototype.getItemsColumnKey=function(e){return(e||[]).map(function(n){return n.value||""}).join("")},Object.defineProperty(t.prototype,"hasColumns",{get:function(){return!this.isMobile&&this.getCurrentColCount()>1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowLayout",{get:function(){return this.getCurrentColCount()==0&&!(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blockedRow",{get:function(){return this.getCurrentColCount()==0&&(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),t.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0,this.updateIsReady(),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()},t.prototype.getItemValueWrapperComponentName=function(e){var n=this.survey;return n?n.getItemValueWrapperComponentName(e,this):fr.TemplateRendererComponentName},t.prototype.getItemValueWrapperComponentData=function(e){var n=this.survey;return n?n.getItemValueWrapperComponentData(e,this):e},t.prototype.ariaItemChecked=function(e){return this.renderedValue===e.value?"true":"false"},t.prototype.isOtherItem=function(e){return this.hasOther&&e.value==this.otherItem.value},Object.defineProperty(t.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),t.prototype.getSelectBaseRootCss=function(){return new J().append(this.getQuestionRootCss()).append(this.cssClasses.rootRow,this.rowLayout).toString()},t.prototype.allowMobileInDesignMode=function(){return!0},t.prototype.getAriaItemLabel=function(e){return e.locText.renderedHtml},t.prototype.getItemId=function(e){return this.inputId+"_"+this.getItemIndex(e)},Object.defineProperty(t.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),t.prototype.getItemEnabled=function(e){return!this.isDisabledAttr&&e.isEnabled},t.prototype.focusOtherComment=function(){var e;Qt.FocusElement(this.otherId,!1,(e=this.survey)===null||e===void 0?void 0:e.rootElement)},t.prototype.onValueChanged=function(){i.prototype.onValueChanged.call(this),!this.isDesignMode&&!this.prevIsOtherSelected&&this.isOtherSelected&&this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected},t.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(t.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(e){this.setPropertyValue("itemComponent",e)},enumerable:!1,configurable:!0}),t.prototype.updateCssClasses=function(e,n){if(i.prototype.updateCssClasses.call(this,e,n),this.dropdownListModel){var r={};dr(n.list,r),dr(e.list,r),e.list=r}},t.prototype.calcCssClasses=function(e){var n=i.prototype.calcCssClasses.call(this,e);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(n.popup,n.list),n},Ps([V({onSet:function(e,n){n.onSelectedItemValuesChangedHandler(e)}})],t.prototype,"selectedItemValues",void 0),Ps([V()],t.prototype,"separateSpecialChoices",void 0),Ps([V({localizable:!0})],t.prototype,"otherPlaceholder",void 0),Ps([ee()],t.prototype,"_renderedChoices",void 0),t}(zt),uo=function(i){Xd(t,i);function t(e){return i.call(this,e)||this}return Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:void 0)},set:function(e){e<0||e>5||this.isFlowLayout||(this.setPropertyValue("colCount",e),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),t.prototype.onParentChanged=function(){i.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},t.prototype.onParentQuestionChanged=function(){this.onVisibleChoicesChanged()},t.prototype.getSearchableItemValueKeys=function(e){e.push("choices")},t}(bl);function Cl(i,t){var e;if(!i)return!1;if(i.templateQuestion){var n=(e=i.colOwner)===null||e===void 0?void 0:e.data;if(i=i.templateQuestion,!i.getCarryForwardQuestion(n))return!1}return i.carryForwardQuestionType===t}H.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_carryforward",{name:"choices:itemvalue[]",uniqueProperty:"value",baseValue:function(){return v.getString("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(i){return!i.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(i){return Cl(i,"select")}},{name:"choiceValuesFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(i){return Cl(i,"array")}},{name:"choiceTextsFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(i){return Cl(i,"array")}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(i){return!i.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"choicesByUrl",onGetValue:function(i){return i.choicesByUrl.getData()},onSetValue:function(i,t){i.choicesByUrl.setData(t)}},"hideIfChoicesEmpty:boolean","choicesVisibleIf:condition",{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(i){return!i.choicesFromQuestion}},{name:"defaultValue:value",visibleIf:function(i){return!i.choicesFromQuestion},dependsOn:"choicesFromQuestion"},{name:"correctAnswer:value",visibleIf:function(i){return!i.choicesFromQuestion},dependsOn:"choicesFromQuestion"},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"showRefuseItem:boolean",visible:!1,version:"1.9.128"},{name:"showDontKnowItem:boolean",visible:!1,version:"1.9.128"},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(i){return i.hasOther}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(i){return i.showNoneItem}},{name:"refuseText",serializationProperty:"locRefuseText",dependsOn:"showRefuseItem",visibleIf:function(i){return i.showRefuseItem}},{name:"dontKnowText",serializationProperty:"locDontKnowText",dependsOn:"showDontKnowItem",visibleIf:function(i){return i.showDontKnowItem}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(i){return i.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(i){return i.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),H.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase");var wl=function(){function i(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r}return Object.defineProperty(i.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),i}(),Jr=function(){function i(){}return i.calculatePosition=function(t,e,n,r,o,c){c===void 0&&(c="flex");var p=t.left,y=t.top;return c==="flex"&&(o=="center"?p=(t.left+t.right-n)/2:o=="left"?p=t.left-n:p=t.right),r=="middle"?y=(t.top+t.bottom-e)/2:r=="top"?y=t.top-e:y=t.bottom,o!="center"&&r!="middle"&&(r=="top"?y=y+t.height:y=y-t.height),{left:Math.round(p),top:Math.round(y)}},i.getCorrectedVerticalDimensions=function(t,e,n,r,o){o===void 0&&(o=!0);var c,p=n-i.bottomIndent;if(r==="top"&&(c={height:e,top:t}),t<0)c={height:o?e+t:e,top:0};else if(e+t>n){var y=Math.min(e,p-t);c={height:o?y:e,top:o?t:t-(e-y)}}return c&&(c.height=Math.min(c.height,p),c.top=Math.max(c.top,0)),c},i.updateHorizontalDimensions=function(t,e,n,r,o,c){o===void 0&&(o="flex"),c===void 0&&(c={left:0,right:0}),e+=c.left+c.right;var p=void 0,y=t;return r==="center"&&(o==="fixed"?(t+e>n&&(p=n-t),y-=c.left):t<0?(y=c.left,p=Math.min(e,n)):e+t>n&&(y=n-e,y=Math.max(y,c.left),p=Math.min(e,n))),r==="left"&&t<0&&(y=c.left,p=Math.min(e,n)),r==="right"&&e+t>n&&(p=n-t),{width:p-c.left-c.right,left:y}},i.updateVerticalPosition=function(t,e,n,r,o){if(r==="middle")return r;var c=e-(t.top+(n!=="center"?t.height:0)),p=e+t.bottom-(n!=="center"?t.height:0)-o;return c>0&&p<=0&&r=="top"?r="bottom":p>0&&c<=0&&r=="bottom"?r="top":p>0&&c>0&&(r=c<p?"top":"bottom"),r},i.updateHorizontalPosition=function(t,e,n,r){if(n==="center")return n;var o=e-t.left,c=e+t.right-r;return o>0&&c<=0&&n=="left"?n="right":c>0&&o<=0&&n=="right"?n="left":c>0&&o>0&&(n=o<c?"left":"right"),n},i.calculatePopupDirection=function(t,e){var n;return e=="center"&&t!="middle"?n=t:e!="center"&&(n=e),n},i.calculatePointerTarget=function(t,e,n,r,o,c,p){c===void 0&&(c=0),p===void 0&&(p=0);var y={};return o!="center"?(y.top=t.top+t.height/2,y.left=t[o]):r!="middle"&&(y.top=t[r],y.left=t.left+t.width/2),y.left=Math.round(y.left-n),y.top=Math.round(y.top-e),o=="left"&&(y.left-=c+p),o==="center"&&(y.left-=c),y},i.bottomIndent=16,i}(),Yv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gr=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ep='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])',Pl=function(i){Yv(t,i);function t(e){var n=i.call(this)||this;return n.popupSelector=".sv-popup",n.fixedPopupContainer=".sv-popup",n.containerSelector=".sv-popup__container",n.scrollingContentSelector=".sv-popup__scrolling-content",n.visibilityAnimation=new Fa(n,function(r){n._isVisible!==r&&(r?(n.updateBeforeShowing(),n.updateIsVisible(r)):(n.updateOnHiding(),n.updateIsVisible(r),n.updateAfterHiding(),n._isPositionSetValue=!1))},function(){return n._isVisible}),n.onVisibilityChanged=new Rn,n.onModelIsVisibleChangedCallback=function(){n.isVisible=n.model.isVisible},n._isPositionSetValue=!1,n.model=e,n.locale=n.model.locale,n}return t.prototype.updateIsVisible=function(e){this._isVisible=e,this.onVisibilityChanged.fire(this,{isVisible:e})},t.prototype.updateBeforeShowing=function(){this.model.onShow()},t.prototype.updateAfterHiding=function(){this.model.onHiding()},t.prototype.getLeaveOptions=function(){return{cssClass:"sv-popup--leave",onBeforeRunAnimation:function(e){e.setAttribute("inert","")},onAfterRunAnimation:function(e){return e.removeAttribute("inert")}}},t.prototype.getEnterOptions=function(){return{cssClass:"sv-popup--enter"}},t.prototype.getAnimatedElement=function(){return this.getAnimationContainer()},t.prototype.isAnimationEnabled=function(){return this.model.displayMode!=="overlay"&&N.animationEnabled},t.prototype.getRerenderEvent=function(){return this.onElementRerendered},t.prototype.getAnimationContainer=function(){var e;return(e=this.container)===null||e===void 0?void 0:e.querySelector(this.fixedPopupContainer)},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this.visibilityAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this.containerElement||this.createdContainer},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.locale?this.locale:i.prototype.getLocale.call(this)},t.prototype.hidePopup=function(){this.model.isVisible=!1},t.prototype.getStyleClass=function(){return new J().append(this.model.cssClass).append("sv-popup--"+this.model.displayMode,this.isOverlay)},t.prototype.getShowFooter=function(){return this.isOverlay},t.prototype.getShowHeader=function(){return!1},t.prototype.getPopupHeaderTemplate=function(){},t.prototype.createFooterActionBar=function(){var e=this;this.footerToolbarValue=new Nn,this.footerToolbar.updateCallback=function(r){e.footerToolbarValue.actions.forEach(function(o){return o.cssClasses={item:"sv-popup__body-footer-item sv-popup__button sd-btn"}})};var n=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel sd-btn",action:function(){e.cancel()}}];n=this.model.updateFooterActions(n),this.footerToolbarValue.setItems(n)},t.prototype.resetDimensionsAndPositionStyleProperties=function(){var e="inherit";this.top=e,this.left=e,this.height=e,this.width=e,this.minWidth=e},t.prototype.onModelChanging=function(e){},t.prototype.setupModel=function(e){this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.onModelChanging(e),this._model=e,e.onVisibilityChanged.add(this.onModelIsVisibleChangedCallback),this.onModelIsVisibleChangedCallback()},Object.defineProperty(t.prototype,"model",{get:function(){return this._model},set:function(e){this.setupModel(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.model.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFocusedContent",{get:function(){return this.model.isFocusedContent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFocusedContainer",{get:function(){return this.model.isFocusedContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showFooter",{get:function(){return this.getShowFooter()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.getShowHeader()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupHeaderTemplate",{get:function(){return this.getPopupHeaderTemplate()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOverlay",{get:function(){return this.model.displayMode==="overlay"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styleClass",{get:function(){return this.getStyleClass().toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cancelButtonText",{get:function(){return this.getLocalizationString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),t.prototype.onKeyDown=function(e){e.key==="Tab"||e.keyCode===9?this.trapFocus(e):(e.key==="Escape"||e.keyCode===27)&&this.hidePopup()},t.prototype.trapFocus=function(e){var n=this.container.querySelectorAll(ep),r=n[0],o=n[n.length-1];e.shiftKey?N.environment.root.activeElement===r&&(o.focus(),e.preventDefault()):N.environment.root.activeElement===o&&(r.focus(),e.preventDefault())},t.prototype.switchFocus=function(){this.isFocusedContent?this.focusFirstInput():this.isFocusedContainer&&this.focusContainer()},Object.defineProperty(t.prototype,"isPositionSet",{get:function(){return this._isPositionSetValue},enumerable:!1,configurable:!0}),t.prototype.updateOnShowing=function(){this.prevActiveElement=N.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus(),this._isPositionSetValue=!0},t.prototype.updateOnHiding=function(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus({preventScroll:!0})},t.prototype.focusContainer=function(){if(this.container){var e=this.container.querySelector(this.popupSelector);e==null||e.focus()}},t.prototype.focusFirstInput=function(){var e=this;setTimeout(function(){if(e.container){var n=e.container.querySelector(e.model.focusFirstInputSelector||ep);n?n.focus():e.focusContainer()}},100)},t.prototype.clickOutside=function(e){this.hidePopup(),e==null||e.stopPropagation()},t.prototype.cancel=function(){this.model.onCancel(),this.hidePopup()},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.model&&this.model.onVisibilityChanged.remove(this.onModelIsVisibleChangedCallback),this.createdContainer&&(this.createdContainer.remove(),this.createdContainer=void 0),this.footerToolbarValue&&this.footerToolbarValue.dispose(),this.resetComponentElement()},t.prototype.initializePopupContainer=function(){if(!this.container){var e=h.createElement("div");this.createdContainer=e,Qa(N.environment.popupMountContainer).appendChild(e)}},t.prototype.setComponentElement=function(e,n,r){e&&(this.containerElement=e)},t.prototype.resetComponentElement=function(){this.containerElement=void 0,this.prevActiveElement=void 0},t.prototype.preventScrollOuside=function(e,n){for(var r=e.target;r!==this.container;){if(h.getComputedStyle(r).overflowY==="auto"&&r.scrollHeight!==r.offsetHeight){var o=r.scrollHeight,c=r.scrollTop,p=r.clientHeight;if(!(n>0&&Math.abs(o-p-c)<1)&&!(n<0&&c<=0))return}r=r.parentElement}e.cancelable&&e.preventDefault()},Gr([V({defaultValue:"0px"})],t.prototype,"top",void 0),Gr([V({defaultValue:"0px"})],t.prototype,"left",void 0),Gr([V({defaultValue:"auto"})],t.prototype,"height",void 0),Gr([V({defaultValue:"auto"})],t.prototype,"width",void 0),Gr([V({defaultValue:"auto"})],t.prototype,"minWidth",void 0),Gr([V({defaultValue:!1})],t.prototype,"_isVisible",void 0),Gr([V()],t.prototype,"locale",void 0),t}($e),Xv=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),xl=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o};function tp(i,t){var e=i||f.getInnerWidth(),n=t||f.getInnerHeight(),r=Math.min(e,n),o=r>=Vl.tabletSizeBreakpoint;return o}var Vl=function(i){Xv(t,i);function t(e,n,r){var o=i.call(this,e)||this;return o.targetElement=n,o.areaElement=r,o.scrollEventCallBack=function(c){if(o.isOverlay&&It){c.stopPropagation(),c.preventDefault();return}o.hidePopup()},o.resizeEventCallback=function(){if(f.isAvailable()){var c=f.getVisualViewport(),p=h.getDocumentElement();p&&c&&p.style.setProperty("--sv-popup-overlay-height",c.height*c.scale+"px")}},o.resizeWindowCallback=function(){o.isOverlay||o.updatePosition(!0,fr.platform==="vue"||fr.platform==="vue3"||fr.platform=="react")},o.clientY=0,o.isTablet=!1,o.touchStartEventCallback=function(c){o.clientY=c.touches[0].clientY},o.touchMoveEventCallback=function(c){o.preventScrollOuside(c,o.clientY-c.changedTouches[0].clientY)},o.model.onRecalculatePosition.add(o.recalculatePositionHandler),o}return t.prototype.calculateIsTablet=function(e,n){this.isTablet=tp(e,n)},t.prototype.getAvailableAreaRect=function(){if(this.areaElement){var e=this.areaElement.getBoundingClientRect();return new wl(e.x,e.y,e.width,e.height)}return new wl(0,0,f.getInnerWidth(),f.getInnerHeight())},t.prototype.getTargetElementRect=function(){var e=this.targetElement.getBoundingClientRect(),n=this.getAvailableAreaRect();return new wl(e.left-n.left,e.top-n.top,e.width,e.height)},t.prototype._updatePosition=function(){var e,n,r;if(this.targetElement){var o=this.getTargetElementRect(),c=this.getAvailableAreaRect(),p=(e=this.container)===null||e===void 0?void 0:e.querySelector(this.containerSelector);if(p){var y=(n=this.container)===null||n===void 0?void 0:n.querySelector(this.fixedPopupContainer),b=p.querySelector(this.scrollingContentSelector),E=h.getComputedStyle(p),M=parseFloat(E.marginLeft)||0,Q=parseFloat(E.marginRight)||0,X=p.offsetHeight-b.offsetHeight+b.scrollHeight,oe=p.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=o.width+"px");var we=this.model.verticalPosition,Ce=this.getActualHorizontalPosition();if(f.isAvailable()){var ve=[X,f.getInnerHeight()*.9,(r=f.getVisualViewport())===null||r===void 0?void 0:r.height];X=Math.ceil(Math.min.apply(Math,ve.filter(function(Cr){return typeof Cr=="number"}))),we=Jr.updateVerticalPosition(o,X,this.model.horizontalPosition,this.model.verticalPosition,c.height),Ce=Jr.updateHorizontalPosition(o,oe,this.model.horizontalPosition,c.width)}this.popupDirection=Jr.calculatePopupDirection(we,Ce);var Ne=Jr.calculatePosition(o,X,oe+M+Q,we,Ce,this.model.positionMode);if(f.isAvailable()){var Ot=Jr.getCorrectedVerticalDimensions(Ne.top,X,c.height,we,this.model.canShrink);if(Ot&&(this.height=Ot.height+"px",Ne.top=Ot.top),this.model.setWidthByTarget)this.width=o.width+"px",Ne.left=o.left;else{var yn=Jr.updateHorizontalDimensions(Ne.left,oe,f.getInnerWidth(),Ce,this.model.positionMode,{left:M,right:Q});yn&&(this.width=yn.width?yn.width+"px":void 0,Ne.left=yn.left)}}if(y){var _n=y.getBoundingClientRect();Ne.top-=_n.top,Ne.left-=_n.left}Ne.left+=c.left,Ne.top+=c.top,this.left=Ne.left+"px",this.top=Ne.top+"px",this.showHeader&&(this.pointerTarget=Jr.calculatePointerTarget(o,Ne.top,Ne.left,we,Ce,M,Q),this.pointerTarget.top+="px",this.pointerTarget.left+="px")}}},t.prototype.getActualHorizontalPosition=function(){var e=this.model.horizontalPosition;if(h.isAvailable()){var n=h.getComputedStyle(h.getBody()).direction=="rtl";n&&(this.model.horizontalPosition==="left"?e="right":this.model.horizontalPosition==="right"&&(e="left"))}return e},t.prototype.getStyleClass=function(){var e=this.model.overlayDisplayMode;return i.prototype.getStyleClass.call(this).append("sv-popup--dropdown",!this.isOverlay).append("sv-popup--dropdown-overlay",this.isOverlay&&e!=="plain").append("sv-popup--tablet",this.isOverlay&&(e=="tablet-dropdown-overlay"||e=="auto"&&this.isTablet)).append("sv-popup--show-pointer",!this.isOverlay&&this.showHeader).append("sv-popup--"+this.popupDirection,!this.isOverlay&&(this.showHeader||this.popupDirection=="top"||this.popupDirection=="bottom"))},t.prototype.getShowHeader=function(){return this.model.showPointer&&!this.isOverlay},t.prototype.getPopupHeaderTemplate=function(){return"popup-pointer"},t.prototype.setComponentElement=function(e,n,r){i.prototype.setComponentElement.call(this,e),e&&e.parentElement&&!this.isModal&&(this.targetElement=n||e.parentElement,this.areaElement=r)},t.prototype.resetComponentElement=function(){i.prototype.resetComponentElement.call(this),this.targetElement=void 0},t.prototype.updateOnShowing=function(){var e=N.environment.root;this.prevActiveElement=e.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),f.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(f.getVisualViewport().addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.calculateIsTablet(),this.resizeEventCallback()),f.addEventListener("scroll",this.scrollEventCallBack),this._isPositionSetValue=!0},Object.defineProperty(t.prototype,"shouldCreateResizeCallback",{get:function(){return!!f.getVisualViewport()&&this.isOverlay&&It},enumerable:!1,configurable:!0}),t.prototype.updatePosition=function(e,n){var r=this;n===void 0&&(n=!0),e&&(this.height="auto"),n?setTimeout(function(){r._updatePosition()},1):this._updatePosition()},t.prototype.updateOnHiding=function(){i.prototype.updateOnHiding.call(this),f.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(f.getVisualViewport().removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),f.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)},t.prototype.onModelChanging=function(e){var n=this;this.model&&this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler||(this.recalculatePositionHandler=function(r,o){n.isOverlay||n.updatePosition(o.isResetHeight)}),i.prototype.onModelChanging.call(this,e),e.onRecalculatePosition.add(this.recalculatePositionHandler)},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.updateOnHiding(),this.model&&(this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler=void 0),this.resetComponentElement()},t.tabletSizeBreakpoint=600,xl([V()],t.prototype,"isTablet",void 0),xl([V({defaultValue:"left"})],t.prototype,"popupDirection",void 0),xl([V({defaultValue:{left:"0px",top:"0px"}})],t.prototype,"pointerTarget",void 0),t}(Pl),eb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gr=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},xs=function(i){eb(t,i);function t(e,n){var r=i.call(this)||this;return r.question=e,r.onSelectionChanged=n,r.minPageSize=25,r.loadingItemHeight=40,r.timer=void 0,r._markdownMode=!1,r.filteredItems=void 0,r.selectedItemSelector=".sv-list__item--selected",r.itemSelector=".sv-list__item",r.itemsSettings={skip:0,take:0,totalCount:0,items:[]},r.popupCssClasses="sv-single-select-list",r.listModelFilterStringChanged=function(o){r.filterString!==o&&(r.filterString=o)},r.questionPropertyChangedHandler=function(o,c){r.onPropertyChangedHandler(o,c)},r.htmlCleanerElement=h.createElement("div"),r.question.ariaExpanded="false",e.onPropertyChanged.add(r.questionPropertyChangedHandler),r.showInputFieldComponent=r.question.showInputFieldComponent,r.listModel=r.createListModel(),r.updateAfterListModelCreated(r.listModel),r.setChoicesLazyLoadEnabled(r.question.choicesLazyLoadEnabled),r.setSearchEnabled(r.question.searchEnabled),r.setTextWrapEnabled(r.question.textWrapEnabled),r.createPopup(),r.resetItemsSettings(),r}return Object.defineProperty(t.prototype,"focusFirstInputSelector",{get:function(){return this.getFocusFirstInputSelector()},enumerable:!1,configurable:!0}),t.prototype.getFocusFirstInputSelector=function(){return It?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""},t.prototype.resetItemsSettings=function(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]},t.prototype.setItems=function(e,n){this.itemsSettings.items=[].concat(this.itemsSettings.items,e),this.itemsSettings.totalCount=n,this.listModel.isAllDataLoaded=this.question.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items},t.prototype.loadQuestionChoices=function(e){var n=this;this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:function(r,o){n.setItems(r||[],o||0),n.popupRecalculatePosition(n.itemsSettings.skip===n.itemsSettings.take),e&&e()}}),this.itemsSettings.skip+=this.itemsSettings.take},t.prototype.updateQuestionChoices=function(e){var n=this,r=this.itemsSettings.skip+1<this.itemsSettings.totalCount;(!this.itemsSettings.skip||r)&&(this.filterString&&N.dropdownSearchDelay>0?(this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.timer=setTimeout(function(){n.loadQuestionChoices(e)},N.dropdownSearchDelay)):this.loadQuestionChoices(e))},t.prototype.updatePopupFocusFirstInputSelector=function(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector},t.prototype.getDropdownMenuOptions=function(){var e=f.getInnerWidth(),n=f.getInnerHeight(),r=tp(e,n),o="dropdown",c="desktop";return It&&(o=r?"popup":"overlay",c=r?"tablet":"mobile"),{menuType:o,deviceType:c,hasTouchScreen:It,screenHeight:n,screenWidth:e}},t.prototype.createPopup=function(){var e=this,n={verticalPosition:"bottom",horizontalPosition:"center",showPointer:!1};this._popupModel=new Xi("sv-list",{model:this.listModel},n),this._popupModel.displayMode=It?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContainer=!1,this._popupModel.isFocusedContent=It,this._popupModel.setWidthByTarget=!It,this._popupModel.locale=this.question.getLocale(),this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],function(){e.updatePopupFocusFirstInputSelector()}),this._popupModel.cssClass=this.popupCssClasses,this._popupModel.onVisibilityChanged.add(function(r,o){if(o.isVisible&&(e.listModel.renderElements=!0),o.isVisible&&e.question.choicesLazyLoadEnabled&&(e.listModel.actions=[],e.resetItemsSettings(),e.updateQuestionChoices()),o.isVisible){e.updatePopupFocusFirstInputSelector();var c=e.getDropdownMenuOptions();e.question.processOpenDropdownMenu(c),e._popupModel.updateDisplayMode(c.menuType),e.question.onOpenedCallBack&&e.question.onOpenedCallBack()}o.isVisible||(e.onHidePopup(),e.question.choicesLazyLoadEnabled&&e.resetItemsSettings()),e.question.ariaExpanded=o.isVisible?"true":"false",e.question.processPopupVisiblilityChanged(e.popupModel,o.isVisible)})},t.prototype.setFilterStringToListModel=function(e){var n=this;if(this.listModel.filterString=e,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(e)>=0){this.listModel.focusedItem=this.getAvailableItems().filter(function(r){return r.id==n.question.selectedItem.value})[0],this.listModel.filterString&&this.listModel.actions.map(function(r){return r.selectedValue=!1});return}(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()},t.prototype.setTextWrapEnabled=function(e){this.listModel.textWrapEnabled=e},t.prototype.popupRecalculatePosition=function(e){var n=this;setTimeout(function(){n.popupModel.recalculatePosition(e)},1)},t.prototype.onHidePopup=function(){this.resetFilterString(),this.question.suggestedItem=null},t.prototype.getAvailableItems=function(){return this.question.visibleChoices},t.prototype.setOnTextSearchCallbackForListModel=function(e){var n=this;e.setOnTextSearchCallback(function(r,o){if(n.filteredItems)return n.filteredItems.indexOf(r)>=0;var c=r.text.toLocaleLowerCase();c=N.comparator.normalizeTextCallback(c,"filter");var p=c.indexOf(o.toLocaleLowerCase());return n.question.searchMode=="startsWith"?p==0:p>-1})},t.prototype.createListModel=function(){var e=this,n=this.getAvailableItems(),r=this.onSelectionChanged;r||(r=function(p){e.question.value=p.id,e.question.searchEnabled&&e.applyInputString(p),e.popupModel.hide()});var o={items:n,onSelectionChanged:r,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},c=new Yi(o);return this.setOnTextSearchCallbackForListModel(c),c.renderElements=!1,c.forceShowFilter=!0,c.areSameItemsCallback=function(p,y){return p===y},c},t.prototype.updateAfterListModelCreated=function(e){var n=this;e.isItemSelected=function(r){return!!r.selected},e.onPropertyChanged.add(function(r,o){o.name=="hasVerticalScroller"&&(n.hasScroll=o.newValue)}),e.isAllDataLoaded=!this.question.choicesLazyLoadEnabled,e.actions.forEach(function(r){return r.disableTabStop=!0})},t.prototype.updateCssClasses=function(e,n){this.popupModel.cssClass=new J().append(e).append(this.popupCssClasses).toString(),this.listModel.cssClasses=n},t.prototype.resetFilterString=function(){this.filterString&&(this.filterString=void 0)},t.prototype.clear=function(){this.inputString=null,this.hintString="",this.resetFilterString()},t.prototype.onSetFilterString=function(){var e=this;if(this.filteredItems=void 0,!(!this.filterString&&!this.popupModel.isVisible)){var n={question:this.question,choices:this.getAvailableItems(),filter:this.filterString,filteredChoices:void 0};this.question.survey.onChoicesSearch.fire(this.question.survey,n),this.filteredItems=n.filteredChoices,this.filterString&&!this.popupModel.isVisible&&this.popupModel.show();var r=function(){e.setFilterStringToListModel(e.filterString),e.popupRecalculatePosition(!0)};this.question.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(r)):r()}},Object.defineProperty(t.prototype,"isAllDataLoaded",{get:function(){return!!this.itemsSettings.totalCount&&this.itemsSettings.items.length==this.itemsSettings.totalCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowSelectedItem",{get:function(){return!this.focused||this._markdownMode||!this.searchEnabled},enumerable:!1,configurable:!0}),t.prototype.applyInputString=function(e){var n=e==null?void 0:e.locText.hasHtml;n||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString=this.cleanHtml(e==null?void 0:e.locText.getHtmlValue()),this.hintString=""):(this.inputString=e==null?void 0:e.title,this.hintString=e==null?void 0:e.title)},t.prototype.cleanHtml=function(e){return this.htmlCleanerElement?(this.htmlCleanerElement.innerHTML=e,this.htmlCleanerElement.textContent):""},t.prototype.fixInputCase=function(){var e=this.hintStringMiddle;e&&this.inputString!=e&&(this.inputString=e)},t.prototype.applyHintString=function(e){var n=e==null?void 0:e.locText.hasHtml;n||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):this.hintString=e==null?void 0:e.title},Object.defineProperty(t.prototype,"inputStringRendered",{get:function(){return this.inputString||""},set:function(e){this.inputString=e,this.filterString=e,e?this.applyHintString(this.listModel.focusedItem||this.question.selectedItem):this.hintString=""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholderRendered",{get:function(){return this.hintString?"":this.question.readOnlyText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listElementId",{get:function(){return this.question.inputId+"_list"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringLC",{get:function(){var e;return((e=this.hintString)===null||e===void 0?void 0:e.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputStringLC",{get:function(){var e;return((e=this.inputString)===null||e===void 0?void 0:e.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHintPrefix",{get:function(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringPrefix",{get:function(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showHintString",{get:function(){return!!this.question.searchEnabled&&this.hintStringLC&&this.hintStringLC.indexOf(this.inputStringLC)>=0||!this.question.searchEnabled&&this.hintStringLC&&this.question.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringSuffix",{get:function(){return this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hintStringMiddle",{get:function(){var e=this.hintStringLC.indexOf(this.inputStringLC);return e==-1?null:this.hintString.substring(e,e+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupModel",{get:function(){return this._popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noTabIndex",{get:function(){return this.question.isInputReadOnly||this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterReadOnly",{get:function(){return this.question.isInputReadOnly||!this.searchEnabled||!this.focused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filterStringEnabled",{get:function(){return!this.question.isInputReadOnly&&this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputMode",{get:function(){return It?"none":"text"},enumerable:!1,configurable:!0}),t.prototype.setSearchEnabled=function(e){this.listModel.searchEnabled=It,this.listModel.showSearchClearButton=It,this.searchEnabled=e},t.prototype.setChoicesLazyLoadEnabled=function(e){this.listModel.setOnFilterStringChangedCallback(e?this.listModelFilterStringChanged:void 0)},t.prototype.updateItems=function(){this.listModel.setItems(this.getAvailableItems())},t.prototype.onClick=function(e){this.question.readOnly||this.question.isDesignMode||this.question.isPreviewStyle||this.question.isReadOnlyAttr||(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.question.focusInputElement(!1))},t.prototype.chevronPointerDown=function(e){this._popupModel.isVisible&&e.preventDefault()},t.prototype.onPropertyChangedHandler=function(e,n){n.name=="value"&&(this.showInputFieldComponent=this.question.showInputFieldComponent),n.name=="textWrapEnabled"&&this.setTextWrapEnabled(n.newValue)},t.prototype.focusItemOnClickAndPopup=function(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)},t.prototype.onClear=function(e){this.question.clearValue(!0),this._popupModel.hide(),e&&(e.preventDefault(),e.stopPropagation())},t.prototype.getSelectedAction=function(){return this.question.selectedItem||null},t.prototype.changeSelectionWithKeyboard=function(e){var n,r=this.listModel.focusedItem;!r&&this.question.selectedItem?ke.getItemByValue(this.question.visibleChoices,this.question.value)&&(this.listModel.focusedItem=this.question.selectedItem):e?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(r),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=(n=this.listModel.focusedItem)===null||n===void 0?void 0:n.elementId},t.prototype.beforeScrollToFocusedItem=function(e){this.question.value&&e&&(e.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)},t.prototype.afterScrollToFocusedItem=function(){var e;this.question.value&&!this.listModel.filterString&&this.question.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.fixInputCase(),this.ariaActivedescendant=(e=this.listModel.focusedItem)===null||e===void 0?void 0:e.elementId},t.prototype.keyHandler=function(e){var n=e.which||e.keyCode;if(this.popupModel.isVisible&&e.keyCode===38?(this.changeSelectionWithKeyboard(!0),e.preventDefault(),e.stopPropagation()):e.keyCode===40&&(this.popupModel.show(),this.changeSelectionWithKeyboard(!1),e.preventDefault(),e.stopPropagation()),e.keyCode===9)this.popupModel.hide();else if(!this.popupModel.isVisible&&(e.keyCode===13||e.keyCode===32))e.keyCode===32&&(this.popupModel.show(),this.changeSelectionWithKeyboard(!1)),e.keyCode===13&&this.question.survey.questionEditFinishCallback(this.question,e),e.preventDefault(),e.stopPropagation();else if(this.popupModel.isVisible&&(e.keyCode===13||e.keyCode===32&&(!this.question.searchEnabled||!this.inputString)))e.keyCode===13&&this.question.searchEnabled&&!this.inputString&&this.question instanceof co&&!this._markdownMode&&this.question.value?(this._popupModel.hide(),this.onClear(e)):(this.listModel.selectFocusedItem(),this.onFocus(e)),e.preventDefault(),e.stopPropagation();else if(n===46||n===8)this.searchEnabled||this.onClear(e);else if(e.keyCode===27)this._popupModel.hide(),this.hintString="",this.onEscape();else{if((e.keyCode===38||e.keyCode===40||e.keyCode===32&&!this.question.searchEnabled)&&(e.preventDefault(),e.stopPropagation()),e.keyCode===32&&this.question.searchEnabled)return;sd(e,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}},t.prototype.onEscape=function(){this.question.searchEnabled&&this.applyInputString(this.question.selectedItem)},t.prototype.onScroll=function(e){var n=e.target;n.scrollHeight-(n.scrollTop+n.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()},t.prototype.onBlur=function(e){if(this.focused=!1,this.popupModel.isVisible&&It){this._popupModel.show();return}od(e),this._popupModel.hide(),this.resetFilterString(),this.inputString=null,this.hintString="",e.stopPropagation()},t.prototype.onFocus=function(e){this.focused=!0,this.setInputStringFromSelectedItem(this.question.selectedItem)},t.prototype.setInputStringFromSelectedItem=function(e){this.focused&&(this.question.searchEnabled&&e?this.applyInputString(e):this.inputString=null)},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.question&&this.question.onPropertyChanged.remove(this.questionPropertyChangedHandler),this.questionPropertyChangedHandler=void 0,this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose()},t.prototype.scrollToFocusedItem=function(){this.listModel.scrollToFocusedItem()},gr([V({defaultValue:!1})],t.prototype,"focused",void 0),gr([V({defaultValue:!0})],t.prototype,"searchEnabled",void 0),gr([V({defaultValue:"",onSet:function(e,n){n.onSetFilterString()}})],t.prototype,"filterString",void 0),gr([V({defaultValue:"",onSet:function(e,n){n.question.inputHasValue=!!e}})],t.prototype,"inputString",void 0),gr([V({})],t.prototype,"showInputFieldComponent",void 0),gr([V()],t.prototype,"ariaActivedescendant",void 0),gr([V({defaultValue:!1,onSet:function(e,n){e?n.listModel.addScrollEventListener(function(r){n.onScroll(r)}):n.listModel.removeScrollEventListener()}})],t.prototype,"hasScroll",void 0),gr([V({defaultValue:""})],t.prototype,"hintString",void 0),t}($e),tb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),er=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},co=function(i){tb(t,i);function t(e){var n=i.call(this,e)||this;return n.lastSelectedItemValue=null,n.minMaxChoices=[],n.onOpened=n.addEvent(),n.createLocalizableString("placeholder",n,!1,!0),n.createLocalizableString("clearCaption",n,!1,!0),n.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],function(){n.onVisibleChoicesChanged()}),n.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){n.updateReadOnlyText()}),n.updateReadOnlyText(),n}return t.prototype.updateReadOnlyText=function(){var e=this.selectedItem?"":this.placeholder;this.renderAs=="select"&&(this.isOtherSelected?e=this.otherText:this.isNoneSelected?e=this.noneText:this.selectedItem&&(e=this.selectedItemText)),this.readOnlyText=e},t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this),this.updateReadOnlyText()},Object.defineProperty(t.prototype,"showOptionsCaption",{get:function(){return this.allowClear},set:function(e){this.allowClear=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||N.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"dropdown"},Object.defineProperty(t.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),t.prototype.onGetSingleSelectedItem=function(e){e&&(this.lastSelectedItemValue=e)},t.prototype.supportGoNextPageAutomatic=function(){return!this.isOtherSelected},t.prototype.getChoices=function(){var e=i.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return e;for(var n=[],r=0;r<e.length;r++)n.push(e[r]);if(this.minMaxChoices.length===0||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1){this.minMaxChoices=[];for(var r=this.choicesMin;r<=this.choicesMax;r+=this.choicesStep)this.minMaxChoices.push(this.createItemValue(r))}return n=n.concat(this.minMaxChoices),n},Object.defineProperty(t.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin")},set:function(e){this.setPropertyValue("choicesMin",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax")},set:function(e){this.setPropertyValue("choicesMax",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep")},set:function(e){e<1&&(e=1),this.setPropertyValue("choicesStep",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete","")},set:function(e){this.setPropertyValue("autocomplete",e)},enumerable:!1,configurable:!0}),t.prototype.getControlClass=function(){return new J().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()},Object.defineProperty(t.prototype,"selectedItemLocText",{get:function(){var e=this.suggestedItem||this.selectedItem;return e==null?void 0:e.locText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputFieldComponentName",{get:function(){return this.inputFieldComponent||this.itemComponent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedItemLocText",{get:function(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText&&this.dropdownListModel.canShowSelectedItem},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showInputFieldComponent",{get:function(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItemText",{get:function(){var e=this.selectedItem;return e?e.text:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropdownListModel",{get:function(){return this.renderAs!=="select"&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new xs(this)),this.dropdownListModelValue},set:function(e){this.dropdownListModelValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupModel",{get:function(){var e;return(e=this.dropdownListModel)===null||e===void 0?void 0:e.popupModel},enumerable:!1,configurable:!0}),t.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},t.prototype.onSelectedItemValuesChangedHandler=function(e){var n;(n=this.dropdownListModel)===null||n===void 0||n.setInputStringFromSelectedItem(e),i.prototype.onSelectedItemValuesChangedHandler.call(this,e)},t.prototype.hasUnknownValue=function(e,n,r,o){return this.choicesLazyLoadEnabled?!1:i.prototype.hasUnknownValue.call(this,e,n,r,o)},t.prototype.needConvertRenderedOtherToDataValue=function(){var e,n=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return n?i.prototype.hasUnknownValue.call(this,n,!0,!1):!1},t.prototype.getItemIfChoicesNotContainThisValue=function(e,n){return this.choicesLazyLoadEnabled?this.createItemValue(e,n):i.prototype.getItemIfChoicesNotContainThisValue.call(this,e,n)},t.prototype.onVisibleChoicesChanged=function(){i.prototype.onVisibleChoicesChanged.call(this),!this.isLoadingFromJson&&this.popupModel&&this.dropdownListModel.updateItems()},t.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},t.prototype.getInputId=function(){return this.inputId+"_0"},t.prototype.clearValue=function(e){var n;i.prototype.clearValue.call(this,e),this.lastSelectedItemValue=null,(n=this.dropdownListModel)===null||n===void 0||n.clear()},t.prototype.afterRenderCore=function(e){i.prototype.afterRenderCore.call(this,e),this.dropdownListModelValue&&this.dropdownListModelValue.clear()},t.prototype.onClick=function(e){this.onOpenedCallBack&&this.onOpenedCallBack()},t.prototype.onKeyUp=function(e){var n=e.which||e.keyCode;n===46&&(this.clearValue(!0),e.preventDefault(),e.stopPropagation())},t.prototype.supportEmptyValidation=function(){return!0},t.prototype.onBlurCore=function(e){var n;(n=this.dropdownListModel)===null||n===void 0||n.onBlur(e),i.prototype.onBlurCore.call(this,e)},t.prototype.onFocusCore=function(e){var n;(n=this.dropdownListModel)===null||n===void 0||n.onFocus(e),i.prototype.onFocusCore.call(this,e)},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},er([V()],t.prototype,"allowClear",void 0),er([V({onSet:function(e,n){n.dropdownListModel&&n.dropdownListModel.setSearchEnabled(e)}})],t.prototype,"searchEnabled",void 0),er([V()],t.prototype,"searchMode",void 0),er([V()],t.prototype,"textWrapEnabled",void 0),er([V({defaultValue:!1})],t.prototype,"inputHasValue",void 0),er([V({defaultValue:""})],t.prototype,"readOnlyText",void 0),er([V({onSet:function(e,n){n.dropdownListModel&&n.dropdownListModel.setChoicesLazyLoadEnabled(e)}})],t.prototype,"choicesLazyLoadEnabled",void 0),er([V()],t.prototype,"choicesLazyLoadPageSize",void 0),er([V()],t.prototype,"suggestedItem",void 0),t}(bl);H.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:N.questions.dataList},{name:"textWrapEnabled:boolean",default:!0},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"searchMode",default:"contains",choices:["contains","startsWith"]},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new co("")},"selectbase"),lt.Instance.registerQuestion("dropdown",function(i){var t=new co(i);return t.choices=lt.DefaultChoices,t});var Sl=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),np=function(i){Sl(t,i);function t(e,n,r,o){var c=i.call(this)||this;return c.item=e,c.fullName=n,c.data=r,c.setValueDirectly(o),c.cellClick=function(p){c.value=p.value},c.registerPropertyChangedHandlers(["value"],function(){c.data&&c.data.onMatrixRowChanged(c)}),c.data&&c.data.hasErrorInRow(c)&&(c.hasError=!0),c}return Object.defineProperty(t.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(e){this.isReadOnly||this.setValueDirectly(this.data.getCorrectedRowValue(e))},enumerable:!1,configurable:!0}),t.prototype.setValueDirectly=function(e){this.setPropertyValue("value",e)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return!this.item.enabled||this.data.isInputReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnlyAttr",{get:function(){return this.data.isReadOnlyAttr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDisabledAttr",{get:function(){return!this.item.enabled||this.data.isDisabledAttr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowTextClasses",{get:function(){return new J().append(this.data.cssClasses.rowTextCell).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasError",{get:function(){return this.getPropertyValue("hasError",!1)},set:function(e){this.setPropertyValue("hasError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowClasses",{get:function(){var e=this.data.cssClasses;return new J().append(e.row).append(e.rowError,this.hasError).append(e.rowReadOnly,this.isReadOnly).append(e.rowDisabled,this.data.isDisabledStyle).toString()},enumerable:!1,configurable:!0}),t}($e),rp=function(i){Sl(t,i);function t(e){var n=i.call(this)||this;return n.cellsOwner=e,n.values={},n.locs={},n}return t.prototype.getType=function(){return"cells"},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return Object.keys(this.values).length==0},enumerable:!1,configurable:!0}),t.prototype.valuesChanged=function(){!this.locNotification&&this.onValuesChanged&&this.onValuesChanged()},t.prototype.getDefaultCellLocText=function(e){return this.getCellLocCore(this.defaultRowValue,e)},t.prototype.getCellDisplayLocText=function(e,n){return this.getCellLocCore(e,n)},t.prototype.getCellLocCore=function(e,n){var r=this;if(e=this.getCellRowColumnValue(e,this.rows),n=this.getCellRowColumnValue(n,this.columns),g.isValueEmpty(e)||g.isValueEmpty(n))return null;this.locs[e]||(this.locs[e]={});var o=this.locs[e][n];return o||(o=this.createString(),o.setJson(this.getCellLocData(e,n)),o.onGetTextCallback=function(c){if(!c){var p=ke.getItemByValue(r.columns,n);if(p)return p.locText.getJson()||p.value}return c},o.onStrChanged=function(c,p){r.updateValues(e,n,p)},this.locs[e][n]=o),o},Object.defineProperty(t.prototype,"defaultRowValue",{get:function(){return N.matrix.defaultRowName},enumerable:!1,configurable:!0}),t.prototype.getCellLocData=function(e,n){var r=this.getCellLocDataFromValue(e,n);return r||this.getCellLocDataFromValue(this.defaultRowValue,n)},t.prototype.getCellLocDataFromValue=function(e,n){return!this.values[e]||!this.values[e][n]?null:this.values[e][n]},t.prototype.getCellText=function(e,n){var r=this.getCellLocCore(e,n);return r?r.calculatedText:null},t.prototype.setCellText=function(e,n,r){var o=this.getCellLocCore(e,n);o&&(o.text=r)},t.prototype.updateValues=function(e,n,r){r?(this.values[e]||(this.values[e]={}),this.values[e][n]=r,this.valuesChanged()):this.values[e]&&this.values[e][n]&&(delete this.values[e][n],Object.keys(this.values[e]).length==0&&delete this.values[e],this.valuesChanged())},t.prototype.getDefaultCellText=function(e){var n=this.getCellLocCore(this.defaultRowValue,e);return n?n.calculatedText:null},t.prototype.setDefaultCellText=function(e,n){this.setCellText(this.defaultRowValue,e,n)},t.prototype.getCellDisplayText=function(e,n){var r=this.getCellDisplayLocText(e,n);return r?r.calculatedText:null},Object.defineProperty(t.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),t.prototype.getCellRowColumnValue=function(e,n){if(e==null)return null;if(typeof e=="number"){if(e<0||e>=n.length)return null;e=n[e].value}return e.value?e.value:e},t.prototype.getJson=function(){if(this.isEmpty)return null;var e=this.values[this.defaultRowValue],n={};for(var r in this.values){var o={},c=this.values[r];for(var p in c)(r===this.defaultRowValue||!e||e[p]!==c[p])&&(o[p]=c[p]);n[r]=o}return n},t.prototype.setJson=function(e){var n=this;if(this.values={},e){for(var r in e)if(r!="pos"){var o=e[r];this.values[r]={};for(var c in o)c!="pos"&&(this.values[r][c]=o[c])}}this.locNotification=!0,this.runFuncOnLocs(function(p,y,b){return b.setJson(n.getCellLocData(p,y))}),this.locNotification=!1,this.valuesChanged()},t.prototype.locStrsChanged=function(){this.runFuncOnLocs(function(e,n,r){return r.strChanged()})},t.prototype.runFuncOnLocs=function(e){for(var n in this.locs){var r=this.locs[n];for(var o in r)e(n,o,r[o])}},t.prototype.createString=function(){return new In(this.cellsOwner,!0)},t}($e),Tl=function(i){Sl(t,i);function t(e){var n=i.call(this,e)||this;return n.isRowChanging=!1,n.emptyLocalizableString=new In(n),n.cellsValue=new rp(n),n.cellsValue.onValuesChanged=function(){n.updateHasCellText(),n.propertyValueChanged("cells",n.cells,n.cells)},n.registerPropertyChangedHandlers(["columns"],function(){n.onColumnsChanged()}),n.registerPropertyChangedHandlers(["rows"],function(){n.runCondition(n.getDataFilteredValues(),n.getDataFilteredProperties()),n.onRowsChanged()}),n.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){n.updateVisibilityBasedOnRows()}),n}return t.prototype.getType=function(){return"matrix"},Object.defineProperty(t.prototype,"cellComponent",{get:function(){return this.getPropertyValue("cellComponent")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemComponent",{set:function(e){this.setPropertyValue("cellComponent",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired")},set:function(e){this.setPropertyValue("isAllRowRequired",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eachRowUnique",{get:function(){return this.getPropertyValue("eachRowUnique")},set:function(e){this.setPropertyValue("eachRowUnique",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(e){e=e.toLowerCase(),e!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",e),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(e){this.setPropertyValue("hideIfRowsEmpty",e)},enumerable:!1,configurable:!0}),t.prototype.getRows=function(){return this.rows},t.prototype.getColumns=function(){return this.visibleColumns},t.prototype.addColumn=function(e,n){var r=new ke(e,n);return this.columns.push(r),r},t.prototype.getItemClass=function(e,n){var r=e.value==n.value,o=this.isReadOnly,c=!r&&!o,p=this.hasCellText,y=this.cssClasses;return new J().append(y.cell,p).append(p?y.cellText:y.label).append(y.itemOnError,!p&&(this.isAllRowRequired||this.eachRowUnique?e.hasError:this.hasCssError())).append(p?y.cellTextSelected:y.itemChecked,r).append(p?y.cellTextDisabled:y.itemDisabled,this.isDisabledStyle).append(p?y.cellTextReadOnly:y.itemReadOnly,this.isReadOnlyStyle).append(p?y.cellTextPreview:y.itemPreview,this.isPreviewStyle).append(y.itemHover,c&&!p).toString()},Object.defineProperty(t.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this),this.cells.locStrsChanged()},t.prototype.getQuizQuestionCount=function(){for(var e=0,n=0;n<this.rows.length;n++)this.isValueEmpty(this.correctAnswer[this.rows[n].value])||e++;return e},t.prototype.getCorrectAnswerCount=function(){for(var e=0,n=this.value,r=0;r<this.rows.length;r++){var o=this.rows[r].value;!this.isValueEmpty(n[o])&&this.isTwoValueEquals(this.correctAnswer[o],n[o])&&e++}return e},t.prototype.runCondition=function(e,n){ke.runEnabledConditionsForItems(this.rows,void 0,e,n),i.prototype.runCondition.call(this,e,n)},t.prototype.createRowsVisibleIfRunner=function(){return this.rowsVisibleIf?new on(this.rowsVisibleIf):null},t.prototype.onRowsChanged=function(){this.clearGeneratedRows(),i.prototype.onRowsChanged.call(this)},t.prototype.getVisibleRows=function(){if(this.generatedVisibleRows)return this.generatedVisibleRows;var e=new Array,n=this.value;n||(n={});for(var r=this.filteredRows||this.rows,o=0;o<r.length;o++){var c=r[o];if(!this.isValueEmpty(c.value)){var p=this.id+"_"+c.value.toString().replace(/\s/g,"_");e.push(this.createMatrixRow(c,p,n[c.value]))}}return this.generatedVisibleRows=e,e},t.prototype.sortVisibleRows=function(e){if(this.survey&&this.survey.isDesignMode)return e;var n=this.rowsOrder.toLowerCase();return n==="random"?g.randomizeArray(e):e},t.prototype.endLoadingFromJson=function(){i.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows),this.onRowsChanged(),this.onColumnsChanged()},t.prototype.isNewValueCorrect=function(e){return g.isValueObject(e,!0)},t.prototype.processRowsOnSet=function(e){return this.sortVisibleRows(e)},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this.cellsValue},set:function(e){this.cells.setJson(e&&e.getJson?e.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCellText",{get:function(){return this.getPropertyValue("hasCellText",!1)},enumerable:!1,configurable:!0}),t.prototype.updateHasCellText=function(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)},t.prototype.setCellText=function(e,n,r){this.cells.setCellText(e,n,r)},t.prototype.getCellText=function(e,n){return this.cells.getCellText(e,n)},t.prototype.setDefaultCellText=function(e,n){this.cells.setDefaultCellText(e,n)},t.prototype.getDefaultCellText=function(e){return this.cells.getDefaultCellText(e)},t.prototype.getCellDisplayText=function(e,n){return this.cells.getCellDisplayText(e,n)},t.prototype.getCellDisplayLocText=function(e,n){var r=this.cells.getCellDisplayLocText(e,n);return r||this.emptyLocalizableString},t.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0&&this.hasValuesInAllRows()},t.prototype.onCheckForErrors=function(e,n,r){if(i.prototype.onCheckForErrors.call(this,e,n,r),!n||this.hasCssError()){var o={noValue:!1,isNotUnique:!1};this.checkErrorsAllRows(r,o),o.noValue&&e.push(new uv(null,this)),o.isNotUnique&&e.push(new cv(null,this))}},t.prototype.hasValuesInAllRows=function(){var e={noValue:!1,isNotUnique:!1};return this.checkErrorsAllRows(!1,e,!0),!e.noValue},t.prototype.checkErrorsAllRows=function(e,n,r){var o=this,c=this.generatedVisibleRows;if(c||(c=this.visibleRows),!!c){var p=this.isAllRowRequired||r,y=this.eachRowUnique;if(n.noValue=!1,n.isNotUnique=!1,e&&(this.errorsInRow=void 0),!(!p&&!y)){for(var b={},E=0;E<c.length;E++){var M=c[E].value,Q=this.isValueEmpty(M),X=y&&!Q&&b[M]===!0;Q=Q&&p,e&&(Q||X)&&this.addErrorIntoRow(c[E]),Q||(b[M]=!0),n.noValue=n.noValue||Q,n.isNotUnique=n.isNotUnique||X}e&&c.forEach(function(oe){oe.hasError=o.hasErrorInRow(oe)})}}},t.prototype.addErrorIntoRow=function(e){this.errorsInRow||(this.errorsInRow={}),this.errorsInRow[e.name]=!0,e.hasError=!0},t.prototype.refreshRowsErrors=function(){this.errorsInRow&&this.checkErrorsAllRows(!0,{noValue:!1,isNotUnique:!1})},t.prototype.getIsAnswered=function(){return i.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},t.prototype.createMatrixRow=function(e,n,r){var o=new np(e,n,this,r);return this.onMatrixRowCreated(o),o},t.prototype.onMatrixRowCreated=function(e){},t.prototype.setQuestionValue=function(e,n){if(n===void 0&&(n=!0),i.prototype.setQuestionValue.call(this,e,this.isRowChanging||n),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0)){this.isRowChanging=!0;var r=this.value;if(r||(r={}),this.rows.length==0)this.generatedVisibleRows[0].setValueDirectly(r);else for(var o=0;o<this.generatedVisibleRows.length;o++){var c=this.generatedVisibleRows[o],p=r[c.name];this.isValueEmpty(p)&&(p=null),this.generatedVisibleRows[o].setValueDirectly(p)}this.refreshRowsErrors(),this.updateIsAnswered(),this.isRowChanging=!1}},t.prototype.getDisplayValueCore=function(e,n){var r={};for(var o in n){var c=e?ke.getTextOrHtmlByValue(this.rows,o):o;c||(c=o);var p=ke.getTextOrHtmlByValue(this.columns,n[o]);p||(p=n[o]),r[c]=p}return r},t.prototype.getPlainData=function(e){var n=this;e===void 0&&(e={includeEmpty:!0});var r=i.prototype.getPlainData.call(this,e);if(r){var o=this.createValueCopy();r.isNode=!0,r.data=Object.keys(o||{}).map(function(c){var p=n.rows.filter(function(E){return E.value===c})[0],y={name:c,title:p?p.text:"row",value:o[c],displayValue:ke.getTextOrHtmlByValue(n.visibleColumns,o[c]),getString:function(E){return typeof E=="object"?JSON.stringify(E):E},isNode:!1},b=ke.getItemByValue(n.visibleColumns,o[c]);return b&&(e.calculations||[]).forEach(function(E){y[E.propertyName]=b[E.propertyName]}),y})}return r},t.prototype.addConditionObjectsByContext=function(e,n){for(var r=0;r<this.rows.length;r++){var o=this.rows[r];o.value&&e.push({name:this.getValueName()+"."+o.value,text:this.processedTitle+"."+o.calculatedText,question:this})}},t.prototype.getConditionJson=function(e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),!n)return i.prototype.getConditionJson.call(this,e);var r=new co(n);r.choices=this.columns;var o=new et().toJsonObject(r);return o.type=r.getType(),o},t.prototype.clearIncorrectValues=function(){this.clearInvisibleValuesInRowsAndColumns(!0,!0,!0),i.prototype.clearIncorrectValues.call(this)},t.prototype.clearValueIfInvisibleCore=function(e){i.prototype.clearValueIfInvisibleCore.call(this,e),this.clearInvisibleValuesInRowsAndColumns(!0,!0,!1)},t.prototype.clearInvisibleColumnValues=function(){this.clearInvisibleValuesInRowsAndColumns(!1,!0,!1)},t.prototype.clearInvisibleValuesInRows=function(){this.clearInvisibleValuesInRowsAndColumns(!0,!1,!1)},t.prototype.clearInvisibleValuesInRowsAndColumns=function(e,n,r){if(!this.isEmpty()){for(var o=this.getUnbindValue(this.value),c={},p=this.rows,y=0;y<p.length;y++){var b=p[y].value;o[b]&&(e&&!p[y].isVisible||n&&!this.getVisibleColumnByValue(o[b])?delete o[b]:c[b]=o[b])}r&&(o=c),!this.isTwoValueEquals(o,this.value)&&(this.value=o)}},t.prototype.getVisibleColumnByValue=function(e){var n=ke.getItemByValue(this.columns,e);return n&&n.isVisible?n:null},t.prototype.getFirstInputElementId=function(){var e=this.generatedVisibleRows;return e||(e=this.visibleRows),e.length>0&&this.visibleColumns.length>0?this.inputId+"_"+e[0].name+"_0":i.prototype.getFirstInputElementId.call(this)},t.prototype.onMatrixRowChanged=function(e){if(!this.isRowChanging){if(this.isRowChanging=!0,!this.hasRows)this.setNewValue(e.value);else{var n=this.value;n||(n={}),n[e.name]=e.value,this.setNewValue(n)}this.isRowChanging=!1}},t.prototype.getCorrectedRowValue=function(e){for(var n=0;n<this.columns.length;n++)if(e===this.columns[n].value)return e;for(var n=0;n<this.columns.length;n++)if(this.isTwoValueEquals(e,this.columns[n].value))return this.columns[n].value;return e},t.prototype.hasErrorInRow=function(e){return!!this.errorsInRow&&!!this.errorsInRow[e.name]},t.prototype.getSearchableItemValueKeys=function(e){e.push("columns"),e.push("rows")},Object.defineProperty(t.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),t.prototype.getColumnHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName({column:e},"column-header")},t.prototype.getColumnHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData({column:e},"column-header")},t.prototype.getRowHeaderWrapperComponentName=function(e){return this.SurveyModel.getElementWrapperComponentName({row:e},"row-header")},t.prototype.getRowHeaderWrapperComponentData=function(e){return this.SurveyModel.getElementWrapperComponentData({row:e},"row-header")},t}(tl);H.addClass("matrix",["rowTitleWidth",{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return v.getString("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return v.getString("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean",{name:"eachRowUnique:boolean",category:"validation"},"hideIfRowsEmpty:boolean",{name:"cellComponent",visible:!1,default:"survey-matrix-cell"}],function(){return new Tl("")},"matrixbase"),lt.Instance.registerQuestion("matrix",function(i){var t=new Tl(i);return t.rows=lt.DefaultRows,t.columns=lt.DefaultColums,t});var ip=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),op=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},sp=function(i){ip(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.updateRemainingCharacterCounter=function(e,n){this.remainingCharacterCounter=g.getRemainingCharacterCounterText(e,n)},op([V()],t.prototype,"remainingCharacterCounter",void 0),t}($e),Vs=function(i){ip(t,i);function t(e){var n=i.call(this,e)||this;return n.characterCounter=new sp,n}return t.prototype.isTextValue=function(){return!0},Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e),this.updateRemainingCharacterCounter(this.value)},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){return g.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},t.prototype.updateRemainingCharacterCounter=function(e){this.characterCounter.updateRemainingCharacterCounter(e,this.getMaxLength())},Object.defineProperty(t.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"textbase"},t.prototype.isEmpty=function(){return i.prototype.isEmpty.call(this)||this.value===""},Object.defineProperty(t.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),t.prototype.getIsInputTextUpdate=function(){return this.textUpdateMode=="default"?i.prototype.getIsInputTextUpdate.call(this):this.textUpdateMode=="onTyping"},Object.defineProperty(t.prototype,"renderedPlaceholder",{get:function(){return this.getPropertyValue("renderedPlaceholder")},enumerable:!1,configurable:!0}),t.prototype.setRenderedPlaceholder=function(e){this.setPropertyValue("renderedPlaceholder",e)},t.prototype.onReadOnlyChanged=function(){i.prototype.onReadOnlyChanged.call(this),this.calcRenderedPlaceholder()},t.prototype.onSurveyLoad=function(){this.calcRenderedPlaceholder(),i.prototype.onSurveyLoad.call(this)},t.prototype.localeChanged=function(){i.prototype.localeChanged.call(this),this.calcRenderedPlaceholder()},t.prototype.setSurveyImpl=function(e,n){i.prototype.setSurveyImpl.call(this,e,n),this.calcRenderedPlaceholder()},t.prototype.supportEmptyValidation=function(){return!0},t.prototype.calcRenderedPlaceholder=function(){var e=this.placeHolder;e&&!this.hasPlaceholder()&&(e=void 0),this.setRenderedPlaceholder(e)},t.prototype.hasPlaceholder=function(){return!this.isReadOnly},t.prototype.setNewValue=function(e){i.prototype.setNewValue.call(this,e),this.updateRemainingCharacterCounter(e)},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),i.prototype.setQuestionValue.call(this,e,n),this.updateRemainingCharacterCounter(e)},t.prototype.convertToCorrectValue=function(e){return Array.isArray(e)?e.join(this.getValueSeparator()):e},t.prototype.getValueSeparator=function(){return", "},t.prototype.getControlCssClassBuilder=function(){return new J().append(this.cssClasses.root).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle)},t.prototype.getControlClass=function(){return this.getControlCssClassBuilder().toString()},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),op([V({localizable:!0,onSet:function(e,n){return n.calcRenderedPlaceholder()}})],t.prototype,"placeholder",void 0),t}(zt);H.addClass("textbase",[],function(){return new Vs("")},"question");var nb=function(){function i(t,e,n){var r=this;this.inputMaskInstance=t,this.inputElement=e,this.prevUnmaskedValue=void 0,this.inputMaskInstancePropertyChangedHandler=function(c,p){if(p.name!=="saveMaskedValue"){var y=r.inputMaskInstance.getMaskedValue(r.prevUnmaskedValue);r.inputElement.value=y}},this.clickHandler=function(c){r.inputElement.value==r.inputMaskInstance.getMaskedValue("")&&r.inputElement.setSelectionRange(0,0)},this.beforeInputHandler=function(c){var p=r.createArgs(c),y=r.inputMaskInstance.processInput(p);r.inputElement.value=y.value,r.inputElement.setSelectionRange(y.caretPosition,y.caretPosition),y.cancelPreventDefault||c.preventDefault()},this.changeHandler=function(c){var p=r.inputMaskInstance.processInput({prevValue:"",insertedChars:c.target.value,selectionStart:0,selectionEnd:0});r.inputElement.value=p.value};var o=n;o==null&&(o=""),this.inputElement.value=t.getMaskedValue(o),this.prevUnmaskedValue=o,t.onPropertyChanged.add(this.inputMaskInstancePropertyChangedHandler),this.addInputEventListener()}return i.prototype.createArgs=function(t){var e={insertedChars:t.data,selectionStart:t.target.selectionStart,selectionEnd:t.target.selectionEnd,prevValue:t.target.value,inputDirection:"forward"};return t.inputType==="deleteContentBackward"&&(e.inputDirection="backward",e.selectionStart===e.selectionEnd&&(e.selectionStart=Math.max(e.selectionStart-1,0))),t.inputType==="deleteContentForward"&&e.selectionStart===e.selectionEnd&&(e.selectionEnd+=1),e},i.prototype.addInputEventListener=function(){this.inputElement&&(this.inputElement.addEventListener("beforeinput",this.beforeInputHandler),this.inputElement.addEventListener("click",this.clickHandler),this.inputElement.addEventListener("focus",this.clickHandler),this.inputElement.addEventListener("change",this.changeHandler))},i.prototype.removeInputEventListener=function(){this.inputElement&&(this.inputElement.removeEventListener("beforeinput",this.beforeInputHandler),this.inputElement.removeEventListener("click",this.clickHandler),this.inputElement.removeEventListener("focus",this.clickHandler),this.inputElement.removeEventListener("change",this.changeHandler))},i.prototype.dispose=function(){this.removeInputEventListener(),this.inputMaskInstance.onPropertyChanged.remove(this.inputMaskInstancePropertyChangedHandler)},i}(),Ol=/[0-9]/;function ap(){var i=H.getChildrenClasses("masksettings")||[],t=i.map(function(e){var n=e.name;return e.name.indexOf("mask")!==-1&&(n=n.slice(0,n.indexOf("mask"))),n});return t.unshift("none"),t}var rb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rl=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ss=function(i){rb(t,i);function t(e){var n=i.call(this,e)||this;return n._isWaitingForEnter=!1,n.onCompositionUpdate=function(r){n.isInputTextUpdate&&setTimeout(function(){n.updateValueOnEvent(r)},1),n.updateRemainingCharacterCounter(r.target.value)},n.onKeyUp=function(r){n.updateDateValidationMessage(r),n.isInputTextUpdate?(!n._isWaitingForEnter||r.keyCode===13)&&(n.updateValueOnEvent(r),n._isWaitingForEnter=!1):r.keyCode===13&&n.updateValueOnEvent(r),n.updateRemainingCharacterCounter(r.target.value)},n.onKeyDown=function(r){n.onKeyDownPreprocess&&n.onKeyDownPreprocess(r),n.isInputTextUpdate&&(n._isWaitingForEnter=r.keyCode===229),n.onTextKeyDownHandler(r)},n.onChange=function(r){n.updateDateValidationMessage(r);var o=r.target===N.environment.root.activeElement;o?n.isInputTextUpdate&&n.updateValueOnEvent(r):n.updateValueOnEvent(r),n.updateRemainingCharacterCounter(r.target.value)},n.createLocalizableString("minErrorText",n,!0,"minError"),n.createLocalizableString("maxErrorText",n,!0,"maxError"),n.setNewMaskSettingsProperty(),n.locDataListValue=new td(n),n.locDataListValue.onValueChanged=function(r,o){n.propertyValueChanged("dataList",r,o)},n.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],function(){n.setRenderedMinMax()}),n.registerPropertyChangedHandlers(["inputType","size"],function(){n.updateInputSize(),n.calcRenderedPlaceholder()}),n}return t.prototype.createMaskAdapter=function(){this.input&&!this.maskTypeIsEmpty&&(this.maskInputAdapter=new nb(this.maskInstance,this.input,this.value))},t.prototype.deleteMaskAdapter=function(){this.maskInputAdapter&&(this.maskInputAdapter.dispose(),this.maskInputAdapter=void 0)},t.prototype.updateMaskAdapter=function(){this.deleteMaskAdapter(),this.createMaskAdapter()},t.prototype.onSetMaskType=function(e){this.setNewMaskSettingsProperty(),this.updateMaskAdapter()},Object.defineProperty(t.prototype,"maskTypeIsEmpty",{get:function(){switch(this.inputType){case"tel":case"text":return this.maskType==="none";default:return!0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskSettings",{get:function(){return this.getPropertyValue("maskSettings")},set:function(e){e&&(this.setNewMaskSettingsProperty(),this.maskSettings.fromJSON(e.toJSON()),this.updateMaskAdapter())},enumerable:!1,configurable:!0}),t.prototype.setNewMaskSettingsProperty=function(){this.setPropertyValue("maskSettings",this.createMaskSettings())},t.prototype.createMaskSettings=function(){var e=!this.maskType||this.maskType==="none"?"masksettings":this.maskType+"mask";H.findClass(e)||(e="masksettings");var n=H.createClass(e);return n.owner=this.survey,n},t.prototype.isTextValue=function(){return this.isDateInputType||["text","number","password"].indexOf(this.inputType)>-1},t.prototype.getType=function(){return"text"},t.prototype.onSurveyLoad=function(){i.prototype.onSurveyLoad.call(this),this.setRenderedMinMax(),this.updateInputSize()},Object.defineProperty(t.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(e){e=e.toLowerCase(),(e==="datetime_local"||e==="datetime")&&(e="datetime-local"),this.setPropertyValue("inputType",e.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0),this.updateMaskAdapter()},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){return this.isTextInput?i.prototype.getMaxLength.call(this):null},t.prototype.runCondition=function(e,n){i.prototype.runCondition.call(this,e,n),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(e,n)},t.prototype.isLayoutTypeSupported=function(e){return!0},Object.defineProperty(t.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(e){this.setPropertyValue("size",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTextInput",{get:function(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputSize",{get:function(){return this.getPropertyValue("inputSize",0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedInputSize",{get:function(){return this.getPropertyValue("inputSize")||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputWidth",{get:function(){return this.getPropertyValue("inputWidth")},enumerable:!1,configurable:!0}),t.prototype.updateInputSize=function(){var e=this.isTextInput&&this.size>0?this.size:0;this.isTextInput&&e<1&&this.parent&&this.parent.itemSize&&(e=this.parent.itemSize),this.setPropertyValue("inputSize",e),this.setPropertyValue("inputWidth",e>0?"auto":"")},Object.defineProperty(t.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete",null)},set:function(e){this.setPropertyValue("autocomplete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(e){if(this.isValueExpression(e)){this.minValueExpression=e.substring(1);return}this.setPropertyValue("min",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(e){if(this.isValueExpression(e)){this.maxValueExpression=e.substring(1);return}this.setPropertyValue("max",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(e){this.setPropertyValue("minValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(e){this.setPropertyValue("maxValueExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText")},set:function(e){this.setLocalizableStringText("minErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText")},set:function(e){this.setLocalizableStringText("maxErrorText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMinMaxType",{get:function(){return zn(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskInstance",{get:function(){return this.maskSettings},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputValue",{get:function(){return this._inputValue},set:function(e){var n=e;this._inputValue=e,this.maskTypeIsEmpty||(n=this.maskInstance.getUnmaskedValue(e),this._inputValue=this.maskInstance.getMaskedValue(n),n&&this.maskSettings.saveMaskedValue&&(n=this.maskInstance.getMaskedValue(n))),this.value=n},enumerable:!1,configurable:!0}),t.prototype.onChangeQuestionValue=function(e){i.prototype.onChangeQuestionValue.call(this,e),this.updateInputValue()},t.prototype.updateInputValue=function(){this.maskTypeIsEmpty?this._inputValue=this.value:this.maskSettings.saveMaskedValue?this._inputValue=this.value?this.value:this.maskInstance.getMaskedValue(""):this._inputValue=this.maskInstance.getMaskedValue(this.value)},t.prototype.hasToConvertToUTC=function(e){return N.storeUtcDates&&this.isDateTimeLocaleType()&&!!e},t.prototype.valueForSurveyCore=function(e){return this.hasToConvertToUTC(e)&&(e=new Date(e).toISOString()),i.prototype.valueForSurveyCore.call(this,e)},t.prototype.valueFromDataCore=function(e){if(this.hasToConvertToUTC(e)){var n=new Date(e),r=new Date(n.getTime()-n.getTimezoneOffset()*60*1e3),o=r.toISOString();e=o.substring(0,o.length-2)}return i.prototype.valueFromDataCore.call(this,e)},t.prototype.onCheckForErrors=function(e,n,r){var o=this;if(i.prototype.onCheckForErrors.call(this,e,n,r),!n){if(this.isValueLessMin){var c=new wn(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);c.onUpdateErrorTextCallback=function(M){M.text=o.getMinMaxErrorText(o.minErrorText,o.getCalculatedMinMax(o.renderedMin))},e.push(c)}if(this.isValueGreaterMax){var p=new wn(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);p.onUpdateErrorTextCallback=function(M){M.text=o.getMinMaxErrorText(o.maxErrorText,o.getCalculatedMinMax(o.renderedMax))},e.push(p)}this.dateValidationMessage&&e.push(new wn(this.dateValidationMessage,this));var y=this.getValidatorTitle(),b=new Ga;if(b.errorOwner=this,this.inputType==="email"&&!this.validators.some(function(M){return M.getType()==="emailvalidator"})){var E=b.validate(this.value,y);E&&E.error&&e.push(E.error)}}},t.prototype.canSetValueToSurvey=function(){if(!this.isMinMaxType)return!0;var e=!this.isValueLessMin&&!this.isValueGreaterMax;return(!e||this.errors.length>0)&&this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),e},t.prototype.convertFuncValuetoQuestionValue=function(e){var n=this.maskTypeIsEmpty?this.inputType:this.maskSettings.getTypeForExpressions();return g.convertValToQuestionVal(e,n)},t.prototype.getMinMaxErrorText=function(e,n){if(g.isValueEmpty(n))return e;var r=n.toString();return this.inputType==="date"&&n.toDateString&&(r=n.toDateString()),e.replace("{0}",r)},Object.defineProperty(t.prototype,"isValueLessMin",{get:function(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueGreaterMax",{get:function(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDateInputType",{get:function(){return this.inputType==="date"||this.isDateTimeLocaleType()},enumerable:!1,configurable:!0}),t.prototype.isDateTimeLocaleType=function(){return this.inputType==="datetime-local"},t.prototype.getCalculatedMinMax=function(e){return this.isValueEmpty(e)?e:this.isDateInputType?new Date(e):e},t.prototype.setRenderedMinMax=function(e,n){var r=this;e===void 0&&(e=null),n===void 0&&(n=null),this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,function(o){!o&&r.isDateInputType&&N.minDate&&(o=N.minDate),r.setPropertyValue("renderedMin",o)},e,n),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,function(o){!o&&r.isDateInputType&&(o=N.maxDate?N.maxDate:"2999-12-31"),r.setPropertyValue("renderedMax",o)},e,n)},Object.defineProperty(t.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(e){this.setPropertyValue("step",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStep",{get:function(){return this.isValueEmpty(this.step)?this.inputType!=="number"?void 0:"any":this.step},enumerable:!1,configurable:!0}),t.prototype.getIsInputTextUpdate=function(){return this.maskTypeIsEmpty?i.prototype.getIsInputTextUpdate.call(this):!1},t.prototype.supportGoNextPageAutomatic=function(){return!this.getIsInputTextUpdate()&&!this.isDateInputType},t.prototype.supportGoNextPageError=function(){return!this.isDateInputType},Object.defineProperty(t.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(e){this.locDataList.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataListId",{get:function(){return this.locDataList.hasValue()?this.id+"_datalist":void 0},enumerable:!1,configurable:!0}),t.prototype.setNewValue=function(e){e=this.correctValueType(e),e&&(this.dateValidationMessage=void 0),i.prototype.setNewValue.call(this,e)},t.prototype.correctValueType=function(e){if(!e)return e;if(this.inputType==="number"||this.inputType==="range")return g.isNumber(e)?g.getNumber(e):"";if(this.inputType==="month"){var n=new Date(e),r=n.toISOString().indexOf(e)==0&&e.indexOf("T")==-1,o=r?n.getUTCMonth():n.getMonth(),c=r?n.getUTCFullYear():n.getFullYear(),p=o+1;return c+"-"+(p<10?"0":"")+p}return e},t.prototype.hasPlaceholder=function(){return!this.isReadOnly&&this.inputType!=="range"},t.prototype.getControlCssClassBuilder=function(){var e=this.getMaxLength();return i.prototype.getControlCssClassBuilder.call(this).append(this.cssClasses.constrolWithCharacterCounter,!!e).append(this.cssClasses.characterCounterBig,e>99)},t.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&N.readOnly.textRenderMode==="div"},Object.defineProperty(t.prototype,"inputStyle",{get:function(){var e={};return e.width=this.inputWidth,this.updateTextAlign(e),e},enumerable:!1,configurable:!0}),t.prototype.updateTextAlign=function(e){this.inputTextAlignment!=="auto"?e.textAlign=this.inputTextAlignment:!this.maskTypeIsEmpty&&this.maskSettings.getTextAlignment()!=="auto"&&(e.textAlign=this.maskSettings.getTextAlignment())},t.prototype.updateValueOnEvent=function(e){var n=e.target.value;this.isTwoValueEquals(this.value,n)||(this.inputValue=n)},t.prototype.updateDateValidationMessage=function(e){this.dateValidationMessage=this.isDateInputType&&e.target?e.target.validationMessage:void 0},t.prototype.onBlurCore=function(e){this.updateValueOnEvent(e),this.updateRemainingCharacterCounter(e.target.value),i.prototype.onBlurCore.call(this,e)},t.prototype.onFocusCore=function(e){this.updateRemainingCharacterCounter(e.target.value),i.prototype.onFocusCore.call(this,e)},t.prototype.afterRenderQuestionElement=function(e){e&&(this.input=e instanceof HTMLInputElement?e:e.querySelector("input"),this.createMaskAdapter()),i.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.beforeDestroyQuestionElement=function(e){this.deleteMaskAdapter()},Rl([V({onSet:function(e,n){n.onSetMaskType(e)}})],t.prototype,"maskType",void 0),Rl([V()],t.prototype,"inputTextAlignment",void 0),Rl([V()],t.prototype,"_inputValue",void 0),t}(Vs),ib=["number","range","date","datetime-local","month","time","week"];function zn(i){var t=i?i.inputType:"";return t?ib.indexOf(t)>-1:!1}function lp(i,t){var e=i.split(t);return e.length!==2||!g.isNumber(e[0])||!g.isNumber(e[1])?-1:parseFloat(e[0])*60+parseFloat(e[1])}function ob(i,t,e){var n=lp(i,e),r=lp(t,e);return n<0||r<0?!1:n>r}function up(i,t,e,n){var r=n?e:t;if(!zn(i)||g.isValueEmpty(t)||g.isValueEmpty(e))return r;if(i.inputType.indexOf("date")===0||i.inputType==="month"){var o=i.inputType==="month",c=new Date(o?t+"-01":t),p=new Date(o?e+"-01":e);if(!c||!p)return r;if(c>p)return n?t:e}if(i.inputType==="week"||i.inputType==="time"){var y=i.inputType==="week"?"-W":":";return ob(t,e,y)?n?t:e:r}if(i.inputType==="number"){if(!g.isNumber(t)||!g.isNumber(e))return r;if(g.getNumber(t)>g.getNumber(e))return n?t:e}return typeof t=="string"||typeof e=="string"?r:t>e?n?t:e:r}function cp(i,t){i&&i.inputType&&(t.inputType=i.inputType!=="range"?i.inputType:"number",t.textUpdateMode="onBlur")}H.addClass("text",[{name:"inputType",default:"text",choices:N.questions.inputTypes},{name:"size:number",minValue:0,dependsOn:"inputType",visibleIf:function(i){return i?i.isTextInput:!1}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(i){return i?i.isTextInput:!1}},{name:"autocomplete",alternativeName:"autoComplete",choices:N.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(i){return zn(i)},onPropertyEditorUpdate:function(i,t){cp(i,t)},onSettingValue:function(i,t){return up(i,t,i.max,!1)}},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(i){return zn(i)},onSettingValue:function(i,t){return up(i,i.min,t,!0)},onPropertyEditorUpdate:function(i,t){cp(i,t)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(i){return zn(i)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(i){return zn(i)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(i){return zn(i)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(i){return zn(i)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:function(i){return i.inputType==="text"||i.inputType==="tel"},choices:function(i){var t=ap();return t}},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:["inputType","maskType"],visibleIf:function(i){return i.inputType==="text"||i.inputType==="tel"},onGetValue:function(i){return i.maskSettings.getData()},onSetValue:function(i,t){i.maskSettings.setData(t)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(i){return i?i.inputType==="number"||i.inputType==="range":!1}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(i){return i?i.isTextInput:!1}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(i){return i?i.isTextInput:!1}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(i){return i?i.inputType==="text":!1}}],function(){return new Ss("")},"textbase"),lt.Instance.registerQuestion("text",function(i){return new Ss(i)});var wi=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Il=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},dp=function(i){wi(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"a11y_input_ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaLabelledBy",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaDescribedBy",{get:function(){return null},enumerable:!1,configurable:!0}),t}(Ss),El=function(i){wi(t,i);function t(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.call(this)||this;return r.focusIn=function(){r.editor.focusIn()},r.editorValue=r.createEditor(e),r.maskSettings=r.editorValue.maskSettings,r.editor.questionTitleTemplateCallback=function(){return""},r.editor.titleLocation="left",n&&(r.title=n),r}return t.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(t.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),t.prototype.getOriginalObj=function(){return this.editor},Object.defineProperty(t.prototype,"name",{get:function(){return this.editor.name},set:function(e){this.editor.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),t.prototype.createEditor=function(e){return new dp(e)},t.prototype.addUsedLocales=function(e){i.prototype.addUsedLocales.call(this,e),this.editor.addUsedLocales(e)},t.prototype.localeChanged=function(){i.prototype.localeChanged.call(this),this.editor.localeChanged()},t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},t.prototype.setData=function(e){this.data=e,e&&(this.editor.defaultValue=e.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=e,this.editor.setParentQuestion(e))},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(e){this.editor.isRequired=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(e){this.editor.inputType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.editor.title},set:function(e){this.editor.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(e){this.editor.maxLength=e},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){var e=this.getSurvey();return g.getMaxLength(this.maxLength,e?e.maxTextLength:-1)},Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.editor.placeholder},set:function(e){this.editor.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.editor.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(e){this.editor.requiredErrorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.editor.size},set:function(e){this.editor.size=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueExpression",{get:function(){return this.editor.defaultValueExpression},set:function(e){this.editor.defaultValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minValueExpression",{get:function(){return this.editor.minValueExpression},set:function(e){this.editor.minValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValueExpression",{get:function(){return this.editor.maxValueExpression},set:function(e){this.editor.maxValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"validators",{get:function(){return this.editor.validators},set:function(e){this.editor.validators=e},enumerable:!1,configurable:!0}),t.prototype.getValidators=function(){return this.validators},Object.defineProperty(t.prototype,"maskType",{get:function(){return this.editor.maskType},set:function(e){this.editor.maskType=e,this.maskSettings=this.editor.maskSettings},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskSettings",{get:function(){return this.getPropertyValue("maskSettings")},set:function(e){this.setPropertyValue("maskSettings",e),this.editor.maskSettings!==e&&(this.editor.maskSettings=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputTextAlignment",{get:function(){return this.editor.inputTextAlignment},set:function(e){this.editor.inputTextAlignment=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(e){this.data!=null&&this.data.setMultipleTextValue(this.name,e)},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.editor.isEmpty()},t.prototype.onValueChanged=function(e){this.valueChangedCallback&&this.valueChangedCallback(e)},t.prototype.getSurveyData=function(){return this},t.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},t.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},t.prototype.getValue=function(e){return this.data?this.data.getMultipleTextValue(e):null},t.prototype.setValue=function(e,n){this.data&&this.data.setMultipleTextValue(e,n)},t.prototype.getVariable=function(e){},t.prototype.setVariable=function(e,n){},t.prototype.getComment=function(e){return null},t.prototype.setComment=function(e,n){},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},t.prototype.getFilteredValues=function(){return this.getAllValues()},t.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},t.prototype.findQuestionByName=function(e){var n=this.getSurvey();return n?n.getQuestionByName(e):null},t.prototype.getEditingSurveyElement=function(){},t.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(t.prototype,"validatedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),t.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},t.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},t}($e),Ts=function(i){wi(t,i);function t(e){var n=i.call(this,e)||this;return n.isMultipleItemValueChanging=!1,n.createNewArray("items",function(r){r.setData(n),n.survey&&n.survey.multipleTextItemAdded(n,r)}),n.registerPropertyChangedHandlers(["items","colCount","itemErrorLocation"],function(){n.calcVisibleRows()}),n.registerPropertyChangedHandlers(["itemSize"],function(){n.updateItemsSize()}),n}return t.addDefaultItems=function(e){for(var n=lt.DefaultMutlipleTextItems,r=0;r<n.length;r++)e.addItem(n[r])},t.prototype.getType=function(){return"multipletext"},t.prototype.setSurveyImpl=function(e,n){i.prototype.setSurveyImpl.call(this,e,n);for(var r=0;r<this.items.length;r++)this.items[r].setData(this)},Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(e){var n;(n=this.items)===null||n===void 0||n.map(function(r,o){return r.editor.id=e+"_"+o}),this.setPropertyValue("id",e)},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),i.prototype.onSurveyLoad.call(this)},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),i.prototype.setQuestionValue.call(this,e,n),this.performForEveryEditor(function(r){r.editor.updateValueFromSurvey(r.value)}),this.updateIsAnswered()},t.prototype.onSurveyValueChanged=function(e){i.prototype.onSurveyValueChanged.call(this,e),this.performForEveryEditor(function(n){n.editor.onSurveyValueChanged(n.value)})},t.prototype.updateItemsSize=function(){this.performForEveryEditor(function(e){e.editor.updateInputSize()})},t.prototype.editorsOnSurveyLoad=function(){this.performForEveryEditor(function(e){e.editor.onSurveyLoad()})},t.prototype.performForEveryEditor=function(e){for(var n=0;n<this.items.length;n++){var r=this.items[n];r.editor&&e(r)}},Object.defineProperty(t.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(e){this.setPropertyValue("items",e)},enumerable:!1,configurable:!0}),t.prototype.addItem=function(e,n){n===void 0&&(n=null);var r=this.createTextItem(e,n);return this.items.push(r),r},t.prototype.getItemByName=function(e){for(var n=0;n<this.items.length;n++)if(this.items[n].name==e)return this.items[n];return null},t.prototype.getElementsInDesign=function(e){e===void 0&&(e=!1);var n;return n=i.prototype.getElementsInDesign.call(this,e),n.concat(this.items)},t.prototype.addConditionObjectsByContext=function(e,n){for(var r=0;r<this.items.length;r++){var o=this.items[r];e.push({name:this.getValueName()+"."+o.name,text:this.processedTitle+"."+o.fullTitle,question:this})}},t.prototype.collectNestedQuestionsCore=function(e,n){this.items.forEach(function(r){return r.editor.collectNestedQuestions(e,n)})},t.prototype.getConditionJson=function(e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),!n)return i.prototype.getConditionJson.call(this,e);var r=this.getItemByName(n);if(!r)return null;var o=new et().toJsonObject(r);return o.type="text",o},t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this);for(var e=0;e<this.items.length;e++)this.items[e].locStrsChanged()},t.prototype.localeChanged=function(){i.prototype.localeChanged.call(this);for(var e=0;e<this.items.length;e++)this.items[e].localeChanged()},Object.defineProperty(t.prototype,"itemErrorLocation",{get:function(){return this.getPropertyValue("itemErrorLocation")},set:function(e){this.setPropertyValue("itemErrorLocation",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionErrorLocation=function(){return this.itemErrorLocation!=="default"?this.itemErrorLocation:this.getErrorLocation()},Object.defineProperty(t.prototype,"showItemErrorOnTop",{get:function(){return this.getQuestionErrorLocation()=="top"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showItemErrorOnBottom",{get:function(){return this.getQuestionErrorLocation()=="bottom"},enumerable:!1,configurable:!0}),t.prototype.getChildErrorLocation=function(e){return this.getQuestionErrorLocation()},t.prototype.isNewValueCorrect=function(e){return g.isValueObject(e,!0)},t.prototype.supportGoNextPageAutomatic=function(){for(var e=0;e<this.items.length;e++)if(this.items[e].isEmpty())return!1;return!0},Object.defineProperty(t.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(e){e<1||e>5||this.setPropertyValue("colCount",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(e){this.setPropertyValue("itemSize",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemTitleWidth",{get:function(){return this.getPropertyValue("itemTitleWidth")||""},set:function(e){this.setPropertyValue("itemTitleWidth",e)},enumerable:!1,configurable:!0}),t.prototype.onRowCreated=function(e){return e},t.prototype.calcVisibleRows=function(){for(var e=this.colCount,n=this.items,r=0,o,c,p=[],y=0;y<n.length;y++)r==0&&(o=this.onRowCreated(new _l),c=this.onRowCreated(new pp),this.showItemErrorOnTop?(p.push(c),p.push(o)):(p.push(o),p.push(c))),o.cells.push(new Al(n[y],this)),c.cells.push(new fp(n[y],this)),r++,(r>=e||y==n.length-1)&&(r=0,c.onAfterCreated());this.rows=p},t.prototype.getRows=function(){return g.isValueEmpty(this.rows)&&this.calcVisibleRows(),this.rows},t.prototype.onValueChanged=function(){i.prototype.onValueChanged.call(this),this.onItemValueChanged()},t.prototype.createTextItem=function(e,n){return new El(e,n)},t.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var e=0;e<this.items.length;e++){var n=null;this.value&&this.items[e].name in this.value&&(n=this.value[this.items[e].name]),this.items[e].onValueChanged(n)}},t.prototype.runCondition=function(e,n){i.prototype.runCondition.call(this,e,n),this.items.forEach(function(r){return r.editor.runCondition(e,n)})},t.prototype.getIsRunningValidators=function(){if(i.prototype.getIsRunningValidators.call(this))return!0;for(var e=0;e<this.items.length;e++)if(this.items[e].editor.isRunningValidators)return!0;return!1},t.prototype.hasErrors=function(e,n){var r=this;e===void 0&&(e=!0),n===void 0&&(n=null);for(var o=!1,c=0;c<this.items.length;c++)this.items[c].editor.onCompletedAsyncValidators=function(p){r.raiseOnCompletedAsyncValidators()},!(n&&n.isOnValueChanged===!0&&this.items[c].editor.isEmpty())&&(o=this.items[c].editor.hasErrors(e,n)||o);return i.prototype.hasErrors.call(this,e)||o},t.prototype.getAllErrors=function(){for(var e=i.prototype.getAllErrors.call(this),n=0;n<this.items.length;n++){var r=this.items[n].editor.getAllErrors();r&&r.length>0&&(e=e.concat(r))}return e},t.prototype.clearErrors=function(){i.prototype.clearErrors.call(this);for(var e=0;e<this.items.length;e++)this.items[e].editor.clearErrors()},t.prototype.getContainsErrors=function(){var e=i.prototype.getContainsErrors.call(this);if(e)return e;for(var n=this.items,r=0;r<n.length;r++)if(n[r].editor.containsErrors)return!0;return!1},t.prototype.getIsAnswered=function(){if(!i.prototype.getIsAnswered.call(this))return!1;for(var e=0;e<this.items.length;e++){var n=this.items[e].editor;if(n.isVisible&&!n.isAnswered)return!1}return!0},t.prototype.getProgressInfo=function(){for(var e=[],n=0;n<this.items.length;n++)e.push(this.items[n].editor);return Qt.getProgressInfoByElements(e,this.isRequired)},t.prototype.getDisplayValueCore=function(e,n){if(!n)return n;for(var r={},o=0;o<this.items.length;o++){var c=this.items[o],p=n[c.name];if(!g.isValueEmpty(p)){var y=c.name;e&&c.title&&(y=c.title),r[y]=c.editor.getDisplayValue(e,p)}}return r},t.prototype.allowMobileInDesignMode=function(){return!0},t.prototype.getMultipleTextValue=function(e){return this.value?this.value[e]:null},t.prototype.setMultipleTextValue=function(e,n){this.isMultipleItemValueChanging=!0,this.isValueEmpty(n)&&(n=void 0);var r=this.value;r||(r={}),r[e]=n,this.setNewValue(r),this.isMultipleItemValueChanging=!1},t.prototype.getItemDefaultValue=function(e){return this.defaultValue?this.defaultValue[e]:null},t.prototype.getTextProcessor=function(){return this.textProcessor},t.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},t.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},t.prototype.addElement=function(e,n){},t.prototype.removeElement=function(e){return!1},t.prototype.getQuestionTitleLocation=function(){return"left"},t.prototype.getQuestionTitleWidth=function(){},t.prototype.getColumsForElement=function(e){return[]},t.prototype.updateColumns=function(){},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.elementWidthChanged=function(e){},Object.defineProperty(t.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return-1},t.prototype.ensureRowsVisibility=function(){},t.prototype.validateContainerOnly=function(){},t.prototype.onQuestionValueChanged=function(e){},t.prototype.getItemLabelCss=function(e){return new J().append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelDisabled,this.isDisabledStyle).append(this.cssClasses.itemLabelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.itemLabelPreview,this.isPreviewStyle).append(this.cssClasses.itemLabelAnswered,e.editor.isAnswered).append(this.cssClasses.itemLabelAllowFocus,!this.isDesignMode).append(this.cssClasses.itemLabelOnError,e.editor.errors.length>0).append(this.cssClasses.itemWithCharacterCounter,!!e.getMaxLength()).toString()},t.prototype.getItemCss=function(){return new J().append(this.cssClasses.item).toString()},t.prototype.getItemTitleCss=function(){return new J().append(this.cssClasses.itemTitle).toString()},Il([ee()],t.prototype,"rows",void 0),t}(zt),_l=function(i){wi(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.isVisible=!0,e.cells=[],e}return Il([V()],t.prototype,"isVisible",void 0),Il([ee()],t.prototype,"cells",void 0),t}($e),pp=function(i){wi(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.onAfterCreated=function(){var e=this,n=function(){e.isVisible=e.cells.some(function(r){var o,c;return((o=r.item)===null||o===void 0?void 0:o.editor)&&((c=r.item)===null||c===void 0?void 0:c.editor.hasVisibleErrors)})};this.cells.forEach(function(r){var o,c;!((o=r.item)===null||o===void 0)&&o.editor&&((c=r.item)===null||c===void 0||c.editor.registerFunctionOnPropertyValueChanged("hasVisibleErrors",n))}),n()},t}(_l),Al=function(){function i(t,e){this.item=t,this.question=e,this.isErrorsCell=!1}return i.prototype.getClassName=function(){return new J().append(this.question.cssClasses.cell).toString()},Object.defineProperty(i.prototype,"className",{get:function(){return this.getClassName()},enumerable:!1,configurable:!0}),i}(),fp=function(i){wi(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.isErrorsCell=!0,e}return t.prototype.getClassName=function(){return new J().append(i.prototype.getClassName.call(this)).append(this.question.cssClasses.cellError).append(this.question.cssClasses.cellErrorTop,this.question.showItemErrorOnTop).append(this.question.cssClasses.cellErrorBottom,this.question.showItemErrorOnBottom).toString()},t}(Al);H.addClass("multipletextitem",[{name:"!name",isUnique:!0},"isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:N.questions.inputTypes},{name:"maskType",default:"none",visibleIndex:0,dependsOn:"inputType",visibleIf:function(i){return i.inputType==="text"},choices:function(i){var t=ap();return t}},{name:"maskSettings:masksettings",className:"masksettings",visibleIndex:1,dependsOn:"inputType",visibleIf:function(i){return i.inputType==="text"},onGetValue:function(i){return i.maskSettings.getData()},onSetValue:function(i,t){i.maskSettings.setData(t)}},{name:"inputTextAlignment",default:"auto",choices:["left","right","auto"]},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"size:number",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"defaultValueExpression:expression",visible:!1},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(i){return zn(i)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(i){return zn(i)}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new El("")}),H.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem",isArray:!0},{name:"itemSize:number",minValue:0,visible:!1},{name:"colCount:number",default:1,choices:[1,2,3,4,5]},{name:"itemErrorLocation",default:"default",choices:["default","top","bottom"],visible:!1},{name:"itemTitleWidth",category:"layout"}],function(){return new Ts("")},"question"),lt.Instance.registerQuestion("multipletext",function(i){var t=new Ts(i);return Ts.addDefaultItems(t),t});var sb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),hp=function(i){sb(t,i);function t(e){e===void 0&&(e="");var n=i.call(this,e)||this;return n.createLocalizableString("content",n,!0),n.registerPropertyChangedHandlers(["content"],function(){n.onContentChanged()}),n}return t.prototype.getType=function(){return"flowpanel"},t.prototype.getChildrenLayoutType=function(){return"flow"},t.prototype.onSurveyLoad=function(){i.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(t.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(e){this.setLocalizableStringText("content",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(e){this.setPropertyValue("html",e)},enumerable:!1,configurable:!0}),t.prototype.onContentChanged=function(){var e="";this.onCustomHtmlProducing?e=this.onCustomHtmlProducing():e=this.produceHtml(),this.html=e,this.contentChangedCallback&&this.contentChangedCallback()},t.prototype.produceHtml=function(){for(var e=[],n=/{(.*?(element:)[^$].*?)}/g,r=this.content,o=0,c=null;(c=n.exec(r))!==null;){c.index>o&&(e.push(r.substring(o,c.index)),o=c.index);var p=this.getQuestionFromText(c[0]);p?e.push(this.getHtmlForQuestion(p)):e.push(r.substring(o,c.index+c[0].length)),o=c.index+c[0].length}return o<r.length&&e.push(r.substring(o,r.length)),e.join("").replace(new RegExp("<br>","g"),"<br/>")},t.prototype.getQuestionFromText=function(e){return e=e.substring(1,e.length-1),e=e.replace(t.contentElementNamePrefix,"").trim(),this.getQuestionByName(e)},t.prototype.getHtmlForQuestion=function(e){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(e):""},t.prototype.getQuestionHtmlId=function(e){return this.name+"_"+e.id},t.prototype.onAddElement=function(e,n){i.prototype.onAddElement.call(this,e,n),this.addElementToContent(e),e.renderWidth=""},t.prototype.onRemoveElement=function(e){var n=this.getElementContentText(e);this.content=this.content.replace(n,""),i.prototype.onRemoveElement.call(this,e)},t.prototype.dragDropMoveElement=function(e,n,r){},t.prototype.addElementToContent=function(e){if(!this.isLoadingFromJson){var n=this.getElementContentText(e);this.insertTextAtCursor(n)||(this.content=this.content+n)}},t.prototype.insertTextAtCursor=function(e,n){if(n===void 0&&(n=null),!this.isDesignMode||!f.isAvailable())return!1;var r=f.getSelection();if(r.getRangeAt&&r.rangeCount){var o=r.getRangeAt(0);o.deleteContents();var c=new Text(e);o.insertNode(c);var p=this;if(p.getContent){var y=p.getContent(n);this.content=y}return!0}return!1},t.prototype.getElementContentText=function(e){return"{"+t.contentElementNamePrefix+e.name+"}"},t.contentElementNamePrefix="element:",t}(ws);H.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new hp},"panel");var ab=function(){function i(){}return i.getIconCss=function(t,e){return new J().append(t.icon).append(t.iconExpanded,!e).toString()},i}(),lb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Os=function(i){lb(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getType=function(){return"nonvalue"},Object.defineProperty(t.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getTitleLocation=function(){return""},Object.defineProperty(t.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.hasErrors=function(e,n){return!1},t.prototype.getAllErrors=function(){return[]},t.prototype.supportGoNextPageAutomatic=function(){return!1},t.prototype.addConditionObjectsByContext=function(e,n){},t.prototype.getConditionJson=function(e,n){return null},Object.defineProperty(t.prototype,"ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),t}(zt);H.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new Os("")},"question");var ub=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gp=function(i){ub(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getType=function(){return"empty"},t}(zt);H.addClass("empty",[],function(){return new gp("")},"question");var cb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),po=function(i){cb(t,i);function t(e){var n=i.call(this,e)||this;return n.invisibleOldValues={},n.isChangingValueOnClearIncorrect=!1,n.selectAllItemValue=new ke(""),n.selectAllItemValue.id="selectall",n.selectAllItemText=n.createLocalizableString("selectAllText",n.selectAllItem,!0,"selectAllItemText"),n.selectAllItem.locOwner=n,n.selectAllItem.setLocText(n.selectAllItemText),n.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],function(){n.onVisibleChoicesChanged()}),n}return t.prototype.getDefaultItemComponent=function(){return"survey-checkbox-item"},t.prototype.getType=function(){return"checkbox"},t.prototype.onCreating=function(){i.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(t.prototype,"valuePropertyName",{get:function(){return this.getPropertyValue("valuePropertyName")},set:function(e){this.setPropertyValue("valuePropertyName",e)},enumerable:!1,configurable:!0}),t.prototype.getQuestionFromArray=function(e,n){if(e&&e===this.valuePropertyName){var r=this.value;if(Array.isArray(r)&&n<r.length)return this}return null},Object.defineProperty(t.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText")},set:function(e){this.setLocalizableStringText("selectAllText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showSelectAllItem",{get:function(){return this.getPropertyValue("showSelectAllItem")},set:function(e){this.setPropertyValue("showSelectAllItem",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSelectAll",{get:function(){return this.showSelectAllItem},set:function(e){this.showSelectAllItem=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllSelected",{get:function(){return this.allElementsSelected()},set:function(e){e?this.selectAll():this.clearValue(!0)},enumerable:!1,configurable:!0}),t.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},t.prototype.allElementsSelected=function(){for(var e=this.getNoneItems(),n=0;n<e.length;n++)if(this.isItemSelected(e[n]))return!1;var r=this.getVisibleEnableItems();if(r.length===0)return!1;var o=this.value;if(!o||!Array.isArray(o)||o.length===0||o.length<r.length)return!1;for(var c=[],n=0;n<o.length;n++)c.push(this.getRealValue(o[n]));for(var n=0;n<r.length;n++)if(c.indexOf(r[n].value)<0)return!1;return!0},t.prototype.selectAll=function(){for(var e=[],n=this.getVisibleEnableItems(),r=0;r<n.length;r++)e.push(n[r].value);this.renderedValue=e},t.prototype.clickItemHandler=function(e,n){if(!this.isReadOnlyAttr)if(e===this.selectAllItem)n===!0||n===!1?this.isAllSelected=n:this.toggleSelectAll();else if(this.isNoneItem(e))this.renderedValue=n?[e.value]:[];else{var r=[].concat(this.renderedValue||[]),o=r.indexOf(e.value);n?o<0&&r.push(e.value):o>-1&&r.splice(o,1),this.renderedValue=r}},t.prototype.isItemSelectedCore=function(e){if(e===this.selectAllItem)return this.isAllSelected;var n=this.renderedValue;if(!n||!Array.isArray(n))return!1;for(var r=0;r<n.length;r++)if(this.isTwoValueEquals(n[r],e.value))return!0;return!1},t.prototype.getRealValue=function(e){return e&&(this.valuePropertyName?e[this.valuePropertyName]:e)},Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices")},set:function(e){e<0&&(e=0),this.setPropertyValue("maxSelectedChoices",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minSelectedChoices",{get:function(){return this.getPropertyValue("minSelectedChoices")},set:function(e){e<0&&(e=0),this.setPropertyValue("minSelectedChoices",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedChoices",{get:function(){var e=this.renderedValue,n=this.visibleChoices,r=this.selectedItemValues;if(this.isEmpty())return[];var o=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,n):n,c=e.map(function(y){return ke.getItemByValue(o,y)}).filter(function(y){return!!y});!c.length&&!r&&this.updateSelectedItemValues();var p=this.validateItemValues(c);return p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this.selectedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFilteredValue",{get:function(){return!!this.valuePropertyName},enumerable:!1,configurable:!0}),t.prototype.getFilteredName=function(){var e=i.prototype.getFilteredName.call(this);return this.hasFilteredValue&&(e+="-unwrapped"),e},t.prototype.getFilteredValue=function(){return this.hasFilteredValue?this.renderedValue:i.prototype.getFilteredValue.call(this)},t.prototype.getMultipleSelectedItems=function(){return this.selectedChoices},t.prototype.validateItemValues=function(e){var n=this;if(e.length)return e;var r=this.selectedItemValues;if(r&&r.length)return this.defaultSelectedItemValues=[].concat(r),r;var o=this.renderedValue;return o.map(function(c){return n.createItemValue(c)})},t.prototype.getAnswerCorrectIgnoreOrder=function(){return!0},t.prototype.onCheckForErrors=function(e,n,r){if(i.prototype.onCheckForErrors.call(this,e,n,r),!n&&this.minSelectedChoices>0&&this.checkMinSelectedChoicesUnreached()){var o=new wn(this.getLocalizationFormatString("minSelectError",this.minSelectedChoices),this);e.push(o)}},t.prototype.onVisibleChoicesChanged=function(){i.prototype.onVisibleChoicesChanged.call(this),this.updateSelectAllItemProps()},t.prototype.onEnableItemCallBack=function(e){return this.shouldCheckMaxSelectedChoices()?this.isItemSelected(e):!0},t.prototype.onAfterRunItemsEnableCondition=function(){if(this.updateSelectAllItemProps(),this.maxSelectedChoices<1){this.otherItem.setIsEnabled(!0);return}this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected)},t.prototype.updateSelectAllItemProps=function(){this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.getSelectAllEnabled())},t.prototype.getSelectAllEnabled=function(){if(!this.hasSelectAll)return!0;this.activeChoices;var e=this.getVisibleEnableItems().length,n=this.maxSelectedChoices;return n>0&&n<e?!1:e>0},t.prototype.getVisibleEnableItems=function(){for(var e=new Array,n=this.activeChoices,r=0;r<n.length;r++){var o=n[r];o.isEnabled&&o.isVisible&&e.push(o)}return e},t.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var e=this.value,n=Array.isArray(e)?e.length:0;return n>=this.maxSelectedChoices},t.prototype.checkMinSelectedChoicesUnreached=function(){if(this.minSelectedChoices<1)return!1;var e=this.value,n=Array.isArray(e)?e.length:0;return n<this.minSelectedChoices},t.prototype.getItemClassCore=function(e,n){return this.value,n.isSelectAllItem=e===this.selectAllItem,new J().append(i.prototype.getItemClassCore.call(this,e,n)).append(this.cssClasses.itemSelectAll,n.isSelectAllItem).toString()},t.prototype.updateValueFromSurvey=function(e,n){i.prototype.updateValueFromSurvey.call(this,e,n),this.invisibleOldValues={}},t.prototype.setDefaultValue=function(){i.prototype.setDefaultValue.call(this);var e=this.defaultValue;if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=this.getRealValue(e[n]);this.canClearValueAnUnknown(r)&&this.addIntoInvisibleOldValues(r)}},t.prototype.addIntoInvisibleOldValues=function(e){this.invisibleOldValues[e]=e},t.prototype.hasValueToClearIncorrectValues=function(){return i.prototype.hasValueToClearIncorrectValues.call(this)||!g.isValueEmpty(this.invisibleOldValues)},t.prototype.setNewValue=function(e){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),e=this.valueFromData(e);var n=this.value;e||(e=[]),n||(n=[]),!this.isTwoValueEquals(n,e)&&(this.removeNoneItemsValues(n,e),i.prototype.setNewValue.call(this,e))},t.prototype.getIsMultipleValue=function(){return!0},t.prototype.getCommentFromValue=function(e){var n=this.getFirstUnknownIndex(e);return n<0?"":e[n]},t.prototype.setOtherValueIntoValue=function(e){var n=this.getFirstUnknownIndex(e);return n<0||e.splice(n,1,this.otherItem.value),e},t.prototype.getFirstUnknownIndex=function(e){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(this.hasUnknownValueItem(e[n],!1,!1))return n;return-1},t.prototype.removeNoneItemsValues=function(e,n){var r=[];if(this.showNoneItem&&r.push(this.noneItem.value),this.showRefuseItem&&r.push(this.refuseItem.value),this.showDontKnowItem&&r.push(this.dontKnowItem.value),r.length>0){var o=this.noneIndexInArray(e,r),c=this.noneIndexInArray(n,r);if(o.index>-1)if(o.val===c.val)n.length>0&&n.splice(c.index,1);else{var p=this.noneIndexInArray(n,[o.val]);p.index>-1&&p.index<n.length-1&&n.splice(p.index,1)}else if(c.index>-1&&n.length>1){var y=this.convertValueToObject([c.val])[0];n.splice(0,n.length,y)}}},t.prototype.noneIndexInArray=function(e,n){if(!Array.isArray(e))return{index:-1,val:void 0};for(var r=e.length-1;r>=0;r--){var o=n.indexOf(this.getRealValue(e[r]));if(o>-1)return{index:r,val:n[o]}}return{index:-1,val:void 0}},t.prototype.canUseFilteredChoices=function(){return!this.hasSelectAll&&i.prototype.canUseFilteredChoices.call(this)},t.prototype.supportSelectAll=function(){return this.isSupportProperty("showSelectAllItem")},t.prototype.addNonChoicesItems=function(e,n){i.prototype.addNonChoicesItems.call(this,e,n),this.supportSelectAll()&&this.addNonChoiceItem(e,this.selectAllItem,n,this.hasSelectAll,N.specialChoicesOrder.selectAllItem)},t.prototype.isBuiltInChoice=function(e){return e===this.selectAllItem||i.prototype.isBuiltInChoice.call(this,e)},t.prototype.isItemInList=function(e){return e==this.selectAllItem?this.hasSelectAll:i.prototype.isItemInList.call(this,e)},t.prototype.getDisplayValueEmpty=function(){var e=this;return ke.getTextOrHtmlByValue(this.visibleChoices.filter(function(n){return n!=e.selectAllItemValue}),void 0)},t.prototype.getDisplayValueCore=function(e,n){if(!Array.isArray(n))return i.prototype.getDisplayValueCore.call(this,e,n);var r=this.valuePropertyName,o=function(c){var p=n[c];return r&&p[r]&&(p=p[r]),p};return this.getDisplayArrayValue(e,n,o)},t.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},t.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},t.prototype.clearIncorrectAndDisabledValues=function(e){var n=this.value,r=!1,o=this.restoreValuesFromInvisible();if(!(!n&&o.length==0)){if(!Array.isArray(n)||n.length==0){if(this.isChangingValueOnClearIncorrect=!0,e||(this.hasComment?this.value=null:this.clearValue(!0)),this.isChangingValueOnClearIncorrect=!1,o.length==0)return;n=[]}for(var c=[],p=0;p<n.length;p++){var y=this.getRealValue(n[p]),b=this.canClearValueAnUnknown(y);!e&&!b||e&&!this.isValueDisabled(y)?c.push(n[p]):(r=!0,b&&this.addIntoInvisibleOldValues(n[p]))}for(var p=0;p<o.length;p++)c.push(o[p]),r=!0;r&&(this.isChangingValueOnClearIncorrect=!0,c.length==0?this.clearValue(!0):this.value=c,this.isChangingValueOnClearIncorrect=!1)}},t.prototype.restoreValuesFromInvisible=function(){for(var e=[],n=this.visibleChoices,r=0;r<n.length;r++){var o=n[r];if(o!==this.selectAllItem){var c=n[r].value;g.isTwoValueEquals(c,this.invisibleOldValues[c])&&(this.isItemSelected(o)||e.push(c),delete this.invisibleOldValues[c])}}return e},t.prototype.getConditionJson=function(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.prototype.getConditionJson.call(this,e,n);return(e=="contains"||e=="notcontains")&&(r.type="radiogroup"),r.maxSelectedChoices=0,r.minSelectedChoices=0,r},t.prototype.isAnswerCorrect=function(){return g.isArrayContainsEqual(this.value,this.correctAnswer)},t.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},t.prototype.getIsItemValue=function(e,n){return!e||!Array.isArray(e)?!1:e.indexOf(n.value)>=0},t.prototype.valueFromData=function(e){if(!e)return e;if(!Array.isArray(e))return[i.prototype.valueFromData.call(this,e)];for(var n=[],r=0;r<e.length;r++){var o=ke.getItemByValue(this.activeChoices,e[r]);o?n.push(o.value):n.push(e[r])}return n},t.prototype.rendredValueFromData=function(e){return e=this.convertValueFromObject(e),i.prototype.rendredValueFromData.call(this,e)},t.prototype.rendredValueToData=function(e){return e=i.prototype.rendredValueToData.call(this,e),this.convertValueToObject(e)},t.prototype.convertValueFromObject=function(e){return this.valuePropertyName?g.convertArrayObjectToValue(e,this.valuePropertyName):e},t.prototype.convertValueToObject=function(e){if(!this.valuePropertyName)return e;var n=void 0;return this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1&&(n=this.data.getValue(this.getValueName())),g.convertArrayValueToObject(e,this.valuePropertyName,n)},t.prototype.renderedValueFromDataCore=function(e){if((!e||!Array.isArray(e))&&(e=[]),!this.hasActiveChoices)return e;for(var n=0;n<e.length;n++){if(e[n]==this.otherItem.value)return e;if(this.hasUnknownValueItem(e[n],!0,!1)){this.otherValue=e[n];var r=e.slice();return r[n]=this.otherItem.value,r}}return e},t.prototype.rendredValueToDataCore=function(e){if(!e||!e.length)return e;for(var n=0;n<e.length;n++)if(e[n]==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()){var r=e.slice();return r[n]=this.otherValue,r}return e},t.prototype.selectOtherValueFromComment=function(e){var n=[],r=this.renderedValue;if(Array.isArray(r))for(var o=0;o<r.length;o++)r[o]!==this.otherItem.value&&n.push(r[o]);e&&n.push(this.otherItem.value),this.value=n},Object.defineProperty(t.prototype,"checkBoxSvgPath",{get:function(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return"group"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),t}(uo);H.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0,onSettingValue:function(i,t){if(t<=0)return 0;var e=i.minSelectedChoices;return e>0&&t<e?e:t}},{name:"minSelectedChoices:number",default:0,onSettingValue:function(i,t){if(t<=0)return 0;var e=i.maxSelectedChoices;return e>0&&t>e?e:t}},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(i){return i.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new po("")},"checkboxbase"),lt.Instance.registerQuestion("checkbox",function(i){var t=new po(i);return t.choices=lt.DefaultChoices,t});var db=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),pb=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},yp=function(i){db(t,i);function t(e){var n=i.call(this,e)||this;return n.onItemClick=function(r){n.isItemDisabled(r)||(n.isExpanded=!1,n.isItemSelected(r)?(n.selectedItems.splice(n.selectedItems.indexOf(r),1)[0],n.onSelectionChanged&&n.onSelectionChanged(r,"removed")):(n.selectedItems.push(r),n.onSelectionChanged&&n.onSelectionChanged(r,"added")))},n.isItemDisabled=function(r){return r.enabled!==void 0&&!r.enabled},n.isItemSelected=function(r){return!!n.allowSelection&&n.selectedItems.filter(function(o){return n.areSameItems(o,r)}).length>0},n.setSelectedItems(e.selectedItems||[]),n}return t.prototype.updateItemState=function(){var e=this;this.actions.forEach(function(n){var r=e.isItemSelected(n);n.visible=e.hideSelectedItems?!r:!0})},t.prototype.updateState=function(){var e=this;this.updateItemState(),this.isEmpty=this.renderedActions.filter(function(n){return e.isItemVisible(n)}).length===0},t.prototype.setSelectedItems=function(e){this.selectedItems=e,this.updateState()},t.prototype.selectFocusedItem=function(){i.prototype.selectFocusedItem.call(this),this.hideSelectedItems&&this.focusNextVisibleItem()},pb([V()],t.prototype,"hideSelectedItems",void 0),t}(Yi),fb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},mp=function(i){fb(t,i);function t(e,n){var r=i.call(this,e,n)||this;return r.popupCssClasses="sv-multi-select-list",r.setHideSelectedItems(e.hideSelectedItems),r.syncFilterStringPlaceholder(),r.closeOnSelect=e.closeOnSelect,r}return t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this),this.syncFilterStringPlaceholder()},t.prototype.updateListState=function(){this.listModel.updateState(),this.syncFilterStringPlaceholder()},t.prototype.syncFilterStringPlaceholder=function(){var e=this.getSelectedActions();e.length||this.question.selectedItems.length||this.listModel.focusedItem?this.filterStringPlaceholder=void 0:this.filterStringPlaceholder=this.question.placeholder},t.prototype.getSelectedActions=function(){return this.listModel.actions.filter(function(e){return e.selected})},t.prototype.getFocusFirstInputSelector=function(){return this.listModel.hideSelectedItems&&It&&!this.isValueEmpty(this.question.value)?this.itemSelector:i.prototype.getFocusFirstInputSelector.call(this)},t.prototype.createListModel=function(){var e=this,n=this.getAvailableItems(),r=this.onSelectionChanged;r||(r=function(p,y){e.resetFilterString(),p.id==="selectall"?e.selectAllItems():y==="added"&&p.value===N.noneItemValue?e.selectNoneItem():y==="added"?e.selectItem(p.value):y==="removed"&&e.deselectItem(p.value),e.popupRecalculatePosition(!1),e.closeOnSelect&&(e.popupModel.isVisible=!1)});var o={items:n,onSelectionChanged:r,allowSelection:!1,locOwner:this.question,elementId:this.listElementId},c=new yp(o);return c.actions.forEach(function(p){return p.disableTabStop=!0}),this.setOnTextSearchCallbackForListModel(c),c.forceShowFilter=!0,c},t.prototype.resetFilterString=function(){i.prototype.resetFilterString.call(this),this.inputString=null,this.hintString=""},Object.defineProperty(t.prototype,"shouldResetAfterCancel",{get:function(){return It&&!this.closeOnSelect},enumerable:!1,configurable:!0}),t.prototype.createPopup=function(){var e=this;i.prototype.createPopup.call(this),this.popupModel.onFooterActionsCreated.add(function(n,r){e.shouldResetAfterCancel&&r.actions.push({id:"sv-dropdown-done-button",title:e.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:function(){e.popupModel.isVisible=!1},enabled:new At(function(){return!e.isTwoValueEquals(e.question.renderedValue,e.previousValue)})})}),this.popupModel.onVisibilityChanged.add(function(n,r){e.shouldResetAfterCancel&&r.isVisible&&(e.previousValue=[].concat(e.question.renderedValue||[]))}),this.popupModel.onCancel=function(){e.shouldResetAfterCancel&&(e.question.renderedValue=e.previousValue,e.updateListState())}},t.prototype.selectAllItems=function(){this.question.toggleSelectAll(),this.question.isAllSelected&&this.question.hideSelectedItems&&this.popupModel.hide(),this.updateListState()},t.prototype.selectNoneItem=function(){this.question.renderedValue=[N.noneItemValue],this.updateListState()},t.prototype.selectItem=function(e){var n=[].concat(this.question.renderedValue||[]);n.push(e),this.question.renderedValue=n,this.updateListState()},t.prototype.deselectItem=function(e){var n=[].concat(this.question.renderedValue||[]);n.splice(n.indexOf(e),1),this.question.renderedValue=n,this.applyHintString(this.listModel.focusedItem),this.updateListState()},t.prototype.clear=function(){i.prototype.clear.call(this),this.syncFilterStringPlaceholder()},t.prototype.onClear=function(e){i.prototype.onClear.call(this,e),this.updateListState()},t.prototype.setHideSelectedItems=function(e){this.listModel.hideSelectedItems=e,this.updateListState()},t.prototype.removeLastSelectedItem=function(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)},t.prototype.inputKeyHandler=function(e){e.keyCode===8&&!this.filterString&&(this.removeLastSelectedItem(),e.preventDefault(),e.stopPropagation())},t.prototype.setInputStringFromSelectedItem=function(e){this.question.searchEnabled&&(this.inputString=null)},t.prototype.focusItemOnClickAndPopup=function(){},t.prototype.onEscape=function(){},t.prototype.beforeScrollToFocusedItem=function(e){},t.prototype.afterScrollToFocusedItem=function(){var e;!((e=this.listModel.focusedItem)===null||e===void 0)&&e.selected?this.hintString="":this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.syncFilterStringPlaceholder()},t.prototype.onPropertyChangedHandler=function(e,n){i.prototype.onPropertyChangedHandler.call(this,e,n),(n.name==="value"||n.name==="renderedValue"||n.name==="placeholder")&&this.syncFilterStringPlaceholder()},Rs([V({defaultValue:""})],t.prototype,"filterStringPlaceholder",void 0),Rs([V({defaultValue:!0})],t.prototype,"closeOnSelect",void 0),Rs([V()],t.prototype,"previousValue",void 0),Rs([V({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],t.prototype,"doneButtonCaption",void 0),t}(xs),hb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yr=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Dl=function(i){hb(t,i);function t(e){var n=i.call(this,e)||this;return n.itemDisplayNameMap={},n.onOpened=n.addEvent(),n.createLocalizableString("placeholder",n,!1,!0),n.createLocalizableString("clearCaption",n,!1,!0),n.createLocalizableString("readOnlyText",n,!0),n.deselectAllItemText=n.createLocalizableString("deselectAllText",n.selectAllItem,!0,"deselectAllItemText"),n.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){n.updateReadOnlyText()}),n.updateReadOnlyText(),n}return t.prototype.locStrsChanged=function(){var e;i.prototype.locStrsChanged.call(this),this.updateReadOnlyText(),(e=this.dropdownListModel)===null||e===void 0||e.locStrsChanged()},t.prototype.updateReadOnlyText=function(){this.readOnlyText=this.displayValue||this.placeholder},t.prototype.getDefaultItemComponent=function(){return""},t.prototype.onSurveyLoad=function(){i.prototype.onSurveyLoad.call(this),this.createDropdownListModel()},t.prototype.onSetData=function(){i.prototype.onSetData.call(this),this.createDropdownListModel()},t.prototype.createDropdownListModel=function(){!this.dropdownListModel&&!this.isLoadingFromJson&&(this.dropdownListModel=new mp(this))},Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnlyText",{get:function(){return this.getLocalizableStringText("readOnlyText")},set:function(e){this.setLocalizableStringText("readOnlyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locReadOnlyText",{get:function(){return this.getLocalizableString("readOnlyText")},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"tagbox"},Object.defineProperty(t.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"popupModel",{get:function(){var e;return(e=this.dropdownListModel)===null||e===void 0?void 0:e.popupModel},enumerable:!1,configurable:!0}),t.prototype.getControlClass=function(){return new J().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlEditable,!this.isDisabledStyle&&!this.isReadOnlyStyle&&!this.isPreviewStyle).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()},t.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},t.prototype.hasUnknownValue=function(e,n,r,o){return this.choicesLazyLoadEnabled?!1:i.prototype.hasUnknownValue.call(this,e,n,r,o)},t.prototype.needConvertRenderedOtherToDataValue=function(){var e,n=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return n?i.prototype.hasUnknownValue.call(this,n,!0,!1):!1},t.prototype.onVisibleChoicesChanged=function(){i.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},t.prototype.getItemIfChoicesNotContainThisValue=function(e,n){return this.choicesLazyLoadEnabled?this.createItemValue(e,n):i.prototype.getItemIfChoicesNotContainThisValue.call(this,e,n)},t.prototype.validateItemValues=function(e){var n=this;this.updateItemDisplayNameMap();var r=this.renderedValue;if(e.length&&e.length===r.length)return e;var o=this.selectedItemValues;if(!e.length&&o&&o.length)return this.defaultSelectedItemValues=[].concat(o),o;var c=e.map(function(p){return p.value});return r.filter(function(p){return c.indexOf(p)===-1}).forEach(function(p){var y=n.getItemIfChoicesNotContainThisValue(p,n.itemDisplayNameMap[p]);y&&e.push(y)}),e.sort(function(p,y){return r.indexOf(p.value)-r.indexOf(y.value)}),e},t.prototype.updateItemDisplayNameMap=function(){var e=this,n=function(r){e.itemDisplayNameMap[r.value]=r.text};(this.defaultSelectedItemValues||[]).forEach(n),(this.selectedItemValues||[]).forEach(n),this.visibleChoices.forEach(n)},t.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},t.prototype.getInputId=function(){return this.inputId+"_0"},t.prototype.supportEmptyValidation=function(){return!0},t.prototype.onBlurCore=function(e){var n;(n=this.dropdownListModel)===null||n===void 0||n.onBlur(e),i.prototype.onBlurCore.call(this,e)},t.prototype.onFocusCore=function(e){var n;(n=this.dropdownListModel)===null||n===void 0||n.onFocus(e),i.prototype.onFocusCore.call(this,e)},t.prototype.allElementsSelected=function(){var e=i.prototype.allElementsSelected.call(this);return this.updateSelectAllItemText(e),e},t.prototype.updateSelectAllItemText=function(e){this.selectAllItem.setLocText(e?this.deselectAllItemText:this.selectAllItemText)},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.dropdownListModel&&this.dropdownListModel.dispose()},t.prototype.clearValue=function(e){var n;i.prototype.clearValue.call(this,e),(n=this.dropdownListModel)===null||n===void 0||n.clear()},Object.defineProperty(t.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||N.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),yr([V()],t.prototype,"searchMode",void 0),yr([V()],t.prototype,"allowClear",void 0),yr([V({onSet:function(e,n){n.dropdownListModel&&n.dropdownListModel.setSearchEnabled(e)}})],t.prototype,"searchEnabled",void 0),yr([V({onSet:function(e,n){n.dropdownListModel&&n.dropdownListModel.setHideSelectedItems(e)}})],t.prototype,"hideSelectedItems",void 0),yr([V({onSet:function(e,n){n.dropdownListModel&&n.dropdownListModel.setChoicesLazyLoadEnabled(e)}})],t.prototype,"choicesLazyLoadEnabled",void 0),yr([V()],t.prototype,"choicesLazyLoadPageSize",void 0),yr([V({getDefaultValue:function(){return N.tagboxCloseOnSelect}})],t.prototype,"closeOnSelect",void 0),yr([V()],t.prototype,"textWrapEnabled",void 0),t}(po);H.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"textWrapEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""},{name:"searchMode",default:"contains",choices:["contains","startsWith"]}],function(){return new Dl("")},"checkbox"),lt.Instance.registerQuestion("tagbox",function(i){var t=new Dl(i);return t.choices=lt.DefaultChoices,t});var gb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vp=function(i){gb(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.doDragOver=function(){if(e.parentElement.getType()!=="imagepicker"){var n=e.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");n.style.cursor="grabbing"}},e.doBanDropHere=function(){if(e.parentElement.getType()!=="imagepicker"){var n=e.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");n.style.cursor="not-allowed"}},e}return Object.defineProperty(t.prototype,"draggedElementType",{get:function(){return"item-value"},enumerable:!1,configurable:!0}),t.prototype.createDraggedElementShortcut=function(e,n,r){if(this.parentElement.getType()==="imagepicker")return this.createImagePickerShortcut(this.draggedElement,e,n,r);var o=h.createElement("div");if(o){o.className="sv-drag-drop-choices-shortcut";var c=!0,p=n.closest("[data-sv-drop-target-item-value]").cloneNode(c);p.classList.add("sv-drag-drop-choices-shortcut__content");var y=p.querySelector(".svc-item-value-controls__drag-icon");y.style.visibility="visible";var b=p.querySelector(".svc-item-value-controls__remove");b.style.backgroundColor="transparent",p.classList.remove("svc-item-value--moveup"),p.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,o.appendChild(p);var E=n.getBoundingClientRect();return o.shortcutXOffset=r.clientX-E.x,o.shortcutYOffset=r.clientY-E.y,this.isBottom=null,typeof this.onShortcutCreated=="function"&&this.onShortcutCreated(o),o}},t.prototype.createImagePickerShortcut=function(e,n,r,o){var c=h.createElement("div");if(c){c.style.cssText=` 
      cursor: grabbing;
      position: absolute;
      z-index: 10000;
      box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));
      background-color: var(--sjs-general-backcolor, var(--background, #fff));
      padding: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));
      border-radius: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));
    `;var p=r.closest("[data-sv-drop-target-item-value]");this.imagepickerControlsNode=p.querySelector(".svc-image-item-value-controls");var y=p.querySelector(".sd-imagepicker__image-container"),b=p.querySelector(e.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="none"),y.style.width=b.width+"px",y.style.height=b.height+"px",b.style.objectFit="cover",b.style.borderRadius="4px",c.appendChild(b),c}},t.prototype.getDropTargetByDataAttributeValue=function(e){var n;return n=this.parentElement.choices.filter(function(r){return""+r.value==e})[0],n},t.prototype.getVisibleChoices=function(){var e=this.parentElement;return e.getType()==="ranking"?e.selectToRankEnabled?e.visibleChoices:e.rankingChoices:e.visibleChoices},t.prototype.isDropTargetValid=function(e,n){var r=this.getVisibleChoices();if(this.parentElement.getType()!=="imagepicker"){var o=r.indexOf(this.dropTarget),c=r.indexOf(this.draggedElement);if(c>o&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(c<o&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return r.indexOf(e)!==-1},t.prototype.isDropTargetDoesntChanged=function(e){return this.dropTarget===this.prevDropTarget&&e===this.isBottom},t.prototype.calculateIsBottom=function(e,n){var r=n.getBoundingClientRect();return e>=r.y+r.height/2},t.prototype.afterDragOver=function(e){var n=this.getVisibleChoices(),r=n.indexOf(this.dropTarget),o=n.indexOf(this.draggedElement);if(o<r&&this.isBottom===!0)n.splice(o,1),n.splice(r,0,this.draggedElement);else if(o>r&&this.isBottom===!1)n.splice(r,1),n.splice(o,0,this.dropTarget);else return;this.parentElement.getType()!=="imagepicker"&&(o!==r&&(e.classList.remove("svc-item-value--moveup"),e.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),o>r&&(this.dropTarget.isDragDropMoveDown=!0),o<r&&(this.dropTarget.isDragDropMoveUp=!0),i.prototype.ghostPositionChanged.call(this))},t.prototype.doDrop=function(){var e=this.parentElement.choices,n=this.getVisibleChoices().filter(function(c){return e.indexOf(c)!==-1}),r=e.indexOf(this.draggedElement),o=n.indexOf(this.draggedElement);return e.splice(r,1),e.splice(o,0,this.draggedElement),this.parentElement},t.prototype.clear=function(){this.parentElement&&this.updateVisibleChoices(this.parentElement),this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="flex",this.imagepickerControlsNode=null),i.prototype.clear.call(this)},t.prototype.updateVisibleChoices=function(e){e.getType()==="ranking"?e.updateRankingChoices():e.updateVisibleChoices()},t}(pl),yb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),bp=function(i){yb(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.isDragOverRootNode=!1,e.doDragOver=function(){var n=e.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");n.style.cursor="grabbing"},e.reorderRankedItem=function(n,r,o){if(r!=o){var c=n.rankingChoices,p=c[r];n.isValueSetByUser=!0,c.splice(r,1),c.splice(o,0,p),e.updateDraggedElementShortcut(o+1)}},e.doBanDropHere=function(){if(e.isDragOverRootNode){e.allowDropHere=!0;return}var n=e.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");n.style.cursor="not-allowed"},e}return Object.defineProperty(t.prototype,"draggedElementType",{get:function(){return"ranking-item"},enumerable:!1,configurable:!0}),t.prototype.createDraggedElementShortcut=function(e,n,r){var o=h.createElement("div");if(o){o.className=this.shortcutClass+" sv-ranking-shortcut";var c=!0,p=n.cloneNode(c);o.appendChild(p);var y=n.getBoundingClientRect();o.style.left=y.x,o.style.top=y.y,this.domAdapter.rootElement.append(o);var b=o.offsetHeight,E=r.clientY;return E>y.y+b&&(E=y.y+b-10),o.shortcutXOffset=r.clientX-y.x,o.shortcutYOffset=E-y.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(o.style.width=n.offsetWidth+"px",o.style.height=n.offsetHeight+"px"),o}},Object.defineProperty(t.prototype,"shortcutClass",{get:function(){return new J().append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,ys).toString()},enumerable:!1,configurable:!0}),t.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.rankingChoices[e]},t.prototype.findDropTargetNodeByDragOverNode=function(e){return this.isDragOverRootNode=this.getIsDragOverRootNode(e),i.prototype.findDropTargetNodeByDragOverNode.call(this,e)},t.prototype.getIsDragOverRootNode=function(e){return typeof e.className=="string"&&e.className.indexOf("sv-ranking")!==-1},t.prototype.isDropTargetValid=function(e,n){var r=this.parentElement.rankingChoices;return r.indexOf(e)!==-1},t.prototype.calculateIsBottom=function(e,n){return this.dropTarget instanceof ke&&this.draggedElement!==this.dropTarget?i.prototype.calculateIsBottom.call(this,e,n):!1},t.prototype.getIndices=function(e,n,r){var o=n.indexOf(this.draggedElement),c=r.indexOf(this.dropTarget);if(o<0&&this.draggedElement&&(this.draggedElement=ke.getItemByValue(n,this.draggedElement.value)||this.draggedElement,o=n.indexOf(this.draggedElement)),c===-1){var p=e.value.length;c=p}else n==r?(!this.isBottom&&o<c&&c--,this.isBottom&&o>c&&c++):n!=r&&this.isBottom&&c++;return{fromIndex:o,toIndex:c}},t.prototype.afterDragOver=function(e){var n=this.getIndices(this.parentElement,this.parentElement.rankingChoices,this.parentElement.rankingChoices),r=n.fromIndex,o=n.toIndex;this.reorderRankedItem(this.parentElement,r,o)},t.prototype.updateDraggedElementShortcut=function(e){var n;if(!((n=this.domAdapter)===null||n===void 0)&&n.draggedElementShortcut){var r=e!==null?e+"":"",o=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item__index");o.innerText=r}},t.prototype.ghostPositionChanged=function(){this.parentElement.currentDropTarget=this.draggedElement,i.prototype.ghostPositionChanged.call(this)},t.prototype.doDrop=function(){return this.parentElement.setValue(),this.parentElement},t.prototype.clear=function(){this.parentElement&&(this.parentElement.dropTargetNodeMove=null,this.parentElement.updateRankingChoices(!0)),i.prototype.clear.call(this)},t}(vp),mb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cp=function(i){mb(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.selectToRank=function(n,r,o){var c=[].concat(n.rankingChoices),p=n.unRankingChoices,y=p[r];c.splice(o,0,y),e.updateChoices(n,c)},e.unselectFromRank=function(n,r,o){var c=[].concat(n.rankingChoices);c.splice(r,1),e.updateChoices(n,c)},e}return t.prototype.findDropTargetNodeByDragOverNode=function(e){if(e.dataset.ranking==="from-container"||e.dataset.ranking==="to-container")return e;var n=e.closest("[data-ranking='to-container']"),r=e.closest("[data-ranking='from-container']");return this.parentElement.unRankingChoices.length===0&&r?r:this.parentElement.rankingChoices.length===0&&n?n:i.prototype.findDropTargetNodeByDragOverNode.call(this,e)},t.prototype.getDropTargetByDataAttributeValue=function(e){return this.parentElement.rankingChoices[e]||this.parentElement.unRankingChoices[e]},t.prototype.getDropTargetByNode=function(e,n){return e.dataset.ranking==="to-container"?"to-container":e.dataset.ranking==="from-container"||e.closest("[data-ranking='from-container']")?"from-container":i.prototype.getDropTargetByNode.call(this,e,n)},t.prototype.isDropTargetValid=function(e,n){return e==="to-container"||e==="from-container"?!0:i.prototype.isDropTargetValid.call(this,e,n)},t.prototype.afterDragOver=function(e){var n=this.parentElement,r=n.rankingChoices,o=n.unRankingChoices;if(this.isDraggedElementUnranked&&this.isDropTargetRanked){this.doRankBetween(e,o,r,this.selectToRank);return}if(this.isDraggedElementRanked&&this.isDropTargetRanked){this.doRankBetween(e,r,r,this.reorderRankedItem);return}if(this.isDraggedElementRanked&&!this.isDropTargetRanked){this.doRankBetween(e,r,o,this.unselectFromRank);return}},t.prototype.doRankBetween=function(e,n,r,o){var c=this.parentElement,p=this.getIndices(c,n,r),y=p.fromIndex,b=p.toIndex;o(c,y,b,e)},Object.defineProperty(t.prototype,"isDraggedElementRanked",{get:function(){return this.parentElement.rankingChoices.indexOf(this.draggedElement)!==-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDropTargetRanked",{get:function(){return this.dropTarget==="to-container"?!0:this.parentElement.rankingChoices.indexOf(this.dropTarget)!==-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDraggedElementUnranked",{get:function(){return!this.isDraggedElementRanked},enumerable:!1,configurable:!0}),t.prototype.updateChoices=function(e,n){e.isValueSetByUser=!0,e.rankingChoices=n,e.updateUnRankingChoices(n)},t}(bp),vb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mr=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ll=function(i){vb(t,i);function t(e){var n=i.call(this,e)||this;return n.domNode=null,n.onVisibleChoicesChanged=function(){if(i.prototype.onVisibleChoicesChanged.call(n),n.carryForwardStartUnranked&&!n.isValueSetByUser&&!n.selectToRankEnabled&&!n.defaultValue&&(n.value=[]),n.visibleChoices.length===1&&!n.selectToRankEnabled){n.value=[],n.value.push(n.visibleChoices[0].value),n.updateRankingChoices();return}if(n.isEmpty()){n.updateRankingChoices();return}if(n.selectToRankEnabled){n.updateRankingChoices();return}n.visibleChoices.length>n.value.length&&n.addToValueByVisibleChoices(),n.visibleChoices.length<n.value.length&&n.removeFromValueByVisibleChoices(),n.updateRankingChoices()},n.localeChanged=function(){i.prototype.localeChanged.call(n),n.updateRankingChoicesSync()},n._rankingChoicesAnimation=new cr(n.getChoicesAnimationOptions(!0),function(r){n._renderedRankingChoices=r},function(){return n.renderedRankingChoices}),n._unRankingChoicesAnimation=new cr(n.getChoicesAnimationOptions(!1),function(r){n._renderedUnRankingChoices=r},function(){return n.renderedUnRankingChoices}),n.rankingChoices=[],n.unRankingChoices=[],n._renderedRankingChoices=[],n._renderedUnRankingChoices=[],n.handlePointerDown=function(r,o,c){var p=r.target;n.isDragStartNodeValid(p)&&n.isAllowStartDrag(p,o)&&(n.draggedChoiceValue=o.value,n.draggedTargetNode=c,n.dragOrClickHelper.onPointerDown(r))},n.startDrag=function(r){var o=ke.getItemByValue(n.activeChoices,n.draggedChoiceValue);n.dragDropRankingChoices.startDrag(r,o,n,n.draggedTargetNode)},n.handlePointerUp=function(r,o,c){if(n.selectToRankEnabled){var p=r.target;n.isAllowStartDrag(p,o)&&n.handleKeydownSelectToRank(r,o," ",!1)}},n.handleKeydown=function(r,o){if(!n.isReadOnlyAttr&&!n.isDesignMode){var c=r.key,p=n.rankingChoices.indexOf(o);if(n.selectToRankEnabled){n.handleKeydownSelectToRank(r,o);return}if(c==="ArrowUp"&&p||c==="ArrowDown"&&p!==n.rankingChoices.length-1){var y=c=="ArrowUp"?p-1:p+1;n.dragDropRankingChoices.reorderRankedItem(n,p,y),n.setValueAfterKeydown(y,"",!0,r)}}},n.focusItem=function(r,o){if(n.domNode)if(n.selectToRankEnabled&&o){var c="[data-ranking='"+o+"']",p=n.domNode.querySelectorAll(c+" ."+n.cssClasses.item);p[r].focus()}else{var p=n.domNode.querySelectorAll("."+n.cssClasses.item);p[r].focus()}},n.isValueSetByUser=!1,n.setValue=function(){var r=[];n.rankingChoices.forEach(function(o){r.push(o.value)}),n.value=r,n.isValueSetByUser=!0},n.registerFunctionOnPropertyValueChanged("selectToRankEnabled",function(){n.clearValue(!0),n.setDragDropRankingChoices(),n.updateRankingChoicesSync()}),n.dragOrClickHelper=new fl(n.startDrag),n}return t.prototype.getType=function(){return"ranking"},t.prototype.getItemTabIndex=function(e){if(!(this.isDesignMode||e.disabled))return 0},t.prototype.supportContainerQueries=function(){return this.selectToRankEnabled},Object.defineProperty(t.prototype,"rootClass",{get:function(){return new J().append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,this.isMobileMode()).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.hasCssError()).append(this.cssClasses.rootDragHandleAreaIcon,N.rankingDragHandleArea==="icon").append(this.cssClasses.rootSelectToRankMod,this.selectToRankEnabled).append(this.cssClasses.rootSelectToRankEmptyValueMod,this.isEmpty()).append(this.cssClasses.rootSelectToRankAlignHorizontal,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="horizontal").append(this.cssClasses.rootSelectToRankAlignVertical,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="vertical").append(this.cssClasses.rootSelectToRankSwapAreas,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="horizontal"&&this.selectToRankSwapAreas).toString()},enumerable:!1,configurable:!0}),t.prototype.isItemSelectedCore=function(e){return this.selectToRankEnabled?i.prototype.isItemSelectedCore.call(this,e):!0},t.prototype.getItemClassCore=function(e,n){return new J().append(i.prototype.getItemClassCore.call(this,e,n)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===e).toString()},t.prototype.getContainerClasses=function(e){var n=!1,r=e==="to",o=e==="from";return r?n=this.renderedRankingChoices.length===0:o&&(n=this.renderedUnRankingChoices.length===0),new J().append(this.cssClasses.container).append(this.cssClasses.containerToMode,r).append(this.cssClasses.containerFromMode,o).append(this.cssClasses.containerEmptyMode,n).toString()},t.prototype.isItemCurrentDropTarget=function(e){return this.dragDropRankingChoices.dropTarget===e},Object.defineProperty(t.prototype,"ghostPositionCssClass",{get:function(){return this.ghostPosition==="top"?this.cssClasses.dragDropGhostPositionTop:this.ghostPosition==="bottom"?this.cssClasses.dragDropGhostPositionBottom:""},enumerable:!1,configurable:!0}),t.prototype.getItemIndexClasses=function(e){var n;return this.selectToRankEnabled?n=this.unRankingChoices.indexOf(e)!==-1:n=this.isEmpty(),new J().append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,n).toString()},t.prototype.getNumberByIndex=function(e){return this.isEmpty()?"":e+1+""},t.prototype.updateRankingChoicesSync=function(){this.blockAnimations(),this.updateRankingChoices(),this.releaseAnimations()},t.prototype.setSurveyImpl=function(e,n){i.prototype.setSurveyImpl.call(this,e,n),this.setDragDropRankingChoices(),this.updateRankingChoicesSync()},t.prototype.isAnswerCorrect=function(){return g.isArraysEqual(this.value,this.correctAnswer,!1)},Object.defineProperty(t.prototype,"requireStrictCompare",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.onSurveyValueChanged=function(e){i.prototype.onSurveyValueChanged.call(this,e),!this.isLoadingFromJson&&this.updateRankingChoices()},t.prototype.onSurveyLoad=function(){this.blockAnimations(),i.prototype.onSurveyLoad.call(this),this.updateRankingChoices(),this.releaseAnimations()},t.prototype.updateValueFromSurvey=function(e,n){i.prototype.updateValueFromSurvey.call(this,e,n),e&&(this.isValueSetByUser=!0)},t.prototype.addToValueByVisibleChoices=function(){var e=this.value.slice();this.visibleChoices.forEach(function(n){e.indexOf(n.value)===-1&&e.push(n.value)}),this.value=e},t.prototype.removeFromValueByVisibleChoices=function(){for(var e=this.value.slice(),n=this.visibleChoices,r=this.value.length-1;r>=0;r--)ke.getItemByValue(n,this.value[r])||e.splice(r,1);this.value=e},t.prototype.getChoicesAnimationOptions=function(e){var n=this;return{getKey:function(r){return r.value},getRerenderEvent:function(){return n.onElementRerendered},isAnimationEnabled:function(){return n.animationAllowed&&!n.isDesignMode&&n.isVisible&&!!n.domNode},getReorderOptions:function(r,o){var c="";return r!==n.currentDropTarget&&(c=o?"sv-dragdrop-movedown":"sv-dragdrop-moveup"),{cssClass:c}},getLeaveOptions:function(r){var o=e?n.renderedRankingChoices:n.renderedUnRankingChoices;return n.renderedSelectToRankAreasLayout=="vertical"&&o.length==1&&o.indexOf(r)>=0?{cssClass:"sv-ranking-item--animate-item-removing-empty"}:{cssClass:"sv-ranking-item--animate-item-removing",onBeforeRunAnimation:function(c){c.style.setProperty("--animation-height",c.offsetHeight+"px")}}},getEnterOptions:function(r){var o=e?n.renderedRankingChoices:n.renderedUnRankingChoices;return n.renderedSelectToRankAreasLayout=="vertical"&&o.length==1&&o.indexOf(r)>=0?{cssClass:"sv-ranking-item--animate-item-adding-empty"}:{cssClass:"sv-ranking-item--animate-item-adding",onBeforeRunAnimation:function(c){c.style.setProperty("--animation-height",c.offsetHeight+"px")}}},getAnimatedElement:function(r){var o,c=n.cssClasses,p="";n.selectToRankEnabled&&(!e&&c.containerFromMode?p=Bn(c.containerFromMode):e&&c.containerToMode&&(p=Bn(c.containerToMode)));var y=e?n.renderedRankingChoices.indexOf(r):n.renderedUnRankingChoices.indexOf(r);return(o=n.domNode)===null||o===void 0?void 0:o.querySelector(p+" [data-sv-drop-target-ranking-item='"+y+"']")},allowSyncRemovalAddition:!0}},Object.defineProperty(t.prototype,"rankingChoicesAnimation",{get:function(){return this._rankingChoicesAnimation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unRankingChoicesAnimation",{get:function(){return this._unRankingChoicesAnimation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedRankingChoices",{get:function(){return this._renderedRankingChoices},set:function(e){this.rankingChoicesAnimation.sync(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedUnRankingChoices",{get:function(){return this._renderedUnRankingChoices},set:function(e){this.unRankingChoicesAnimation.sync(e)},enumerable:!1,configurable:!0}),t.prototype.updateRenderedRankingChoices=function(){this.renderedRankingChoices=this.rankingChoices},t.prototype.updateRenderedUnRankingChoices=function(){this.renderedUnRankingChoices=this.unRankingChoices},t.prototype.updateRankingChoices=function(e){var n=this;if(e===void 0&&(e=!1),this.selectToRankEnabled){this.updateRankingChoicesSelectToRankMode(e);return}var r=[];if(e&&(this.rankingChoices=[]),this.isEmpty()){this.rankingChoices=this.visibleChoices;return}this.value.forEach(function(o){n.visibleChoices.forEach(function(c){c.value===o&&r.push(c)})}),this.rankingChoices=r},t.prototype.updateUnRankingChoices=function(e){var n=[];this.visibleChoices.forEach(function(r){n.push(r)}),e.forEach(function(r){n.forEach(function(o,c){o.value===r.value&&n.splice(c,1)})}),this.unRankingChoices=n},t.prototype.updateRankingChoicesSelectToRankMode=function(e){var n=this,r=[];this.isEmpty()||this.value.forEach(function(o){n.visibleChoices.forEach(function(c){c.value===o&&r.push(c)})}),this.updateUnRankingChoices(r),this.rankingChoices=r},t.prototype.endLoadingFromJson=function(){i.prototype.endLoadingFromJson.call(this),this.setDragDropRankingChoices()},t.prototype.setDragDropRankingChoices=function(){this.dragDropRankingChoices=this.createDragDropRankingChoices()},t.prototype.createDragDropRankingChoices=function(){return this.selectToRankEnabled?new Cp(this.survey,null,this.longTap):new bp(this.survey,null,this.longTap)},t.prototype.isDragStartNodeValid=function(e){return N.rankingDragHandleArea==="icon"?e.classList.contains(this.cssClasses.itemIconHoverMod):!0},t.prototype.isAllowStartDrag=function(e,n){return!this.isReadOnly&&!this.isDesignMode&&this.canStartDragDueMaxSelectedChoices(e)&&this.canStartDragDueItemEnabled(n)},t.prototype.canStartDragDueMaxSelectedChoices=function(e){if(!this.selectToRankEnabled)return!0;var n=e.closest("[data-ranking='from-container']");return n?this.checkMaxSelectedChoicesUnreached():!0},t.prototype.canStartDragDueItemEnabled=function(e){return e.enabled},t.prototype.checkMaxSelectedChoicesUnreached=function(){if(this.maxSelectedChoices<1)return!0;var e=this.value,n=Array.isArray(e)?e.length:0;return n<this.maxSelectedChoices},t.prototype.afterRenderQuestionElement=function(e){this.domNode=e,i.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.beforeDestroyQuestionElement=function(e){this.domNode=void 0,i.prototype.beforeDestroyQuestionElement.call(this,e)},t.prototype.supportSelectAll=function(){return!1},t.prototype.supportOther=function(){return!1},t.prototype.supportNone=function(){return!1},t.prototype.supportRefuse=function(){return!1},t.prototype.supportDontKnow=function(){return!1},t.prototype.handleKeydownSelectToRank=function(e,n,r,o){if(o===void 0&&(o=!0),!this.isDesignMode){var c=e.key;if(r&&(c=r),!(c!==" "&&c!=="ArrowUp"&&c!=="ArrowDown")){var p=this.dragDropRankingChoices,y=this.rankingChoices,b=y.indexOf(n)!==-1,E=b?y:this.unRankingChoices,M=E.indexOf(n);if(!(M<0)){var Q;if(c===" "&&!b){if(!this.checkMaxSelectedChoicesUnreached()||!this.canStartDragDueItemEnabled(n))return;Q=this.value.length,p.selectToRank(this,M,Q),this.setValueAfterKeydown(Q,"to-container",o,e);return}if(b){if(c===" "){p.unselectFromRank(this,M),Q=this.unRankingChoices.indexOf(n),this.setValueAfterKeydown(Q,"from-container",o,e);return}var X=c==="ArrowUp"?-1:c==="ArrowDown"?1:0;X!==0&&(Q=M+X,!(Q<0||Q>=y.length)&&(p.reorderRankedItem(this,M,Q),this.setValueAfterKeydown(Q,"to-container",o,e)))}}}}},t.prototype.setValueAfterKeydown=function(e,n,r,o){var c=this;r===void 0&&(r=!0),this.setValue(),r&&setTimeout(function(){c.focusItem(e,n)},1),o&&o.preventDefault()},t.prototype.getIconHoverCss=function(){return new J().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()},t.prototype.getIconFocusCss=function(){return new J().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()},Object.defineProperty(t.prototype,"longTap",{get:function(){return this.getPropertyValue("longTap")},set:function(e){this.setPropertyValue("longTap",e)},enumerable:!1,configurable:!0}),t.prototype.getDefaultItemComponent=function(){return"sv-ranking-item"},Object.defineProperty(t.prototype,"selectToRankEnabled",{get:function(){return this.getPropertyValue("selectToRankEnabled",!1)},set:function(e){this.setPropertyValue("selectToRankEnabled",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectToRankSwapAreas",{get:function(){return this.getPropertyValue("selectToRankSwapAreas",!1)},set:function(e){this.setPropertyValue("selectToRankSwapAreas",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectToRankAreasLayout",{get:function(){return this.getPropertyValue("selectToRankAreasLayout")},set:function(e){this.setPropertyValue("selectToRankAreasLayout",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedSelectToRankAreasLayout",{get:function(){return this.isMobileMode()?"vertical":this.selectToRankAreasLayout},enumerable:!1,configurable:!0}),t.prototype.isMobileMode=function(){return ys},Object.defineProperty(t.prototype,"useFullItemSizeForShortcut",{get:function(){return this.getPropertyValue("useFullItemSizeForShortcut")},set:function(e){this.setPropertyValue("useFullItemSizeForShortcut",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragDropSvgIcon",{get:function(){return this.cssClasses.dragDropSvgIconId||"#icon-drag-n-drop"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"arrowsSvgIcon",{get:function(){return this.cssClasses.arrowsSvgIconId||"#icon-ranking-arrows"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dashSvgIcon",{get:function(){return this.cssClasses.dashSvgIconId||"#icon-ranking-dash"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),mr([ee({onSet:function(e,n){return n.updateRenderedRankingChoices()},onRemove:function(e,n,r){return r.updateRenderedRankingChoices()},onPush:function(e,n,r){return r.updateRenderedRankingChoices()}})],t.prototype,"rankingChoices",void 0),mr([ee({onSet:function(e,n){return n.updateRenderedUnRankingChoices()},onRemove:function(e,n,r){return r.updateRenderedUnRankingChoices()},onPush:function(e,n,r){return r.updateRenderedUnRankingChoices()}})],t.prototype,"unRankingChoices",void 0),mr([ee()],t.prototype,"_renderedRankingChoices",void 0),mr([ee()],t.prototype,"_renderedUnRankingChoices",void 0),mr([V({defaultValue:null})],t.prototype,"currentDropTarget",void 0),mr([V({defaultValue:!0})],t.prototype,"carryForwardStartUnranked",void 0),mr([V({localizable:{defaultStr:"selectToRankEmptyRankedAreaText"}})],t.prototype,"selectToRankEmptyRankedAreaText",void 0),mr([V({localizable:{defaultStr:"selectToRankEmptyUnrankedAreaText"}})],t.prototype,"selectToRankEmptyUnrankedAreaText",void 0),t}(po);H.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"showRefuseItem",visible:!1,isSerializable:!1},{name:"showDontKnowItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"selectToRankEnabled:switch",default:!1,visible:!0,isSerializable:!0},{name:"selectToRankSwapAreas:switch",default:!1,visible:!1,isSerializable:!0,dependsOn:"selectToRankEnabled"},{name:"selectToRankAreasLayout",default:"horizontal",choices:["horizontal","vertical"],dependsOn:"selectToRankEnabled",visibleIf:function(i){return!!i.selectToRankEnabled},visible:!0,isSerializable:!0},{name:"selectToRankEmptyRankedAreaText:text",serializationProperty:"locSelectToRankEmptyRankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(i){return!!i.selectToRankEnabled}},{name:"selectToRankEmptyUnrankedAreaText:text",serializationProperty:"locSelectToRankEmptyUnrankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(i){return!!i.selectToRankEnabled}},{name:"maxSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(i){return!!i.selectToRankEnabled},isSerializable:!0},{name:"minSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(i){return!!i.selectToRankEnabled},isSerializable:!0},{name:"itemComponent",visible:!1,default:"sv-ranking-item"}],function(){return new Ll("")},"checkbox"),lt.Instance.registerQuestion("ranking",function(i){var t=new Ll(i);return t.choices=lt.DefaultChoices,t});var bb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kl=function(i){bb(t,i);function t(e){var n=i.call(this,e)||this;return n.textAreaModel=new us(n.getTextAreaOptions()),n}return t.prototype.getTextAreaOptions=function(){var e=this,n=this,r=function(c){g.isTwoValueEquals(n.value,c,!1,!0,!1)||(n.value=c)},o={question:this,id:function(){return e.inputId},propertyName:"value",className:function(){return e.className},placeholder:function(){return e.renderedPlaceholder},isDisabledAttr:function(){return e.isDisabledAttr},isReadOnlyAttr:function(){return e.isReadOnlyAttr},autoGrow:function(){return e.renderedAutoGrow},maxLength:function(){return e.getMaxLength()},rows:function(){return e.rows},cols:function(){return e.cols},ariaRequired:function(){return e.a11y_input_ariaRequired},ariaLabel:function(){return e.a11y_input_ariaLabel},ariaLabelledBy:function(){return e.a11y_input_ariaLabelledBy},ariaDescribedBy:function(){return e.a11y_input_ariaDescribedBy},ariaInvalid:function(){return e.a11y_input_ariaInvalid},ariaErrormessage:function(){return e.a11y_input_ariaErrormessage},getTextValue:function(){return e.value},onTextAreaChange:function(c){r(c.target.value)},onTextAreaInput:function(c){e.onInput(c)},onTextAreaKeyDown:function(c){e.onKeyDown(c)},onTextAreaFocus:function(c){e.onFocus(c)},onTextAreaBlur:function(c){e.onBlur(c)}};return o},Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(e){this.setPropertyValue("rows",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(e){this.setPropertyValue("cols",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acceptCarriageReturn",{get:function(){return this.getPropertyValue("acceptCarriageReturn")},set:function(e){this.setPropertyValue("acceptCarriageReturn",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoGrow",{get:function(){return this.getPropertyValue("autoGrow")},set:function(e){this.setPropertyValue("autoGrow",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedAutoGrow",{get:function(){var e=this.autoGrow;return e===void 0&&this.survey?this.survey.autoGrowComment:!!e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowResize",{get:function(){return this.getPropertyValue("allowResize")},set:function(e){this.setPropertyValue("allowResize",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedAllowResize",{get:function(){var e=this.allowResize;return e===void 0&&this.survey?this.survey.allowResizeComment:!!e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizeStyle",{get:function(){return this.renderedAllowResize?"both":"none"},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"comment"},t.prototype.afterRenderQuestionElement=function(e){var n=N.environment.root;this.element=n.getElementById(this.inputId)||e,i.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.beforeDestroyQuestionElement=function(e){i.prototype.beforeDestroyQuestionElement.call(this,e),this.element=void 0},t.prototype.onInput=function(e){this.isInputTextUpdate&&(this.value=e.target.value),this.updateRemainingCharacterCounter(e.target.value)},t.prototype.onBlurCore=function(e){i.prototype.onBlurCore.call(this,e)},t.prototype.onKeyDown=function(e){this.onKeyDownPreprocess&&this.onKeyDownPreprocess(e),!this.acceptCarriageReturn&&(e.key==="Enter"||e.keyCode===13)&&(e.preventDefault(),e.stopPropagation())},t.prototype.setNewValue=function(e){!this.acceptCarriageReturn&&e&&(e=e.replace(new RegExp(`(\r
|
|\r)`,"gm"),"")),i.prototype.setNewValue.call(this,e)},t.prototype.getValueSeparator=function(){return`
`},Object.defineProperty(t.prototype,"className",{get:function(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0},enumerable:!1,configurable:!0}),t}(Vs);H.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50,visible:!1,isSerializable:!1},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean",defaultFunc:function(){}},{name:"allowResize:boolean",defaultFunc:function(){}},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new kl("")},"textbase"),lt.Instance.registerQuestion("comment",function(i){return new kl(i)});var Cb=function(){function i(){this.canFlipValue=void 0}return i.clear=function(){i.cameraList=void 0,i.cameraIndex=-1},i.setCameraList=function(t){var e=function(n){var r=n.label.toLocaleLowerCase();return r.indexOf("user")>-1?"user":r.indexOf("enviroment")>-1?"enviroment":""};i.clear(),Array.isArray(t)&&t.length>0&&(i.cameraIndex=-1,t.sort(function(n,r){if(n===r)return 0;if(n.label!==r.label){var o=e(n),c=e(r);if(o!==c){if(o==="user")return-1;if(c==="user")return 1;if(o==="enviroment")return-1;if(c==="enviroment")return 1}}var p=t.indexOf(n),y=t.indexOf(r);return p<y?-1:1})),i.cameraList=t},i.prototype.hasCamera=function(t){var e=this;if(i.cameraList!==void 0){this.hasCameraCallback(t);return}if(i.mediaDevicesCallback){var n=function(r){e.setVideoInputs(r),e.hasCameraCallback(t)};i.mediaDevicesCallback(n);return}typeof navigator<"u"&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(r){e.setVideoInputs(r),e.hasCameraCallback(t),e.updateCanFlipValue()}).catch(function(r){i.cameraList=null,e.hasCameraCallback(t)}):(i.cameraList=null,this.hasCameraCallback(t))},i.prototype.getMediaConstraints=function(t){var e=i.cameraList;if(!(!Array.isArray(e)||e.length<1)){i.cameraIndex<0&&(i.cameraIndex=0);var n=e[i.cameraIndex],r={};return n&&n.deviceId?r.deviceId={exact:n.deviceId}:r.facingMode=i.cameraFacingMode,t&&(t!=null&&t.height&&(r.height={ideal:t.height}),t!=null&&t.width&&(r.width={ideal:t.width})),{video:r,audio:!1}}},i.prototype.startVideo=function(t,e,n,r){var o=this;if(!t){e(void 0);return}t.style.width="100%",t.style.height="auto",t.style.height="100%",t.style.objectFit="contain";var c=this.getMediaConstraints({width:n,height:r});navigator.mediaDevices.getUserMedia(c).then(function(p){var y;t.srcObject=p,!(!((y=i.cameraList[i.cameraIndex])===null||y===void 0)&&y.deviceId)&&p.getTracks()[0].getCapabilities().facingMode&&(i.canSwitchFacingMode=!0,o.updateCanFlipValue()),t.play(),e(p)}).catch(function(p){e(void 0)})},i.prototype.getImageSize=function(t){return{width:t.videoWidth,height:t.videoHeight}},i.prototype.snap=function(t,e){if(!t||!h.isAvailable())return!1;var n=h.getDocument(),r=n.createElement("canvas"),o=this.getImageSize(t);r.height=o.height,r.width=o.width;var c=r.getContext("2d");return c.clearRect(0,0,r.width,r.height),c.drawImage(t,0,0,r.width,r.height),r.toBlob(e,"image/png"),!0},i.prototype.updateCanFlipValue=function(){var t=i.cameraList;this.canFlipValue=Array.isArray(t)&&t.length>1||i.canSwitchFacingMode,this.onCanFlipChangedCallback&&this.onCanFlipChangedCallback(this.canFlipValue)},i.prototype.canFlip=function(t){return this.canFlipValue===void 0&&this.updateCanFlipValue(),t&&(this.onCanFlipChangedCallback=t),this.canFlipValue},i.prototype.flip=function(){this.canFlip()&&(i.canSwitchFacingMode?i.cameraFacingMode=i.cameraFacingMode==="user"?"environment":"user":i.cameraIndex>=i.cameraList.length-1?i.cameraIndex=0:i.cameraIndex++)},i.prototype.hasCameraCallback=function(t){t(Array.isArray(i.cameraList))},i.prototype.setVideoInputs=function(t){var e=[];t.forEach(function(n){n.kind==="videoinput"&&e.push(n)}),i.setCameraList(e.length>0?e:null)},i.cameraIndex=-1,i.cameraFacingMode="user",i.canSwitchFacingMode=!1,i}(),Ml=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tt=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o};function wb(i,t,e){var n=atob(i.split(",")[1]),r=new Uint8Array(n.split("").map(function(o){return o.charCodeAt(0)})).buffer;return new File([r],t,{type:e})}var wp=function(i){Ml(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.isUploading=!1,e.onUploadStateChanged=e.addEvent(),e.onStateChanged=e.addEvent(),e}return t.prototype.stateChanged=function(e){this.currentState!=e&&(e==="loading"&&(this.isUploading=!0),e==="loaded"&&(this.isUploading=!1),e==="error"&&(this.isUploading=!1),this.currentState=e,this.onStateChanged.fire(this,{state:e}),this.onUploadStateChanged.fire(this,{state:e}))},Object.defineProperty(t.prototype,"showLoadingIndicator",{get:function(){return this.isUploading&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(e){this.setPropertyValue("storeDataAsText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload")},set:function(e){this.setPropertyValue("waitForUpload",e)},enumerable:!1,configurable:!0}),t.prototype.clearValue=function(e){this.clearOnDeletingContainer(),i.prototype.clearValue.call(this,e)},t.prototype.clearOnDeletingContainer=function(){this.survey&&this.survey.clearFiles(this,this.name,this.value,null,function(){})},t.prototype.onCheckForErrors=function(e,n,r){i.prototype.onCheckForErrors.call(this,e,n,r),this.isUploading&&this.waitForUpload&&e.push(new ls(this.getLocalizationString("uploadingFile"),this))},t.prototype.uploadFiles=function(e){var n=this;this.survey&&(this.stateChanged("loading"),this.survey.uploadFiles(this,this.name,e,function(r,o){Array.isArray(r)&&(n.setValueFromResult(r),Array.isArray(o)&&(o.forEach(function(c){return n.errors.push(new ls(c,n))}),n.stateChanged("error"))),r==="success"&&Array.isArray(o)&&n.setValueFromResult(o),r==="error"&&(typeof o=="string"&&n.errors.push(new ls(o,n)),Array.isArray(o)&&o.length>0&&o.forEach(function(c){return n.errors.push(new ls(c,n))}),n.stateChanged("error")),n.stateChanged("loaded")}))},t.prototype.loadPreview=function(e){},t.prototype.onChangeQuestionValue=function(e){i.prototype.onChangeQuestionValue.call(this,e),this.stateChanged(this.isEmpty()?"empty":"loaded"),this.isLoadingFromJson||this.loadPreview(e)},Tt([V()],t.prototype,"isUploading",void 0),Tt([V({defaultValue:"empty"})],t.prototype,"currentState",void 0),t}(zt),Pp=function(i){Ml(t,i);function t(e,n){var r=i.call(this)||this;return r.question=e,r.index=n,r.id=t.getId(),r}return t.getId=function(){return"sv_sfp_"+t.pageCounter++},Object.defineProperty(t.prototype,"css",{get:function(){return this.question.cssClasses.page},enumerable:!1,configurable:!0}),t.pageCounter=0,Tt([ee({})],t.prototype,"items",void 0),t}($e),ql=function(i){Ml(t,i);function t(e){var n=i.call(this,e)||this;return n.isDragging=!1,n.fileNavigator=new Nn,n.canFlipCameraValue=void 0,n.prevPreviewLength=0,n._renderedPages=[],n.pagesAnimation=new Ba(n.getPagesAnimationOptions(),function(r){n._renderedPages=r},function(){return n.renderedPages}),n.calcAvailableItemsCount=function(r,o,c){var p=Math.floor(r/(o+c));return(p+1)*(o+c)-c<=r&&p++,p},n.dragCounter=0,n.onDragEnter=function(r){n.canDragDrop()&&(r.preventDefault(),n.isDragging=!0,n.dragCounter++)},n.onDragOver=function(r){if(!n.canDragDrop())return r.returnValue=!1,!1;r.dataTransfer.dropEffect="copy",r.preventDefault()},n.onDrop=function(r){if(n.canDragDrop()){n.isDragging=!1,n.dragCounter=0,r.preventDefault();var o=r.dataTransfer;n.onChange(o)}},n.onDragLeave=function(r){n.canDragDrop()&&(n.dragCounter--,n.dragCounter===0&&(n.isDragging=!1))},n.doChange=function(r){var o=r.target||r.srcElement;n.onChange(o)},n.doClean=function(){if(n.needConfirmRemoveFile){to(n.confirmRemoveAllMessage,function(){n.clearFilesCore()},void 0,n.getLocale(),n.survey.rootElement);return}n.clearFilesCore()},n.doDownloadFileFromContainer=function(r){r.stopPropagation();var o=r.currentTarget;if(o&&o.getElementsByTagName){var c=o.getElementsByTagName("a")[0];c==null||c.click()}},n.doDownloadFile=function(r,o){r.stopPropagation(),no()&&(r.preventDefault(),rd(o.content,o.name))},n.createLocalizableString("takePhotoCaption",n,!1,!0),n.createLocalizableString("clearCaption",n,!1,!0),n.actionsContainer=new Nn,n.actionsContainer.locOwner=n,n.fileIndexAction=new ot({id:"fileIndex",title:n.getFileIndexCaption(),enabled:!1}),n.prevFileAction=new ot({id:"prevPage",iconSize:16,action:function(){n.navigationDirection="left",n.indexToShow=n.previewValue.length&&(n.indexToShow-1+n.pagesCount)%n.pagesCount||0,n.fileIndexAction.title=n.getFileIndexCaption()}}),n.nextFileAction=new ot({id:"nextPage",iconSize:16,action:function(){n.navigationDirection="right",n.indexToShow=n.previewValue.length&&(n.indexToShow+1)%n.pagesCount||0,n.fileIndexAction.title=n.getFileIndexCaption()}}),n.takePictureAction=new ot({iconName:"icon-takepicture",id:"sv-file-take-picture",iconSize:"auto",innerCss:new At(function(){return new J().append(n.cssClasses.contextButton).append(n.cssClasses.takePictureButton).toString()}),locTitle:n.locTakePhotoCaption,showTitle:!1,action:function(){n.snapPicture()}}),n.closeCameraAction=new ot({iconName:"icon-closecamera",id:"sv-file-close-camera",iconSize:"auto",innerCss:new At(function(){return new J().append(n.cssClasses.contextButton).append(n.cssClasses.closeCameraButton).toString()}),action:function(){n.stopVideo()}}),n.changeCameraAction=new ot({iconName:"icon-changecamera",id:"sv-file-change-camera",iconSize:"auto",innerCss:new At(function(){return new J().append(n.cssClasses.contextButton).append(n.cssClasses.changeCameraButton).toString()}),visible:new At(function(){return n.canFlipCamera()}),action:function(){n.flipCamera()}}),n.chooseFileAction=new ot({iconName:"icon-choosefile",id:"sv-file-choose-file",iconSize:"auto",data:{question:n},enabledIf:function(){return!n.isInputReadOnly},component:"sv-file-choose-btn"}),n.startCameraAction=new ot({iconName:"icon-takepicture_24x24",id:"sv-file-start-camera",iconSize:"auto",locTitle:n.locTakePhotoCaption,showTitle:new At(function(){return!n.isAnswered}),enabledIf:function(){return!n.isInputReadOnly},action:function(){n.startVideo()}}),n.cleanAction=new ot({iconName:"icon-clear",id:"sv-file-clean",iconSize:"auto",locTitle:n.locClearButtonCaption,showTitle:!1,enabledIf:function(){return!n.isInputReadOnly},innerCss:new At(function(){return n.cssClasses.removeButton}),action:function(){n.doClean()}}),[n.closeCameraAction,n.changeCameraAction,n.takePictureAction].forEach(function(r){r.cssClasses={}}),n.registerFunctionOnPropertiesValueChanged(["sourceType","currentMode","isAnswered"],function(){n.updateActionsVisibility()}),n.actionsContainer.actions=[n.chooseFileAction,n.startCameraAction,n.cleanAction],n.fileNavigator.actions=[n.prevFileAction,n.fileIndexAction,n.nextFileAction],n}return Object.defineProperty(t.prototype,"supportFileNavigator",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFileLoading",{get:function(){return this.isFileLoadingValue},set:function(e){this.isFileLoadingValue=e,this.updateIsReady()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileNavigatorVisible",{get:function(){var e=this.isUploading,n=this.isPlayingVideo,r=this.containsMultiplyFiles,o=this.pageSize<this.previewValue.length;return!e&&!n&&r&&o&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pagesCount",{get:function(){return Math.ceil(this.previewValue.length/this.pageSize)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actionsContainerVisible",{get:function(){var e=this.isUploading,n=this.isPlayingVideo,r=this.isDefaultV2Theme;return!e&&!n&&r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoId",{get:function(){return this.id+"_video"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasVideoUI",{get:function(){return this.currentMode!=="file"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasFileUI",{get:function(){return this.currentMode!=="camera"},enumerable:!1,configurable:!0}),t.prototype.startVideo=function(){var e=this;this.currentMode==="file"||this.isDesignMode||this.isPlayingVideo||(this.setIsPlayingVideo(!0),setTimeout(function(){e.startVideoInCamera()},0))},Object.defineProperty(t.prototype,"videoHtmlElement",{get:function(){var e;return(e=this.rootElement)===null||e===void 0?void 0:e.querySelector("#"+this.videoId)},enumerable:!1,configurable:!0}),t.prototype.startVideoInCamera=function(){var e=this;this.camera.startVideo(this.videoHtmlElement,function(n){e.videoStream=n,n||e.stopVideo()},Br(this.imageWidth),Br(this.imageHeight))},t.prototype.stopVideo=function(){this.setIsPlayingVideo(!1),this.closeVideoStream()},t.prototype.snapPicture=function(){var e=this;if(this.isPlayingVideo){var n=function(r){if(r){var o=new File([r],"snap_picture.png",{type:"image/png"});e.loadFiles([o])}};this.camera.snap(this.videoHtmlElement,n),this.stopVideo()}},t.prototype.canFlipCamera=function(){var e=this;return this.canFlipCameraValue===void 0&&(this.canFlipCameraValue=this.camera.canFlip(function(n){e.canFlipCameraValue=n})),this.canFlipCameraValue},t.prototype.flipCamera=function(){this.canFlipCamera()&&(this.closeVideoStream(),this.camera.flip(),this.startVideoInCamera())},t.prototype.closeVideoStream=function(){this.videoStream&&(this.videoStream.getTracks().forEach(function(e){e.stop()}),this.videoStream=void 0)},t.prototype.onHidingContent=function(){i.prototype.onHidingContent.call(this),this.stopVideo()},t.prototype.updateElementCssCore=function(e){i.prototype.updateElementCssCore.call(this,e),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId,this.updateCurrentMode()},t.prototype.getFileIndexCaption=function(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.pagesCount)},t.prototype.updateFileNavigator=function(){this.updatePages(),this.navigationDirection=void 0,this.indexToShow=this.previewValue.length&&(this.indexToShow+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()},t.prototype.updateRenderedPages=function(){this.pages&&this.pages[this.indexToShow]&&(this.renderedPages=[this.pages[this.indexToShow]])},t.prototype.updatePages=function(){var e=this;this.blockAnimations();var n;this.pages=[],this.renderedPages=[],this.previewValue.forEach(function(r,o){o%e.pageSize==0&&(n=new Pp(e,e.pages.length),e.pages.push(n)),n.items.push(r)}),this.releaseAnimations(),this.updateRenderedPages()},t.prototype.previewValueChanged=function(){var e=this;this.navigationDirection=void 0,this.previewValue.length!==this.prevPreviewLength&&(this.previewValue.length>0?this.prevPreviewLength>this.previewValue.length?this.indexToShow>=this.pagesCount&&this.indexToShow>0&&(this.indexToShow=this.pagesCount-1,this.navigationDirection="left-delete"):this.indexToShow=Math.floor(this.prevPreviewLength/this.pageSize):this.indexToShow=0),this.updatePages(),this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1,this.previewValue.length>0&&!this.calculatedGapBetweenItems&&!this.calculatedItemWidth&&setTimeout(function(){e.processResponsiveness(0,e._width)}),this.prevPreviewLength=this.previewValue.length},t.prototype.getType=function(){return"file"},Object.defineProperty(t.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(e){this.setPropertyValue("showPreview",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple")},set:function(e){this.setPropertyValue("allowMultiple",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(e){this.setPropertyValue("acceptedTypes",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(e){this.setPropertyValue("allowImagesPreview",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize")},set:function(e){this.setPropertyValue("maxSize",e)},enumerable:!1,configurable:!0}),t.prototype.chooseFile=function(e){var n=this;if(this.rootElement){var r=this.rootElement.querySelector("#"+this.inputId);r&&(e.preventDefault(),e.stopImmediatePropagation(),r&&(this.survey?this.survey.chooseFiles(r,function(o){return n.loadFiles(o)},{element:this,elementType:this.getType(),propertyName:this.name}):r.click()))}},Object.defineProperty(t.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(e){this.setPropertyValue("needConfirmRemoveFile",e)},enumerable:!1,configurable:!0}),t.prototype.getConfirmRemoveMessage=function(e){return this.confirmRemoveMessage.format(e)},Object.defineProperty(t.prototype,"takePhotoCaption",{get:function(){return this.getLocalizableStringText("takePhotoCaption")},set:function(e){this.setLocalizableStringText("takePhotoCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTakePhotoCaption",{get:function(){return this.getLocalizableString("takePhotoCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearButtonCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locClearButtonCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRenderedPlaceholder",{get:function(){var e=this;return this.locRenderedPlaceholderValue===void 0&&(this.locRenderedPlaceholderValue=new At(function(){var n=e.isReadOnly,r=!e.isDesignMode&&e.hasFileUI||e.isDesignMode&&e.sourceType!="camera",o=!e.isDesignMode&&e.hasVideoUI||e.isDesignMode&&e.sourceType!="file",c;return n?c=e.locNoFileChosenCaption:r&&o?c=e.locFileOrPhotoPlaceholder:r?c=e.locFilePlaceholder:c=e.locPhotoPlaceholder,c})),this.locRenderedPlaceholderValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentMode",{get:function(){return this.getPropertyValue("currentMode",this.sourceType)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPlayingVideo",{get:function(){return this.getPropertyValue("isPlayingVideo",!1)},enumerable:!1,configurable:!0}),t.prototype.setIsPlayingVideo=function(e){this.setPropertyValue("isPlayingVideo",e)},t.prototype.updateCurrentMode=function(){var e=this;this.isDesignMode||(this.sourceType!=="file"?this.camera.hasCamera(function(n){e.setPropertyValue("currentMode",n&&e.isDefaultV2Theme?e.sourceType:"file")}):this.setPropertyValue("currentMode",this.sourceType))},t.prototype.updateActionsVisibility=function(){var e=this.isDesignMode;this.chooseFileAction.visible=!e&&this.hasFileUI||e&&this.sourceType!=="camera",this.startCameraAction.visible=!e&&this.hasVideoUI||e&&this.sourceType!=="file",this.cleanAction.visible=!!this.isAnswered},Object.defineProperty(t.prototype,"inputTitle",{get:function(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chooseButtonText",{get:function(){return this.isEmpty()||this.allowMultiple?this.chooseButtonCaption:this.replaceButtonCaption},enumerable:!1,configurable:!0}),t.prototype.clear=function(e){var n=this;this.survey&&(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,function(r,o){r==="success"&&(n.value=void 0,n.errors=[],e&&e(),n.indexToShow=0,n.fileIndexAction.title=n.getFileIndexCaption())}))},Object.defineProperty(t.prototype,"renderCapture",{get:function(){return this.allowCameraAccess?"user":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multipleRendered",{get:function(){return this.allowMultiple?"multiple":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showChooseButton",{get:function(){return!this.isReadOnly&&!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showFileDecorator",{get:function(){var e=this.isPlayingVideo,n=this.showLoadingIndicator;return!e&&!n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowShowPreview",{get:function(){var e=this.showLoadingIndicator,n=this.isPlayingVideo;return!e&&!n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showPreviewContainer",{get:function(){return this.previewValue&&this.previewValue.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRemoveButtonCore",{get:function(){var e=this.showLoadingIndicator,n=this.isReadOnly,r=this.isEmpty();return!n&&!r&&!e&&!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRemoveButton",{get:function(){return this.showRemoveButtonCore&&this.cssClasses.removeButton},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRemoveButtonBottom",{get:function(){var e=new J().append(this.cssClasses.removeButtonBottom).append(this.cssClasses.contextButton).toString();return this.showRemoveButtonCore&&e},enumerable:!1,configurable:!0}),t.prototype.defaultImage=function(e){return!this.canPreviewImage(e)&&!!this.cssClasses.defaultImage},t.prototype.removeFile=function(e){this.removeFileByContent(this.value.filter(function(n){return n.name===e})[0])},t.prototype.removeFileByContent=function(e){var n=this;this.survey&&this.survey.clearFiles(this,this.name,this.value,e.name,function(r,o){if(r==="success"){var c=n.value;Array.isArray(c)?n.value=c.filter(function(p){return!g.isTwoValueEquals(p,e,!0,!1,!1)}):n.value=void 0}})},t.prototype.setValueFromResult=function(e){this.value=(this.value||[]).concat(e.map(function(n){return{name:n.file.name,type:n.file.type,content:n.content}}))},t.prototype.loadFiles=function(e){var n=this;if(this.survey&&(this.errors=[],!!this.allFilesOk(e))){var r=function(){n.stateChanged("loading");var o=[];n.storeDataAsText?e.forEach(function(c){var p=new FileReader;p.onload=function(y){o=o.concat([{name:c.name,type:c.type,content:p.result}]),o.length===e.length&&(n.value=(n.value||[]).concat(o))},p.readAsDataURL(c)}):n.uploadFiles(e)};this.allowMultiple?r():this.clear(r)}},Object.defineProperty(t.prototype,"camera",{get:function(){return this.cameraValue||(this.cameraValue=new Cb),this.cameraValue},enumerable:!1,configurable:!0}),t.prototype.canPreviewImage=function(e){return this.allowImagesPreview&&!!e&&this.isFileImage(e)},t.prototype.loadPreview=function(e){var n=this;if(this.previewValue.splice(0,this.previewValue.length),!(!this.showPreview||!e)){var r=Array.isArray(e)?e:e?[e]:[];this.storeDataAsText?(r.forEach(function(o){var c=o.content||o;n.previewValue.push({name:o.name,type:o.type,content:c})}),this.previewValueChanged()):(this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new xp(this,function(o,c){o!=="error"&&(c.forEach(function(p){n.previewValue.push(p)}),n.previewValueChanged()),n.isFileLoading=!1,n._previewLoader.dispose(),n._previewLoader=void 0}),this._previewLoader.load(r))}},t.prototype.getIsQuestionReady=function(){return i.prototype.getIsQuestionReady.call(this)&&!this.isFileLoading},t.prototype.allFilesOk=function(e){var n=this,r=this.errors?this.errors.length:0;return(e||[]).forEach(function(o){n.maxSize>0&&o.size>n.maxSize&&n.errors.push(new pd(n.maxSize,n))}),r===this.errors.length},t.prototype.isFileImage=function(e){if(!e||!e.content||!e.content.substring)return!1;var n="data:image",r=e.content&&e.content.substring(0,n.length);r=r&&r.toLowerCase();var o=r===n||!!e.type&&e.type.toLowerCase().indexOf("image/")===0;return o},t.prototype.getPlainData=function(e){e===void 0&&(e={includeEmpty:!0});var n=i.prototype.getPlainData.call(this,e);if(n&&!this.isEmpty()){n.isNode=!1;var r=Array.isArray(this.value)?this.value:[this.value];n.data=r.map(function(o,c){return{name:c,title:"File",value:o.content&&o.content||o,displayValue:o.name&&o.name||o,getString:function(p){return typeof p=="object"?JSON.stringify(p):p},isNode:!1}})}return n},t.prototype.getImageWrapperCss=function(e){return new J().append(this.cssClasses.imageWrapper).append(this.cssClasses.imageWrapperDefaultImage,this.defaultImage(e)).toString()},t.prototype.getActionsContainerCss=function(e){return new J().append(e.actionsContainer).append(e.actionsContainerAnswered,this.isAnswered).toString()},t.prototype.getRemoveButtonCss=function(){return new J().append(this.cssClasses.removeFileButton).append(this.cssClasses.contextButton).toString()},t.prototype.getChooseFileCss=function(){var e=this.isAnswered;return new J().append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!e).append(this.cssClasses.chooseFileAsTextDisabled,!e&&this.isInputReadOnly).append(this.cssClasses.contextButton,e).append(this.cssClasses.chooseFileAsIcon,e).toString()},t.prototype.getReadOnlyFileCss=function(){return new J().append("form-control").append(this.cssClasses.placeholderInput).toString()},Object.defineProperty(t.prototype,"fileRootCss",{get:function(){return new J().append(this.cssClasses.root).append(this.cssClasses.rootDisabled,this.isDisabledStyle).append(this.cssClasses.rootReadOnly,this.isReadOnlyStyle).append(this.cssClasses.rootPreview,this.isPreviewStyle).append(this.cssClasses.rootDragging,this.isDragging).append(this.cssClasses.rootAnswered,this.isAnswered).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()},enumerable:!1,configurable:!0}),t.prototype.getFileDecoratorCss=function(){return new J().append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()},t.prototype.onChange=function(e){if(f.isFileReaderAvailable()&&!(!e||!e.files||e.files.length<1)){for(var n=[],r=this.allowMultiple?e.files.length:1,o=0;o<r;o++)n.push(e.files[o]);e.value="",this.loadFiles(n)}},t.prototype.calcCssClasses=function(e){var n=i.prototype.calcCssClasses.call(this,e);return this.actionsContainer.cssClasses=e.actionBar,this.actionsContainer.cssClasses.itemWithTitle=this.actionsContainer.cssClasses.item,this.actionsContainer.cssClasses.item="",this.actionsContainer.cssClasses.itemAsIcon=n.contextButton,this.actionsContainer.containerCss=n.actionsContainer,n},t.prototype.onSurveyLoad=function(){i.prototype.onSurveyLoad.call(this),this.updateCurrentMode(),this.updateActionsVisibility(),this.loadPreview(this.value)},t.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},t.prototype.supportResponsiveness=function(){return!0},t.prototype.getObservedElementSelector=function(){return Bn(this.cssClasses.dragArea)},t.prototype.getFileListSelector=function(){return Bn(this.cssClasses.fileList)},Object.defineProperty(t.prototype,"renderedPages",{get:function(){return this._renderedPages},set:function(e){this.pagesAnimation.sync(e)},enumerable:!1,configurable:!0}),t.prototype.getPagesAnimationOptions=function(){var e=this;return{getEnterOptions:function(n){var r=e.cssClasses.page;return{cssClass:r?new J().append(r+"--enter-from-left",e.navigationDirection=="left"||e.navigationDirection=="left-delete").append(r+"--enter-from-right",e.navigationDirection=="right").toString():""}},getLeaveOptions:function(n){var r=e.cssClasses.page;return{cssClass:r?new J().append(r+"--leave-to-left",e.navigationDirection=="right").append(r+"--leave-to-right",e.navigationDirection=="left").toString():""}},getAnimatedElement:function(n){var r;return(r=e.rootElement)===null||r===void 0?void 0:r.querySelector("#"+n.id)},isAnimationEnabled:function(){return e.animationAllowed&&!!e.rootElement},getRerenderEvent:function(){return e.onElementRerendered}}},t.prototype.triggerResponsiveness=function(e){e&&(this.calculatedGapBetweenItems=void 0,this.calculatedItemWidth=void 0),i.prototype.triggerResponsiveness.call(this)},t.prototype.processResponsiveness=function(e,n){if(this._width=n,this.rootElement&&(!this.calculatedGapBetweenItems||!this.calculatedItemWidth)&&this.allowMultiple){var r=this.getFileListSelector(),o=r?this.rootElement.querySelector(this.getFileListSelector()):void 0;if(o){var c=o.querySelector(Bn(this.cssClasses.page));if(c){var p=c.querySelector(Bn(this.cssClasses.previewItem));this.calculatedGapBetweenItems=Math.ceil(Number.parseFloat(h.getComputedStyle(c).gap)),p&&(this.calculatedItemWidth=Math.ceil(Number.parseFloat(h.getComputedStyle(p).width)))}}}return this.calculatedGapBetweenItems&&this.calculatedItemWidth?(this.pageSize=this.calcAvailableItemsCount(n,this.calculatedItemWidth,this.calculatedGapBetweenItems),!0):!1},t.prototype.canDragDrop=function(){return!this.isInputReadOnly&&this.currentMode!=="camera"&&!this.isPlayingVideo},t.prototype.afterRenderQuestionElement=function(e){this.rootElement=e},t.prototype.beforeDestroyQuestionElement=function(e){this.rootElement=void 0},t.prototype.clearFilesCore=function(){if(this.rootElement){var e=this.rootElement.querySelectorAll("input")[0];e&&(e.value="")}this.clear()},t.prototype.doRemoveFile=function(e,n){var r=this;if(n.stopPropagation(),this.needConfirmRemoveFile){to(this.getConfirmRemoveMessage(e.name),function(){r.removeFileCore(e)},void 0,this.getLocale(),this.survey.rootElement);return}this.removeFileCore(e)},t.prototype.removeFileCore=function(e){var n=this.previewValue.indexOf(e);this.removeFileByContent(n===-1?e:this.value[n])},t.prototype.dispose=function(){this.cameraValue=void 0,this.closeVideoStream(),i.prototype.dispose.call(this)},Tt([V()],t.prototype,"isDragging",void 0),Tt([ee({})],t.prototype,"previewValue",void 0),Tt([ee({})],t.prototype,"pages",void 0),Tt([V({defaultValue:0,onSet:function(e,n){n.updateRenderedPages()}})],t.prototype,"indexToShow",void 0),Tt([V({defaultValue:1,onSet:function(e,n){n.updateFileNavigator()}})],t.prototype,"pageSize",void 0),Tt([V({defaultValue:!1})],t.prototype,"containsMultiplyFiles",void 0),Tt([V()],t.prototype,"allowCameraAccess",void 0),Tt([V({onSet:function(e,n){n.isLoadingFromJson||n.updateCurrentMode()}})],t.prototype,"sourceType",void 0),Tt([V()],t.prototype,"canFlipCameraValue",void 0),Tt([V({localizable:{defaultStr:"confirmRemoveFile"}})],t.prototype,"confirmRemoveMessage",void 0),Tt([V({localizable:{defaultStr:"confirmRemoveAllFiles"}})],t.prototype,"confirmRemoveAllMessage",void 0),Tt([V({localizable:{defaultStr:"noFileChosen"}})],t.prototype,"noFileChosenCaption",void 0),Tt([V({localizable:{defaultStr:"chooseFileCaption"}})],t.prototype,"chooseButtonCaption",void 0),Tt([V({localizable:{defaultStr:"replaceFileCaption"}})],t.prototype,"replaceButtonCaption",void 0),Tt([V({localizable:{defaultStr:"removeFileCaption"}})],t.prototype,"removeFileCaption",void 0),Tt([V({localizable:{defaultStr:"loadingFile"}})],t.prototype,"loadingFileTitle",void 0),Tt([V({localizable:{defaultStr:"chooseFile"}})],t.prototype,"chooseFileTitle",void 0),Tt([V({localizable:{defaultStr:"fileOrPhotoPlaceholder"}})],t.prototype,"fileOrPhotoPlaceholder",void 0),Tt([V({localizable:{defaultStr:"photoPlaceholder"}})],t.prototype,"photoPlaceholder",void 0),Tt([V({localizable:{defaultStr:"filePlaceholder"}})],t.prototype,"filePlaceholder",void 0),Tt([V()],t.prototype,"locRenderedPlaceholderValue",void 0),Tt([ee()],t.prototype,"_renderedPages",void 0),t}(wp);H.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0,visible:!1},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0,dependsOn:"showPreview",visibleIf:function(i){return!!i.showPreview}},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"},{name:"sourceType",choices:["file","camera","file-camera"],default:"file",category:"general",visible:!0,visibleIf:function(){return N.supportCreatorV2}},{name:"fileOrPhotoPlaceholder:text",serializationProperty:"locFileOrPhotoPlaceholder",category:"general",visibleIf:function(){return N.supportCreatorV2}},{name:"photoPlaceholder:text",serializationProperty:"locPhotoPlaceholder",category:"general",visibleIf:function(){return N.supportCreatorV2}},{name:"filePlaceholder:text",serializationProperty:"locFilePlaceholder",category:"general",visibleIf:function(){return N.supportCreatorV2}},{name:"allowCameraAccess:switch",category:"general",visible:!1}],function(){return new ql("")},"question"),lt.Instance.registerQuestion("file",function(i){return new ql(i)});var xp=function(){function i(t,e){this.fileQuestion=t,this.callback=e,this.loaded=[]}return i.prototype.load=function(t){var e=this,n=0;this.loaded=new Array(t.length),t.forEach(function(r,o){e.fileQuestion.survey&&e.fileQuestion.survey.downloadFile(e.fileQuestion,e.fileQuestion.name,r,function(c,p){!e.fileQuestion||!e.callback||(c!=="error"?(e.loaded[o]={content:p,name:r.name,type:r.type},n++,n===t.length&&e.callback(c,e.loaded)):e.callback("error",e.loaded))})})},i.prototype.dispose=function(){this.fileQuestion=void 0,this.callback=void 0},i}(),Pb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jl=function(i){Pb(t,i);function t(e){var n=i.call(this,e)||this,r=n.createLocalizableString("html",n);return r.onGetTextCallback=function(o){return n.survey&&!n.ignoreHtmlProgressing?n.processHtml(o):o},n}return t.prototype.getType=function(){return"html"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getProcessedText=function(e){return this.ignoreHtmlProgressing?e:i.prototype.getProcessedText.call(this,e)},Object.defineProperty(t.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(e){this.setLocalizableStringText("html",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processedHtml",{get:function(){return this.processHtml(this.html)},enumerable:!1,configurable:!0}),t.prototype.processHtml=function(e){return this.survey?this.survey.processHtml(e,"html-question"):this.html},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderCssRoot",{get:function(){return new J().append(this.cssClasses.root).append(this.cssClasses.nested,this.getIsNested()).toString()||void 0},enumerable:!1,configurable:!0}),t}(Os);H.addClass("html",[{name:"html:html",serializationProperty:"locHtml"},{name:"hideNumber",visible:!1},{name:"state",visible:!1},{name:"titleLocation",visible:!1},{name:"descriptionLocation",visible:!1},{name:"errorLocation",visible:!1},{name:"indent",visible:!1},{name:"width",visible:!1}],function(){return new jl("")},"nonvalue"),lt.Instance.registerQuestion("html",function(i){return new jl(i)});var xb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nl=function(i){xb(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultItemComponent=function(){return"survey-radiogroup-item"},t.prototype.getType=function(){return"radiogroup"},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton")},set:function(e){this.setPropertyValue("showClearButton",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),t.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0&&!this.isOtherSelected},t.prototype.getConditionJson=function(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var r=i.prototype.getConditionJson.call(this,e,n);return delete r.showClearButton,r},t.prototype.setNewComment=function(e){this.isMouseDown=!0,i.prototype.setNewComment.call(this,e),this.isMouseDown=!1},Object.defineProperty(t.prototype,"showClearButtonInContent",{get:function(){return!this.isDefaultV2Theme&&this.canShowClearButton},enumerable:!1,configurable:!0}),t.prototype.clickItemHandler=function(e){this.isReadOnlyAttr||(this.renderedValue=e.value)},t.prototype.getDefaultTitleActions=function(){var e=this,n=[];if(this.isDefaultV2Theme&&!this.isDesignMode){var r=new ot({title:this.clearButtonCaption,id:"sv-clr-btn-"+this.id,action:function(){e.clearValue(!0)},innerCss:this.cssClasses.clearButton,visible:new At(function(){return e.canShowClearButton})});n.push(r)}return n},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return"radiogroup"},enumerable:!1,configurable:!0}),t}(uo);H.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new Nl("")},"checkboxbase"),lt.Instance.registerQuestion("radiogroup",function(i){var t=new Nl(i);return t.choices=lt.DefaultChoices,t});var Fl=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zt=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Is=function(i){Fl(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this)||this;return r.itemValue=e,r.locString=n,r.locText.onStringChanged.add(r.onStringChangedCallback.bind(r)),r.onStringChangedCallback(),r}return t.prototype.onStringChangedCallback=function(){this.text=this.itemValue.text},Object.defineProperty(t.prototype,"value",{get:function(){return this.itemValue.getPropertyValue("value")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.locString||this.itemValue.locText},enumerable:!1,configurable:!0}),Zt([V({defaultValue:""})],t.prototype,"highlight",void 0),Zt([V({defaultValue:""})],t.prototype,"text",void 0),Zt([V()],t.prototype,"style",void 0),t}($e),Vb=function(i){Fl(t,i);function t(e,n){var r=i.call(this,e)||this;return r.description=n,r}return t}(ke),Bl=function(i){Fl(t,i);function t(e){var n=i.call(this,e)||this;return n._syncPropertiesChanging=!1,n.createItemValues("rateValues"),n.createRenderedRateItems(),n.createLocalizableString("ratingOptionsCaption",n,!1,!0),n.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],function(){return n.createRenderedRateItems()}),n.registerFunctionOnPropertiesValueChanged(["rateType"],function(){n.setIconsToRateValues(),n.createRenderedRateItems(),n.updateRateCount()}),n.registerFunctionOnPropertiesValueChanged(["rateValues"],function(){n.setIconsToRateValues(),n.createRenderedRateItems()}),n.registerSychProperties(["rateValues"],function(){n.autoGenerate=n.rateValues.length==0,n.setIconsToRateValues(),n.createRenderedRateItems()}),n.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],function(){n.updateColors(n.survey.themeVariables)}),n.registerFunctionOnPropertiesValueChanged(["displayMode"],function(){n.updateRenderAsBasedOnDisplayMode(!0)}),n.registerSychProperties(["autoGenerate"],function(){!n.autoGenerate&&n.rateValues.length===0&&n.setPropertyValue("rateValues",n.visibleRateValues),n.autoGenerate&&(n.rateValues.splice(0,n.rateValues.length),n.updateRateMax()),n.createRenderedRateItems()}),n.createLocalizableString("minRateDescription",n,!0).onStringChanged.add(function(r,o){n.hasMinRateDescription=!r.isEmpty}),n.createLocalizableString("maxRateDescription",n,!0).onStringChanged.add(function(r,o){n.hasMaxRateDescription=!r.isEmpty}),n.initPropertyDependencies(),n}return t.prototype.setIconsToRateValues=function(){var e=this;this.rateType=="smileys"&&this.rateValues.map(function(n){return n.icon=e.getItemSmiley(n)})},t.prototype.endLoadingFromJson=function(){i.prototype.endLoadingFromJson.call(this),this.jsonObj.rateMin!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMax===void 0&&this.updateRateMax(),this.jsonObj.rateMax!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMin===void 0&&this.updateRateMin(),this.jsonObj.autoGenerate===void 0&&this.jsonObj.rateValues!==void 0&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues(),this.createRenderedRateItems()},t.prototype.registerSychProperties=function(e,n){var r=this;this.registerFunctionOnPropertiesValueChanged(e,function(){r._syncPropertiesChanging||(r._syncPropertiesChanging=!0,n(),r._syncPropertiesChanging=!1)})},t.prototype.useRateValues=function(){return!!this.rateValues.length&&!this.autoGenerate},t.prototype.updateRateMax=function(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)},t.prototype.updateRateMin=function(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)},t.prototype.updateRateCount=function(){var e=0;this.useRateValues()?e=this.rateValues.length:e=Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1,e>10&&this.rateDisplayMode=="smileys"&&(e=10),this.rateCount=e,this.rateValues.length>e&&this.rateValues.splice(e,this.rateValues.length-e)},t.prototype.initPropertyDependencies=function(){var e=this;this.registerSychProperties(["rateCount"],function(){if(!e.useRateValues())e.rateMax=e.rateMin+e.rateStep*(e.rateCount-1);else if(e.rateCount<e.rateValues.length){if(e.rateCount>=10&&e.rateDisplayMode=="smileys")return;e.rateValues.splice(e.rateCount,e.rateValues.length-e.rateCount)}else for(var n=e.rateValues.length;n<e.rateCount;n++)e.rateValues.push(new ke(v.getString("choices_Item")+(n+1)))}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],function(){e.updateRateCount()})},Object.defineProperty(t.prototype,"showSelectedItemLocText",{get:function(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedItemLocText",{get:function(){var e=this,n;return!this.readOnly&&((n=this.visibleRateValues.filter(function(r){return r.value==e.value})[0])===null||n===void 0?void 0:n.locText)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateValues",{get:function(){return this.getPropertyValue("rateValues")},set:function(e){this.setPropertyValue("rateValues",e),this.createRenderedRateItems()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(e){this.setPropertyValue("rateMin",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(e){this.setPropertyValue("rateMax",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(e){this.setPropertyValue("rateStep",e)},enumerable:!1,configurable:!0}),t.prototype.updateColors=function(e){if(this.colorMode==="monochrome"||!h.isAvailable()||t.colorsCalculated)return;function n(o){var c=getComputedStyle(h.getDocumentElement());return c.getPropertyValue&&c.getPropertyValue(o)}function r(o,c){var p=!!e&&e[o];if(p||(p=n(c)),!p)return null;var y=h.createElement("canvas");if(!y)return null;var b=y.getContext("2d");b.fillStyle=p,b.fillStyle=="#000000"&&(b.fillStyle=n(c));var E=b.fillStyle;if(E.startsWith("rgba"))return E.substring(5,E.length-1).split(",").map(function(Q){return+Q.trim()});var M=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(E);return M?[parseInt(M[1],16),parseInt(M[2],16),parseInt(M[3],16),1]:null}t.badColor=r("--sjs-special-red","--sd-rating-bad-color"),t.normalColor=r("--sjs-special-yellow","--sd-rating-normal-color"),t.goodColor=r("--sjs-special-green","--sd-rating-good-color"),t.badColorLight=r("--sjs-special-red-light","--sd-rating-bad-color-light"),t.normalColorLight=r("--sjs-special-yellow-light","--sd-rating-normal-color-light"),t.goodColorLight=r("--sjs-special-green-light","--sd-rating-good-color-light"),this.colorsCalculated=!0},t.prototype.getDisplayValueCore=function(e,n){if(!this.useRateValues)return i.prototype.getDisplayValueCore.call(this,e,n);var r=ke.getTextOrHtmlByValue(this.visibleRateValues,n);return r||n},Object.defineProperty(t.prototype,"visibleRateValues",{get:function(){return this.renderedRateItems.map(function(e){return e.itemValue})},enumerable:!1,configurable:!0}),t.prototype.supportEmptyValidation=function(){return this.renderAs==="dropdown"},t.prototype.itemValuePropertyChanged=function(e,n,r,o){!this.useRateValues()&&o!==void 0&&(this.autoGenerate=!1),i.prototype.itemValuePropertyChanged.call(this,e,n,r,o)},t.prototype.createRenderedRateItems=function(){var e=this,n=[];this.useRateValues()?n=this.rateValues:n=this.createRateValues(),this.autoGenerate&&(this.rateMax=n[n.length-1].value),this.rateType=="smileys"&&n.length>10&&(n=n.slice(0,10)),this.visibleChoicesValue=n.map(function(r,o){return e.getRatingItemValue(r,o)}),this.renderedRateItems=n.map(function(r,o){var c=null;return e.displayRateDescriptionsAsExtremeItems&&(o==0&&(c=new Is(r,e.minRateDescription&&e.locMinRateDescription||r.locText)),o==n.length-1&&(c=new Is(r,e.maxRateDescription&&e.locMaxRateDescription||r.locText))),c||(c=new Is(r)),c})},t.prototype.createRateValues=function(){for(var e=[],n=this.rateMin,r=this.rateStep;n<=this.rateMax&&e.length<N.ratingMaximumRateValueCount;){var o=new ke(n);o.locOwner=this,o.ownerPropertyName="rateValues",e.push(o),n=this.correctValue(n+r,r)}return e},t.prototype.getRatingItemValue=function(e,n){if(!e)return null;var r=e.value,o;r===this.rateMin&&(o=this.minRateDescription&&this.locMinRateDescription),(r===this.rateMax||n===N.ratingMaximumRateValueCount)&&(o=this.maxRateDescription&&this.locMaxRateDescription);var c=new Vb(r,o);return c.locOwner=e.locOwner,c.ownerPropertyName=e.ownerPropertyName,c},t.prototype.correctValue=function(e,n){if(!e||Math.round(e)==e)return e;for(var r=0;Math.round(n)!=n;)n*=10,r++;return parseFloat(e.toFixed(r))},t.prototype.getType=function(){return"rating"},t.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},t.prototype.getInputId=function(e){return this.inputId+"_"+e},Object.defineProperty(t.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),t.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0||this.renderAs==="dropdown"},t.prototype.supportOther=function(){return!1},t.prototype.getPlainDataCalculatedValue=function(e){var n=i.prototype.getPlainDataCalculatedValue.call(this,e);if(n!==void 0||!this.useRateValues||this.isEmpty())return n;var r=ke.getItemByValue(this.visibleRateValues,this.value);return r?r[e]:void 0},Object.defineProperty(t.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(e){this.setLocalizableStringText("minRateDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(e){this.setLocalizableStringText("maxRateDescription",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasMinLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasMaxLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription},enumerable:!1,configurable:!0}),t.prototype.updateRenderAsBasedOnDisplayMode=function(e){this.isDesignMode?(e||this.renderAs==="dropdown")&&(this.renderAs="default"):(e||this.displayMode!=="auto")&&(this.renderAs=this.displayMode==="dropdown"?"dropdown":"default")},t.prototype.onSurveyLoad=function(){i.prototype.onSurveyLoad.call(this),this.renderAs==="dropdown"&&this.displayMode==="auto"?this.displayMode=this.renderAs:this.updateRenderAsBasedOnDisplayMode()},Object.defineProperty(t.prototype,"rateDisplayMode",{get:function(){return this.rateType},set:function(e){this.rateType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isStar",{get:function(){return this.rateType=="stars"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSmiley",{get:function(){return this.rateType=="smileys"},enumerable:!1,configurable:!0}),t.prototype.getDefaultItemComponent=function(){return this.renderAs=="dropdown"?"sv-rating-dropdown-item":this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"},Object.defineProperty(t.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(e){this.setPropertyValue("itemComponent",e)},enumerable:!1,configurable:!0}),t.prototype.valueToData=function(e){if(this.useRateValues()){var n=ke.getItemByValue(this.rateValues,e);return n?n.value:e}return isNaN(e)?e:parseFloat(e)},t.prototype.setValueFromClick=function(e){if(!this.isReadOnlyAttr){this.value===(typeof this.value=="string"?e:parseFloat(e))?this.clearValue(!0):this.value=e;for(var n=0;n<this.renderedRateItems.length;n++)this.renderedRateItems[n].highlight="none"}},t.prototype.onItemMouseIn=function(e){if(!It&&!(this.isReadOnly||!e.itemValue.isEnabled||this.isDesignMode)){var n=!0,r=this.value!=null;if(this.rateType!=="stars"){e.highlight="highlighted";return}for(var o=0;o<this.renderedRateItems.length;o++)this.renderedRateItems[o].highlight=n&&!r&&"highlighted"||!n&&r&&"unhighlighted"||"none",this.renderedRateItems[o]==e&&(n=!1),this.renderedRateItems[o].itemValue.value==this.value&&(r=!1)}},t.prototype.onItemMouseOut=function(e){It||this.renderedRateItems.forEach(function(n){return n.highlight="none"})},Object.defineProperty(t.prototype,"itemSmallMode",{get:function(){return this.inMatrixMode&&N.matrix.rateSize=="small"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratingRootCss",{get:function(){var e=(this.displayMode=="buttons"||this.survey&&this.survey.isDesignMode)&&this.cssClasses.rootWrappable?this.cssClasses.rootWrappable:"",n="";return(this.hasMaxLabel||this.hasMinLabel)&&(this.rateDescriptionLocation=="top"&&(n=this.cssClasses.rootLabelsTop),this.rateDescriptionLocation=="bottom"&&(n=this.cssClasses.rootLabelsBottom),this.rateDescriptionLocation=="topBottom"&&(n=this.cssClasses.rootLabelsDiagonal)),new J().append(this.cssClasses.root).append(e).append(n).append(this.cssClasses.itemSmall,this.itemSmallMode&&this.rateType!="labels").toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemStarIcon",{get:function(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemStarIconAlt",{get:function(){return this.itemStarIcon+"-2"},enumerable:!1,configurable:!0}),t.prototype.getItemSmiley=function(e){var n=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"],r=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"],o=this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1,c=r.slice(0,o),p=n.filter(function(y){return c.indexOf(y)!=-1});return this.useRateValues()?p[this.rateValues.indexOf(e)]:p[e.value-this.rateMin]},t.prototype.getItemSmileyIconName=function(e){return"icon-"+this.getItemSmiley(e)},t.prototype.getItemClassByText=function(e,n){return this.getItemClass(e)},t.prototype.getRenderedItemColor=function(e,n){var r=n?t.badColorLight:t.badColor,o=n?t.goodColorLight:t.goodColor,c=(this.rateCount-1)/2,p=n?t.normalColorLight:t.normalColor;if(e<c?o=p:(r=p,e-=c),!r||!o)return null;for(var y=[0,0,0,0],b=0;b<4;b++)y[b]=r[b]+(o[b]-r[b])*e/c,b<3&&(y[b]=Math.trunc(y[b]));return"rgba("+y[0]+", "+y[1]+", "+y[2]+", "+y[3]+")"},t.prototype.getItemStyle=function(e,n){if(n===void 0&&(n="none"),this.scaleColorMode==="monochrome"&&this.rateColorMode=="default"||this.isPreviewStyle||this.isReadOnlyStyle)return{};var r=this.visibleRateValues.indexOf(e),o=this.getRenderedItemColor(r,!1),c=n=="highlighted"&&this.scaleColorMode==="colored"&&this.getRenderedItemColor(r,!0);return c?{"--sd-rating-item-color":o,"--sd-rating-item-color-light":c}:{"--sd-rating-item-color":o}},t.prototype.getItemClass=function(e,n){var r=this,o=this.value==e.value;this.isStar&&(this.useRateValues()?o=this.rateValues.indexOf(this.rateValues.filter(function(go){return go.value==r.value})[0])>=this.rateValues.indexOf(e):o=this.value>=e.value);var c=this.isReadOnly||!e.isEnabled,p=!c&&this.value!=e.value&&!(this.survey&&this.survey.isDesignMode),y=this.renderedRateItems.filter(function(go){return go.itemValue==e})[0],b=this.isStar&&(y==null?void 0:y.highlight)=="highlighted",E=this.isStar&&(y==null?void 0:y.highlight)=="unhighlighted",M=this.cssClasses.item,Q=this.cssClasses.selected,X=this.cssClasses.itemDisabled,oe=this.cssClasses.itemReadOnly,we=this.cssClasses.itemPreview,Ce=this.cssClasses.itemHover,ve=this.cssClasses.itemOnError,Ne=null,Ot=null,yn=null,_n=null,Cr=null;this.isStar&&(M=this.cssClasses.itemStar,Q=this.cssClasses.itemStarSelected,X=this.cssClasses.itemStarDisabled,oe=this.cssClasses.itemStarReadOnly,we=this.cssClasses.itemStarPreview,Ce=this.cssClasses.itemStarHover,ve=this.cssClasses.itemStarOnError,Ne=this.cssClasses.itemStarHighlighted,Ot=this.cssClasses.itemStarUnhighlighted,Cr=this.cssClasses.itemStarSmall),this.isSmiley&&(M=this.cssClasses.itemSmiley,Q=this.cssClasses.itemSmileySelected,X=this.cssClasses.itemSmileyDisabled,oe=this.cssClasses.itemSmileyReadOnly,we=this.cssClasses.itemSmileyPreview,Ce=this.cssClasses.itemSmileyHover,ve=this.cssClasses.itemSmileyOnError,Ne=this.cssClasses.itemSmileyHighlighted,yn=this.cssClasses.itemSmileyScaleColored,_n=this.cssClasses.itemSmileyRateColored,Cr=this.cssClasses.itemSmileySmall);var ru=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&e!=this.rateValues[0]&&e!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&e.value!=this.rateMin&&e.value!=this.rateMax)&&e.locText.calculatedText.length<=2&&Number.isInteger(Number(e.locText.calculatedText));return new J().append(M).append(Q,o).append(X,this.isDisabledStyle).append(oe,this.isReadOnlyStyle).append(we,this.isPreviewStyle).append(Ce,p).append(Ne,b).append(yn,this.scaleColorMode=="colored").append(_n,this.rateColorMode=="scale"&&o).append(Ot,E).append(ve,this.hasCssError()).append(Cr,this.itemSmallMode).append(this.cssClasses.itemFixedSize,ru).toString()},t.prototype.getControlClass=function(){return this.isEmpty(),new J().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isDisabledStyle).append(this.cssClasses.controlReadOnly,this.isReadOnlyStyle).append(this.cssClasses.controlPreview,this.isPreviewStyle).toString()},Object.defineProperty(t.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("ratingOptionsCaption")},set:function(e){this.setLocalizableStringText("ratingOptionsCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("ratingOptionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowClear",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"searchEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedValue",{get:function(){return this.value},set:function(e){this.value=e},enumerable:!1,configurable:!0}),t.prototype.isItemSelected=function(e){return e.value==this.value},Object.defineProperty(t.prototype,"visibleChoices",{get:function(){return this.visibleChoicesValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnlyText",{get:function(){return this.readOnly?this.displayValue||this.placeholder:this.isEmpty()?this.placeholder:""},enumerable:!1,configurable:!0}),t.prototype.needResponsiveWidth=function(){this.getPropertyValue("rateValues");var e=this.getPropertyValue("rateStep"),n=this.getPropertyValue("rateMax"),r=this.getPropertyValue("rateMin");return this.displayMode!="dropdown"&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||e&&(n-r)/e>9)},t.prototype.supportResponsiveness=function(){return!0},t.prototype.onBeforeSetCompactRenderer=function(){this.dropdownListModelValue||(this.dropdownListModel=new xs(this))},t.prototype.getCompactRenderAs=function(){return this.displayMode=="buttons"?"default":"dropdown"},t.prototype.getDesktopRenderAs=function(){return this.displayMode=="dropdown"?"dropdown":"default"},Object.defineProperty(t.prototype,"dropdownListModel",{get:function(){return this.renderAs==="dropdown"&&this.onBeforeSetCompactRenderer(),this.dropdownListModelValue},set:function(e){this.dropdownListModelValue=e,this.updateElementCss()},enumerable:!1,configurable:!0}),t.prototype.onBlurCore=function(e){var n;(n=this.dropdownListModel)===null||n===void 0||n.onBlur(e),i.prototype.onBlurCore.call(this,e)},t.prototype.updateCssClasses=function(e,n){if(i.prototype.updateCssClasses.call(this,e,n),this.dropdownListModel){var r={};dr(n.list,r),dr(e.list,r),e.list=r}},t.prototype.calcCssClasses=function(e){var n=i.prototype.calcCssClasses.call(this,e);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(n.popup,n.list),n},t.prototype.themeChanged=function(e){this.colorsCalculated=!1,this.updateColors(e.cssVariables),this.createRenderedRateItems()},t.prototype.setSurveyImpl=function(e,n){i.prototype.setSurveyImpl.call(this,e,n),this.survey&&(this.updateColors(this.survey.themeVariables),this.updateRenderAsBasedOnDisplayMode())},t.prototype.dispose=function(){i.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},t.colorsCalculated=!1,Zt([V({defaultValue:!1})],t.prototype,"inputHasValue",void 0),Zt([V()],t.prototype,"autoGenerate",void 0),Zt([V()],t.prototype,"rateCount",void 0),Zt([ee()],t.prototype,"renderedRateItems",void 0),Zt([V({defaultValue:!1})],t.prototype,"hasMinRateDescription",void 0),Zt([V({defaultValue:!1})],t.prototype,"hasMaxRateDescription",void 0),Zt([V()],t.prototype,"displayRateDescriptionsAsExtremeItems",void 0),Zt([V()],t.prototype,"displayMode",void 0),Zt([V()],t.prototype,"rateDescriptionLocation",void 0),Zt([V()],t.prototype,"rateType",void 0),Zt([V()],t.prototype,"scaleColorMode",void 0),Zt([V()],t.prototype,"rateColorMode",void 0),t}(zt);H.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:1},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(i){return i.rateDisplayMode=="smileys"},visibleIndex:2},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(i){return i.rateDisplayMode=="smileys"&&i.scaleColorMode=="monochrome"},visibleIndex:3},{name:"autoGenerate",category:"rateValues",default:!0,choices:[!0,!1],visibleIndex:5},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:4,onSettingValue:function(i,t){return t<2?2:t>N.ratingMaximumRateValueCount&&t>i.rateValues.length?N.ratingMaximumRateValueCount:t>10&&i.rateDisplayMode=="smileys"?10:t}},{name:"rateValues:itemvalue[]",baseValue:function(){return v.getString("choices_Item")},category:"rateValues",visibleIf:function(i){return!i.autoGenerate},visibleIndex:6},{name:"rateMin:number",default:1,onSettingValue:function(i,t){return t>i.rateMax-i.rateStep?i.rateMax-i.rateStep:t},visibleIf:function(i){return!!i.autoGenerate},visibleIndex:7},{name:"rateMax:number",default:5,onSettingValue:function(i,t){return t<i.rateMin+i.rateStep?i.rateMin+i.rateStep:t},visibleIf:function(i){return!!i.autoGenerate},visibleIndex:8},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:function(i,t){return t<=0&&(t=1),t>i.rateMax-i.rateMin&&(t=i.rateMax-i.rateMin),t},visibleIf:function(i){return!!i.autoGenerate},visibleIndex:9},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:18},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:19},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:21,visibleIf:function(i){return i.rateType=="labels"}},{name:"rateDescriptionLocation",default:"leftRight",choices:["leftRight","top","bottom","topBottom"],visibleIndex:20},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIndex:0},{name:"itemComponent",visible:!1,defaultFunc:function(i){return i?(i.getOriginalObj&&(i=i.getOriginalObj()),i.getDefaultItemComponent()):"sv-rating-item"}}],function(){return new Bl("")},"question"),lt.Instance.registerQuestion("rating",function(i){return new Bl(i)});var Sb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pi=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Hl=function(i){Sb(t,i);function t(e){var n=i.call(this,e)||this;return n.createLocalizableString("labelFalse",n,!0,"booleanUncheckedLabel"),n.createLocalizableString("labelTrue",n,!0,"booleanCheckedLabel"),n}return t.prototype.getType=function(){return"boolean"},t.prototype.isLayoutTypeSupported=function(e){return!0},t.prototype.supportGoNextPageAutomatic=function(){return this.renderAs!=="checkbox"},Object.defineProperty(t.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"booleanValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(e){this.isReadOnly||this.isDesignMode||this.setBooleanValue(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkedValue",{get:function(){return this.booleanValue},set:function(e){this.booleanValue=e},enumerable:!1,configurable:!0}),t.prototype.setBooleanValue=function(e){this.isValueEmpty(e)?(this.value=void 0,this.booleanValueRendered=void 0):(this.value=e==!0?this.getValueTrue():this.getValueFalse(),this.booleanValueRendered=e)},Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(e){e===!0&&(e="true"),e===!1&&(e="false"),this.setPropertyValue("defaultValue",e),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),t.prototype.getDefaultValue=function(){var e=this.defaultValue;if(!(e==="indeterminate"||e===void 0||e===null))return e=="true"?this.getValueTrue():this.getValueFalse()},Object.defineProperty(t.prototype,"locTitle",{get:function(){var e=this.getLocalizableString("title");return!this.isValueEmpty(this.locLabel.text)&&(this.isValueEmpty(e.text)||this.isLabelRendered&&!this.showTitle)?this.locLabel:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelRenderedAriaID",{get:function(){return this.isLabelRendered?this.ariaTitleId:null},enumerable:!1,configurable:!0}),t.prototype.beforeDestroyQuestionElement=function(e){i.prototype.beforeDestroyQuestionElement.call(this,e),this.leftAnswerElement=void 0},Object.defineProperty(t.prototype,"isLabelRendered",{get:function(){return this.titleLocation==="hidden"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRenderLabelDescription",{get:function(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(e){this.setLocalizableStringText("labelTrue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDeterminated",{get:function(){return this.booleanValue!==null&&this.booleanValue!==void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelLeft",{get:function(){return this.swapOrder?this.getLocalizableString("labelTrue"):this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelRight",{get:function(){return this.swapOrder?this.getLocalizableString("labelFalse"):this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(e){this.setLocalizableStringText("labelFalse",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),t.prototype.getValueTrue=function(){return this.valueTrue!==void 0?this.valueTrue:!0},t.prototype.getValueFalse=function(){return this.valueFalse!==void 0?this.valueFalse:!1},t.prototype.setDefaultValue=function(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1);var e=this.defaultValue;(e==="indeterminate"||e===null||e===void 0)&&this.setBooleanValue(void 0)},t.prototype.isDefaultValueSet=function(e,n){return this.defaultValue==e||n!==void 0&&this.defaultValue===n},t.prototype.getDisplayValueCore=function(e,n){return n==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml},t.prototype.getItemCssValue=function(e){return new J().append(e.item).append(e.itemOnError,this.hasCssError()).append(e.itemDisabled,this.isDisabledStyle).append(e.itemReadOnly,this.isReadOnlyStyle).append(e.itemPreview,this.isPreviewStyle).append(e.itemHover,!this.isDesignMode).append(e.itemChecked,!!this.booleanValue).append(e.itemExchanged,!!this.swapOrder).append(e.itemIndeterminate,!this.isDeterminated).toString()},t.prototype.getItemCss=function(){return this.getItemCssValue(this.cssClasses)},t.prototype.getCheckboxItemCss=function(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemDisable:this.cssClasses.checkboxItemDisabled,itemReadOnly:this.cssClasses.checkboxItemReadOnly,itemPreview:this.cssClasses.checkboxItemPreview,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})},t.prototype.getLabelCss=function(e){return new J().append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!e||this.isDisabledStyle).append(this.cssClasses.labelReadOnly,this.isReadOnlyStyle).append(this.cssClasses.labelPreview,this.isPreviewStyle).append(this.cssClasses.labelTrue,!this.isIndeterminate&&e===!this.swapOrder).append(this.cssClasses.labelFalse,!this.isIndeterminate&&e===this.swapOrder).toString()},t.prototype.updateValueFromSurvey=function(e,n){n===void 0&&(n=!1),i.prototype.updateValueFromSurvey.call(this,e,n)},t.prototype.onValueChanged=function(){i.prototype.onValueChanged.call(this)},Object.defineProperty(t.prototype,"svgIcon",{get:function(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:!this.isDeterminated&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemSvgIcon",{get:function(){return this.isPreviewStyle&&this.cssClasses.itemPreviewSvgIconId?this.cssClasses.itemPreviewSvgIconId:this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowClick",{get:function(){return this.isIndeterminate&&!this.isInputReadOnly},enumerable:!1,configurable:!0}),t.prototype.getCheckedLabel=function(){if(this.booleanValue===!0)return this.locLabelTrue;if(this.booleanValue===!1)return this.locLabelFalse},t.prototype.setQuestionValue=function(e,n){n===void 0&&(n=!0),e==="true"&&this.valueTrue!=="true"&&(e=!0),e==="false"&&this.valueFalse!=="false"&&(e=!1),(e==="indeterminate"||e===null)&&(e=void 0),i.prototype.setQuestionValue.call(this,e,n)},t.prototype.onLabelClick=function(e,n){return this.allowClick&&(ad(e),this.booleanValue=n),!0},t.prototype.calculateBooleanValueByEvent=function(e,n){var r=!1;h.isAvailable()&&(r=h.getComputedStyle(e.target).direction=="rtl"),this.booleanValue=r?!n:n},t.prototype.onSwitchClickModel=function(e){if(this.allowClick){ad(e);var n=e.offsetX/e.target.offsetWidth>.5;this.calculateBooleanValueByEvent(e,n);return}return!0},t.prototype.onKeyDownCore=function(e){return(e.key==="ArrowLeft"||e.key==="ArrowRight")&&(e.stopPropagation(),this.calculateBooleanValueByEvent(e,e.key==="ArrowRight")),!0},t.prototype.getRadioItemClass=function(e,n){var r=void 0;return e.radioItem&&(r=e.radioItem),e.radioItemChecked&&n===this.booleanValue&&(r=(r?r+" ":"")+e.radioItemChecked),this.isDisabledStyle&&(r+=" "+e.radioItemDisabled),this.isReadOnlyStyle&&(r+=" "+e.radioItemReadOnly),this.isPreviewStyle&&(r+=" "+e.radioItemPreview),r},t.prototype.supportResponsiveness=function(){return!0},t.prototype.getCompactRenderAs=function(){return"radio"},t.prototype.createActionContainer=function(e){return i.prototype.createActionContainer.call(this,this.renderAs!=="checkbox")},Object.defineProperty(t.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a11y_input_ariaRole",{get:function(){return"switch"},enumerable:!1,configurable:!0}),Pi([V()],t.prototype,"booleanValueRendered",void 0),Pi([V()],t.prototype,"showTitle",void 0),Pi([V({localizable:!0})],t.prototype,"label",void 0),Pi([V({defaultValue:!1})],t.prototype,"swapOrder",void 0),Pi([V()],t.prototype,"valueTrue",void 0),Pi([V()],t.prototype,"valueFalse",void 0),t}(zt);H.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"swapOrder:boolean",category:"general"},{name:"renderAs",default:"default",visible:!1}],function(){return new Hl("")},"question"),lt.Instance.registerQuestion("boolean",function(i){return new Hl(i)});var Vp=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Un=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Sp=function(i){Vp(t,i);function t(e,n,r){n===void 0&&(n=null),r===void 0&&(r="imageitemvalue");var o=i.call(this,e,n,r)||this;return o.typeName=r,o.createLocalizableString("imageLink",o,!1),o}return t.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(t.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(e){this.setLocalizableStringText("imageLink",e),this.imageNotLoaded=!1,this.videoNotLoaded=!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),t.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},t.prototype.getMarkdownHtml=function(e,n){return this.locOwner?this.locOwner.getMarkdownHtml(e,n):void 0},t.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},t.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},t.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},t.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},Object.defineProperty(t.prototype,"contentNotLoaded",{get:function(){return this.locOwner instanceof fo&&this.locOwner.contentMode=="video"?this.videoNotLoaded:this.imageNotLoaded},set:function(e){this.locOwner instanceof fo&&this.locOwner.contentMode=="video"?this.videoNotLoaded=e:this.imageNotLoaded=e},enumerable:!1,configurable:!0}),Un([V({defaultValue:!1})],t.prototype,"videoNotLoaded",void 0),Un([V({defaultValue:!1})],t.prototype,"imageNotLoaded",void 0),t}(ke),fo=function(i){Vp(t,i);function t(e){var n=i.call(this,e)||this;return n.isResponsiveValue=!1,n.onContentLoaded=function(r,o){r.contentNotLoaded=!1;var c=o.target;n.contentMode=="video"?r.aspectRatio=c.videoWidth/c.videoHeight:r.aspectRatio=c.naturalWidth/c.naturalHeight,n._width&&n.processResponsiveness(0,n._width)},n.colCount=0,n.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],function(){n._width&&n.processResponsiveness(0,n._width)}),n.registerPropertyChangedHandlers(["imageWidth","imageHeight"],function(){n.calcIsResponsive()}),n.calcIsResponsive(),n}return t.prototype.getType=function(){return"imagepicker"},t.prototype.supportGoNextPageAutomatic=function(){return!this.multiSelect},Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.supportOther=function(){return!1},t.prototype.supportNone=function(){return!1},t.prototype.supportRefuse=function(){return!1},t.prototype.supportDontKnow=function(){return!1},t.prototype.isAnswerCorrect=function(){return this.multiSelect?g.isArrayContainsEqual(this.value,this.correctAnswer):i.prototype.isAnswerCorrect.call(this)},Object.defineProperty(t.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect")},set:function(e){this.setPropertyValue("multiSelect",e)},enumerable:!1,configurable:!0}),t.prototype.isItemSelected=function(e){var n=this.value,r=e;if(this.isValueEmpty(n)||!r.imageLink||r.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(n,e.value);if(!Array.isArray(n))return!1;for(var o=0;o<n.length;o++)if(this.isTwoValueEquals(n[o],e.value))return!0;return!1},t.prototype.getItemEnabled=function(e){var n=e;return!n.imageLink||n.contentNotLoaded?!1:i.prototype.getItemEnabled.call(this,e)},t.prototype.clearIncorrectValues=function(){if(this.multiSelect){var e=this.value;if(!e)return;if(!Array.isArray(e)||e.length==0){this.clearValue(!0);return}for(var n=[],r=0;r<e.length;r++)this.hasUnknownValue(e[r],!0)||n.push(e[r]);if(n.length==e.length)return;n.length==0?this.clearValue(!0):this.value=n}else i.prototype.clearIncorrectValues.call(this)},t.prototype.getDisplayValueCore=function(e,n){return!this.multiSelect&&!Array.isArray(n)?i.prototype.getDisplayValueCore.call(this,e,n):this.getDisplayArrayValue(e,n)},Object.defineProperty(t.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel")},set:function(e){this.setPropertyValue("showLabel",e)},enumerable:!1,configurable:!0}),t.prototype.endLoadingFromJson=function(){i.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()},t.prototype.getValueCore=function(){var e=i.prototype.getValueCore.call(this);return e!==void 0?e:this.multiSelect?[]:e},t.prototype.convertValToArrayForMultSelect=function(e){return!this.multiSelect||this.isValueEmpty(e)||Array.isArray(e)?e:[e]},t.prototype.renderedValueFromDataCore=function(e){return this.convertValToArrayForMultSelect(e)},t.prototype.rendredValueToDataCore=function(e){return this.convertValToArrayForMultSelect(e)},Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedImageHeight",{get:function(){var e=this.isResponsive?Math.floor(this.responsiveImageHeight):this.imageHeight;return e||150},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedImageWidth",{get:function(){var e=this.isResponsive?Math.floor(this.responsiveImageWidth):this.imageWidth;return e||200},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(e){this.setPropertyValue("imageFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(e){this.setPropertyValue("contentMode",e),e==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),t.prototype.convertDefaultValue=function(e){return e},Object.defineProperty(t.prototype,"inputType",{get:function(){return this.multiSelect?"checkbox":"radio"},enumerable:!1,configurable:!0}),t.prototype.isBuiltInChoice=function(e){return!1},t.prototype.addToVisibleChoices=function(e,n){this.addNewItemToVisibleChoices(e,n)},t.prototype.getSelectBaseRootCss=function(){return new J().append(i.prototype.getSelectBaseRootCss.call(this)).append(this.cssClasses.rootColumn,this.getCurrentColCount()==1).toString()},Object.defineProperty(t.prototype,"isResponsive",{get:function(){return this.isResponsiveValue&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exactSizesAreEmpty",{get:function(){var e=this;return!["imageHeight","imageWidth"].some(function(n){return e[n]!==void 0&&e[n]!==null})},enumerable:!1,configurable:!0}),t.prototype.calcIsResponsive=function(){this.isResponsiveValue=this.exactSizesAreEmpty},t.prototype.getObservedElementSelector=function(){return Bn(this.cssClasses.root)},t.prototype.supportResponsiveness=function(){return!0},t.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},t.prototype.needResponsiveWidth=function(){return this.colCount>2},t.prototype.getCurrentColCount=function(){return this.responsiveColCount===void 0||this.colCount===0?this.colCount:this.responsiveColCount},t.prototype.processResponsiveness=function(e,n){this._width=n=Math.floor(n);var r=function(Ne,Ot,yn){var _n=Math.floor(Ne/(Ot+yn));return(_n+1)*(Ot+yn)-yn<=Ne&&_n++,_n};if(this.isResponsive){var o=this.choices.length+(this.isDesignMode?1:0),c=this.gapBetweenItems||0,p=this.minImageWidth,y=this.maxImageWidth,b=this.maxImageHeight,E=this.minImageHeight,M=this.colCount,Q;if(M===0)if((c+p)*o-c>n){var X=r(n,p,c);Q=Math.floor((n-c*(X-1))/X)}else Q=Math.floor((n-c*(o-1))/o);else{var oe=r(n,p,c);oe<M?(this.responsiveColCount=oe>=1?oe:1,M=this.responsiveColCount):this.responsiveColCount=M,Q=Math.floor((n-c*(M-1))/M)}Q=Math.max(p,Math.min(Q,y));var we=Number.MIN_VALUE;this.choices.forEach(function(Ne){var Ot=Q/Ne.aspectRatio;we=Ot>we?Ot:we}),we>b?we=b:we<E&&(we=E);var Ce=this.responsiveImageWidth,ve=this.responsiveImageHeight;return this.responsiveImageWidth=Q,this.responsiveImageHeight=we,Ce!==this.responsiveImageWidth||ve!==this.responsiveImageHeight}return!1},t.prototype.triggerResponsiveness=function(e){e===void 0&&(e=!0),e&&this.reCalcGapBetweenItemsCallback&&this.reCalcGapBetweenItemsCallback(),i.prototype.triggerResponsiveness.call(this,e)},t.prototype.afterRender=function(e){var n=this;i.prototype.afterRender.call(this,e);var r=this.getObservedElementSelector(),o=e&&r?e.querySelector(r):void 0;o&&(this.reCalcGapBetweenItemsCallback=function(){n.gapBetweenItems=Math.ceil(Number.parseFloat(h.getComputedStyle(o).gap))||16},this.reCalcGapBetweenItemsCallback())},Un([V({})],t.prototype,"responsiveImageHeight",void 0),Un([V({})],t.prototype,"responsiveImageWidth",void 0),Un([V({})],t.prototype,"isResponsiveValue",void 0),Un([V({})],t.prototype,"maxImageWidth",void 0),Un([V({})],t.prototype,"minImageWidth",void 0),Un([V({})],t.prototype,"maxImageHeight",void 0),Un([V({})],t.prototype,"minImageHeight",void 0),Un([V({})],t.prototype,"responsiveColCount",void 0),t}(uo);H.addClass("imageitemvalue",[{name:"imageLink:file",serializationProperty:"locImageLink"}],function(i){return new Sp(i)},"itemvalue"),H.addClass("responsiveImageSize",[],void 0,"number"),H.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"showRefuseItem",visible:!1},{name:"showDontKnowItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0,visibleIf:function(){return N.supportCreatorV2}},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0,visibleIf:function(){return N.supportCreatorV2}},{name:"maxImageWidth:responsiveImageSize",default:400,minValue:0,visibleIf:function(){return N.supportCreatorV2}},{name:"maxImageHeight:responsiveImageSize",default:266,minValue:0,visibleIf:function(){return N.supportCreatorV2}}],function(){return new fo("")},"checkboxbase"),H.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),H.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),H.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),H.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),lt.Instance.registerQuestion("imagepicker",function(i){var t=new fo(i);return t});var Tb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ob=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Tp=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],Rb="https://www.youtube.com/",Op="embed",Ql=function(i){Tb(t,i);function t(e){var n=i.call(this,e)||this,r=n.createLocalizableString("imageLink",n,!1);return r.onGetTextCallback=function(o){return Ib(o,n.contentMode=="youtube")},n.createLocalizableString("altText",n,!1),n.registerPropertyChangedHandlers(["contentMode","imageLink"],function(){return n.calculateRenderedMode()}),n}return t.prototype.getType=function(){return"image"},Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.onSurveyLoad=function(){i.prototype.onSurveyLoad.call(this),this.calculateRenderedMode()},Object.defineProperty(t.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(e){this.setLocalizableStringText("imageLink",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"altText",{get:function(){return this.getLocalizableStringText("altText")},set:function(e){this.setLocalizableStringText("altText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locAltText",{get:function(){return this.getLocalizableString("altText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(e){this.setPropertyValue("imageHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleHeight",{get:function(){return this.imageHeight?ss(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedHeight",{get:function(){return this.imageHeight?Br(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(e){this.setPropertyValue("imageWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStyleWidth",{get:function(){return this.imageWidth?ss(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedWidth",{get:function(){return this.imageWidth?Br(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(e){this.setPropertyValue("imageFit",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(e){this.setPropertyValue("contentMode",e),e==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMode",{get:function(){return this.getPropertyValue("renderedMode","image")},enumerable:!1,configurable:!0}),t.prototype.getImageCss=function(){var e=this.getPropertyByName("imageHeight"),n=this.getPropertyByName("imageWidth"),r=e.isDefaultValue(this.imageHeight)&&n.isDefaultValue(this.imageWidth);return new J().append(this.cssClasses.image).append(this.cssClasses.adaptive,r).toString()},t.prototype.onLoadHandler=function(){this.contentNotLoaded=!1},t.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},t.prototype.setRenderedMode=function(e){this.setPropertyValue("renderedMode",e)},t.prototype.calculateRenderedMode=function(){this.contentMode!=="auto"?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")},t.prototype.isYoutubeVideo=function(){return g.isUrlYoutubeVideo(this.imageLink)},t.prototype.isVideo=function(){var e=this.imageLink;if(!e)return!1;e=e.toLowerCase();for(var n=0;n<Tp.length;n++)if(e.endsWith(Tp[n]))return!0;return!1},Ob([V({defaultValue:!1})],t.prototype,"contentNotLoaded",void 0),t}(Os);function Ib(i,t){if(!i||!g.isUrlYoutubeVideo(i))return t?"":i;var e=i.toLocaleLowerCase();if(e.indexOf(Op)>-1)return i;for(var n="",r=i.length-1;r>=0&&!(i[r]==="="||i[r]==="/");r--)n=i[r]+n;return Rb+Op+"/"+n}H.addClass("image",[{name:"imageLink:file",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new Ql("")},"nonvalue"),lt.Instance.registerQuestion("image",function(i){return new Ql(i)});/*!
 * Signature Pad v4.2.0 | https://github.com/szimek/signature_pad
 * (c) 2024 Szymon Nowak | Released under the MIT license
 */class Es{constructor(t,e,n,r){if(isNaN(t)||isNaN(e))throw new Error(`Point is invalid: (${t}, ${e})`);this.x=+t,this.y=+e,this.pressure=n||0,this.time=r||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class zl{static fromPoints(t,e){const n=this.calculateControlPoints(t[0],t[1],t[2]).c2,r=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new zl(t[1],n,r,t[2],e.start,e.end)}static calculateControlPoints(t,e,n){const r=t.x-e.x,o=t.y-e.y,c=e.x-n.x,p=e.y-n.y,y={x:(t.x+e.x)/2,y:(t.y+e.y)/2},b={x:(e.x+n.x)/2,y:(e.y+n.y)/2},E=Math.sqrt(r*r+o*o),M=Math.sqrt(c*c+p*p),Q=y.x-b.x,X=y.y-b.y,oe=M/(E+M),we={x:b.x+Q*oe,y:b.y+X*oe},Ce=e.x-we.x,ve=e.y-we.y;return{c1:new Es(y.x+Ce,y.y+ve),c2:new Es(b.x+Ce,b.y+ve)}}constructor(t,e,n,r,o,c){this.startPoint=t,this.control2=e,this.control1=n,this.endPoint=r,this.startWidth=o,this.endWidth=c}length(){let e=0,n,r;for(let o=0;o<=10;o+=1){const c=o/10,p=this.point(c,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),y=this.point(c,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){const b=p-n,E=y-r;e+=Math.sqrt(b*b+E*E)}n=p,r=y}return e}point(t,e,n,r,o){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+o*t*t*t}}class Eb{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(t,e,n){this._et.addEventListener(t,e,n)}dispatchEvent(t){return this._et.dispatchEvent(t)}removeEventListener(t,e,n){this._et.removeEventListener(t,e,n)}}function _b(i,t=250){let e=0,n=null,r,o,c;const p=()=>{e=Date.now(),n=null,r=i.apply(o,c),n||(o=null,c=[])};return function(...b){const E=Date.now(),M=t-(E-e);return o=this,c=b,M<=0||M>t?(n&&(clearTimeout(n),n=null),e=E,r=i.apply(o,c),n||(o=null,c=[])):n||(n=window.setTimeout(p,M)),r}}class _s extends Eb{constructor(t,e={}){super(),this.canvas=t,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=n=>{n.buttons===1&&this._strokeBegin(n)},this._handleMouseMove=n=>{this._strokeMoveUpdate(n)},this._handleMouseUp=n=>{n.buttons===1&&this._strokeEnd(n)},this._handleTouchStart=n=>{if(n.cancelable&&n.preventDefault(),n.targetTouches.length===1){const r=n.changedTouches[0];this._strokeBegin(r)}},this._handleTouchMove=n=>{n.cancelable&&n.preventDefault();const r=n.targetTouches[0];this._strokeMoveUpdate(r)},this._handleTouchEnd=n=>{if(n.target===this.canvas){n.cancelable&&n.preventDefault();const o=n.changedTouches[0];this._strokeEnd(o)}},this._handlePointerStart=n=>{n.preventDefault(),this._strokeBegin(n)},this._handlePointerMove=n=>{this._strokeMoveUpdate(n)},this._handlePointerEnd=n=>{this._drawingStroke&&(n.preventDefault(),this._strokeEnd(n))},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle="throttle"in e?e.throttle:16,this.minDistance="minDistance"in e?e.minDistance:5,this.dotSize=e.dotSize||0,this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=e.compositeOperation||"source-over",this.canvasContextOptions="canvasContextOptions"in e?e.canvasContextOptions:{},this._strokeMoveUpdate=this.throttle?_b(_s.prototype._strokeUpdate,this.throttle):_s.prototype._strokeUpdate,this._ctx=t.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){const{_ctx:t,canvas:e}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(t,e={}){return new Promise((n,r)=>{const o=new Image,c=e.ratio||window.devicePixelRatio||1,p=e.width||this.canvas.width/c,y=e.height||this.canvas.height/c,b=e.xOffset||0,E=e.yOffset||0;this._reset(this._getPointGroupOptions()),o.onload=()=>{this._ctx.drawImage(o,b,E,p,y),n()},o.onerror=M=>{r(M)},o.crossOrigin="anonymous",o.src=t,this._isEmpty=!1})}toDataURL(t="image/png",e){switch(t){case"image/svg+xml":return typeof e!="object"&&(e=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(e))}`;default:return typeof e!="number"&&(e=void 0),this.canvas.toDataURL(t,e)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t,{clear:e=!0}={}){e&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:t,cancelable:!0})))return;this._drawingStroke=!0;const n=this._getPointGroupOptions(),r=Object.assign(Object.assign({},n),{points:[]});this._data.push(r),this._reset(n),this._strokeUpdate(t)}_strokeUpdate(t){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(t);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));const e=t.clientX,n=t.clientY,r=t.pressure!==void 0?t.pressure:t.force!==void 0?t.force:0,o=this._createPoint(e,n,r),c=this._data[this._data.length-1],p=c.points,y=p.length>0&&p[p.length-1],b=y?o.distanceTo(y)<=this.minDistance:!1,E=this._getPointGroupOptions(c);if(!y||!(y&&b)){const M=this._addPoint(o,E);y?M&&this._drawCurve(M,E):this._drawDot(o,E),p.push({time:o.time,x:o.x,y:o.y,pressure:o.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t){this._drawingStroke&&(this._strokeUpdate(t),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:t})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,e,n){const r=this.canvas.getBoundingClientRect();return new Es(t-r.left,e-r.top,n,new Date().getTime())}_addPoint(t,e){const{_lastPoints:n}=this;if(n.push(t),n.length>2){n.length===3&&n.unshift(n[0]);const r=this._calculateCurveWidths(n[1],n[2],e),o=zl.fromPoints(n,r);return n.shift(),o}return null}_calculateCurveWidths(t,e,n){const r=n.velocityFilterWeight*e.velocityFrom(t)+(1-n.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(r,n),c={end:o,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=o,c}_strokeWidth(t,e){return Math.max(e.maxWidth/(t+1),e.minWidth)}_drawCurveSegment(t,e,n){const r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,e){const n=this._ctx,r=t.endWidth-t.startWidth,o=Math.ceil(t.length())*2;n.beginPath(),n.fillStyle=e.penColor;for(let c=0;c<o;c+=1){const p=c/o,y=p*p,b=y*p,E=1-p,M=E*E,Q=M*E;let X=Q*t.startPoint.x;X+=3*M*p*t.control1.x,X+=3*E*y*t.control2.x,X+=b*t.endPoint.x;let oe=Q*t.startPoint.y;oe+=3*M*p*t.control1.y,oe+=3*E*y*t.control2.y,oe+=b*t.endPoint.y;const we=Math.min(t.startWidth+b*r,e.maxWidth);this._drawCurveSegment(X,oe,we)}n.closePath(),n.fill()}_drawDot(t,e){const n=this._ctx,r=e.dotSize>0?e.dotSize:(e.minWidth+e.maxWidth)/2;n.beginPath(),this._drawCurveSegment(t.x,t.y,r),n.closePath(),n.fillStyle=e.penColor,n.fill()}_fromData(t,e,n){for(const r of t){const{points:o}=r,c=this._getPointGroupOptions(r);if(o.length>1)for(let p=0;p<o.length;p+=1){const y=o[p],b=new Es(y.x,y.y,y.pressure,y.time);p===0&&this._reset(c);const E=this._addPoint(b,c);E&&e(E,c)}else this._reset(c),n(o[0],c)}}toSVG({includeBackgroundColor:t=!1}={}){const e=this._data,n=Math.max(window.devicePixelRatio||1,1),r=0,o=0,c=this.canvas.width/n,p=this.canvas.height/n,y=document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.setAttribute("xmlns","http://www.w3.org/2000/svg"),y.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),y.setAttribute("viewBox",`${r} ${o} ${c} ${p}`),y.setAttribute("width",c.toString()),y.setAttribute("height",p.toString()),t&&this.backgroundColor){const b=document.createElement("rect");b.setAttribute("width","100%"),b.setAttribute("height","100%"),b.setAttribute("fill",this.backgroundColor),y.appendChild(b)}return this._fromData(e,(b,{penColor:E})=>{const M=document.createElement("path");if(!isNaN(b.control1.x)&&!isNaN(b.control1.y)&&!isNaN(b.control2.x)&&!isNaN(b.control2.y)){const Q=`M ${b.startPoint.x.toFixed(3)},${b.startPoint.y.toFixed(3)} C ${b.control1.x.toFixed(3)},${b.control1.y.toFixed(3)} ${b.control2.x.toFixed(3)},${b.control2.y.toFixed(3)} ${b.endPoint.x.toFixed(3)},${b.endPoint.y.toFixed(3)}`;M.setAttribute("d",Q),M.setAttribute("stroke-width",(b.endWidth*2.25).toFixed(3)),M.setAttribute("stroke",E),M.setAttribute("fill","none"),M.setAttribute("stroke-linecap","round"),y.appendChild(M)}},(b,{penColor:E,dotSize:M,minWidth:Q,maxWidth:X})=>{const oe=document.createElement("circle"),we=M>0?M:(Q+X)/2;oe.setAttribute("r",we.toString()),oe.setAttribute("cx",b.x.toString()),oe.setAttribute("cy",b.y.toString()),oe.setAttribute("fill",E),y.appendChild(oe)}),y.outerHTML}}var Ab=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),tr=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Db=300,Lb=200,Ul=function(i){Ab(t,i);function t(e){var n=i.call(this,e)||this;return n.valueIsUpdatingInternally=!1,n.updateValueHandler=function(){n.scaleCanvas(!1,!0),n.refreshCanvas()},n}return t.prototype.getPenColorFromTheme=function(){var e=this.survey;return!!e&&!!e.themeVariables&&e.themeVariables["--sjs-primary-backcolor"]},t.prototype.updateColors=function(e){var n=this.getPenColorFromTheme(),r=this.getPropertyByName("penColor");e.penColor=this.penColor||n||r.defaultValue||"#1ab394";var o=this.getPropertyByName("backgroundColor"),c=n?"transparent":void 0,p=this.backgroundImage?"transparent":this.backgroundColor;e.backgroundColor=p||c||o.defaultValue||"#ffffff"},t.prototype.getCssRoot=function(e){return new J().append(i.prototype.getCssRoot.call(this,e)).append(e.small,this.signatureWidth.toString()==="300").toString()},t.prototype.getFormat=function(){return this.dataFormat==="jpeg"?"image/jpeg":this.dataFormat==="svg"?"image/svg+xml":""},t.prototype.updateValue=function(){if(this.signaturePad){var e=this.signaturePad.toDataURL(this.getFormat());this.valueIsUpdatingInternally=!0,this.value=e,this.valueIsUpdatingInternally=!1}},t.prototype.getType=function(){return"signaturepad"},t.prototype.afterRenderQuestionElement=function(e){e&&(this.initSignaturePad(e),this.element=e),i.prototype.afterRenderQuestionElement.call(this,e)},t.prototype.beforeDestroyQuestionElement=function(e){e&&this.destroySignaturePad(e)},t.prototype.themeChanged=function(e){this.signaturePad&&this.updateColors(this.signaturePad)},t.prototype.resizeCanvas=function(){this.canvas.width=this.containerWidth,this.canvas.height=this.containerHeight},t.prototype.scaleCanvas=function(e,n){e===void 0&&(e=!0),n===void 0&&(n=!1);var r=this.canvas,o=r.offsetWidth/this.containerWidth;(this.scale!=o||n)&&(this.scale=o,r.style.width=this.renderedCanvasWidth,this.resizeCanvas(),this.signaturePad.minWidth=this.penMinWidth*o,this.signaturePad.maxWidth=this.penMaxWidth*o,r.getContext("2d").scale(1/o,1/o),e&&this.refreshCanvas())},t.prototype.fromDataUrl=function(e){this.signaturePad.fromDataURL(e,{width:this.canvas.width*this.scale,height:this.canvas.height*this.scale})},t.prototype.fromUrl=function(e){var n=this,r=new Image;r.crossOrigin="anonymous",r.src=e,r.onload=function(){var o=n.canvas.getContext("2d");o.drawImage(r,0,0);var c=n.canvas.toDataURL(n.getFormat());n.fromDataUrl(c)}},t.prototype.refreshCanvas=function(){!this.signaturePad||!this.canvas||(this.value?this.storeDataAsText?this.fromDataUrl(this.value):this.fromUrl(this.value):(this.canvas.getContext("2d").clearRect(0,0,this.canvas.width*this.scale,this.canvas.height*this.scale),this.signaturePad.clear(),this.valueWasChangedFromLastUpload=!1))},t.prototype.loadPreview=function(e){var n=this;if(!this.storeDataAsText){var r=e?[e]:[];this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new xp(this,function(o,c){n.isFileLoading=!1,c&&c.length>0&&c[0].content&&o==="success"&&n.fromDataUrl(c[0].content),n._previewLoader.dispose(),n._previewLoader=void 0}),this._previewLoader.load(r)}},t.prototype.onSurveyLoad=function(){i.prototype.onSurveyLoad.call(this),this.loadPreview(this.value)},t.prototype.initSignaturePad=function(e){var n=this,r=e.getElementsByTagName("canvas")[0];this.canvas=r,this.resizeCanvas();var o=new _s(r,{backgroundColor:"#ffffff"});this.signaturePad=o,this.isInputReadOnly&&o.off(),this.readOnlyChangedCallback=function(){n.isInputReadOnly?o.off():o.on()},this.updateColors(o),o.addEventListener("beginStroke",function(){n.scaleCanvas(),n.isDrawingValue=!0,r.focus()},{once:!1}),o.addEventListener("endStroke",function(){n.isDrawingValue=!1,n.storeDataAsText?n.updateValue():n.valueWasChangedFromLastUpload=!0},{once:!1}),this.updateValueHandler(),this.readOnlyChangedCallback();var c=function(p,y){(y.name==="signatureWidth"||y.name==="signatureHeight"||y.name==="value")&&(n.valueIsUpdatingInternally||n.updateValueHandler())};this.onPropertyChanged.add(c),this.signaturePad.propertyChangedHandler=c},t.prototype.destroySignaturePad=function(e){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(t.prototype,"dataFormat",{get:function(){return this.getPropertyValue("dataFormat")},set:function(e){this.setPropertyValue("dataFormat",Wl(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signatureWidth",{get:function(){return this.getPropertyValue("signatureWidth")},set:function(e){this.setPropertyValue("signatureWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signatureHeight",{get:function(){return this.getPropertyValue("signatureHeight")},set:function(e){this.setPropertyValue("signatureHeight",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerHeight",{get:function(){return this.signatureHeight||Lb},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerWidth",{get:function(){return this.signatureWidth||Db},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedCanvasWidth",{get:function(){return this.signatureAutoScaleEnabled?"100%":this.containerWidth+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(e){this.setPropertyValue("height",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear")},set:function(e){this.setPropertyValue("allowClear",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canShowClearButton",{get:function(){var e=!this.nothingIsDrawn(),n=this.isUploading;return!this.isInputReadOnly&&this.allowClear&&e&&!n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor")},set:function(e){this.setPropertyValue("penColor",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this.getPropertyValue("backgroundColor")},set:function(e){this.setPropertyValue("backgroundColor",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this.getPropertyValue("backgroundImage")},set:function(e){this.setPropertyValue("backgroundImage",e),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRenderedPlaceholder",{get:function(){return this.isReadOnly?this.locPlaceholderReadOnly:this.locPlaceholder},enumerable:!1,configurable:!0}),t.prototype.nothingIsDrawn=function(){var e=this.isDrawingValue,n=this.isEmpty(),r=this.isUploading,o=this.valueWasChangedFromLastUpload;return!e&&n&&!r&&!o},t.prototype.needShowPlaceholder=function(){return this.showPlaceholder&&this.nothingIsDrawn()},t.prototype.onBlurCore=function(e){if(i.prototype.onBlurCore.call(this,e),!this.storeDataAsText&&!this.element.contains(e.relatedTarget)){if(!this.valueWasChangedFromLastUpload)return;this.uploadFiles([wb(this.signaturePad.toDataURL(this.getFormat()),this.name+"."+Wl(this.dataFormat),this.getFormat())]),this.valueWasChangedFromLastUpload=!1}},t.prototype.uploadResultItemToValue=function(e){return e.content},t.prototype.setValueFromResult=function(e){this.valueIsUpdatingInternally=!0,this.value=e!=null&&e.length?e.map(function(n){return n.content})[0]:void 0,this.valueIsUpdatingInternally=!1},t.prototype.clearValue=function(e){this.valueWasChangedFromLastUpload=!1,i.prototype.clearValue.call(this,e),this.refreshCanvas()},t.prototype.endLoadingFromJson=function(){i.prototype.endLoadingFromJson.call(this),this.signatureWidth===300&&this.width&&typeof this.width=="number"&&this.width&&(Ze.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),this.signatureHeight===200&&this.height&&(Ze.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)},tr([V({defaultValue:!1})],t.prototype,"isDrawingValue",void 0),tr([V({defaultValue:!1})],t.prototype,"isReadyForUpload",void 0),tr([V({defaultValue:!1})],t.prototype,"valueWasChangedFromLastUpload",void 0),tr([V()],t.prototype,"signatureAutoScaleEnabled",void 0),tr([V()],t.prototype,"penMinWidth",void 0),tr([V()],t.prototype,"penMaxWidth",void 0),tr([V({})],t.prototype,"showPlaceholder",void 0),tr([V({localizable:{defaultStr:"signaturePlaceHolder"}})],t.prototype,"placeholder",void 0),tr([V({localizable:{defaultStr:"signaturePlaceHolderReadOnly"}})],t.prototype,"placeholderReadOnly",void 0),t}(wp);function Wl(i){return i||(i="png"),i=i.replace("image/","").replace("+xml",""),i!=="jpeg"&&i!=="svg"&&(i="png"),i}H.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"signatureAutoScaleEnabled:boolean",category:"general",default:!1},{name:"penMinWidth:number",category:"general",default:.5},{name:"penMaxWidth:number",category:"general",default:2.5},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"showPlaceholder:boolean",category:"general",default:!0},{name:"placeholder:text",serializationProperty:"locPlaceholder",category:"general",dependsOn:"showPlaceholder",visibleIf:function(i){return i.showPlaceholder}},{name:"placeholderReadOnly:text",serializationProperty:"locPlaceholderReadOnly",category:"general",dependsOn:"showPlaceholder",visibleIf:function(i){return i.showPlaceholder}},{name:"backgroundImage:file",category:"general"},{name:"penColor:color",category:"general"},{name:"backgroundColor:color",category:"general"},{name:"dataFormat",category:"general",default:"png",choices:[{value:"png",text:"PNG"},{value:"image/jpeg",text:"JPEG"},{value:"image/svg+xml",text:"SVG"}],onSettingValue:function(i,t){return Wl(t)}},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1}],function(){return new Ul("")},"question"),lt.Instance.registerQuestion("signaturepad",function(i){return new Ul(i)});var Rp=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ho=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},kb=function(i,t){for(var e=0,n=t.length,r=i.length;e<n;e++,r++)i[r]=t[e];return i},Mb=function(i){Rp(t,i);function t(e,n,r){var o=i.call(this,r)||this;return o.data=e,o.panelItem=n,o.variableName=r,o.sharedQuestions={},o}return Object.defineProperty(t.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanelIndex",{get:function(){return this.data?this.data.getVisibleItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.panelItem.getAllValues()},t.prototype.getQuestionByName=function(e){var n=i.prototype.getQuestionByName.call(this,e);if(n)return n;var r=this.panelIndex;n=r>-1?this.data.getSharedQuestionFromArray(e,r):void 0;var o=n?n.name:e;return this.sharedQuestions[o]=e,n},t.prototype.getQuestionDisplayText=function(e){var n=this.sharedQuestions[e.name];if(!n)return i.prototype.getQuestionDisplayText.call(this,e);var r=this.panelItem.getValue(n);return e.getDisplayValue(!0,r)},t.prototype.onCustomProcessText=function(e){if(e.name==Yt.IndexVariableName){var n=this.panelIndex;if(n>-1)return e.isExists=!0,e.value=n+1,!0}if(e.name==Yt.VisibleIndexVariableName){var n=this.visiblePanelIndex;if(n>-1)return e.isExists=!0,e.value=n+1,!0}if(e.name.toLowerCase().indexOf(Yt.ParentItemVariableName+".")==0){var r=this.data;if(r&&r.parentQuestion&&r.parent&&r.parent.data){var o=new t(r.parentQuestion,r.parent.data,Yt.ItemVariableName),c=Yt.ItemVariableName+e.name.substring(Yt.ParentItemVariableName.length),p=o.processValue(c,e.returnDisplayValue);e.isExists=p.isExists,e.value=p.value}return!0}return!1},t}(rl),Yt=function(){function i(t,e){this.data=t,this.panelValue=e,this.textPreProcessor=new Mb(t,this,i.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(i.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),i.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},i.prototype.getValue=function(t){var e=this.getAllValues();return e[t]},i.prototype.setValue=function(t,e){var n=this.data.getPanelItemData(this),r=n?n[t]:void 0;if(!g.isTwoValueEquals(e,r,!1,!0,!1)){this.data.setPanelItemData(this,t,g.getUnbindValue(e));for(var o=this.panel.questions,c=i.ItemVariableName+"."+t,p=0;p<o.length;p++){var y=o[p];y.getValueName()!==t&&y.checkBindings(t,e),y.runTriggers(c,e)}}},i.prototype.getVariable=function(t){},i.prototype.setVariable=function(t,e){},i.prototype.getComment=function(t){var e=this.getValue(t+N.commentSuffix);return e||""},i.prototype.setComment=function(t,e,n){this.setValue(t+N.commentSuffix,e)},i.prototype.findQuestionByName=function(t){if(t){var e=i.ItemVariableName+".";if(t.indexOf(e)===0)return this.panel.getQuestionByName(t.substring(e.length));var n=this.getSurvey();return n?n.getQuestionByName(t):null}},i.prototype.getEditingSurveyElement=function(){},i.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},i.prototype.getFilteredValues=function(){var t={},e=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var n in e)t[n]=e[n];if(t[i.ItemVariableName]=this.getAllValues(),this.data){var r=i.IndexVariableName,o=i.VisibleIndexVariableName;delete t[r],delete t[o],t[r.toLowerCase()]=this.data.getItemIndex(this),t[o.toLowerCase()]=this.data.getVisibleItemIndex(this);var c=this.data;c&&c.parentQuestion&&c.parent&&(t[i.ParentItemVariableName]=c.parent.getValue())}return t},i.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},i.prototype.getSurveyData=function(){return this},i.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},i.prototype.getTextProcessor=function(){return this.textPreProcessor},i.ItemVariableName="panel",i.ParentItemVariableName="parentpanel",i.IndexVariableName="panelIndex",i.VisibleIndexVariableName="visiblePanelIndex",i}(),qb=function(){function i(t){this.data=t}return i.prototype.getSurveyData=function(){return null},i.prototype.getSurvey=function(){return this.data.getSurvey()},i.prototype.getTextProcessor=function(){return null},i}(),$l=function(i){Rp(t,i);function t(e){var n=i.call(this,e)||this;return n._renderedPanels=[],n.isPanelsAnimationRunning=!1,n.isAddingNewPanels=!1,n.isSetPanelItemData={},n.createNewArray("panels",function(r){n.onPanelAdded(r)},function(r){n.onPanelRemoved(r)}),n.createNewArray("visiblePanels"),n.templateValue=n.createAndSetupNewPanelObject(),n.template.renderWidth="100%",n.template.selectedElementInDesign=n,n.template.addElementCallback=function(r){n.addOnPropertyChangedCallback(r),n.rebuildPanels()},n.template.removeElementCallback=function(){n.rebuildPanels()},n.createLocalizableString("confirmDeleteText",n,!1,"confirmDelete"),n.createLocalizableString("keyDuplicationError",n,!1,!0),n.createLocalizableString("panelAddText",n,!1,"addPanel"),n.createLocalizableString("panelRemoveText",n,!1,"removePanel"),n.createLocalizableString("panelPrevText",n,!1,"pagePrevText"),n.createLocalizableString("panelNextText",n,!1,"pageNextText"),n.createLocalizableString("noEntriesText",n,!1,"noEntriesText"),n.createLocalizableString("templateTabTitle",n,!0,"panelDynamicTabTextFormat"),n.createLocalizableString("tabTitlePlaceholder",n,!0,"tabTitlePlaceholder"),n.registerPropertyChangedHandlers(["panelsState"],function(){n.setPanelsState()}),n.registerPropertyChangedHandlers(["newPanelPosition","displayMode","showProgressBar"],function(){n.updateFooterActions()}),n.registerPropertyChangedHandlers(["allowAddPanel"],function(){n.updateNoEntriesTextDefaultLoc()}),n.registerPropertyChangedHandlers(["minPanelCount"],function(){n.onMinPanelCountChanged()}),n.registerPropertyChangedHandlers(["maxPanelCount"],function(){n.onMaxPanelCountChanged()}),n}return Object.defineProperty(t.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getFirstQuestionToFocus=function(e){for(var n=0;n<this.visiblePanelsCore.length;n++){var r=this.visiblePanelsCore[n].getFirstQuestionToFocus(e);if(r)return r}return this.showAddPanelButton&&(!e||this.currentErrorCount>0)?this:null},t.prototype.getFirstInputElementId=function(){return this.showAddPanelButton?this.addButtonId:i.prototype.getFirstInputElementId.call(this)},t.prototype.setSurveyImpl=function(e,n){i.prototype.setSurveyImpl.call(this,e,n),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},t.prototype.assignOnPropertyChangedToTemplate=function(){for(var e=this.template.elements,n=0;n<e.length;n++)this.addOnPropertyChangedCallback(e[n])},t.prototype.addOnPropertyChangedCallback=function(e){var n=this;e.isQuestion&&e.setParentQuestion(this),e.onPropertyChanged.add(function(r,o){n.onTemplateElementPropertyChanged(r,o)}),e.isPanel&&(e.addElementCallback=function(r){n.addOnPropertyChangedCallback(r)})},t.prototype.onTemplateElementPropertyChanged=function(e,n){if(!(this.isLoadingFromJson||this.useTemplatePanel||this.panelsCore.length==0)){var r=H.findProperty(e.getType(),n.name);if(r)for(var o=this.panelsCore,c=0;c<o.length;c++){var p=o[c].getQuestionByName(e.name);p&&p[n.name]!==n.newValue&&(p[n.name]=n.newValue)}}},Object.defineProperty(t.prototype,"useTemplatePanel",{get:function(){return this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"paneldynamic"},t.prototype.clearOnDeletingContainer=function(){this.panelsCore.forEach(function(e){e.clearOnDeletingContainer()})},Object.defineProperty(t.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.removeElement=function(e){return this.template.removeElement(e)},Object.defineProperty(t.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this.template},Object.defineProperty(t.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateTitle",{get:function(){return this.template.title},set:function(e){this.template.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateTabTitle",{get:function(){return this.locTemplateTabTitle.text},set:function(e){this.locTemplateTabTitle.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTemplateTabTitle",{get:function(){return this.getLocalizableString("templateTabTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tabTitlePlaceholder",{get:function(){return this.locTabTitlePlaceholder.text},set:function(e){this.locTabTitlePlaceholder.text=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTabTitlePlaceholder",{get:function(){return this.getLocalizableString("tabTitlePlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateDescription",{get:function(){return this.template.description},set:function(e){this.template.description=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateVisibleIf",{get:function(){return this.getPropertyValue("templateVisibleIf")},set:function(e){this.setPropertyValue("templateVisibleIf",e),this.template.visibleIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){for(var e=[],n=0;n<this.panelsCore.length;n++)e.push(this.panelsCore[n].data);return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.panelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.visiblePanelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelsCore",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanelsCore",{get:function(){return this.getPropertyValue("visiblePanels")},enumerable:!1,configurable:!0}),t.prototype.onPanelAdded=function(e){if(this.onPanelRemovedCore(e),!!e.visible){for(var n=0,r=this.panelsCore,o=0;o<r.length&&r[o]!==e;o++)r[o].visible&&n++;this.visiblePanelsCore.splice(n,0,e),this.addTabFromToolbar(e,n),this.currentPanel||(this.currentPanel=e),this.updateRenderedPanels()}},t.prototype.onPanelRemoved=function(e){var n=this.onPanelRemovedCore(e);if(this.currentPanel===e){var r=this.visiblePanelsCore;n>=r.length&&(n=r.length-1),this.currentPanel=n>=0?r[n]:null}this.updateRenderedPanels()},t.prototype.onPanelRemovedCore=function(e){var n=this.visiblePanelsCore,r=n.indexOf(e);return r>-1&&(n.splice(r,1),this.removeTabFromToolbar(e)),r},Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.useTemplatePanel?0:this.visiblePanelsCore.indexOf(this.currentPanel)},set:function(e){e<0||this.visiblePanelCount<1||(e>=this.visiblePanelCount&&(e=this.visiblePanelCount-1),this.currentPanel=this.visiblePanelsCore[e])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentPanel",{get:function(){if(this.isDesignMode)return this.template;if(this.isRenderModeList||this.useTemplatePanel)return null;var e=this.getPropertyValue("currentPanel",null);return!e&&this.visiblePanelCount>0&&(e=this.visiblePanelsCore[0],this.currentPanel=e),e},set:function(e){if(!(this.isRenderModeList||this.useTemplatePanel)){var n=this.getPropertyValue("currentPanel"),r=e?this.visiblePanelsCore.indexOf(e):-1;if(!(e&&r<0||e===n)&&(n&&n.onHidingContent(),this.setPropertyValue("currentPanel",e),this.updateRenderedPanels(),this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback),r>-1&&this.survey)){var o={panel:e,visiblePanelIndex:r};this.survey.dynamicPanelCurrentIndexChanged(this,o)}}},enumerable:!1,configurable:!0}),t.prototype.updateRenderedPanels=function(){this.isRenderModeList?this.renderedPanels=[].concat(this.visiblePanels):this.currentPanel?this.renderedPanels=[this.currentPanel]:this.renderedPanels=[]},Object.defineProperty(t.prototype,"renderedPanels",{get:function(){return this._renderedPanels},set:function(e){this.renderedPanels.length==0||e.length==0?(this.blockAnimations(),this.panelsAnimation.sync(e),this.releaseAnimations()):(this.isPanelsAnimationRunning=!0,this.panelsAnimation.sync(e))},enumerable:!1,configurable:!0}),t.prototype.getPanelsAnimationOptions=function(){var e=this,n=function(){if(e.isRenderModeList)return"";var r=new J,o=!1,c=e.renderedPanels.filter(function(y){return y!==e.currentPanel})[0],p=e.visiblePanels.indexOf(c);return p<0&&(o=!0,p=e.removedPanelIndex),r.append("sv-pd-animation-adding",!!e.focusNewPanelCallback).append("sv-pd-animation-removing",o).append("sv-pd-animation-left",p<=e.currentIndex).append("sv-pd-animation-right",p>e.currentIndex).toString()};return{getRerenderEvent:function(){return e.onElementRerendered},getAnimatedElement:function(r){var o,c;if(r&&e.cssContent){var p=Bn(e.cssContent);return(c=(o=e.getWrapperElement())===null||o===void 0?void 0:o.querySelector(":scope "+p+" #"+r.id))===null||c===void 0?void 0:c.parentElement}},getEnterOptions:function(){var r=new J().append(e.cssClasses.panelWrapperEnter).append(n()).toString();return{onBeforeRunAnimation:function(o){if(e.focusNewPanelCallback){var c=e.isRenderModeList?o:o.parentElement;Qt.ScrollElementToViewCore(c,!1,!1,{behavior:"smooth"})}!e.isRenderModeList&&o.parentElement?io(o.parentElement,{heightTo:o.offsetHeight+"px"}):Hn(o)},onAfterRunAnimation:function(o){hn(o),o.parentElement&&hn(o.parentElement)},cssClass:r}},getLeaveOptions:function(){var r=new J().append(e.cssClasses.panelWrapperLeave).append(n()).toString();return{onBeforeRunAnimation:function(o){!e.isRenderModeList&&o.parentElement?io(o.parentElement,{heightFrom:o.offsetHeight+"px"}):Hn(o)},onAfterRunAnimation:function(o){hn(o),o.parentElement&&hn(o.parentElement)},cssClass:r}},isAnimationEnabled:function(){return e.animationAllowed&&!!e.getWrapperElement()}}},t.prototype.disablePanelsAnimations=function(){this.panelsCore.forEach(function(e){e.blockAnimations()})},t.prototype.enablePanelsAnimations=function(){this.panelsCore.forEach(function(e){e.releaseAnimations()})},t.prototype.updatePanelsAnimation=function(){var e=this;this._panelsAnimations=new(this.isRenderModeList?cr:Ba)(this.getPanelsAnimationOptions(),function(n,r){e._renderedPanels=n,r||(e.isPanelsAnimationRunning=!1,e.focusNewPanel())},function(){return e._renderedPanels})},Object.defineProperty(t.prototype,"panelsAnimation",{get:function(){return this._panelsAnimations||this.updatePanelsAnimation(),this._panelsAnimations},enumerable:!1,configurable:!0}),t.prototype.onHidingContent=function(){i.prototype.onHidingContent.call(this),this.currentPanel?this.currentPanel.onHidingContent():this.visiblePanelsCore.forEach(function(e){return e.onHidingContent()})},Object.defineProperty(t.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(e){this.setPropertyValue("confirmDelete",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(e){this.setPropertyValue("keyName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(e){this.setLocalizableStringText("confirmDeleteText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(e){this.setLocalizableStringText("keyDuplicationError",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText")},set:function(e){this.setLocalizableStringText("panelPrevText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText")},set:function(e){this.setLocalizableStringText("panelNextText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText")},set:function(e){this.setLocalizableStringText("panelAddText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText")},set:function(e){this.setLocalizableStringText("panelRemoveText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProgressTopShowing",{get:function(){return this.displayMode=="carousel"&&(this.progressBarLocation==="top"||this.progressBarLocation==="topBottom")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isProgressBottomShowing",{get:function(){return this.displayMode=="carousel"&&(this.progressBarLocation==="bottom"||this.progressBarLocation==="topBottom")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPrevButtonVisible",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPrevButtonShowing",{get:function(){return this.isPrevButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNextButtonVisible",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.visiblePanelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNextButtonShowing",{get:function(){return this.isNextButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.visiblePanelCount>1},enumerable:!1,configurable:!0}),t.prototype.getElementsInDesign=function(e){return e===void 0&&(e=!1),e?[this.template]:this.templateElements},t.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},t.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},t.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:i.prototype.getValueCore.call(this)},t.prototype.setValueCore=function(e){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=e):i.prototype.setValueCore.call(this,e)},t.prototype.setIsMobile=function(e){i.prototype.setIsMobile.call(this,e),(this.panelsCore||[]).forEach(function(n){return n.getQuestions(!0).forEach(function(r){r.setIsMobile(e)})})},t.prototype.themeChanged=function(e){i.prototype.themeChanged.call(this,e),(this.panelsCore||[]).forEach(function(n){return n.getQuestions(!0).forEach(function(r){r.themeChanged(e)})})},Object.defineProperty(t.prototype,"panelCount",{get:function(){return!this.canBuildPanels||this.wasNotRenderedInSurvey?this.getPropertyValue("panelCount"):this.panelsCore.length},set:function(e){if(!(e<0)){if(!this.canBuildPanels||this.wasNotRenderedInSurvey){this.setPropertyValue("panelCount",e);return}if(!(e==this.panelsCore.length||this.useTemplatePanel)){this.updateBindings("panelCount",e),this.prepareValueForPanelCreating();for(var n=this.panelCount;n<e;n++){var r=this.createNewPanel();this.panelsCore.push(r),this.displayMode=="list"&&this.panelsState!="default"&&(this.panelsState==="expanded"?r.expand():r.title&&r.collapse())}e<this.panelCount&&this.panelsCore.splice(e,this.panelCount-e),this.disablePanelsAnimations(),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.enablePanelsAnimations()}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visiblePanelCount",{get:function(){return this.visiblePanels.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(e){this.setPropertyValue("panelsState",e)},enumerable:!1,configurable:!0}),t.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new qb(this))},t.prototype.setPanelsSurveyImpl=function(){for(var e=0;e<this.panelsCore.length;e++){var n=this.panelsCore[e];n!=this.template&&n.setSurveyImpl(n.data)}},t.prototype.setPanelsState=function(){if(!(this.useTemplatePanel||this.displayMode!="list"||!this.templateTitle))for(var e=0;e<this.panelsCore.length;e++){var n=this.panelsState;n==="firstExpanded"&&(n=e===0?"expanded":"collapsed"),this.panelsCore[e].state=n}},t.prototype.setValueBasedOnPanelCount=function(){var e=this.value;if((!e||!Array.isArray(e))&&(e=[]),e.length!=this.panelCount){for(var n=e.length;n<this.panelCount;n++){var r=this.panels[n].getValue(),o=g.isValueEmpty(r)?{}:r;e.push(o)}e.length>this.panelCount&&e.splice(this.panelCount,e.length-this.panelCount),this.isValueChangingInternally=!0,this.value=e,this.isValueChangingInternally=!1}},Object.defineProperty(t.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount")},set:function(e){e<0&&(e=0),this.setPropertyValue("minPanelCount",e)},enumerable:!1,configurable:!0}),t.prototype.onMinPanelCountChanged=function(){var e=this.minPanelCount;e>this.maxPanelCount&&(this.maxPanelCount=e),this.panelCount<e&&(this.panelCount=e)},Object.defineProperty(t.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount")},set:function(e){e<=0||(e>N.panel.maxPanelCount&&(e=N.panel.maxPanelCount),this.setPropertyValue("maxPanelCount",e),this.updateFooterActions())},enumerable:!1,configurable:!0}),t.prototype.onMaxPanelCountChanged=function(){var e=this.maxPanelCount;e<this.minPanelCount&&(this.minPanelCount=e),this.panelCount>e&&(this.panelCount=e),this.updateFooterActions()},Object.defineProperty(t.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(e){this.setPropertyValue("allowAddPanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"addButtonId",{get:function(){return this.id+"addPanel"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newPanelPosition",{get:function(){return this.getPropertyValue("newPanelPosition")},set:function(e){this.setPropertyValue("newPanelPosition",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(e){this.setPropertyValue("allowRemovePanel",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(e){this.setPropertyValue("templateTitleLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateErrorLocation",{get:function(){return this.getPropertyValue("templateErrorLocation")},set:function(e){this.setPropertyValue("templateErrorLocation",e.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(e){this.setPropertyValue("showQuestionNumbers",e),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible,!0)},enumerable:!1,configurable:!0}),t.prototype.notifySurveyOnChildrenVisibilityChanged=function(){return this.showQuestionNumbers==="onSurvey"},Object.defineProperty(t.prototype,"panelRemoveButtonLocation",{get:function(){return this.getPropertyValue("panelRemoveButtonLocation")},set:function(e){this.setPropertyValue("panelRemoveButtonLocation",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showRangeInProgress",{get:function(){return this.showProgressBar},set:function(e){this.showProgressBar=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderMode",{get:function(){var e=this.displayMode;if(e=="carousel"){var n=this.progressBarLocation;if(n=="top")return"progressTop";if(n=="bottom")return"progressBottom";if(n=="topBottom")return"progressTopBottom"}return e},set:function(e){(e||"").startsWith("progress")?(e=="progressTop"?this.progressBarLocation="top":e=="progressBottom"?this.progressBarLocation="bottom":e=="progressTopBottom"&&(this.progressBarLocation="topBottom"),this.displayMode="carousel"):this.displayMode=e},enumerable:!1,configurable:!0}),t.prototype.updatePanelView=function(){this.blockAnimations(),this.updateRenderedPanels(),this.releaseAnimations(),this.updatePanelsAnimation()},Object.defineProperty(t.prototype,"tabAlign",{get:function(){return this.getPropertyValue("tabAlign")},set:function(e){this.setPropertyValue("tabAlign",e),this.isRenderModeTab&&(this.additionalTitleToolbar.containerCss=this.getAdditionalTitleToolbarCss())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRenderModeList",{get:function(){return this.displayMode==="list"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRenderModeTab",{get:function(){return this.displayMode==="tab"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTitleOnLeftTop",{get:function(){if(this.isRenderModeTab&&this.visiblePanelCount>0)return!0;if(!this.hasTitle)return!1;var e=this.getTitleLocation();return e==="left"||e==="top"},enumerable:!1,configurable:!0}),t.prototype.setVisibleIndex=function(e){if(!this.isVisible)return 0;for(var n=this.showQuestionNumbers==="onSurvey",r=n?e:0,o=this.isDesignMode?[this.template]:this.visiblePanelsCore,c=0;c<o.length;c++){var p=this.setPanelVisibleIndex(o[c],r,this.showQuestionNumbers!="off");n&&(r+=p)}return i.prototype.setVisibleIndex.call(this,n?-1:e),n?r-e:1},t.prototype.setPanelVisibleIndex=function(e,n,r){return r?e.setVisibleIndex(n):(e.setVisibleIndex(-1),0)},Object.defineProperty(t.prototype,"canAddPanel",{get:function(){return this.isDesignMode||this.isDefaultV2Theme&&!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.visiblePanelCount-1&&this.newPanelPosition!=="next"?!1:this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRemovePanel",{get:function(){return this.isDesignMode?!1:this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),t.prototype.rebuildPanels=function(){var e;if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var n=[];if(this.useTemplatePanel)new Yt(this,this.template),n.push(this.template);else for(var r=0;r<this.panelCount;r++)this.createNewPanel(),n.push(this.createNewPanel());(e=this.panelsCore).splice.apply(e,kb([0,this.panelsCore.length],n)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}},Object.defineProperty(t.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(e){this.setPropertyValue("defaultPanelValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel")},set:function(e){this.setPropertyValue("defaultValueFromLastPanel",e)},enumerable:!1,configurable:!0}),t.prototype.isDefaultValueEmpty=function(){return i.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},t.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultPanelValue)||!this.isValueEmpty(this.defaultValue)){i.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.panelCount==0)){for(var e=[],n=0;n<this.panelCount;n++)e.push(this.defaultPanelValue);this.value=e}},Object.defineProperty(t.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){var e=this.value;if(!e||!Array.isArray(e))return!0;for(var n=0;n<e.length;n++)if(!this.isRowEmpty(e[n]))return!1;return!0},t.prototype.getProgressInfo=function(){return Qt.getProgressInfoByElements(this.visiblePanelsCore,this.isRequired)},t.prototype.isRowEmpty=function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},t.prototype.addPanelUI=function(){if(!this.canAddPanel||!this.canLeaveCurrentPanel())return null;var e=this.addPanel();return this.displayMode==="list"&&this.panelsState!=="default"&&e.expand(),this.focusNewPanelCallback=function(){e.focusFirstQuestion()},this.isPanelsAnimationRunning||this.focusNewPanel(),e},t.prototype.focusNewPanel=function(){this.focusNewPanelCallback&&(this.focusNewPanelCallback(),this.focusNewPanelCallback=void 0)},t.prototype.addPanel=function(e){var n=this.currentIndex;return e===void 0&&(e=n<0?this.panelCount:n+1),(e<0||e>this.panelCount)&&(e=this.panelCount),this.updateValueOnAddingPanel(n<0?this.panelCount-1:n,e),this.isRenderModeList||(this.currentIndex=e),this.survey&&this.survey.dynamicPanelAdded(this),this.panelsCore[e]},t.prototype.updateValueOnAddingPanel=function(e,n){this.panelCount++;var r=this.value;if(!(!Array.isArray(r)||r.length!==this.panelCount)){var o=!1,c=this.panelCount-1;if(n<c){o=!0;var p=r[c];r.splice(c,1),r.splice(n,0,p)}if(this.isValueEmpty(this.defaultPanelValue)||(o=!0,this.copyValue(r[n],this.defaultPanelValue)),this.defaultValueFromLastPanel&&r.length>1){var y=e>-1&&e<=c?e:c;o=!0,this.copyValue(r[n],r[y])}o&&(this.value=r)}},t.prototype.canLeaveCurrentPanel=function(){return!(this.displayMode!=="list"&&this.currentPanel&&this.currentPanel.hasErrors(!0,!0))},t.prototype.copyValue=function(e,n){for(var r in n)e[r]=n[r]},t.prototype.removePanelUI=function(e){var n=this,r=this.getVisualPanelIndex(e);if(!(r<0||r>=this.visiblePanelCount)&&this.canRemovePanel){var o=function(){var c;n.removePanel(r);var p=n.visiblePanelCount,y=r>=p?p-1:r,b=p===0?n.addButtonId:y>-1?n.getPanelRemoveButtonId(n.visiblePanels[y]):"";b&&Qt.FocusElement(b,!0,(c=n.survey)===null||c===void 0?void 0:c.rootElement)};this.isRequireConfirmOnDelete(e)?to(this.confirmDeleteText,function(){o()},void 0,this.getLocale(),this.survey.rootElement):o()}},t.prototype.getPanelRemoveButtonId=function(e){return e.id+"_remove_button"},t.prototype.isRequireConfirmOnDelete=function(e){if(!this.confirmDelete)return!1;var n=this.getVisualPanelIndex(e);if(n<0||n>=this.visiblePanelCount)return!1;var r=this.visiblePanelsCore[n].getValue();return!this.isValueEmpty(r)&&(this.isValueEmpty(this.defaultPanelValue)||!this.isTwoValueEquals(r,this.defaultPanelValue))},t.prototype.goToNextPanel=function(){return this.currentIndex<0||!this.canLeaveCurrentPanel()?!1:(this.currentIndex++,!0)},t.prototype.goToPrevPanel=function(){this.currentIndex<0||this.currentIndex--},t.prototype.removePanel=function(c){var n=this.getVisualPanelIndex(c);if(!(n<0||n>=this.visiblePanelCount)){this.removedPanelIndex=n;var r=this.visiblePanelsCore[n],o=this.panelsCore.indexOf(r);if(!(o<0)&&!(this.survey&&!this.survey.dynamicPanelRemoving(this,o,r))){this.panelsCore.splice(o,1),this.updateBindings("panelCount",this.panelCount);var c=this.value;!c||!Array.isArray(c)||o>=c.length||(this.isValueChangingInternally=!0,c.splice(o,1),this.value=c,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,o,r),this.isValueChangingInternally=!1)}}},t.prototype.getVisualPanelIndex=function(e){if(g.isNumber(e))return e;for(var n=this.visiblePanelsCore,r=0;r<n.length;r++)if(n[r]===e||n[r].data===e)return r;return-1},t.prototype.getPanelVisibleIndexById=function(e){for(var n=this.visiblePanelsCore,r=0;r<n.length;r++)if(n[r].id===e)return r;return-1},t.prototype.locStrsChanged=function(){i.prototype.locStrsChanged.call(this);for(var e=this.panelsCore,n=0;n<e.length;n++)e[n].locStrsChanged();this.additionalTitleToolbar&&this.additionalTitleToolbar.locStrsChanged()},t.prototype.clearIncorrectValues=function(){for(var e=0;e<this.panelsCore.length;e++)this.clearIncorrectValuesInPanel(e)},t.prototype.clearErrors=function(){i.prototype.clearErrors.call(this);for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].clearErrors()},t.prototype.getQuestionFromArray=function(e,n){return n<0||n>=this.panelsCore.length?null:this.panelsCore[n].getQuestionByName(e)},t.prototype.clearIncorrectValuesInPanel=function(e){var n=this.panelsCore[e];n.clearIncorrectValues();var r=this.value,o=r&&e<r.length?r[e]:null;if(o){var c=!1;for(var p in o)if(!this.getSharedQuestionFromArray(p,e)){var y=n.getQuestionByName(p);y||this.iscorrectValueWithPostPrefix(n,p,N.commentSuffix)||this.iscorrectValueWithPostPrefix(n,p,N.matrix.totalsSuffix)||(delete o[p],c=!0)}c&&(r[e]=o,this.value=r)}},t.prototype.iscorrectValueWithPostPrefix=function(e,n,r){return n.indexOf(r)!==n.length-r.length?!1:!!e.getQuestionByName(n.substring(0,n.indexOf(r)))},t.prototype.getSharedQuestionFromArray=function(e,n){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,e,n):null},t.prototype.addConditionObjectsByContext=function(e,n){for(var r=n!=null&&n.isValidator?n.errorOwner:n,o=!!n&&(n===!0||this.template.questions.indexOf(r)>-1),c=new Array,p=this.template.questions,y=0;y<p.length;y++)p[y].addConditionObjectsByContext(c,n);for(var b=0;b<N.panel.maxPanelCountInCondition;b++)for(var E="["+b+"].",M=this.getValueName()+E,Q=this.processedTitle+E,y=0;y<c.length;y++)c[y].context?e.push(c[y]):e.push({name:M+c[y].name,text:Q+c[y].text,question:c[y].question});if(o){for(var M=n===!0?this.getValueName()+".":"",Q=n===!0?this.processedTitle+".":"",y=0;y<c.length;y++)if(c[y].question!=n){var X={name:M+Yt.ItemVariableName+"."+c[y].name,text:Q+Yt.ItemVariableName+"."+c[y].text,question:c[y].question};X.context=this,e.push(X)}}},t.prototype.collectNestedQuestionsCore=function(e,n){var r=n?this.visiblePanelsCore:this.panelsCore;Array.isArray(r)&&r.forEach(function(o){o.questions.forEach(function(c){return c.collectNestedQuestions(e,n)})})},t.prototype.getConditionJson=function(e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),!n)return i.prototype.getConditionJson.call(this,e);var r=n,o=n.indexOf(".");o>-1&&(r=n.substring(0,o),n=n.substring(o+1));var c=this.template.getQuestionByName(r);return c?c.getConditionJson(e,n):null},t.prototype.onReadOnlyChanged=function(){var e=this.isReadOnly;this.template.readOnly=e;for(var n=0;n<this.panelsCore.length;n++)this.panelsCore[n].readOnly=e;this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),i.prototype.onReadOnlyChanged.call(this)},t.prototype.updateNoEntriesTextDefaultLoc=function(){var e=this.getLocalizableString("noEntriesText");e&&(e.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText",e.strChanged())},t.prototype.onSurveyLoad=function(){this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.panelCount<this.minPanelCount&&(this.panelCount=this.minPanelCount),this.panelCount>this.maxPanelCount&&(this.panelCount=this.maxPanelCount),this.buildPanelsFirstTime(),i.prototype.onSurveyLoad.call(this)},t.prototype.buildPanelsFirstTime=function(e){if(e===void 0&&(e=!1),!this.hasPanelBuildFirstTime&&!(!e&&this.wasNotRenderedInSurvey)){if(this.blockAnimations(),this.hasPanelBuildFirstTime=!0,this.isBuildingPanelsFirstTime=!0,this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.survey)for(var n=0;n<this.panelCount;n++)this.survey.dynamicPanelAdded(this);this.updateIsReady(),this.showAddPanelButton||this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),this.isBuildingPanelsFirstTime=!1,this.releaseAnimations()}},Object.defineProperty(t.prototype,"showAddPanelButton",{get:function(){return this.allowAddPanel&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wasNotRenderedInSurvey",{get:function(){return!this.hasPanelBuildFirstTime&&!this.wasRendered&&!!this.survey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canBuildPanels",{get:function(){return!this.isLoadingFromJson&&!this.useTemplatePanel},enumerable:!1,configurable:!0}),t.prototype.onFirstRendering=function(){i.prototype.onFirstRendering.call(this),this.buildPanelsFirstTime(),this.template.onFirstRendering();for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].onFirstRendering()},t.prototype.localeChanged=function(){i.prototype.localeChanged.call(this);for(var e=0;e<this.panelsCore.length;e++)this.panelsCore[e].localeChanged()},t.prototype.runCondition=function(e,n){i.prototype.runCondition.call(this,e,n),this.runPanelsCondition(this.panelsCore,e,n)},t.prototype.runTriggers=function(e,n){i.prototype.runTriggers.call(this,e,n),this.visiblePanelsCore.forEach(function(r){r.questions.forEach(function(o){return o.runTriggers(e,n)})})},t.prototype.reRunCondition=function(){this.data&&this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},t.prototype.runPanelsCondition=function(e,n,r){var o={};n&&n instanceof Object&&(o=JSON.parse(JSON.stringify(n))),this.parentQuestion&&this.parent&&(o[Yt.ParentItemVariableName]=this.parent.getValue()),this.isValueChangingInternally=!0;for(var c=0;c<e.length;c++){var p=e[c],y=this.getPanelItemData(p.data),b=g.createCopy(o),E=Yt.ItemVariableName;b[E]=y,b[Yt.IndexVariableName.toLowerCase()]=c;var M=g.createCopy(r);M[E]=p,p.runCondition(b,M)}this.isValueChangingInternally=!1},t.prototype.onAnyValueChanged=function(e,n){i.prototype.onAnyValueChanged.call(this,e,n);for(var r=0;r<this.panelsCore.length;r++)this.panelsCore[r].onAnyValueChanged(e,n),this.panelsCore[r].onAnyValueChanged(Yt.ItemVariableName,"")},t.prototype.hasKeysDuplicated=function(e,n){n===void 0&&(n=null);for(var r=[],o,c=0;c<this.panelsCore.length;c++)o=this.isValueDuplicated(this.panelsCore[c],r,n,e)||o;return o},t.prototype.updatePanelsContainsErrors=function(){for(var e=this.changingValueQuestion,n=e.parent;n;)n.updateContainsErrors(),n=n.parent;this.updateContainsErrors()},t.prototype.hasErrors=function(e,n){if(e===void 0&&(e=!0),n===void 0&&(n=null),this.isValueChangingInternally||this.isBuildingPanelsFirstTime)return!1;var r=!1;if(this.changingValueQuestion){var r=this.changingValueQuestion.hasErrors(e,n);r=this.hasKeysDuplicated(e,n)||r,this.updatePanelsContainsErrors()}else r=this.hasErrorInPanels(e,n);return i.prototype.hasErrors.call(this,e,n)||r},t.prototype.getContainsErrors=function(){var e=i.prototype.getContainsErrors.call(this);if(e)return e;for(var n=this.panelsCore,r=0;r<n.length;r++)if(n[r].containsErrors)return!0;return!1},t.prototype.getIsAnswered=function(){if(!i.prototype.getIsAnswered.call(this))return!1;for(var e=this.visiblePanelsCore,n=0;n<e.length;n++){var r=[];e[n].addQuestionsToList(r,!0);for(var o=0;o<r.length;o++)if(!r[o].isAnswered)return!1}return!0},t.prototype.clearValueOnHidding=function(e){if(!e){if(this.survey&&this.survey.getQuestionClearIfInvisible("onHidden")==="none")return;this.clearValueInPanelsIfInvisible("onHiddenContainer")}i.prototype.clearValueOnHidding.call(this,e)},t.prototype.clearValueIfInvisible=function(e){e===void 0&&(e="onHidden");var n=e==="onHidden"?"onHiddenContainer":e;this.clearValueInPanelsIfInvisible(n),i.prototype.clearValueIfInvisible.call(this,e)},t.prototype.clearValueInPanelsIfInvisible=function(e){for(var n=0;n<this.panelsCore.length;n++){var r=this.panelsCore[n],o=r.questions;this.isSetPanelItemData={};for(var c=0;c<o.length;c++){var p=o[c];p.visible&&!r.isVisible||(p.clearValueIfInvisible(e),this.isSetPanelItemData[p.getValueName()]=this.maxCheckCount+1)}}this.isSetPanelItemData={}},t.prototype.getIsRunningValidators=function(){if(i.prototype.getIsRunningValidators.call(this))return!0;for(var e=0;e<this.panelsCore.length;e++)for(var n=this.panelsCore[e].questions,r=0;r<n.length;r++)if(n[r].isRunningValidators)return!0;return!1},t.prototype.getAllErrors=function(){for(var e=i.prototype.getAllErrors.call(this),n=this.visiblePanelsCore,r=0;r<n.length;r++)for(var o=n[r].questions,c=0;c<o.length;c++){var p=o[c].getAllErrors();p&&p.length>0&&(e=e.concat(p))}return e},t.prototype.getDisplayValueCore=function(e,n){var r=this.getUnbindValue(n);if(!r||!Array.isArray(r))return r;for(var o=0;o<this.panelsCore.length&&o<r.length;o++){var c=r[o];c&&(r[o]=this.getPanelDisplayValue(o,c,e))}return r},t.prototype.getPanelDisplayValue=function(e,n,r){if(!n)return n;for(var o=this.panelsCore[e],c=Object.keys(n),p=0;p<c.length;p++){var y=c[p],b=o.getQuestionByValueName(y);if(b||(b=this.getSharedQuestionFromArray(y,e)),b){var E=b.getDisplayValue(r,n[y]);n[y]=E,r&&b.title&&b.title!==y&&(n[b.title]=E,delete n[y])}}return n},t.prototype.hasErrorInPanels=function(e,n){for(var r=!1,o=this.visiblePanels,c=[],p=0;p<o.length;p++)this.setOnCompleteAsyncInPanel(o[p]);for(var y=!!n&&n.focusOnFirstError,b=0;b<o.length;b++){var E=o[b].hasErrors(e,y,n);E=this.isValueDuplicated(o[b],c,n,e)||E,!this.isRenderModeList&&E&&!r&&y&&(this.currentIndex=b),r=E||r}return r},t.prototype.setOnCompleteAsyncInPanel=function(e){for(var n=this,r=e.questions,o=0;o<r.length;o++)r[o].onCompletedAsyncValidators=function(c){n.raiseOnCompletedAsyncValidators()}},t.prototype.isValueDuplicated=function(e,n,r,o){if(!this.keyName)return!1;var c=e.getQuestionByValueName(this.keyName);if(!c||c.isEmpty())return!1;var p=c.value;this.changingValueQuestion&&c!=this.changingValueQuestion&&c.hasErrors(o,r);for(var y=0;y<n.length;y++)if(p==n[y])return o&&c.addError(new fd(this.keyDuplicationError,this)),r&&!r.firstErrorQuestion&&(r.firstErrorQuestion=c),!0;return n.push(p),!1},t.prototype.getPanelActions=function(e){var n=this,r=e.footerActions;return this.panelRemoveButtonLocation!=="right"&&r.push(new ot({id:"remove-panel-"+e.id,component:"sv-paneldynamic-remove-btn",visible:new At(function(){return[n.canRemovePanel,e.state!=="collapsed",n.panelRemoveButtonLocation!=="right"].every(function(o){return o===!0})}),data:{question:this,panel:e}})),this.survey&&(r=this.survey.getUpdatedPanelFooterActions(e,r,this)),r},t.prototype.createNewPanel=function(){var e=this,n=this.createAndSetupNewPanelObject(),r=this.template.toJSON();new et().toObject(r,n),n.renderWidth="100%",n.updateCustomWidgets(),new Yt(this,n),!this.isDesignMode&&!this.isReadOnly&&!this.isValueEmpty(n.getValue())&&this.runPanelsCondition([n],this.getDataFilteredValues(),this.getDataFilteredProperties()),n.onFirstRendering();for(var o=n.questions,c=0;c<o.length;c++)o[c].setParentQuestion(this);return n.locStrsChanged(),n.onGetFooterActionsCallback=function(){return e.getPanelActions(n)},n.onGetFooterToolbarCssCallback=function(){return e.cssClasses.panelFooter},n.registerPropertyChangedHandlers(["visible"],function(){n.visible?e.onPanelAdded(n):e.onPanelRemoved(n),e.updateFooterActions()}),n},t.prototype.createAndSetupNewPanelObject=function(){var e=this,n=this.createNewPanelObject();return n.isInteractiveDesignElement=!1,n.setParentQuestion(this),n.onGetQuestionTitleLocation=function(){return e.getTemplateQuestionTitleLocation()},n},t.prototype.getTemplateQuestionTitleLocation=function(){return this.templateTitleLocation!="default"?this.templateTitleLocation:this.getTitleLocationCore()},t.prototype.getChildErrorLocation=function(e){return this.templateErrorLocation!=="default"?this.templateErrorLocation:i.prototype.getChildErrorLocation.call(this,e)},t.prototype.createNewPanelObject=function(){return H.createClass("panel")},t.prototype.setPanelCountBasedOnValue=function(){if(!(this.isValueChangingInternally||this.useTemplatePanel)){var e=this.value,n=e&&Array.isArray(e)?e.length:0;n==0&&this.getPropertyValue("panelCount")>0&&(n=this.getPropertyValue("panelCount")),this.settingPanelCountBasedOnValue=!0,this.panelCount=n,this.settingPanelCountBasedOnValue=!1}},t.prototype.setQuestionValue=function(e){if(!this.settingPanelCountBasedOnValue){i.prototype.setQuestionValue.call(this,e,!1),this.setPanelCountBasedOnValue();for(var n=0;n<this.panelsCore.length;n++)this.panelUpdateValueFromSurvey(this.panelsCore[n]);this.updateIsAnswered()}},t.prototype.onSurveyValueChanged=function(e){if(!(e===void 0&&this.isAllPanelsEmpty())){i.prototype.onSurveyValueChanged.call(this,e);for(var n=0;n<this.panelsCore.length;n++)this.panelSurveyValueChanged(this.panelsCore[n]);e===void 0&&this.setValueBasedOnPanelCount(),this.updateIsReady()}},t.prototype.isAllPanelsEmpty=function(){for(var e=0;e<this.panelsCore.length;e++)if(!g.isValueEmpty(this.panelsCore[e].getValue()))return!1;return!0},t.prototype.panelUpdateValueFromSurvey=function(e){for(var n=e.questions,r=this.getPanelItemData(e.data),o=0;o<n.length;o++){var c=n[o];c.updateValueFromSurvey(r[c.getValueName()]),c.updateCommentFromSurvey(r[c.getValueName()+N.commentSuffix]),c.initDataUI()}},t.prototype.panelSurveyValueChanged=function(e){for(var n=e.questions,r=this.getPanelItemData(e.data),o=0;o<n.length;o++){var c=n[o];c.onSurveyValueChanged(r[c.getValueName()])}},t.prototype.onSetData=function(){i.prototype.onSetData.call(this),this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},t.prototype.isNewValueCorrect=function(e){return Array.isArray(e)},t.prototype.getItemIndex=function(e){var n=this.items.indexOf(e);return n>-1?n:this.items.length},t.prototype.getVisibleItemIndex=function(e){for(var n=this.visiblePanelsCore,r=0;r<n.length;r++)if(n[r].data===e)return r;return n.length},t.prototype.getPanelItemData=function(e){var n=this.items,r=n.indexOf(e),o=this.value;return r<0&&Array.isArray(o)&&o.length>n.length&&(r=n.length),r<0?{}:!o||!Array.isArray(o)||o.length<=r?{}:o[r]},t.prototype.setPanelItemData=function(e,n,r){if(!(this.isSetPanelItemData[n]>this.maxCheckCount)){this.isSetPanelItemData[n]||(this.isSetPanelItemData[n]=0),this.isSetPanelItemData[n]++;var o=this.items,c=o.indexOf(e);c<0&&(c=o.length);var p=this.getUnbindValue(this.value);if((!p||!Array.isArray(p))&&(p=[]),p.length<=c)for(var y=p.length;y<=c;y++)p.push({});if(p[c]||(p[c]={}),this.isValueEmpty(r)?delete p[c][n]:p[c][n]=r,c>=0&&c<this.panelsCore.length&&(this.changingValueQuestion=this.panelsCore[c].getQuestionByValueName(n)),this.value=p,this.changingValueQuestion=null,this.survey){var b={question:this,panel:e.panel,name:n,itemIndex:c,itemValue:p[c],value:r};this.survey.dynamicPanelItemValueChanged(this,b)}this.isSetPanelItemData[n]--,this.isSetPanelItemData[n]-1&&delete this.isSetPanelItemData[n]}},t.prototype.getRootData=function(){return this.data},t.prototype.getPlainData=function(e){e===void 0&&(e={includeEmpty:!0});var n=i.prototype.getPlainData.call(this,e);if(n){n.isNode=!0;var r=Array.isArray(n.data)?[].concat(n.data):[];n.data=this.panels.map(function(o,c){var p={name:o.name||c,title:o.title||"Panel",value:o.getValue(),displayValue:o.getValue(),getString:function(y){return typeof y=="object"?JSON.stringify(y):y},isNode:!0,data:o.questions.map(function(y){return y.getPlainData(e)}).filter(function(y){return!!y})};return(e.calculations||[]).forEach(function(y){p[y.propertyName]=o[y.propertyName]}),p}),n.data=n.data.concat(r)}return n},t.prototype.updateElementCss=function(e){i.prototype.updateElementCss.call(this,e);for(var n=0;n<this.panelsCore.length;n++){var r=this.panelsCore[n];r.updateElementCss(e)}},Object.defineProperty(t.prototype,"progressText",{get:function(){var e=this.visiblePanelCount;return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return(this.currentIndex+1)/this.visiblePanelCount*100+"%"},enumerable:!1,configurable:!0}),t.prototype.getRootCss=function(){return new J().append(i.prototype.getRootCss.call(this)).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()},Object.defineProperty(t.prototype,"cssHeader",{get:function(){var e=this.isRenderModeTab&&!!this.visiblePanelCount;return new J().append(this.cssClasses.header).append(this.cssClasses.headerTop,this.hasTitleOnTop||e).append(this.cssClasses.headerTab,e).toString()},enumerable:!1,configurable:!0}),t.prototype.getPanelWrapperCss=function(e){return new J().append(this.cssClasses.panelWrapper,!e||e.visible).append(this.cssClasses.panelWrapperList,this.isRenderModeList).append(this.cssClasses.panelWrapperInRow,this.panelRemoveButtonLocation==="right").toString()},t.prototype.getPanelRemoveButtonCss=function(){return new J().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,this.panelRemoveButtonLocation==="right").toString()},t.prototype.getAddButtonCss=function(){return new J().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode",this.displayMode==="list").toString()},t.prototype.getPrevButtonCss=function(){return new J().append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()},t.prototype.getNextButtonCss=function(){return new J().append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()},Object.defineProperty(t.prototype,"noEntriesText",{get:function(){return this.getLocalizableStringText("noEntriesText")},set:function(e){this.setLocalizableStringText("noEntriesText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locNoEntriesText",{get:function(){return this.getLocalizableString("noEntriesText")},enumerable:!1,configurable:!0}),t.prototype.getShowNoEntriesPlaceholder=function(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&this.visiblePanelCount===0},t.prototype.needResponsiveWidth=function(){var e=this.getPanel();return!!(e&&e.needResponsiveWidth())},Object.defineProperty(t.prototype,"hasAdditionalTitleToolbar",{get:function(){return this.isRenderModeTab&&this.visiblePanels.length>0},enumerable:!1,configurable:!0}),t.prototype.getAdditionalTitleToolbar=function(){return this.isRenderModeTab?(this.additionalTitleToolbarValue||(this.additionalTitleToolbarValue=new ns,this.additionalTitleToolbarValue.dotsItem.popupModel.showPointer=!1,this.additionalTitleToolbarValue.dotsItem.popupModel.verticalPosition="bottom",this.additionalTitleToolbarValue.dotsItem.popupModel.horizontalPosition="center",this.updateElementCss(!1)),this.additionalTitleToolbarValue):null},Object.defineProperty(t.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),t.prototype.updateFooterActions=function(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()},t.prototype.initFooterToolbar=function(){var e=this;this.footerToolbarValue=this.createActionContainer();var n=[],r=new ot({id:"sv-pd-prev-btn",title:this.panelPrevText,action:function(){e.goToPrevPanel()}}),o=new ot({id:"sv-pd-next-btn",title:this.panelNextText,action:function(){e.goToNextPanel()}}),c=new ot({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),p=new ot({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),y=new ot({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),b=new ot({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});n.push(r,o,c,p,y,b),this.updateFooterActionsCallback=function(){var E=e.legacyNavigation,M=e.isRenderModeList,Q=e.isMobile,X=!E&&!M;r.visible=X&&e.currentIndex>0,o.visible=X&&e.currentIndex<e.visiblePanelCount-1,o.needSpace=Q&&o.visible&&r.visible,c.visible=e.canAddPanel,c.needSpace=e.isMobile&&!o.visible&&r.visible,y.visible=!e.isRenderModeList&&!Q,y.needSpace=!E&&!e.isMobile;var oe=E&&!M;p.visible=oe,b.visible=oe,p.needSpace=oe},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(n)},t.prototype.createTabByPanel=function(e,n){var r=this;if(this.isRenderModeTab){var o=new In(e,!0);o.onGetTextCallback=function(y){if(y||(y=r.locTabTitlePlaceholder.renderedHtml),!r.survey)return y;var b={title:y,panel:e,visiblePanelIndex:n};return r.survey.dynamicPanelGetTabTitle(r,b),b.title},o.sharedData=this.locTemplateTabTitle;var c=this.getPanelVisibleIndexById(e.id)===this.currentIndex,p=new ot({id:e.id,pressed:c,locTitle:o,disableHide:c,action:function(){r.currentIndex=r.getPanelVisibleIndexById(p.id)}});return p}},t.prototype.getAdditionalTitleToolbarCss=function(e){var n=e??this.cssClasses;return new J().append(n.tabsRoot).append(n.tabsLeft,this.tabAlign==="left").append(n.tabsRight,this.tabAlign==="right").append(n.tabsCenter,this.tabAlign==="center").toString()},t.prototype.updateTabToolbarItemsPressedState=function(){if(this.isRenderModeTab&&!(this.currentIndex<0||this.currentIndex>=this.visiblePanelCount)){var e=this.visiblePanelsCore[this.currentIndex];this.additionalTitleToolbar.renderedActions.forEach(function(n){var r=n.id===e.id;n.pressed=r,n.disableHide=r,n.mode==="popup"&&n.disableHide&&n.raiseUpdate()})}},t.prototype.updateTabToolbar=function(){var e=this;if(this.isRenderModeTab){for(var n=[],r=this.visiblePanelsCore,o=function(y){c.visiblePanelsCore.forEach(function(b){return n.push(e.createTabByPanel(r[y],y))})},c=this,p=0;p<r.length;p++)o(p);this.additionalTitleToolbar.setItems(n)}},t.prototype.addTabFromToolbar=function(e,n){if(this.isRenderModeTab){var r=this.createTabByPanel(e,n);this.additionalTitleToolbar.actions.splice(n,0,r),this.updateTabToolbarItemsPressedState()}},t.prototype.removeTabFromToolbar=function(e){if(this.isRenderModeTab){var n=this.additionalTitleToolbar.getActionById(e.id);n&&(this.additionalTitleToolbar.actions.splice(this.additionalTitleToolbar.actions.indexOf(n),1),this.updateTabToolbarItemsPressedState())}},Object.defineProperty(t.prototype,"showLegacyNavigation",{get:function(){return!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showNavigation",{get:function(){return this.isReadOnly&&this.visiblePanelCount==1?!1:this.visiblePanelCount>0&&!this.showLegacyNavigation&&!!this.cssClasses.footer},enumerable:!1,configurable:!0}),t.prototype.showSeparator=function(e){return this.isRenderModeList&&e<this.renderedPanels.length-1},t.prototype.calcCssClasses=function(e){var n=i.prototype.calcCssClasses.call(this,e),r=this.additionalTitleToolbar;return r&&(r.containerCss=this.getAdditionalTitleToolbarCss(n),r.cssClasses=n.tabs,r.dotsItem.cssClasses=n.tabs,r.dotsItem.popupModel.contentComponentData.model.cssClasses=e.list),n},t.prototype.onMobileChanged=function(){i.prototype.onMobileChanged.call(this),this.updateFooterActions()},t.maxCheckCount=3,ho([ee({})],t.prototype,"_renderedPanels",void 0),ho([V({onSet:function(e,n){n.fireCallback(n.renderModeChangedCallback),n.updatePanelView()}})],t.prototype,"displayMode",void 0),ho([V({onSet:function(e,n){n.fireCallback(n.currentIndexChangedCallback)}})],t.prototype,"showProgressBar",void 0),ho([V({onSet:function(e,n){}})],t.prototype,"progressBarLocation",void 0),ho([V({defaultValue:!1,onSet:function(e,n){n.updateFooterActions()}})],t.prototype,"legacyNavigation",void 0),t}(zt);H.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:function(i){return i.displayMode==="tab"}},{name:"tabTitlePlaceholder",serializationProperty:"locTabTitlePlaceholder",visibleIf:function(i){return i.displayMode==="tab"}},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"newPanelPosition",choices:["next","last"],default:"last",category:"layout"},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",default:N.panel.maxPanelCount},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"],visibleIf:function(i){return i.displayMode==="list"}},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText",visibleIf:function(i){return i.confirmDelete}},{name:"panelAddText",serializationProperty:"locPanelAddText",visibleIf:function(i){return i.allowAddPanel}},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText",visibleIf:function(i){return i.allowRemovePanel}},{name:"panelPrevText",serializationProperty:"locPanelPrevText",visibleIf:function(i){return i.displayMode!=="list"}},{name:"panelNextText",serializationProperty:"locPanelNextText",visibleIf:function(i){return i.displayMode!=="list"}},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0,visible:!1},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom","tab"],visible:!1},{name:"displayMode",default:"list",choices:["list","carousel","tab"]},{name:"showProgressBar:boolean",default:!0,visibleIf:function(i){return i.displayMode==="carousel"}},{name:"progressBarLocation",default:"top",choices:["top","bottom","topBottom"],visibleIf:function(i){return i.showProgressBar}},{name:"tabAlign",default:"center",choices:["left","center","right"],visibleIf:function(i){return i.displayMode==="tab"}},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"templateErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"templateVisibleIf:expression",category:"logic"},{name:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"],visibleIf:function(i){return i.allowRemovePanel}}],function(){return new $l("")},"question"),lt.Instance.registerQuestion("paneldynamic",function(i){return new $l(i)});var jb=function(){function i(){}return i.getProgressTextInBarCss=function(t){return new J().append(t.progressText).append(t.progressTextInBar).toString()},i.getProgressTextUnderBarCss=function(t){return new J().append(t.progressText).append(t.progressTextUnderBar).toString()},i}(),vr=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ip=function(i){vr(t,i);function t(){var e=i.call(this)||this;return e.idValue=t.idCounter++,e.registerPropertyChangedHandlers(["operator","value","name"],function(){e.oldPropertiesChanged()}),e.registerPropertyChangedHandlers(["expression"],function(){e.onExpressionChanged()}),e}return Object.defineProperty(t,"operators",{get:function(){return t.operatorsValue!=null||(t.operatorsValue={empty:function(e,n){return!e},notempty:function(e,n){return!!e},equal:function(e,n){return e==n},notequal:function(e,n){return e!=n},contains:function(e,n){return e&&e.indexOf&&e.indexOf(n)>-1},notcontains:function(e,n){return!e||!e.indexOf||e.indexOf(n)==-1},greater:function(e,n){return e>n},less:function(e,n){return e<n},greaterorequal:function(e,n){return e>=n},lessorequal:function(e,n){return e<=n}}),t.operatorsValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"triggerbase"},t.prototype.toString=function(){var e=this.getType().replace("trigger",""),n=this.expression?this.expression:this.buildExpression();return n&&(e+=", "+n),e},Object.defineProperty(t.prototype,"isInternal",{get:function(){return this.isGhost===!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(e){e&&(e=e.toLowerCase(),t.operators[e]&&this.setPropertyValue("operator",e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(e){this.setPropertyValue("value",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(e){this.setPropertyValue("name",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(e){this.setPropertyValue("expression",e)},enumerable:!1,configurable:!0}),t.prototype.canBeExecuted=function(e){return!0},t.prototype.canBeExecutedOnComplete=function(){return!1},t.prototype.checkExpression=function(e,n,r,o,c){c===void 0&&(c=null),this.isExecutingOnNextPage=e,this.canBeExecuted(e)&&(n&&!this.canBeExecutedOnComplete()||this.isCheckRequired(r)&&(this.conditionRunner?this.perform(o,c):this.canSuccessOnEmptyExpression()&&this.triggerResult(!0,o,c)))},t.prototype.canSuccessOnEmptyExpression=function(){return!1},t.prototype.check=function(e){var n=t.operators[this.operator](e,this.value);n?this.onSuccess({},null):this.onFailure()},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.perform=function(e,n){var r=this;this.conditionRunner.onRunComplete=function(o){r.triggerResult(o,e,n)},this.conditionRunner.run(e,n)},t.prototype.triggerResult=function(e,n,r){e?(this.onSuccess(n,r),this.onSuccessExecuted()):this.onFailure()},t.prototype.onSuccess=function(e,n){},t.prototype.onFailure=function(){},t.prototype.onSuccessExecuted=function(){},t.prototype.endLoadingFromJson=function(){i.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},t.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},t.prototype.onExpressionChanged=function(){this.conditionRunner=null},t.prototype.buildExpression=function(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+On.toOperandString(this.value)},t.prototype.isCheckRequired=function(e){return e?(this.createConditionRunner(),this.conditionRunner&&this.conditionRunner.hasFunction()===!0?!0:new Ie().isAnyKeyChanged(e,this.getUsedVariables())):!1},t.prototype.getUsedVariables=function(){if(!this.conditionRunner)return[];var e=this.conditionRunner.getVariables();if(Array.isArray(e))for(var n="-unwrapped",r=e.length-1;r>=0;r--){var o=e[r];o.endsWith(n)&&e.push(o.substring(0,o.length-n.length))}return e},t.prototype.createConditionRunner=function(){if(!this.conditionRunner){var e=this.expression;e||(e=this.buildExpression()),e&&(this.conditionRunner=new on(e))}},Object.defineProperty(t.prototype,"isRequireValue",{get:function(){return this.operator!=="empty"&&this.operator!="notempty"},enumerable:!1,configurable:!0}),t.idCounter=1,t.operatorsValue=null,t}($e),Kr=function(i){vr(t,i);function t(){var e=i.call(this)||this;return e.ownerValue=null,e}return Object.defineProperty(t.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),t.prototype.setOwner=function(e){this.ownerValue=e},t.prototype.getSurvey=function(e){return this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},t.prototype.isRealExecution=function(){return!0},t.prototype.onSuccessExecuted=function(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)},t}(Ip),Ep=function(i){vr(t,i);function t(){var e=i.call(this)||this;return e.pages=[],e.questions=[],e}return t.prototype.getType=function(){return"visibletrigger"},t.prototype.onSuccess=function(e,n){this.onTrigger(this.onItemSuccess)},t.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},t.prototype.onTrigger=function(e){if(this.owner)for(var n=this.owner.getObjects(this.pages,this.questions),r=0;r<n.length;r++)e(n[r])},t.prototype.onItemSuccess=function(e){e.visible=!0},t.prototype.onItemFailure=function(e){e.visible=!1},t}(Kr),_p=function(i){vr(t,i);function t(){return i.call(this)||this}return t.prototype.getType=function(){return"completetrigger"},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isRealExecution=function(){return!N.triggers.executeCompleteOnValueChanged===this.isExecutingOnNextPage},t.prototype.onSuccess=function(e,n){this.owner&&(this.isRealExecution()?this.owner.setCompleted(this):this.owner.canBeCompleted(this,!0))},t.prototype.onFailure=function(){this.owner.canBeCompleted(this,!1)},t}(Kr),Ap=function(i){vr(t,i);function t(){return i.call(this)||this}return t.prototype.getType=function(){return"setvaluetrigger"},t.prototype.canBeExecuted=function(e){return!e&&!!this.setToName},t.prototype.onPropertyValueChanged=function(e,n,r){if(i.prototype.onPropertyValueChanged.call(this,e,n,r),e==="setToName"){var o=this.getSurvey();o&&!o.isLoadingFromJson&&o.isDesignMode&&(this.setValue=void 0)}},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(e){this.setPropertyValue("setValue",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable")},set:function(e){this.setPropertyValue("isVariable",e)},enumerable:!1,configurable:!0}),t.prototype.onSuccess=function(e,n){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},t}(Kr),Dp=function(i){vr(t,i);function t(){return i.call(this)||this}return t.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return this.canBeExecuted(!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(e){this.setPropertyValue("gotoName",e)},enumerable:!1,configurable:!0}),t.prototype.canBeExecuted=function(e){return e===!N.triggers.executeSkipOnValueChanged},t.prototype.onSuccess=function(e,n){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)},t}(Kr),Lp=function(i){vr(t,i);function t(){return i.call(this)||this}return t.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(e){this.setPropertyValue("runExpression",e)},enumerable:!1,configurable:!0}),t.prototype.canBeExecuted=function(e){return!e},t.prototype.onSuccess=function(e,n){var r=this;if(!(!this.owner||!this.runExpression)){var o=new Nr(this.runExpression);o.canRun&&(o.onRunComplete=function(c){r.onCompleteRunExpression(c)},o.run(e,n))}},t.prototype.onCompleteRunExpression=function(e){this.setToName&&e!==void 0&&this.owner.setTriggerValue(this.setToName,g.convertValToQuestionVal(e),!1)},t}(Kr),kp=function(i){vr(t,i);function t(){return i.call(this)||this}return t.prototype.canBeExecuted=function(e){return!e&&!!this.setToName&&!!this.fromName},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(e){this.setPropertyValue("setToName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(e){this.setPropertyValue("fromName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"copyDisplayValue",{get:function(){return this.getPropertyValue("copyDisplayValue")},set:function(e){this.setPropertyValue("copyDisplayValue",e)},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"copyvaluetrigger"},t.prototype.onSuccess=function(e,n){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName,this.copyDisplayValue)},t.prototype.canSuccessOnEmptyExpression=function(){return!0},t.prototype.getUsedVariables=function(){var e=i.prototype.getUsedVariables.call(this);return e.length===0&&this.fromName&&e.push(this.fromName),e},t}(Kr);H.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),H.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),H.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new Ep},"surveytrigger"),H.addClass("completetrigger",[],function(){return new _p},"surveytrigger"),H.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(i){return!!i&&!!i.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new Ap},"surveytrigger"),H.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"},{name:"copyDisplayValue:boolean",visible:!1}],function(){return new kp},"surveytrigger"),H.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new Dp},"surveytrigger"),H.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new Lp},"surveytrigger");var Mp=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nb=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},qp=function(i){Mp(t,i);function t(e,n){n===void 0&&(n=null);var r=i.call(this)||this;return r.closeOnCompleteTimeout=0,n?r.surveyValue=n:r.surveyValue=r.createSurvey(e),r.surveyValue.fitToContainer=!0,r.windowElement=h.createElement("div"),r.survey.onComplete.add(function(o,c){r.onSurveyComplete()}),r.registerPropertyChangedHandlers(["isShowing"],function(){r.showingChangedCallback&&r.showingChangedCallback()}),r.registerPropertyChangedHandlers(["isExpanded"],function(){r.onExpandedChanged()}),r.width=new At(function(){return r.survey.width}),r.width=r.survey.width,r.updateCss(),r.onCreating(),r}return t.prototype.onCreating=function(){},t.prototype.getType=function(){return"popupsurvey"},Object.defineProperty(t.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(e){this.setPropertyValue("isShowing",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFullScreen",{get:function(){return this.getPropertyValue("isFullScreen",!1)},set:function(e){!this.isExpanded&&e&&(this.isExpanded=!0),this.setPropertyValue("isFullScreen",e),this.setCssRoot()},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.isShowing=!0},t.prototype.hide=function(){this.isShowing=!1},t.prototype.toggleFullScreen=function(){this.isFullScreen=!this.isFullScreen},Object.defineProperty(t.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(e){this.isFullScreen&&!e&&(this.isFullScreen=!1),this.setPropertyValue("isExpanded",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return!this.isExpanded},enumerable:!1,configurable:!0}),t.prototype.onExpandedChanged=function(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()},Object.defineProperty(t.prototype,"title",{get:function(){return this.survey.title},set:function(e){this.survey.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locTitle",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDescription",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locDescription},enumerable:!1,configurable:!0}),t.prototype.expand=function(){this.isExpanded=!0},t.prototype.collapse=function(){this.isExpanded=!1},t.prototype.changeExpandCollapse=function(){this.isExpanded=!this.isExpanded},Object.defineProperty(t.prototype,"allowClose",{get:function(){return this.getPropertyValue("allowClose",!1)},set:function(e){this.setPropertyValue("allowClose",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowFullScreen",{get:function(){return this.getPropertyValue("allowFullScreen",!1)},set:function(e){this.setPropertyValue("allowFullScreen",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssButton",{get:function(){return this.getPropertyValue("cssButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRoot",{get:function(){var e=this.getPropertyValue("cssRoot","");return this.isCollapsed&&(e+=" "+this.getPropertyValue("cssRootCollapsedMod","")),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRootCollapsedMod",{get:function(){return this.getPropertyValue("cssRootCollapsedMod")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssRootContent",{get:function(){return this.getPropertyValue("cssRootContent")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssBody",{get:function(){return this.getPropertyValue("cssBody","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderRoot",{get:function(){return this.getPropertyValue("cssHeaderRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderTitleCollapsed",{get:function(){return this.getPropertyValue("cssHeaderTitleCollapsed","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderButtonsContainer",{get:function(){return this.getPropertyValue("cssHeaderButtonsContainer","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderCollapseButton",{get:function(){return this.getPropertyValue("cssHeaderCollapseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderCloseButton",{get:function(){return this.getPropertyValue("cssHeaderCloseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeaderFullScreenButton",{get:function(){return this.getPropertyValue("cssHeaderFullScreenButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedWidth",{get:function(){var e=this.getPropertyValue("width","60%");return e&&!isNaN(e)&&(e=e+"px"),e},enumerable:!1,configurable:!0}),t.prototype.updateCss=function(){if(!(!this.css||!this.css.window)){var e=this.css.window;this.setCssRoot(),this.setPropertyValue("cssRootCollapsedMod",e.rootCollapsedMod),this.setPropertyValue("cssRootContent",e.rootContent),this.setPropertyValue("cssBody",e.body);var n=e.header;n&&(this.setPropertyValue("cssHeaderRoot",n.root),this.setPropertyValue("cssHeaderTitleCollapsed",n.titleCollapsed),this.setPropertyValue("cssHeaderButtonsContainer",n.buttonsContainer),this.setPropertyValue("cssHeaderCollapseButton",n.collapseButton),this.setPropertyValue("cssHeaderCloseButton",n.closeButton),this.setPropertyValue("cssHeaderFullScreenButton",n.fullScreenButton),this.updateCssButton())}},t.prototype.setCssRoot=function(){var e=this.css.window;this.isFullScreen?this.setPropertyValue("cssRoot",e.root+" "+e.rootFullScreenMode):this.setPropertyValue("cssRoot",e.root)},t.prototype.updateCssButton=function(){var e=this.css.window?this.css.window.header:null;e&&this.setCssButton(this.isExpanded?e.buttonExpanded:e.buttonCollapsed)},t.prototype.setCssButton=function(e){e&&this.setPropertyValue("cssButton",e)},t.prototype.createSurvey=function(e){return new fr(e)},t.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0))if(this.closeOnCompleteTimeout==0)this.hide();else{var e=this,n=null,r=function(){e.hide(),clearInterval(n)};n=setInterval(r,this.closeOnCompleteTimeout*1e3)}},t.prototype.onScroll=function(){this.survey.onScroll()},Nb([V()],t.prototype,"width",void 0),t}($e),Fb=function(i){Mp(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t}(qp),Bb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jl=function(i){Bb(t,i);function t(e){var n=i.call(this,e)||this;return n.onScrollOutsideCallback=function(r){n.preventScrollOuside(r,r.deltaY)},n}return t.prototype.getStyleClass=function(){return i.prototype.getStyleClass.call(this).append("sv-popup--modal",!this.isOverlay)},t.prototype.getShowFooter=function(){return!0},t.prototype.createFooterActionBar=function(){var e=this;i.prototype.createFooterActionBar.call(this),this.footerToolbar.containerCss="sv-footer-action-bar",this.footerToolbarValue.addAction({id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__body-footer-item sv-popup__button sv-popup__button--apply sd-btn sd-btn--action",action:function(){e.apply()}})},Object.defineProperty(t.prototype,"applyButtonText",{get:function(){return this.getLocalizationString("modalApplyButtonText")},enumerable:!1,configurable:!0}),t.prototype.apply=function(){this.model.onApply&&!this.model.onApply()||this.hidePopup()},t.prototype.clickOutside=function(){},t.prototype.onKeyDown=function(e){(e.key==="Escape"||e.keyCode===27)&&this.model.onCancel(),i.prototype.onKeyDown.call(this,e)},t.prototype.updateOnShowing=function(){this.container&&this.container.addEventListener("wheel",this.onScrollOutsideCallback,{passive:!1}),i.prototype.updateOnShowing.call(this)},t.prototype.updateOnHiding=function(){this.container&&this.container.removeEventListener("wheel",this.onScrollOutsideCallback),i.prototype.updateOnHiding.call(this)},t}(Pl),Gl=function(){return Gl=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Gl.apply(this,arguments)};function Hb(i,t){var e,n=Gl({},i);n.verticalPosition="top",n.horizontalPosition="left",n.showPointer=!1,n.isModal=!0,n.displayMode=i.displayMode||"popup";var r=new Xi(i.componentName,i.data,n);r.isFocusedContent=(e=i.isFocusedContent)!==null&&e!==void 0?e:!0;var o=new Jl(r);if(t&&t.appendChild){var c=h.createElement("div");t.appendChild(c),o.setComponentElement(c)}o.container||o.initializePopupContainer();var p=function(y,b){b.isVisible||c&&o.resetComponentElement(),o.onVisibilityChanged.remove(p)};return o.onVisibilityChanged.add(p),o}function Qb(i,t){return i.isModal?new Jl(i):new Vl(i,t)}var jp=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kl=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Np=function(i){jp(t,i);function t(e,n,r){n===void 0&&(n=null),r===void 0&&(r="buttongroupitemvalue");var o=i.call(this,e,n,r)||this;return o.typeName=r,o}return t.prototype.getType=function(){return this.typeName?this.typeName:"buttongroupitemvalue"},Kl([V()],t.prototype,"iconName",void 0),Kl([V()],t.prototype,"iconSize",void 0),Kl([V()],t.prototype,"showCaption",void 0),t}(ke),Fp=function(i){jp(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getType=function(){return"buttongroup"},t.prototype.getItemValueType=function(){return"buttongroupitemvalue"},t.prototype.supportOther=function(){return!1},t}(uo);H.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new Fp("")},"checkboxbase"),H.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],function(i){return new Np(i)},"itemvalue");var zb=function(){function i(t,e,n){this.question=t,this.item=e,this.index=n}return Object.defineProperty(i.prototype,"value",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"iconName",{get:function(){return this.item.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"iconSize",{get:function(){return this.item.iconSize||24},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"caption",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showCaption",{get:function(){return this.item.showCaption||this.item.showCaption===void 0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this.question.isRequired},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this.question.isItemSelected(this.item)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"readOnly",{get:function(){return this.question.isInputReadOnly||!this.item.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this.question.name+"_"+this.question.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this.question.inputId+"_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasErrors",{get:function(){return this.question.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"describedBy",{get:function(){return this.question.errors.length>0?this.question.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"labelClass",{get:function(){return new J().append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"css",{get:function(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}},enumerable:!1,configurable:!0}),i.prototype.onChange=function(){this.question.renderedValue=this.item.value},i}(),Ub=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wb=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},As=function(i){Ub(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getSurvey=function(e){return this.owner},t.prototype.getType=function(){return"masksettings"},t.prototype.setData=function(e){var n=this,r=H.getProperties(this.getType());r.forEach(function(o){var c=e[o.name];n[o.name]=c!==void 0?c:o.defaultValue})},t.prototype.getData=function(){var e=this,n={},r=H.getProperties(this.getType());return r.forEach(function(o){var c=e[o.name];o.isDefaultValue(c)||(n[o.name]=c)}),n},t.prototype.processInput=function(e){return{value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1}},t.prototype.getUnmaskedValue=function(e){return e},t.prototype.getMaskedValue=function(e){return e},t.prototype.getTextAlignment=function(){return"auto"},t.prototype.getTypeForExpressions=function(){return"text"},Wb([V()],t.prototype,"saveMaskedValue",void 0),t}($e);H.addClass("masksettings",[{name:"saveMaskedValue:boolean",visibleIf:function(i){return i?i.getType()!=="masksettings":!1}}],function(){return new As});var $b=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jb=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o};function Zl(i){for(var t=[],e=!1,n=Object.keys(N.maskSettings.patternDefinitions),r=0;r<i.length;r++){var o=i[r];o===N.maskSettings.patternEscapeChar?e=!0:e?(e=!1,t.push({type:"fixed",value:o})):t.push({type:n.indexOf(o)!==-1?"regex":"const",value:o})}return t}function Gb(i,t,e){for(var n=N.maskSettings.patternDefinitions[e.value];t<i.length;){if(i[t].match(n))return t;t++}return t}function Kb(i,t,e){for(var n=i??"",r="",o=0,c=typeof t=="string"?Zl(t):t,p=0;p<c.length;p++)switch(c[p].type){case"regex":if(o<n.length&&(o=Gb(n,o,c[p])),o<n.length)r+=n[o];else if(e)r+=N.maskSettings.patternPlaceholderChar;else return r;o++;break;case"const":case"fixed":r+=c[p].value,c[p].value===n[o]&&o++;break}return r}function Yl(i,t,e,n){n===void 0&&(n=!1);var r="";if(!i)return r;for(var o=typeof t=="string"?Zl(t):t,c=0;c<o.length;c++)if(o[c].type==="fixed"&&!n&&(r+=o[c].value),o[c].type==="regex"){var p=N.maskSettings.patternDefinitions[o[c].value];if(i[c]&&i[c].match(p))r+=i[c];else if(e){r="";break}else break}return r}var Xl=function(i){$b(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.literals=[],e}return t.prototype.updateLiterals=function(){this.literals=Zl(this.pattern||"")},t.prototype.onPropertyValueChanged=function(e,n,r){e==="pattern"&&this.updateLiterals()},t.prototype.getType=function(){return"patternmask"},t.prototype.fromJSON=function(e,n){i.prototype.fromJSON.call(this,e,n),this.updateLiterals()},t.prototype._getMaskedValue=function(e,n){n===void 0&&(n=!1);var r=e??"";return Kb(r,this.literals,n)},t.prototype._getUnmaskedValue=function(e,n){n===void 0&&(n=!1);var r=e??"";return Yl(r,this.literals,n)},t.prototype.processInput=function(e){var n={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1};if(!e.insertedChars&&e.selectionStart===e.selectionEnd)return n;var r=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),o=Yl(e.prevValue.slice(0,e.selectionStart),this.literals.slice(0,e.selectionStart),!1),c=Yl(e.prevValue.slice(e.selectionEnd),this.literals.slice(e.selectionEnd),!1,!0);return n.value=this._getMaskedValue(o+(e.insertedChars||"")+c,!0),!e.insertedChars&&e.inputDirection==="backward"?n.caretPosition=e.selectionStart:n.caretPosition=this._getMaskedValue(r).length,n},t.prototype.getMaskedValue=function(e){return this._getMaskedValue(e,!0)},t.prototype.getUnmaskedValue=function(e){return this._getUnmaskedValue(e,!0)},Jb([V()],t.prototype,"pattern",void 0),t}(As);H.addClass("patternmask",[{name:"pattern"}],function(){return new Xl},"masksettings");var Zb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),xi=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o};function Yb(i,t,e){t===void 0&&(t=!0),e===void 0&&(e=3);var n=[];if(t){for(var r=i.length-e;r>-e;r-=e)n.push(i.substring(r,r+e));n=n.reverse()}else for(var r=0;r<i.length;r+=e)n.push(i.substring(r,r+e));return n}var eu=function(i){Zb(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.calccaretPosition=function(e,n,r){for(var o=e?this.displayNumber(this.parseNumber(e),!1).length:0,c=0,p=n.selectionStart,y=!n.insertedChars&&n.inputDirection==="forward",b=0;b<r.length;b++){var E=r[b];if(E!==this.thousandsSeparator&&c++,c===o+(y?1:0)){y?p=b:p=b+1;break}}return p},t.prototype.numericalCompositionIsEmpty=function(e){return!e.integralPart&&!e.fractionalPart},t.prototype.displayNumber=function(e,n,r){n===void 0&&(n=!0),r===void 0&&(r=!1);var o=e.integralPart;n&&o&&(o=Yb(o).join(this.thousandsSeparator));var c=e.fractionalPart,p=e.isNegative?"-":"";if(c===""){if(r)return!o||o==="0"?o:p+o;var y=e.hasDecimalSeparator&&!r?this.decimalSeparator:"",b=o+y;return b==="0"?b:p+b}else return o=o||"0",c=c.substring(0,this.precision),[p+o,c].join(this.decimalSeparator)},t.prototype.convertNumber=function(e){var n,r=e.isNegative?"-":"";return e.fractionalPart?n=parseFloat(r+(e.integralPart||"0")+"."+e.fractionalPart.substring(0,this.precision)):n=parseInt(r+e.integralPart||"0"),n},t.prototype.validateNumber=function(e,n){var r=this.min||Number.MIN_SAFE_INTEGER,o=this.max||Number.MAX_SAFE_INTEGER;if(this.numericalCompositionIsEmpty(e))return!0;if(this.min!==void 0||this.max!==void 0){var c=this.convertNumber(e);if(Number.isNaN(c)||c>=r&&c<=o)return!0;if(!n){if(!e.hasDecimalSeparator&&c!=0){var p=c,y=c;if(c>0){if(c+1>r&&c<=o)return!0;for(;p=p*10+9,y=y*10,!(y>o);)if(p>r)return!0;return!1}if(c<0){if(c>=r&&c-1<o)return!0;for(;p=p*10,y=y*10-9,!(p<r);)if(y<o)return!0;return!1}}else{var b=Math.pow(.1,(e.fractionalPart||"").length);if(c>=0)return c+b>r&&c<=o;if(c<0)return c>=r&&c-b<o}return c>=0&&c<=o||c<0&&c>=r}return!1}return!0},t.prototype.parseNumber=function(e){for(var n={integralPart:"",fractionalPart:"",hasDecimalSeparator:!1,isNegative:!1},r=e==null?"":e.toString(),o=0,c=0;c<r.length;c++){var p=r[c];switch(p){case"-":{this.allowNegativeValues&&(this.min===void 0||this.min<0)&&o++;break}case this.decimalSeparator:{this.precision>0&&(n.hasDecimalSeparator=!0);break}case this.thousandsSeparator:break;default:p.match(Ol)&&(n.hasDecimalSeparator?n.fractionalPart+=p:n.integralPart+=p)}}return n.isNegative=o%2!==0,n.integralPart.length>1&&n.integralPart[0]==="0"&&(n.integralPart=n.integralPart.slice(1)),n},t.prototype.getNumberMaskedValue=function(e,n){n===void 0&&(n=!1);var r=this.parseNumber(e);if(!this.validateNumber(r,n))return null;var o=this.displayNumber(r,!0,n);return o},t.prototype.getNumberUnmaskedValue=function(e){var n=this.parseNumber(e);if(!this.numericalCompositionIsEmpty(n))return this.convertNumber(n)},t.prototype.getTextAlignment=function(){return"right"},t.prototype.getMaskedValue=function(e){var n=e==null?"":e.toString();return n=n.replace(".",this.decimalSeparator),this.getNumberMaskedValue(n,!0)},t.prototype.getUnmaskedValue=function(e){return this.getNumberUnmaskedValue(e)},t.prototype.processInput=function(e){var n={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},r=e.prevValue.slice(0,e.selectionStart)+(e.insertedChars||""),o=e.prevValue.slice(e.selectionEnd),c=r+o,p=this.parseNumber(c);if(!this.validateNumber(p,!1))return n;var y=this.getNumberMaskedValue(c),b=this.calccaretPosition(r,e,y);return n.value=y,n.caretPosition=b,n},t.prototype.getType=function(){return"numericmask"},t.prototype.isPropertyEmpty=function(e){return e===""||e===void 0||e===null},xi([V()],t.prototype,"allowNegativeValues",void 0),xi([V()],t.prototype,"decimalSeparator",void 0),xi([V()],t.prototype,"precision",void 0),xi([V()],t.prototype,"thousandsSeparator",void 0),xi([V()],t.prototype,"min",void 0),xi([V()],t.prototype,"max",void 0),t}(As);H.addClass("numericmask",[{name:"allowNegativeValues:boolean",default:!0},{name:"decimalSeparator",default:".",maxLength:1},{name:"thousandsSeparator",default:",",maxLength:1},{name:"precision:number",default:2,minValue:0},{name:"min:number"},{name:"max:number"}],function(){return new eu},"masksettings");var Xb=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ds=function(){return Ds=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Ds.apply(this,arguments)},Bp=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o};function Hp(i,t){switch(i){case"hour":case"minute":case"second":case"day":case"month":return 2;case"timeMarker":case"year":return t;default:return 1}}function eC(i,t){var e=t;return i.count<i.maxCount&&(i.type==="day"&&parseInt(t[0])===0||i.type==="month"&&parseInt(t[0])===0)&&(e=t.slice(1,t.length)),e}function Qp(i,t){var e=2e3;if(e>t&&(e=parseInt(t.toString().slice(0,t.toString().length-2))*100),e<i){var n=(t-i)/2+i;e=parseInt(n.toString().slice(0,n.toString().length-1))*10}return e>=i&&e<=t?e:i}function tC(i){for(var t=[],e,n=function(c,p,y){if(y===void 0&&(y=!1),e&&e===c){t[t.length-1].count++;var b=Hp(c,t[t.length-1].count);t[t.length-1].maxCount=b}else{var b=Hp(c,1);t.push({type:c,value:p,count:1,maxCount:b,upperCase:y})}},r=0;r<i.length;r++){var o=i[r];switch(o){case"m":n("month",o);break;case"d":n("day",o);break;case"y":n("year",o);break;case"h":n("hour",o,!1);break;case"H":n("hour",o,!0);break;case"M":n("minute",o);break;case"s":n("second",o);break;case"t":n("timeMarker",o);break;case"T":n("timeMarker",o,!0);break;default:t.push({type:"separator",value:o,count:1,maxCount:1,upperCase:!1});break}e=t[t.length-1].type}return t}var zp=function(i){Xb(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.defaultDate="1970-01-01T",e.turnOfTheCentury=68,e.twelve=12,e.lexems=[],e.inputDateTimeData=[],e.validBeginningOfNumbers={hour:1,hourU:2,minute:5,second:5,day:3,month:1},e}return Object.defineProperty(t.prototype,"hasDatePart",{get:function(){return this.lexems.some(function(e){return e.type==="day"||e.type==="month"||e.type==="year"})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTimePart",{get:function(){return this.lexems.some(function(e){return e.type==="hour"||e.type==="minute"||e.type==="second"})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is12Hours",{get:function(){return this.lexems.filter(function(e){return e.type==="hour"&&!e.upperCase}).length>0},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"datetimemask"},t.prototype.getTypeForExpressions=function(){return this.hasTimePart?"datetime-local":"datetime"},t.prototype.updateLiterals=function(){this.lexems=tC(this.pattern||"")},t.prototype.leaveOnlyNumbers=function(e){for(var n="",r=0;r<e.length;r++)e[r].match(Ol)&&(n+=e[r]);return n},t.prototype.getMaskedStrFromISO=function(e){var n=this,r=new Date(e);return this.initInputDateTimeData(),this.hasTimePart||(r=new Date(e+"T00:00:00")),this.hasDatePart||(r=new Date(this.defaultDate+e)),isNaN(r)||this.lexems.forEach(function(o,c){var p=n.inputDateTimeData[c];switch(p.isCompleted=!0,o.type){case"hour":{n.is12Hours?p.value=((r.getHours()-1)%n.twelve+1).toString():p.value=r.getHours().toString();break}case"minute":{p.value=r.getMinutes().toString();break}case"second":{p.value=r.getSeconds().toString();break}case"timeMarker":{var y=r.getHours()>=n.twelve?"pm":"am";p.value=o.upperCase?y.toUpperCase():y;break}case"day":{p.value=r.getDate().toString();break}case"month":{p.value=(r.getMonth()+1).toString();break}case"year":{var b=r.getFullYear();o.count==2&&(b=b%100),p.value=b.toString();break}}}),this.getFormatedString(!0)},t.prototype.initInputDateTimeData=function(){var e=this;this.inputDateTimeData=[],this.lexems.forEach(function(n){e.inputDateTimeData.push({lexem:n,isCompleted:!1,value:void 0})})},t.prototype.getISO_8601Format=function(e){var n=[],r=[];if(e.year!==void 0){var o=this.getPlaceholder(4,e.year.toString(),"0")+e.year;n.push(o)}if(e.month!==void 0&&e.year!==void 0){var c=this.getPlaceholder(2,e.month.toString(),"0")+e.month;n.push(c)}if(e.day!==void 0&&e.month!==void 0&&e.year!==void 0){var p=this.getPlaceholder(2,e.day.toString(),"0")+e.day;n.push(p)}if(e.hour!==void 0){var y=this.getPlaceholder(2,e.hour.toString(),"0")+e.hour;r.push(y)}if(e.minute!==void 0&&e.hour!==void 0){var b=this.getPlaceholder(2,e.minute.toString(),"0")+e.minute;r.push(b)}if(e.second!==void 0&&e.minute!==void 0&&e.hour!==void 0){var E=this.getPlaceholder(2,e.second.toString(),"0")+e.second;r.push(E)}var M=[];return n.length>0&&M.push(n.join("-")),r.length>1&&M.push(r.join(":")),M.join("T")},t.prototype.isYearValid=function(e){if(e.min===void 0&&e.max===void 0)return!1;var n=e.year.toString(),r=e.min.toISOString().slice(0,n.length),o=e.max.toISOString().slice(0,n.length);return e.year>=parseInt(r)&&e.year<=parseInt(o)},t.prototype.createIDateTimeCompositionWithDefaults=function(e,n){var r=e.min,o=e.max,c=e.year!==void 0?e.year:Qp(r.getFullYear(),o.getFullYear()),p=e.month!==void 0?e.month:n&&this.hasDatePart?12:1,y=e.day!==void 0?e.day:n&&this.hasDatePart?this.getMaxDateForMonth(c,p):1,b=e.hour!==void 0?e.hour:n?23:0,E=e.minute!==void 0?e.minute:n?59:0,M=e.second!==void 0?e.second:n?59:0;return{year:c,month:p,day:y,hour:b,minute:E,second:M}},t.prototype.getMaxDateForMonth=function(e,n){return n==2?e%4==0&&e%100!=0||e%400?29:28:[31,28,31,30,31,30,31,31,30,31,30,31][n-1]},t.prototype.isDateValid=function(e){var n=e.min,r=e.max,o=e.year!==void 0?e.year:Qp(n.getFullYear(),r.getFullYear()),c=e.month!==void 0?e.month:1,p=e.day!==void 0?e.day:1,y=c-1,b=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!1))),E=new Date(this.getISO_8601Format(this.createIDateTimeCompositionWithDefaults(e,!0)));return!isNaN(b)&&b.getDate()===p&&b.getMonth()===y&&b.getFullYear()===o&&E>=e.min&&b<=e.max},t.prototype.getPlaceholder=function(e,n,r){var o=e-(n||"").length,c=o>0?r.repeat(o):"";return c},t.prototype.isDateValid12=function(e){return this.is12Hours?this.is12Hours&&e.hour>this.twelve?!1:e.timeMarker?e.timeMarker[0].toLowerCase()==="p"?(e.hour!==this.twelve&&(e.hour+=this.twelve),this.isDateValid(e)):(e.hour===this.twelve&&(e.hour=0),this.isDateValid(e)):this.isDateValid(e)?!0:(e.hour+=this.twelve,this.isDateValid(e)):this.isDateValid(e)},t.prototype.updateTimeMarkerInputDateTimeData=function(e,n){var r=e.value;if(r){var o="timeMarker",c=Ds({},n);c[o]=r,this.isDateValid12(c)?e.isCompleted=!0:r=r.slice(0,r.length-1),e.value=r||void 0,n[o]=r||void 0}},t.prototype.updateInputDateTimeData=function(e,n){var r=e.value;if(r){var o=e.lexem.type,c=Ds({},n);if(c[o]=parseInt(r),r.length===e.lexem.maxCount)if(this.isDateValid12(c)){e.isCompleted=!0,e.value=r||void 0,n[o]=parseInt(r)>0?parseInt(r):void 0;return}else r=r.slice(0,r.length-1);c[o]=parseInt(r);var p=parseInt(r[0]),y=this.validBeginningOfNumbers[o+(e.lexem.upperCase?"U":"")];o==="year"&&!this.isYearValid(c)?(r=r.slice(0,r.length-1),e.isCompleted=!1):y!==void 0&&p>y?this.isDateValid12(c)?e.isCompleted=!0:r=r.slice(0,r.length-1):y!==void 0&&p!==0&&p<=y&&(this.checkValidationDateTimePart(c,o,e),e.isCompleted&&!this.isDateValid12(c)&&(r=r.slice(0,r.length-1))),e.value=r||void 0,n[o]=parseInt(r)>0?parseInt(r):void 0}},t.prototype.checkValidationDateTimePart=function(e,n,r){var o=e[n],c=o*10,p=10;n==="month"&&(p=3),n==="hour"&&(p=this.is12Hours?3:5),r.isCompleted=!0;for(var y=0;y<p;y++)if(e[n]=c+y,this.isDateValid12(e)){r.isCompleted=!1;break}e[n]=o},t.prototype.getCorrectDatePartFormat=function(e,n){var r=e.lexem,o=e.value||"";if(o&&r.type==="timeMarker")return n&&(o=o+this.getPlaceholder(r.count,o,r.value)),o;if(o&&e.isCompleted&&(o=parseInt(o).toString()),o&&e.isCompleted){var c=this.getPlaceholder(r.count,o,"0");o=c+o}else o=eC(r,o),n&&(o+=this.getPlaceholder(r.count,o,r.value));return o},t.prototype.createIDateTimeComposition=function(){var e,n;this.hasDatePart?(e=this.min||"0001-01-01",n=this.max||"9999-12-31"):(e=this.defaultDate+(this.min||"00:00:00"),n=this.defaultDate+(this.max||"23:59:59"));var r={hour:void 0,minute:void 0,second:void 0,day:void 0,month:void 0,year:void 0,min:new Date(e),max:new Date(n)};return r},t.prototype.parseTwoDigitYear=function(e){var n=e.value;if(e.lexem.type!=="year"||e.lexem.count>2)return n;this.max&&this.max.length>=4&&(this.turnOfTheCentury=parseInt(this.max.slice(2,4)));var r=parseInt(n),o=(r>this.turnOfTheCentury?"19":"20")+n;return o},t.prototype.getFormatedString=function(e){var n="",r="",o=!1,c=this.inputDateTimeData.length-1;if(!e){var p=this.inputDateTimeData.filter(function(Q){return!!Q.value});c=this.inputDateTimeData.indexOf(p[p.length-1])}for(var y=0;y<this.inputDateTimeData.length;y++){var b=this.inputDateTimeData[y];switch(b.lexem.type){case"timeMarker":case"hour":case"minute":case"second":case"day":case"month":case"year":if(b.value===void 0&&!e)return n+=o?r:"",n;var E=e||c>y,M=this.getCorrectDatePartFormat(b,E);n+=r+M,o=b.isCompleted;break;case"separator":r=b.lexem.value;break}}return n},t.prototype.cleanTimeMarker=function(e,n){var r="";e=e.toUpperCase();for(var o=0;o<e.length;o++)(!r&&(e[o]=="P"||e[o]=="A")||r&&e[o]=="M")&&(r+=e[o]);return n?r=r.toUpperCase():r=r.toLowerCase(),r},t.prototype.setInputDateTimeData=function(e){var n=this,r=0;this.initInputDateTimeData(),this.lexems.forEach(function(o,c){if(e.length>0&&r<e.length){if(o.type==="separator")return;var p=n.inputDateTimeData[c],y=e[r],b=void 0;o.type==="timeMarker"?b=n.cleanTimeMarker(y,o.upperCase):b=n.leaveOnlyNumbers(y),p.value=b.slice(0,o.maxCount),r++}})},t.prototype._getMaskedValue=function(e,n){var r=this;n===void 0&&(n=!0);var o=e==null?"":e.toString(),c=this.getParts(o);this.setInputDateTimeData(c);var p=this.createIDateTimeComposition();this.inputDateTimeData.forEach(function(b){b.lexem.type==="timeMarker"?r.updateTimeMarkerInputDateTimeData(b,p):r.updateInputDateTimeData(b,p)});var y=this.getFormatedString(n);return y},t.prototype.getParts=function(e){for(var n=[],r=this.lexems.filter(function(M){return M.type!=="separator"}),o=this.lexems.filter(function(M){return M.type==="separator"}).map(function(M){return M.value}),c="",p=!1,y=!1,b=0;b<e.length;b++){var E=e[b];if(E.match(Ol)||E===r[n.length].value||r[n.length].type==="timeMarker"?(p=!1,y=!1,c+=E):o.indexOf(E)!==-1?y||(p=!0,n.push(c),c=""):p||(y=!0,n.push(c),c=""),n.length>=r.length){p=!1;break}}return(c!=""||p)&&n.push(c),n},t.prototype.getUnmaskedValue=function(e){var n=this,r,o=e==null?"":e.toString(),c=this.getParts(o);this.setInputDateTimeData(c);var p=(r=this.inputDateTimeData.filter(function(E){return E.lexem.type==="timeMarker"})[0])===null||r===void 0?void 0:r.value.toLowerCase()[0],y=this.createIDateTimeComposition(),b=!1;return this.inputDateTimeData.forEach(function(E){var M=E.value;if(!(E.lexem.type=="timeMarker"||E.lexem.type=="separator")){if(!M||M.length<E.lexem.count){b=!0;return}var Q=parseInt(n.parseTwoDigitYear(E));E.lexem.type=="hour"&&p==="p"&&Q!=n.twelve&&(Q+=n.twelve),y[E.lexem.type]=Q}}),b?"":this.getISO_8601Format(y)},t.prototype.getMaskedValue=function(e){return this.getMaskedStrFromISO(e)},t.prototype.processInput=function(e){var n={value:e.prevValue,caretPosition:e.selectionEnd,cancelPreventDefault:!1},r=e.prevValue.slice(0,e.selectionStart),o=e.prevValue.slice(e.selectionEnd);return n.value=this._getMaskedValue(r+(e.insertedChars||"")+o),!e.insertedChars&&e.inputDirection==="backward"?n.caretPosition=e.selectionStart:n.caretPosition=this._getMaskedValue(r+(e.insertedChars||""),!1).length,n},Bp([V()],t.prototype,"min",void 0),Bp([V()],t.prototype,"max",void 0),t}(Xl);H.addClass("datetimemask",[{name:"min",type:"datetime",enableIf:function(i){return!!i.pattern}},{name:"max",type:"datetime",enableIf:function(i){return!!i.pattern}}],function(){return new zp},"patternmask");var nC=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Up=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var p=i.length-1;p>=0;p--)(c=i[p])&&(o=(r<3?c(o):r>3?c(t,e,o):c(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Wp=function(i){nC(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getType=function(){return"currencymask"},t.prototype.wrapText=function(e){var n=this.prefix||"",r=this.suffix||"",o=e;return o&&(o.indexOf(n)===-1&&(o=n+o),o.indexOf(r)===-1&&(o+=r),o)},t.prototype.unwrapInputArgs=function(e){var n=e.prevValue;if(n){if(this.prefix&&n.indexOf(this.prefix)!==-1){n=n.slice(n.indexOf(this.prefix)+this.prefix.length);var r=(this.prefix||"").length;e.selectionStart=Math.max(e.selectionStart-r,0),e.selectionEnd-=r}this.suffix&&n.indexOf(this.suffix)!==-1&&(n=n.slice(0,n.indexOf(this.suffix))),e.prevValue=n}},t.prototype.processInput=function(e){this.unwrapInputArgs(e);var n=i.prototype.processInput.call(this,e),r=(this.prefix||"").length;return n.value&&(n.caretPosition+=r),n.value=this.wrapText(n.value),n},t.prototype.getMaskedValue=function(e){var n=i.prototype.getMaskedValue.call(this,e);return this.wrapText(n)},Up([V()],t.prototype,"prefix",void 0),Up([V()],t.prototype,"suffix",void 0),t}(eu);H.addClass("currencymask",[{name:"prefix"},{name:"suffix"}],function(){return new Wp},"numericmask");var Ls,tu;Ls="1.12.7",tu="2024-10-23";function rC(i,t){if(Ls!=i){var e="survey-core has version '"+Ls+"' and "+t+" has version '"+i+"'. SurveyJS libraries should have the same versions to work correctly.";console.error(e)}}function iC(i){$p(i)}function $p(i){sC(i,Jp,tu)}function oC(i){return Jp[i.toString()]===!0}var Jp={};function sC(i,t,e){if(i){var n=function(c){var p={},y,b=0,E,M=0,Q,X="",oe=String.fromCharCode,we=c.length,Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(y=0;y<64;y++)p[Ce.charAt(y)]=y;for(E=0;E<we;E++){var ve=p[c.charAt(E)];for(b=(b<<6)+ve,M+=6;M>=8;)((Q=b>>>(M-=8)&255)||E<we-2)&&(X+=oe(Q))}return X},r=n(i);if(r){var o=r.indexOf(";");o<0||aC(r.substring(0,o))&&(r=r.substring(o+1),r.split(",").forEach(function(c){var p=c.indexOf("=");p>0&&(t[c.substring(0,p)]=new Date(e)<=new Date(c.substring(p+1)))}))}}}function aC(i){if(!i)return!0;var t="domains:",e=i.indexOf(t);if(e<0)return!0;var n=i.substring(e+t.length).toLowerCase().split(",");if(!Array.isArray(n)||n.length===0)return!0;var r=f.getLocation();if(r&&r.hostname){var o=r.hostname.toLowerCase();n.push("localhost");for(var c=0;c<n.length;c++)if(o.indexOf(n[c])>-1)return!0;return!1}return!0}var lC={"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$checkmark-color":"#fff","$progress-buttons-color":"#8dd9ca","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"#909090","$font-family":"Raleway"},uC={"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4"},cC={"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#f7b781","$progress-buttons-line-color":"#d4d4d4"},dC={"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#839ec9","$progress-buttons-line-color":"#d4d4d4"},pC={"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#c6bed4","$progress-buttons-line-color":"#d4d4d4"},fC={"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#747491","$progress-buttons-line-color":"#d4d4d4"},hC={"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#d1c9f5","$progress-buttons-line-color":"#d4d4d4"},gC={"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#acdcf2","$progress-buttons-line-color":"#d4d4d4"};function yC(i,t){Object.keys(i||{}).forEach(function(e){var n=e.substring(1);t.style.setProperty("--"+n,i[e])})}var Gp=function(){function i(){i.autoApplyTheme()}return i.autoApplyTheme=function(){if(!(Dt.currentType==="bootstrap"||Dt.currentType==="bootstrapmaterial")){var t=i.getIncludedThemeCss();t.length===1&&i.applyTheme(t[0].name)}},i.getAvailableThemes=function(){var t=Dt.getAvailableThemes().filter(function(e){return["defaultV2","default","modern"].indexOf(e)!==-1}).map(function(e){return{name:e,theme:Dt[e]}});return t},i.getIncludedThemeCss=function(){if(typeof N.environment>"u")return[];var t=N.environment.rootElement,e=i.getAvailableThemes(),n=ro(t)?t.host:t;if(n){var r=getComputedStyle(n);if(r.length)return e.filter(function(o){return o.theme.variables&&r.getPropertyValue(o.theme.variables.themeMark)})}return[]},i.findSheet=function(t){if(typeof N.environment>"u")return null;for(var e=N.environment.root.styleSheets,n=0;n<e.length;n++)if(e[n].ownerNode&&e[n].ownerNode.id===t)return e[n];return null},i.createSheet=function(t){var e=N.environment.stylesSheetsMountContainer,n=h.createElement("style");return n.id=t,n.appendChild(new Text("")),Qa(e).appendChild(n),i.Logger&&i.Logger.log("style sheet "+t+" created"),n.sheet},i.applyTheme=function(t,e){if(t===void 0&&(t="default"),!(typeof N.environment>"u")){var n=N.environment.rootElement,r=ro(n)?n.host:n;if(Dt.currentType=t,i.Enabled){if(t!=="bootstrap"&&t!=="bootstrapmaterial"){yC(i.ThemeColors[t],r),i.Logger&&i.Logger.log("apply theme "+t+" completed");return}var o=i.ThemeCss[t];if(!o){Dt.currentType="defaultV2";return}i.insertStylesRulesIntoDocument();var c=e||i.ThemeSelector[t]||i.ThemeSelector.default,p=(t+c).trim(),y=i.findSheet(p);if(!y){y=i.createSheet(p);var b=i.ThemeColors[t]||i.ThemeColors.default;Object.keys(o).forEach(function(E){var M=o[E];Object.keys(b||{}).forEach(function(Q){return M=M.replace(new RegExp("\\"+Q,"g"),b[Q])});try{E.indexOf("body")===0?y.insertRule(E+" { "+M+" }",0):y.insertRule(c+E+" { "+M+" }",0)}catch{}})}}i.Logger&&i.Logger.log("apply theme "+t+" completed")}},i.insertStylesRulesIntoDocument=function(){if(i.Enabled){var t=i.findSheet(i.SurveyJSStylesSheetId);t||(t=i.createSheet(i.SurveyJSStylesSheetId)),Object.keys(i.Styles).length&&Object.keys(i.Styles).forEach(function(e){try{t.insertRule(e+" { "+i.Styles[e]+" }",0)}catch{}}),Object.keys(i.Media).length&&Object.keys(i.Media).forEach(function(e){try{t.insertRule(i.Media[e].media+" { "+e+" { "+i.Media[e].style+" } }",0)}catch{}})}},i.SurveyJSStylesSheetId="surveyjs-styles",i.Styles={},i.Media={},i.ThemeColors={modern:lC,default:uC,orange:cC,darkblue:dC,darkrose:pC,stone:fC,winter:hC,winterstone:gC},i.ThemeCss={},i.ThemeSelector={default:".sv_main ",modern:".sv-root-modern "},i.Enabled=!0,i}();fr.prototype.onBeforeRunConstructor=function(){f.isAvailable()&&Gp.autoApplyTheme()};var br={root:"sv_main sv_default_css",rootProgress:"sv_progress",container:"sv_container",header:"sv_header",bodyContainer:"sv-components-row",body:"sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"sv_nav_btn",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",rootRadio:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qcbc sv_qbln",checkboxItem:"sv-boolean",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyvisible",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator",checkboxItemDecorator:"sv-item__svg sv-boolean__svg"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},comment:{remainingCharacterCounter:"sv-remaining-character-counter"},dropdown:{root:"",popup:"sv-dropdown-popup",control:"sv_q_dropdown_control",controlInputFieldComponent:"sv_q_dropdown_control__input-field-component",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other",cleanButton:"sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv_q_dropdown__value",filterStringInput:"sv_q_dropdown__filter-string-input",hintPrefix:"sv_q_dropdown__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image",noImage:"sv-image__no-image",noImageSvgIconId:"icon-no-image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cell:"sv_q_m_cell",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv_q_m_cell_responsive_title"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",cellResponsiveTitle:"sv_matrix_cell_responsive_title",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",rowTextCell:"sv-table__cell--row-text",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",cell:"sv_matrix_cell",cellResponsiveTitle:"sv_matrix_cell_responsive_title",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",header:"sv-paneldynamic__header sv_header",headerTab:"sv-paneldynamic__header-tab",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"sv_p_remove_btn_right",buttonPrev:"sv-paneldynamic__prev-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",row:"sv_q_mt_row",itemLabel:"sv_q_mt_label",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column",itemNoImage:"sv_q_imgsel__no-image",itemNoImageSvgIcon:"sv_q_imgsel__no-image-svg",itemNoImageSvgIconId:"icon-no-image"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",itemFixedSize:"sv_q_rating_item_fixed",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",itemStar:"sv_q_rating__item-star",itemStarSelected:"sv_q_rating__item-star--selected",itemSmiley:"sv_q_rating__item-smiley",itemSmileySelected:"sv_q_rating__item-smiley--selected"},text:{root:"sv_q_text_root",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",previewItem:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",fileDecorator:"sv-file__decorator",fileSign:"sv_q_file_sign",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-default-mark"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv_q_row__question--small",selectWrapper:"sv_select_wrapper sv_q_tagbox_wrapper",other:"sv_q_input sv_q_comment sv_q_selectbase__other",cleanButton:"sv_q_tagbox_clean-button sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_tagbox_clean-button-svg sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv_q_tagbox-item_clean-button",cleanItemButtonSvg:"sv_q_tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv_q_input sv_q_tagbox sv_q_dropdown_control",controlValue:"sv_q_tagbox__value sv_q_dropdown__value",controlEmpty:"sv_q_dropdown--empty sv_q_tagbox--empty",placeholderInput:"sv_q_tagbox__placeholder",filterStringInput:"sv_q_tagbox__filter-string-input sv_q_dropdown__filter-string-input",hint:"sv_q_tagbox__hint",hintPrefix:"sv_q_dropdown__hint-prefix sv_q_tagbox__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix sv_q_tagbox__hint-suffix",hintSuffixWrapper:"sv_q_tagbox__hint-suffix-wrapper"}};Dt.default=br,Dt.orange=br,Dt.darkblue=br,Dt.darkrose=br,Dt.stone=br,Dt.winter=br,Dt.winterstone=br;var Kp={root:"sv-root-modern",rootProgress:"sv-progress",timerRoot:"sv-body__timer",container:"sv-container-modern",header:"sv-title sv-container-modern__title",headerClose:"sv-container-modern__close",bodyContainer:"sv-components-row",body:"sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"sv-btn sv-btn--navigation",completedPage:"sv-completedpage",navigation:{complete:"sv-footer__complete-btn",prev:"sv-footer__prev-btn",next:"sv-footer__next-btn",start:"sv-footer__start-btn",preview:"sv-footer__preview-btn",edit:"sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleExpanded:"sv-panel__title--expanded",titleCollapsed:"sv-panel__title--collapsed",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator",panelWrapper:"sv-paneldynamic__panel-wrapper",panelWrapperInRow:"sv-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbutton",footer:""},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",number:"sv-page__num",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",answered:"sv-question--answered",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",titleExpanded:"sv-question__title--expanded",titleCollapsed:"sv-question__title--collapsed",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",itemSvgIconId:"#icon-moderncheck",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",rootSelectToRankSwapAreas:"sv-ranking--select-to-rank-swap-areas",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",itemSvgIconId:"#icon-modernradio",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},boolean:{root:"sv_qbln",rootRadio:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qbln",checkboxItem:"sv-boolean sv-item",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyhidden",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator ",checkboxItemDecorator:"sv-item__svg  sv-boolean__svg",indeterminatePath:"sv-boolean__indeterminate-path",svgIconCheckedId:"#icon-modernbooleancheckchecked",svgIconUncheckedId:"#icon-modernbooleancheckunchecked",svgIconIndId:"#icon-modernbooleancheckind"},text:{root:"sv-text",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemLabel:"sv-multipletext__item-label",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv-dropdown__filter-string-input",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",hintPrefix:"sv-dropdown__hint-prefix",hintSuffix:"sv-dropdown__hint-suffix"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",selectWrapper:"sv_select_wrapper sv-tagbox_wrapper",other:"sv-input sv-comment sv-selectbase__other",cleanButton:"sv-tagbox_clean-button sv-dropdown_clean-button",cleanButtonSvg:"sv-tagbox_clean-button-svg sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv-tagbox__item_clean-button",cleanItemButtonSvg:"sv-tagbox__item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv-input sv-tagbox sv-dropdown",controlValue:"sv-tagbox__value sv-dropdown__value",controlEmpty:"sv-dropdown--empty sv-tagbox--empty",placeholderInput:"sv-tagbox__placeholder",filterStringInput:"sv-tagbox__filter-string-input sv-dropdown__filter-string-input"},imagepicker:{root:"sv-selectbase sv-imagepicker",column:"sv-selectbase__column",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control sv-visuallyhidden",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table sv-matrix-root",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled",cellResponsiveTitle:"sv-matrix__cell-responsive-title",itemSvgIconId:"#icon-modernradio"},matrixdropdown:{root:"sv-table sv-matrixdropdown",cell:"sv-table__cell",cellResponsiveTitle:"sv-table__responsive-title",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",rowTextCell:"sv-table__cell--row-text",rowAdditional:"sv-table__row--additional",detailRow:"sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",cellResponsiveTitle:"sv-table__responsive-title",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",row:"sv-table__row",detailRow:"sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",itemDisabled:"sv-rating--disabled",filterStringInput:"sv-dropdown__filter-string-input",control:"sv-dropdown",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",itemSmiley:"sv-rating__item-smiley",itemStar:"sv-rating__item-star",itemSmileySelected:"sv-rating__item-smiley--selected",itemStarSelected:"sv-rating__item-star--selected"},comment:{root:"sv-comment",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",previewItem:"sd-file__preview-item",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",controlDisabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",removeFileSvgIconId:"icon-removefile",wrapper:"sv-file__wrapper",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootFullScreenMode:"sv_window--full-screen",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close",fullScreenButton:"sv_window_button sv_window_button_full_screen"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-modern-mark"}};Dt.modern=Kp;var Zp=function(){function i(){this.icons={},this.iconPrefix="icon-"}return i.prototype.processId=function(t,e){return t.indexOf(e)==0&&(t=t.substring(e.length)),t},i.prototype.registerIconFromSymbol=function(t,e){this.icons[t]=e},i.prototype.registerIconFromSvgViaElement=function(t,e,n){if(n===void 0&&(n=this.iconPrefix),!!h.isAvailable()){t=this.processId(t,n);var r=h.createElement("div");r.innerHTML=e;var o=h.createElement("symbol"),c=r.querySelector("svg");o.innerHTML=c.innerHTML;for(var p=0;p<c.attributes.length;p++)o.setAttributeNS("http://www.w3.org/2000/svg",c.attributes[p].name,c.attributes[p].value);o.id=n+t,this.registerIconFromSymbol(t,o.outerHTML)}},i.prototype.registerIconFromSvg=function(t,e,n){n===void 0&&(n=this.iconPrefix),t=this.processId(t,n);var r="<svg ",o="</svg>";e=e.trim();var c=e.toLowerCase();return c.substring(0,r.length)===r&&c.substring(c.length-o.length,c.length)===o?(this.registerIconFromSymbol(t,'<symbol id="'+n+t+'" '+e.substring(r.length,c.length-o.length)+"</symbol>"),!0):!1},i.prototype.registerIconsFromFolder=function(t){var e=this;t.keys().forEach(function(n){e.registerIconFromSvg(n.substring(2,n.length-4).toLowerCase(),t(n))})},i.prototype.iconsRenderedHtml=function(){var t=this;return Object.keys(this.icons).map(function(e){return t.icons[e]}).join("")},i}(),nu=new Zp,mC,vC=d("./packages/survey-core/src/images sync \\.svg$"),bC=d("./packages/survey-core/src/images/smiley sync \\.svg$");nu.registerIconsFromFolder(vC),nu.registerIconsFromFolder(bC)}})})})(hm);var ct=hm.exports,zT=Object.defineProperty,UT=(l,s,a)=>s in l?zT(l,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[s]=a,Nc=(l,s,a)=>(UT(l,typeof s!="symbol"?s+"":s,a),a);const gm=class{constructor(){Nc(this,"creatorHash",{})}registerComponent(l,s){this.creatorHash[l]=s}getComponent(l){return this.creatorHash[l]||l}getAllTypes(){const l=new Array;for(const s in this.creatorHash)l.push(s);return l.sort()}isComponentRegistered(l){return!!this.creatorHash[l]}};let Fc=gm;Nc(Fc,"Instance",new gm);const D=G({inheritAttrs:!1,__name:"SvComponent",props:{is:{}},setup(l){const s=l,a=Ve(()=>Fc.Instance.getComponent(s.is));return(u,d)=>(x(),$(Zg(a.value),Zf($u(u.$attrs)),J0({_:2},[Je(u.$slots,(f,h)=>({name:h,fn:Gt(g=>[Yg(u.$slots,h,Zf($u(g)))])}))]),1040))}});ct.Base.createPropertiesHash=()=>bc({});class WT{constructor(s){Nc(this,"currentNextTickPromise"),this.element=s}async add(){const s=$o();this.currentNextTickPromise!==s&&(this.currentNextTickPromise=s,await s,s==this.currentNextTickPromise&&this.element.afterRerender())}}function $T(l){var s;if(l){if(l.__vueImplemented=(s=l.__vueImplemented)!=null?s:0,l.__vueImplemented<=0){const a=new WT(l);l.createArrayCoreHandler=(u,d)=>{const f=[],h=Dr(f);return f.onArrayChanged=()=>{ju(h),a.add()},u[d]=h,le(u[d])},l.iteratePropertiesHash((u,d)=>{if(Array.isArray(u[d])){const f=Dr(u[d]);u[d].onArrayChanged=()=>{ju(f),a.add()},u[d]=f}}),l.getPropertyValueCoreHandler=(u,d)=>le(u[d]),l.setPropertyValueCoreHandler=(u,d,f)=>{Lt(u[d])?u[d].value=f:u[d]=f,a.add()}}l.enableOnElementRerenderedEvent(),l.__vueImplemented++}}function cg(l){var s;!l||(l.__vueImplemented=(s=l.__vueImplemented)!=null?s:0,l.__vueImplemented--,l.__vueImplemented<=0&&(l.iteratePropertiesHash((a,u)=>{a[u]=le(a[u]),Array.isArray(a[u])&&(a[u].onArrayChanged=void 0)}),delete l.__vueImplemented,l.disableOnElementRerenderedEvent(),l.createArrayCoreHandler=void 0,l.getPropertyValueCoreHandler=void 0,l.setPropertyValueCoreHandler=void 0))}function Ke(l,s,a){const u=xn(l,(d,f)=>{d&&s&&s(d,f),f&&(cg(f),a&&a(f)),$T(d)},{immediate:!0});qr(()=>{const d=l();d&&(cg(d),a&&a(d),u())})}function Vt(l,s,a,u){Ke(()=>l.question,a,u),_t(()=>{l.question&&l.question.afterRenderQuestionElement(s.value)}),qr(()=>{l.question.beforeDestroyQuestionElement(s.value)})}function Gi(l){const s=_e(),a=d=>{s.value=d.renderedHtml,d.onChanged=()=>{s.value=d.renderedHtml}},u=xn(l,(d,f)=>{f&&(f.onChanged=()=>{}),a(d)},{immediate:!0});return qr(()=>{u()}),s}function Bc(l){return l.customWidget?"survey-customwidget":l.isDefaultRendering&&l.isDefaultRendering()||l.isPanel?"survey-"+l.getTemplate():l.getComponentName()}function Ia(l){const s=Dr(),a=vx(()=>{s.value=l(),ju(s)});return qr(()=>{a()}),s}const JT=G({__name:"Page",props:{survey:{},page:{},css:{}},setup(l){const s=l,a=_e(null),u=()=>{s.survey&&a.value&&s.survey.afterRenderPage(a.value)},d=Ve(()=>s.page._showDescription);return Ke(()=>s.page,()=>{u()}),_t(()=>{u()}),(f,h)=>(x(),R("div",{class:O(f.page.cssRoot),ref_key:"root",ref:a},[W(D,{is:"survey-element-title",element:f.page,css:f.css},null,8,["element","css"]),d.value?(x(),R("div",{key:0,class:O(f.page.cssClasses.page.description)},[W(D,{is:"survey-string",locString:f.page.locDescription},null,8,["locString"])],2)):k("",!0),W(D,{is:"survey-errors",element:f.page},null,8,["element"]),(x(!0),R(Te,null,Je(f.page.visibleRows,g=>(x(),$(D,kt({key:g.id,is:f.page.getSurvey().getRowWrapperComponentName(g)},{componentData:f.page.getSurvey().getRowWrapperComponentData(g)}),{default:Gt(()=>[W(D,{is:"survey-row",row:g,survey:f.survey,css:f.css},null,8,["row","survey","css"])]),_:2},1040,["is"]))),128))],2))}}),GT=G({__name:"Header",props:{survey:{}},setup(l){const s=l,a=_e();return _t(()=>{var u=a.value;u&&s.survey&&s.survey.afterRenderHeader(u)}),(u,d)=>u.survey.renderedHasHeader?(x(),R("div",{key:0,class:O(u.survey.css.header),ref_key:"root",ref:a},[u.survey.isLogoBefore?(x(),$(D,{key:0,is:u.survey.getElementWrapperComponentName(u.survey,"logo-image"),data:u.survey.getElementWrapperComponentData(u.survey,"logo-image")},null,8,["is","data"])):k("",!0),u.survey.renderedHasTitle?(x(),R("div",{key:1,class:O(u.survey.css.headerText),style:De({maxWidth:u.survey.titleMaxWidth})},[W(D,{is:"survey-element-title",element:u.survey,css:u.survey.css},null,8,["element","css"]),u.survey.renderedHasDescription?(x(),R("div",{key:0,class:O(u.survey.css.description)},[W(D,{is:"survey-string",locString:u.survey.locDescription},null,8,["locString"])],2)):k("",!0)],6)):k("",!0),u.survey.isLogoAfter?(x(),$(D,{key:2,is:u.survey.getElementWrapperComponentName(u.survey,"logo-image"),data:u.survey.getElementWrapperComponentData(u.survey,"logo-image")},null,8,["is","data"])):k("",!0),F("div",{class:O(u.survey.css.headerClose)},null,2)],2)):k("",!0)}}),KT=G({__name:"Row",props:{row:{},css:{},survey:{}},setup(l){const s=l,a=_e();return Ke(()=>s.row,(u,d)=>{u.setRootElement(a.value),d&&(u.isNeedRender=d.isNeedRender)},u=>{u.setRootElement(void 0),u.stopLazyRendering(),u.isNeedRender=!u.isLazyRendering()}),_t(()=>{if(s.row&&(s.row.setRootElement(a.value),!s.row.isNeedRender)){const u=a.value;setTimeout(()=>{s.row.startLazyRendering(u)},10)}}),(u,d)=>(x(),R("div",{class:O(u.row.getRowCss()),ref_key:"root",ref:a},[(x(!0),R(Te,null,Je(u.row.visibleElements,f=>(x(),$(D,{is:"survey-element",row:u.row,css:u.css,element:f,key:f.id},null,8,["row","css","element"]))),128))],2))}}),ZT=["id","role","aria-required","aria-invalid","aria-labelledby","aria-describedby","aria-expanded","data-name"],YT=["id"],XT={inheritAttrs:!1},eO=G({...XT,__name:"Question",props:{survey:{},element:{},css:{}},setup(l){const s=l,a=_e(null),u=Ve(()=>s.element.showErrorOnTop),d=Ve(()=>s.element.showErrorOnBottom),f=I=>I.cssContent,h=()=>s.element.getRootStyle();Ke(()=>s.element);const g=()=>{a.value&&s.element.afterRender(a.value)},m=xn(()=>a.value,()=>{g()}),v=Ve(()=>s.element.customWidget?"survey-customwidget":s.element.isDefaultRendering()?"survey-"+s.element.getTemplate():s.element.getComponentName()),C=Ve(()=>s.element.survey.getQuestionContentWrapperComponentName(s.element)),T=Ve(()=>({componentData:{question:s.element,data:s.element.survey.getElementWrapperComponentData(s.element)}}));return Tn(()=>{m()}),(I,L)=>(x(),R("div",{class:O(I.element.getRootCss()),style:De(h()),ref_key:"root",ref:a,onFocusin:L[0]||(L[0]=j=>I.element.focusIn()),id:I.element.id,role:I.element.ariaRole,"aria-required":I.element.ariaRequired,"aria-invalid":I.element.ariaInvalid,"aria-labelledby":I.element.ariaLabelledBy,"aria-describedby":I.element.ariaDescribedBy,"aria-expanded":I.element.ariaExpanded,"data-name":I.element.name},[I.element.showErrorsAboveQuestion?(x(),$(D,{key:0,is:"survey-errors",element:I.element,location:"top"},null,8,["element"])):k("",!0),I.element.hasTitleOnLeftTop?(x(),$(D,{key:1,is:"survey-element-header",element:I.element,css:I.css},null,8,["element","css"])):k("",!0),W(D,kt({is:C.value},T.value),{default:Gt(()=>[F("div",{class:O(f(I.element)||void 0),style:De({display:I.element.renderedIsExpanded?void 0:"none"}),role:"presentation"},[u.value?(x(),$(D,{key:0,is:"survey-errors",element:I.element,location:"top"},null,8,["element"])):k("",!0),W(D,{is:v.value,question:I.element},null,8,["is","question"]),I.element.hasComment?(x(),R("div",{key:1,class:O(I.element.getCommentAreaCss())},[F("div",null,[W(D,{is:"survey-string",locString:I.element.locCommentText},null,8,["locString"])]),W(D,{is:"survey-question-comment",question:I.element},null,8,["question"])],2)):k("",!0),d.value?(x(),$(D,{key:2,is:"survey-errors",element:I.element,location:"bottom"},null,8,["element"])):k("",!0),I.element.hasDescriptionUnderInput?(x(),R("div",{key:3,class:O(I.element.cssClasses.descriptionUnderInput),id:I.element.ariaDescriptionId},[W(D,{is:"survey-string",locString:I.element.locDescription},null,8,["locString"])],10,YT)):k("",!0)],6)]),_:1},16,["is"]),I.element.hasTitleOnBottom?(x(),$(D,{key:2,is:"survey-element-header",element:I.element,css:I.css},null,8,["element","css"])):k("",!0),I.element.showErrorsBelowQuestion?(x(),$(D,{key:3,is:"survey-errors",element:I.element,location:"bottom"},null,8,["element"])):k("",!0)],46,ZT))}}),tO=["id"],nO=["id"],rO={inheritAttrs:!1},iO=G({...rO,inheritAttrs:!1,__name:"Panel",props:{element:{},isEditMode:{type:Boolean},css:{}},setup(l){const s=l,a=_e(null),u=Ve(()=>s.element.survey);return Ke(()=>s.element),_t(()=>{s.element.survey&&s.element.afterRender(a.value)}),(d,f)=>d.element.getIsContentVisible()?(x(),R("div",{key:0,class:O(d.element.getContainerCss()),id:d.element.id,onFocusin:f[0]||(f[0]=h=>d.element.focusIn()),ref_key:"root",ref:a},[d.element.showErrorsAbovePanel?(x(),$(D,{key:0,is:"survey-errors",element:d.element},null,8,["element"])):k("",!0),d.element.hasTitle||d.element.hasDescription?(x(),$(D,{key:1,is:"survey-element-header",element:d.element,css:d.css},null,8,["element","css"])):k("",!0),d.element.showErrorsAbovePanel?k("",!0):(x(),$(D,{key:2,is:"survey-errors",element:d.element},null,8,["element"])),d.element.renderedIsExpanded?(x(),R("div",{key:3,id:d.element.contentId,style:De({paddingLeft:d.element.innerPaddingLeft}),class:O(d.element.cssClasses.panel.content)},[(x(!0),R(Te,null,Je(d.element.visibleRows,h=>(x(),$(D,kt({key:h.id,is:d.element.getSurvey().getRowWrapperComponentName(h)},{componentData:d.element.getSurvey().getRowWrapperComponentData(h)}),{default:Gt(()=>[W(D,{is:"survey-row",row:h,survey:u.value,css:d.css},null,8,["row","survey","css"])]),_:2},1040,["is"]))),128)),W(D,{is:"sv-action-bar",model:d.element.getFooterToolbar()},null,8,["model"])],14,nO)):k("",!0)],42,tO)):k("",!0)}}),oO=["id"],sO=G({__name:"ElementHeader",props:{element:{},css:{}},setup(l){const s=l,a=d=>{typeof s.element.clickTitleFunction=="function"&&s.element.clickTitleFunction(d)},u=()=>{const d={width:void 0};return"titleWidth"in s.element&&(d.width=s.element.titleWidth),d};return(d,f)=>(x(),R("div",{class:O(d.element.cssHeader),onClick:a,style:De(u())},[W(D,{is:"survey-element-title",element:d.element,css:d.css},null,8,["element","css"]),d.element.hasDescriptionUnderTitle?yt((x(),R("div",{key:0,class:O(d.element.cssDescription),id:d.element.ariaDescriptionId},[W(D,{is:"survey-string",locString:d.element.locDescription},null,8,["locString"])],10,oO)),[[nn,d.element.hasDescription]]):k("",!0),d.element.hasAdditionalTitleToolbar?(x(),$(D,{key:1,is:"sv-action-bar",model:d.element.additionalTitleToolbar},null,8,["model"])):k("",!0)],6))}}),aO=G({__name:"String",props:{locString:{}},setup(l){return(s,a)=>(x(),$(D,{is:s.locString.renderAs,locString:s.locString.renderAsData},null,8,["is","locString"]))}}),lO=["innerHTML"],uO=G({__name:"StringViewer",props:{locString:{}},setup(l){const s=l,a=Gi(()=>s.locString),u=s.locString.allowLineBreaks?"sv-string-viewer sv-string-viewer--multiline":"sv-string-viewer";return(d,f)=>d.locString.hasHtml?(x(),R("span",{key:0,class:O(le(u)),innerHTML:le(a)},null,10,lO)):(x(),R("span",{key:1,class:O(le(u))},je(le(a)),3))}}),cO=["innerHTML"],dO=G({__name:"StringEditor",props:{locString:{}},setup(l){const s=l,a=d=>{const f=s.locString;f.text=d.target.innerText},u=d=>{d.preventDefault(),d.stopPropagation()};return(d,f)=>d.locString.hasHtml?(x(),R("span",{key:0,class:"sv-string-editor",contenteditable:"true",innerHTML:d.locString.renderedHtml,onBlur:a,onClick:u},null,40,cO)):(x(),R("span",{key:1,class:"sv-string-editor",contenteditable:"true",onBlur:a,onClick:u},je(d.locString.renderedHtml),33))}}),pO=["id"],fO=G({__name:"Skeleton",props:{element:{}},setup(l){const s=l;return Ke(()=>s.element),(a,u)=>(x(),R("div",{class:"sv-skeleton-element",id:a.element.id,style:De({height:a.element.skeletonHeight})},null,12,pO))}}),hO=["id"],gO=["value"],yO=G({inheritAttrs:!1,__name:"Text",props:{question:{}},setup(l){const s=l,a=_e(null);return Vt(s,a),(u,d)=>u.question.isReadOnlyRenderDiv()?(x(),R("div",{key:0,ref_key:"root",ref:a},je(u.question.value),513)):u.question.dataListId?(x(),R("div",{key:1,ref_key:"root",ref:a},[W(D,{is:"survey-text-input",question:u.question},null,8,["question"]),F("datalist",{id:u.question.dataListId},[(x(!0),R(Te,null,Je(u.question.dataList,(f,h)=>(x(),R("option",{key:h,value:f},null,8,gO))),128))],8,hO)],512)):(x(),$(D,{key:2,is:"survey-text-input",question:u.question,"get-ref":f=>{a.value=f}},null,8,["question","get-ref"]))}}),mO=["disabled","readonly","type","maxlength","min","max","step","size","id","list","placeholder","autocomplete","value","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],vO=["disabled","readonly","type","maxlength","min","max","step","size","id","list","placeholder","autocomplete","value","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],bO=G({__name:"TextInput",props:{question:{},getRef:{type:Function}},setup(l,{expose:s}){const a=l,u=function(h){a.getRef&&a.getRef(h)},d=_e(null);s({root:d}),Ke(()=>a.question);const f=Ve(()=>a.question.inputStyle);return(h,g)=>h.question.getMaxLength()?(x(),R("div",{key:1,ref:m=>u(m)},[F("input",{disabled:h.question.isDisabledAttr,readonly:h.question.isReadOnlyAttr,class:O(h.question.getControlClass()),type:h.question.inputType,maxlength:h.question.getMaxLength(),min:h.question.renderedMin,max:h.question.renderedMax,step:h.question.renderedStep,size:h.question.renderedInputSize,style:De(f.value),id:h.question.inputId,list:h.question.dataListId,placeholder:h.question.renderedPlaceholder,autocomplete:h.question.autocomplete,value:h.question.inputValue,onChange:g[6]||(g[6]=(...m)=>h.question.onChange&&h.question.onChange(...m)),onKeyup:g[7]||(g[7]=(...m)=>h.question.onKeyUp&&h.question.onKeyUp(...m)),onKeydown:g[8]||(g[8]=(...m)=>h.question.onKeyDown&&h.question.onKeyDown(...m)),onCompositionUpdate:g[9]||(g[9]=(...m)=>h.question.onCompositionUpdate&&h.question.onCompositionUpdate(...m)),onBlur:g[10]||(g[10]=(...m)=>h.question.onBlur&&h.question.onBlur(...m)),onFocus:g[11]||(g[11]=(...m)=>h.question.onFocus&&h.question.onFocus(...m)),"aria-required":h.question.a11y_input_ariaRequired,"aria-label":h.question.a11y_input_ariaLabel,"aria-labelledby":h.question.a11y_input_ariaLabelledBy,"aria-describedby":h.question.a11y_input_ariaDescribedBy,"aria-invalid":h.question.a11y_input_ariaInvalid,"aria-errormessage":h.question.a11y_input_ariaErrormessage},null,46,vO),W(D,{is:"sv-character-counter",counter:h.question.characterCounter,remainingCharacterCounter:h.question.cssClasses.remainingCharacterCounter},null,8,["counter","remainingCharacterCounter"])],512)):(x(),R("input",{key:0,ref:m=>u(m),disabled:h.question.isDisabledAttr,readonly:h.question.isReadOnlyAttr,class:O(h.question.getControlClass()),type:h.question.inputType,maxlength:h.question.getMaxLength(),min:h.question.renderedMin,max:h.question.renderedMax,step:h.question.renderedStep,size:h.question.renderedInputSize,style:De(f.value),id:h.question.inputId,list:h.question.dataListId,placeholder:h.question.renderedPlaceholder,autocomplete:h.question.autocomplete,value:h.question.inputValue,onChange:g[0]||(g[0]=(...m)=>h.question.onChange&&h.question.onChange(...m)),onKeyup:g[1]||(g[1]=(...m)=>h.question.onKeyUp&&h.question.onKeyUp(...m)),onKeydown:g[2]||(g[2]=(...m)=>h.question.onKeyDown&&h.question.onKeyDown(...m)),onCompositionUpdate:g[3]||(g[3]=(...m)=>h.question.onCompositionUpdate&&h.question.onCompositionUpdate(...m)),onBlur:g[4]||(g[4]=(...m)=>h.question.onBlur&&h.question.onBlur(...m)),onFocus:g[5]||(g[5]=(...m)=>h.question.onFocus&&h.question.onFocus(...m)),"aria-required":h.question.a11y_input_ariaRequired,"aria-label":h.question.a11y_input_ariaLabel,"aria-labelledby":h.question.a11y_input_ariaLabelledBy,"aria-describedby":h.question.a11y_input_ariaDescribedBy,"aria-invalid":h.question.a11y_input_ariaInvalid,"aria-errormessage":h.question.a11y_input_ariaErrormessage},null,46,mO))}}),CO=["role","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],wO={key:0,class:"sv-hidden"},PO={key:7},xO=["value"],ym=G({inheritAttrs:!1,__name:"SelectBase",props:{question:{},showLegend:{type:Boolean}},setup(l){const s=l,a=_e(null);Vt(s,a);const u=f=>s.question.getItemValueWrapperComponentName(f)||s.question.itemComponent,d=f=>({componentName:s.question.itemComponent,componentData:{question:s.question,item:f,data:s.question.getItemValueWrapperComponentData(f)}});return(f,h)=>(x(),R("fieldset",{class:O(f.question.getSelectBaseRootCss()),ref_key:"root",ref:a,role:f.question.a11y_input_ariaRole,"aria-required":f.question.a11y_input_ariaRequired,"aria-label":f.question.a11y_input_ariaLabel,"aria-labelledby":f.question.a11y_input_ariaLabelledBy,"aria-describedby":f.question.a11y_input_ariaDescribedBy,"aria-invalid":f.question.a11y_input_ariaInvalid,"aria-errormessage":f.question.a11y_input_ariaErrormessage},[f.showLegend?(x(),R("legend",wO,je(f.question.locTitle.renderedHtml),1)):k("",!0),f.question.hasHeadItems?(x(!0),R(Te,{key:1},Je(f.question.headItems,g=>(x(),$(D,kt({key:g.value,is:u(g)},d(g)),null,16,["is"]))),128)):k("",!0),!f.question.hasColumns&&!f.question.blockedRow?(x(!0),R(Te,{key:2},Je(f.question.bodyItems,g=>(x(),$(D,kt({key:g.value,is:u(g)},d(g)),null,16,["is"]))),128)):k("",!0),f.question.blockedRow?(x(),R("div",{key:3,class:O(f.question.cssClasses.rootRow)},[!f.question.hasColumns&&f.question.blockedRow?(x(!0),R(Te,{key:0},Je(f.question.dataChoices,g=>(x(),$(D,kt({key:g.value,is:u(g)},d(g)),null,16,["is"]))),128)):k("",!0)],2)):k("",!0),f.question.hasColumns?(x(),R("div",{key:4,class:O(f.question.cssClasses.rootMultiColumn)},[f.question.hasColumns?(x(!0),R(Te,{key:0},Je(f.question.columns,(g,m)=>(x(),R("div",{key:m,class:O(f.question.getColumnClass()),role:"presentation"},[(x(!0),R(Te,null,Je(g,v=>(x(),$(D,kt({key:v.value,is:u(v)},d(v)),null,16,["is"]))),128))],2))),128)):k("",!0)],2)):k("",!0),f.question.hasFootItems?(x(!0),R(Te,{key:5},Je(f.question.footItems,g=>(x(),$(D,kt({key:g.value,is:u(g)},d(g)),null,16,["is"]))),128)):k("",!0),f.question.renderedValue&&f.question.isOtherSelected?(x(),$(D,{key:6,is:"survey-other-choice",question:f.question},null,8,["question"])):k("",!0),f.question.showClearButtonInContent?(x(),R("div",PO,[F("input",{type:"button",class:O(f.question.cssClasses.clearButton),onClick:h[0]||(h[0]=()=>{f.question.clearValue(!0)}),value:f.question.clearButtonCaption},null,10,xO)])):k("",!0)],10,CO))}}),VO=G({inheritAttrs:!1,__name:"Checkbox",props:{question:{}},setup(l){return(s,a)=>(x(),$(ym,{question:s.question,"show-legend":!0},null,8,["question"]))}});function mm(l,s,a){_t(()=>{a.value&&(s().isDesignMode||l().setRootElement(a.value))}),Ke(l,(u,d)=>{s().isDesignMode||(u&&a.value&&u.setRootElement(a.value),d&&d.setRootElement(void 0))},()=>{const u=l(),d=s();d&&u&&d.isDesignMode&&u.setRootElement(void 0)})}const SO=["name","checked","value","id","disabled","readonly","required"],TO=["xlink:href"],OO=G({inheritAttrs:!1,__name:"CheckboxItem",props:{question:{},item:{},hideLabel:{type:Boolean}},setup(l){const s=_e(),a=l;mm(()=>a.item,()=>a.question,s);const u=d=>{a.question.clickItemHandler(a.item,d.target.checked)};return(d,f)=>(x(),R("div",{role:"presentation",class:O(d.question.getItemClass(d.item)),ref_key:"root",ref:s},[F("label",{class:O(d.question.getLabelClass(d.item))},[F("input",{type:"checkbox",name:d.question.name+d.item.id,checked:d.question.isItemSelected(d.item),onInput:f[0]||(f[0]=h=>{u(h)}),value:d.item.value,id:d.question.getItemId(d.item),disabled:!d.question.getItemEnabled(d.item),readonly:d.question.isReadOnlyAttr,class:O(d.question.cssClasses.itemControl),required:d.question.hasRequiredError()},null,42,SO),d.question.cssClasses.materialDecorator?(x(),R("span",{key:0,class:O(d.question.cssClasses.materialDecorator)},[d.question.itemSvgIcon?(x(),R("svg",{key:0,class:O(d.question.cssClasses.itemDecorator)},[F("use",{"xlink:href":d.question.itemSvgIcon},null,8,TO)],2)):k("",!0)],2)):k("",!0),d.hideLabel?k("",!0):(x(),R("span",{key:1,class:O(d.question.cssClasses.controlLabel)},[W(D,{is:"survey-string",locString:d.item.locText},null,8,["locString"])],2))],2)],2))}}),RO=G({inheritAttrs:!1,__name:"Radiogroup",props:{question:{}},setup(l){return(s,a)=>(x(),$(ym,{question:s.question},null,8,["question"]))}}),IO=["name","value","id","aria-errormessage","disabled","readonly"],EO=["xlink:href"],_O=G({inheritAttrs:!1,__name:"RadiogroupItem",props:{question:{},item:{},hideLabel:{type:Boolean}},setup(l){const s=_e(),a=l,u=h=>a.question.getLabelClass(h),d=h=>a.question.getControlLabelClass(h),f=Ve({get:()=>a.question.renderedValue,set:h=>{const g=a.question;g.renderedValue=h}});return mm(()=>a.item,()=>a.question,s),(h,g)=>(x(),R("div",{role:"presentation",class:O(h.question.getItemClass(h.item)),ref_key:"root",ref:s},[F("label",{onMousedown:g[1]||(g[1]=m=>h.question.onMouseDown()),class:O(u(h.item))},[yt(F("input",{type:"radio",name:h.question.questionName,value:h.item.value,id:h.question.getItemId(h.item),"aria-errormessage":h.question.ariaErrormessage,"onUpdate:modelValue":g[0]||(g[0]=m=>f.value=m),disabled:!h.question.getItemEnabled(h.item),readonly:h.question.isReadOnlyAttr,class:O(h.question.cssClasses.itemControl)},null,10,IO),[[ba,f.value]]),h.question.cssClasses.materialDecorator?(x(),R("span",{key:0,class:O(h.question.cssClasses.materialDecorator)},[h.question.itemSvgIcon?(x(),R("svg",{key:0,class:O(h.question.cssClasses.itemDecorator)},[F("use",{"xlink:href":h.question.itemSvgIcon},null,8,EO)],2)):k("",!0)],2)):k("",!0),h.hideLabel?k("",!0):(x(),R("span",{key:1,class:O(d(h.item))},[W(D,{is:"survey-string",locString:h.item.locText},null,8,["locString"])],2))],34)],2))}}),AO=["src"],DO=["title"],LO={key:0},kO=G({inheritAttrs:!1,__name:"Signaturepad",props:{question:{}},setup(l){const s=l,a=_e(null);return Vt(s,a),(u,d)=>(x(),R("div",{class:O(u.question.cssClasses.root),ref_key:"root",ref:a,style:De({width:u.question.renderedCanvasWidth})},[yt(F("div",{class:O(u.question.cssClasses.placeholder)},[W(D,{is:"survey-string",locString:u.question.locRenderedPlaceholder},null,8,["locString"])],2),[[nn,u.question.needShowPlaceholder()]]),F("div",null,[u.question.backgroundImage?(x(),R("img",{key:0,class:O(u.question.cssClasses.backgroundImage),src:u.question.backgroundImage,style:De({width:u.question.renderedCanvasWidth})},null,14,AO)):k("",!0),F("canvas",{tabindex:"-1",class:O(u.question.cssClasses.canvas),onBlur:d[0]||(d[0]=(...f)=>u.question.onBlur&&u.question.onBlur(...f))},null,34)]),u.question.canShowClearButton?(x(),R("div",{key:0,class:O(u.question.cssClasses.controls)},[F("button",{type:"button",class:O(u.question.cssClasses.clearButton),title:u.question.clearButtonCaption,onClick:d[1]||(d[1]=()=>{u.question.clearValue(!0)})},[u.question.cssClasses.clearButtonIconId?k("",!0):(x(),R("span",LO,"✖")),u.question.cssClasses.clearButtonIconId?(x(),$(D,{key:1,is:"sv-svg-icon",iconName:u.question.cssClasses.clearButtonIconId,size:"auto"},null,8,["iconName"])):k("",!0)],10,DO)],2)):k("",!0),u.question.showLoadingIndicator?(x(),R("div",{key:1,class:O(u.question.cssClasses.loadingIndicator)},[W(D,{is:"sv-loading-indicator"})],2)):k("",!0)],6))}}),MO=["innerHTML"],qO=G({inheritAttrs:!1,__name:"Html",props:{question:{}},setup(l){const s=l,a=_e(null);Vt(s,a);const u=Gi(()=>s.question.locHtml);return(d,f)=>(x(),R("div",{ref_key:"root",ref:a,class:O(d.question.renderCssRoot),innerHTML:le(u)},null,10,MO))}}),jO=["src","alt","width","height"],NO=["src","width","height"],FO=["src","width","height"],BO=G({inheritAttrs:!1,__name:"Image",props:{question:{}},setup(l){const s=l,a=_e(null);Vt(s,a);const u=Gi(()=>s.question.locImageLink);return(d,f)=>(x(),R("div",{class:O(d.question.cssClasses.root),ref_key:"root",ref:a},[d.question.renderedMode==="image"?yt((x(),R("img",{key:0,class:O(d.question.getImageCss()),src:le(u),alt:d.question.altText||d.question.title,width:d.question.renderedWidth,height:d.question.renderedHeight,style:De({objectFit:d.question.imageFit,width:d.question.renderedStyleWidth,height:d.question.renderedStyleHeight}),onLoad:f[0]||(f[0]=h=>{d.question.onLoadHandler()}),onError:f[1]||(f[1]=h=>{d.question.onErrorHandler()})},null,46,jO)),[[nn,le(u)&&!d.question.contentNotLoaded]]):k("",!0),d.question.renderedMode==="video"?yt((x(),R("video",{key:1,controls:"",class:O(d.question.getImageCss()),src:le(u),width:d.question.renderedWidth,height:d.question.renderedHeight,style:De({objectFit:d.question.imageFit,width:d.question.renderedStyleWidth,height:d.question.renderedStyleHeight}),onLoadedmetadata:f[2]||(f[2]=h=>{d.question.onLoadHandler()}),onError:f[3]||(f[3]=h=>{d.question.onErrorHandler()})},null,46,NO)),[[nn,le(u)&&!d.question.contentNotLoaded]]):k("",!0),d.question.renderedMode==="youtube"?(x(),R("iframe",{key:2,class:O(d.question.getImageCss()),src:le(u),width:d.question.renderedWidth,height:d.question.renderedHeight,style:De({objectFit:d.question.imageFit,width:d.question.renderedStyleWidth,height:d.question.renderedStyleHeight})},null,14,FO)):k("",!0),!le(u)||d.question.contentNotLoaded?(x(),R("div",{key:3,class:O(d.question.cssClasses.noImage)},[W(D,{is:"sv-svg-icon",iconName:d.question.cssClasses.noImageSvgIconId,size:48},null,8,["iconName"])],2)):k("",!0)],2))}}),HO=G({inheritAttrs:!1,__name:"Expression",props:{question:{}},setup(l){const s=l,a=_e(null);return Vt(s,a),(u,d)=>(x(),R("div",{class:O(u.question.cssClasses.root),ref_key:"root",ref:a},je(u.question.formatedValue),3))}}),QO=["id","aria-required","aria-label","aria-invalid","aria-errormessage","multiple","title","accept","capture"],zO=["id","multiple","placeholder"],UO=["id","multiple","placeholder"],WO=G({inheritAttrs:!1,__name:"File",props:{question:{}},setup(l){const s=l,a=_e(null);return Vt(s,a),(u,d)=>(x(),R("div",{class:O(u.question.fileRootCss),ref_key:"root",ref:a},[!u.question.isReadOnlyAttr&&!u.question.isDisabledAttr&&u.question.hasFileUI?(x(),R("input",{key:0,class:O(u.question.cssClasses.fileInput),tabindex:"-1",type:"file",id:u.question.inputId,"aria-required":u.question.ariaRequired,"aria-label":u.question.ariaLabel,"aria-invalid":u.question.ariaInvalid,"aria-errormessage":u.question.ariaErrormessage,multiple:u.question.allowMultiple,title:u.question.inputTitle,accept:u.question.acceptedTypes,capture:u.question.renderCapture},null,10,QO)):k("",!0),u.question.isReadOnlyAttr?(x(),R("input",{key:1,type:"file",readonly:"",id:u.question.inputId,class:O(u.question.getReadOnlyFileCss()),multiple:u.question.allowMultiple,placeholder:u.question.title,style:{color:"transparent"}},null,10,zO)):k("",!0),u.question.isDisabledAttr?(x(),R("input",{key:2,type:"file",disabled:"",id:u.question.inputId,class:O(u.question.getReadOnlyFileCss()),multiple:u.question.allowMultiple,placeholder:u.question.title,style:{color:"transparent"}},null,10,UO)):k("",!0),F("div",{class:O(u.question.cssClasses.dragArea),onDrop:d[0]||(d[0]=(...f)=>u.question.onDrop&&u.question.onDrop(...f)),onDragover:d[1]||(d[1]=(...f)=>u.question.onDragOver&&u.question.onDragOver(...f)),onDragleave:d[2]||(d[2]=(...f)=>u.question.onDragLeave&&u.question.onDragLeave(...f)),onDragenter:d[3]||(d[3]=(...f)=>u.question.onDragEnter&&u.question.onDragEnter(...f))},[u.question.showFileDecorator?(x(),R("div",{key:0,class:O(u.question.getFileDecoratorCss())},[F("span",{class:O(u.question.cssClasses.dragAreaPlaceholder)},[W(D,{is:"survey-string",locString:u.question.locRenderedPlaceholder},null,8,["locString"])],2),F("div",{class:O(u.question.cssClasses.wrapper)},[u.question.showChooseButton?(x(),$(D,{key:0,is:"sv-file-choose-btn",data:{question:u.question}},null,8,["data"])):k("",!0),u.question.actionsContainerVisible?(x(),$(D,{key:1,is:"sv-action-bar",model:u.question.actionsContainer},null,8,["model"])):k("",!0),u.question.isEmpty()?(x(),R("span",{key:2,class:O(u.question.cssClasses.noFileChosen)},je(u.question.noFileChosenCaption),3)):k("",!0)],2)],2)):k("",!0),u.question.showRemoveButton?(x(),$(D,{key:1,is:"sv-file-clean-btn",question:u.question,css:u.question.showRemoveButton},null,8,["question","css"])):k("",!0),u.question.showLoadingIndicator?(x(),R("div",{key:2,class:O(u.question.cssClasses.loadingIndicator)},[W(D,{is:"sv-loading-indicator"})],2)):k("",!0),u.question.isPlayingVideo?(x(),$(D,{key:3,is:"sv-file-video",question:u.question},null,8,["question"])):k("",!0),u.question.allowShowPreview?(x(),$(D,{key:4,is:"sv-file-preview",question:u.question},null,8,["question"])):k("",!0),u.question.showRemoveButtonBottom?(x(),$(D,{key:5,is:"sv-file-clean-btn",question:u.question,css:u.question.showRemoveButtonBottom},null,8,["question","css"])):k("",!0),u.question.fileNavigatorVisible?(x(),$(D,{key:6,is:"sv-action-bar",model:u.question.fileNavigator},null,8,["model"])):k("",!0)],34)],2))}}),$O={class:"sv-hidden"},dg="survey-imagepicker-item",JO=G({inheritAttrs:!1,__name:"Imagepicker",props:{question:{}},setup(l){const s=l,a=_e(null);Vt(s,a);const u=f=>s.question.getItemValueWrapperComponentName(f)||dg,d=f=>({componentName:dg,componentData:{question:s.question,item:f,data:s.question.getItemValueWrapperComponentData(f)}});return(f,h)=>(x(),R("fieldset",{class:O(f.question.getSelectBaseRootCss()),ref_key:"root",ref:a},[F("legend",$O,je(f.question.locTitle.renderedHtml),1),f.question.hasColumns?k("",!0):(x(!0),R(Te,{key:0},Je(f.question.visibleChoices,g=>(x(),$(D,kt({key:g.value,is:u(g)},d(g)),null,16,["is"]))),128)),f.question.hasColumns?(x(!0),R(Te,{key:1},Je(f.question.columns,(g,m)=>(x(),R("div",{class:O(f.question.getColumnClass()),key:m,role:"presentation"},[(x(!0),R(Te,null,Je(g,v=>(x(),$(D,kt({key:v.value,is:u(v)},d(v)),null,16,["is"]))),128))],2))),128)):k("",!0)],2))}}),GO=["name","value","id","disabled","readonly","aria-required","aria-label","aria-invalid","aria-errormessage"],KO=["name","value","id","disabled","readonly","aria-required","aria-label","aria-invalid","aria-errormessage"],ZO=["src","width","height","alt"],YO=["src","width","height"],XO=G({inheritAttrs:!1,__name:"ImagepickerItem",props:{question:{},item:{}},setup(l){const s=l,a=f=>s.question.getItemClass(f),u=Ve({get(){return s.question.value},set(f){const h=s.question;h.isReadOnlyAttr||(h.value=f)}});Ke(()=>s.item);const d=Gi(()=>s.item.locImageLink);return(f,h)=>(x(),R("div",{class:O(a(f.item))},[F("label",{class:O(f.question.cssClasses.label)},[f.question.multiSelect?yt((x(),R("input",{key:0,type:"checkbox",name:f.question.questionName,value:f.item.value,id:f.question.getItemId(f.item),"onUpdate:modelValue":h[0]||(h[0]=g=>u.value=g),disabled:!f.question.getItemEnabled(f.item),readonly:f.question.isReadOnlyAttr,"aria-required":f.question.ariaRequired,"aria-label":f.question.ariaLabel,"aria-invalid":f.question.ariaInvalid,"aria-errormessage":f.question.ariaErrormessage,class:O(f.question.cssClasses.itemControl)},null,10,GO)),[[_c,u.value]]):yt((x(),R("input",{key:1,type:"radio",name:f.question.questionName,value:f.item.value,id:f.question.getItemId(f.item),"onUpdate:modelValue":h[1]||(h[1]=g=>u.value=g),disabled:!f.question.getItemEnabled(f.item),readonly:f.question.isReadOnlyAttr,"aria-required":f.question.ariaRequired,"aria-label":f.question.ariaLabel,"aria-invalid":f.question.ariaInvalid,"aria-errormessage":f.question.ariaErrormessage,class:O(f.question.cssClasses.itemControl)},null,10,KO)),[[ba,u.value]]),F("div",{class:O(f.question.cssClasses.itemDecorator)},[F("div",{class:O(f.question.cssClasses.imageContainer)},[f.question.cssClasses.checkedItemDecorator?(x(),R("span",{key:0,class:O(f.question.cssClasses.checkedItemDecorator)},[f.question.cssClasses.checkedItemSvgIconId?(x(),$(D,{key:0,is:"sv-svg-icon",class:O(f.question.cssClasses.checkedItemSvgIcon),size:"auto",iconName:f.question.cssClasses.checkedItemSvgIconId},null,8,["class","iconName"])):k("",!0)],2)):k("",!0),le(d)&&!f.item.contentNotLoaded&&f.question.contentMode==="image"?(x(),R("img",{key:1,class:O(f.question.cssClasses.image),src:le(d),width:f.question.renderedImageWidth,height:f.question.renderedImageHeight,style:De({objectFit:f.question.imageFit}),alt:f.item.locText.renderedHtml,onLoad:h[2]||(h[2]=g=>{f.question.onContentLoaded(f.item,g)}),onError:h[3]||(h[3]=g=>{f.item.onErrorHandler()})},null,46,ZO)):k("",!0),le(d)&&!f.item.contentNotLoaded&&f.question.contentMode==="video"?(x(),R("video",{key:2,controls:"",class:O(f.question.cssClasses.image),src:le(d),width:f.question.renderedImageWidth,height:f.question.renderedImageHeight,style:De({objectFit:f.question.imageFit}),onLoadedmetadata:h[4]||(h[4]=g=>{f.question.onContentLoaded(f.item,g)}),onError:h[5]||(h[5]=g=>{f.item.onErrorHandler()})},null,46,YO)):k("",!0),!le(d)||f.item.contentNotLoaded?(x(),R("div",{key:3,class:O(f.question.cssClasses.itemNoImage),style:De({width:f.question.renderedImageWidth+"px",height:f.question.renderedImageHeight+"px",objectFit:f.question.imageFit})},[W(D,{is:"sv-svg-icon",class:O(f.question.cssClasses.itemNoImageSvgIcon),iconName:f.question.cssClasses.itemNoImageSvgIconId,size:48},null,8,["class","iconName"])],6)):k("",!0)],2),f.question.showLabel?(x(),R("span",{key:0,class:O(f.question.cssClasses.itemText)},[W(D,{is:"survey-string",locString:f.item.locText},null,8,["locString"])],2)):k("",!0)],2)],2)],2))}}),eR=G({inheritAttrs:!1,__name:"Comment",props:{question:{}},setup(l){const s=l,a=_e(null);return Vt(s,a),(u,d)=>!u.question.isReadOnlyRenderDiv()&&u.question.getMaxLength()?(x(),R("div",{key:0,ref_key:"root",ref:a},[W(D,{is:"sv-text-area",model:u.question.textAreaModel},null,8,["model"]),W(D,{is:"sv-character-counter",counter:u.question.characterCounter,remainingCharacterCounter:u.question.cssClasses.remainingCharacterCounter},null,8,["counter","remainingCharacterCounter"])],512)):!u.question.isReadOnlyRenderDiv()&&!u.question.getMaxLength()?(x(),$(D,{key:1,is:"sv-text-area",ref_key:"root",ref:a,model:u.question.textAreaModel},null,8,["model"])):(x(),R("div",{key:2,ref_key:"root",ref:a},je(u.question.value),513))}}),tR=G({inheritAttrs:!1,__name:"Dropdown",props:{question:{}},setup(l){const s=l,a=_e(null);return Vt(s,a),(u,d)=>(x(),R("div",{class:O(u.question.renderCssRoot),ref_key:"root",ref:a},[W(D,{is:"sv-dropdown",question:u.question},null,8,["question"]),u.question.isOtherSelected?(x(),$(D,{key:0,is:"survey-other-choice",question:u.question},null,8,["question"])):k("",!0)],2))}}),nR=["id","autocomplete","aria-required","aria-label","aria-invalid","aria-errormessage","required"],rR={key:0,value:""},iR=["id"];ct.RendererFactory.Instance.registerRenderer("dropdown","select","sv-dropdown-select");const oR=G({inheritAttrs:!1,__name:"DropdownSelect",props:{question:{}},setup(l){const s=l,a=_e(null);Vt(s,a);const u=h=>{s.question.onClick(h)},d=h=>{s.question.onKeyUp(h)},f=Ve({get(){var h;return(h=s.question.value)!=null?h:""},set(h){const g=s.question;h===""?g.renderedValue=void 0:g.renderedValue=h}});return(h,g)=>(x(),R("div",{class:O(h.question.renderCssRoot),ref_key:"root",ref:a},[F("div",{class:O(h.question.cssClasses.selectWrapper)},[h.question.isReadOnly?(x(),R("div",{key:1,disabled:"",id:h.question.inputId,class:O(h.question.getControlClass())},je(h.question.readOnlyText),11,iR)):yt((x(),R("select",{key:0,id:h.question.inputId,"onUpdate:modelValue":g[0]||(g[0]=m=>f.value=m),onClick:u,onKeyup:d,autocomplete:h.question.autocomplete,class:O(h.question.getControlClass()),"aria-required":h.question.ariaRequired,"aria-label":h.question.ariaLabel,"aria-invalid":h.question.ariaInvalid,"aria-errormessage":h.question.ariaErrormessage,required:h.question.isRequired},[h.question.allowClear?(x(),R("option",rR,je(h.question.placeholder),1)):k("",!0),(x(!0),R(Te,null,Je(h.question.visibleChoices,m=>(x(),$(D,{is:"sv-dropdown-option-item",item:m,key:m.id},null,8,["item"]))),128))],42,nR)),[[dV,f.value]]),h.question.cssClasses.chevronButtonIconId?(x(),R("div",{key:2,class:O(h.question.cssClasses.chevronButton)},[W(D,{is:"sv-svg-icon",class:O(h.question.cssClasses.chevronButtonSvg),iconName:h.question.cssClasses.chevronButtonIconId,size:"auto"},null,8,["class","iconName"])],2)):k("",!0)],2),h.question.isOtherSelected?(x(),$(D,{key:0,is:"survey-other-choice",question:h.question},null,8,["question"])):k("",!0)],2))}}),sR=["value","disabled"],aR=G({__name:"OptionItem",props:{item:{}},setup(l){const s=l,a=Gi(()=>s.item.locText);return Ke(()=>s.item),(u,d)=>(x(),R("option",{value:u.item.value,disabled:!u.item.isEnabled},je(le(a)),9,sR))}}),lR=["id","disabled","tabindex","role","aria-required","aria-label","aria-invalid","aria-errormessage","aria-expanded","aria-controls","aria-activedescendant","required"],uR={style:{visibility:"hidden"}},cR=["disabled","inputmode","role","id","tabindex","readonly","aria-expanded","aria-controls","aria-label","aria-labelledby","aria-describedby","aria-activedescendant","placeholder"],dR=["id","aria-label","aria-labelledby","aria-describedby","tabindex"],pR=G({__name:"Dropdown",props:{question:{}},setup(l){const s=l,a=_e(null),u=Ve(()=>s.question.dropdownListModel),d=j=>{var V;(V=u.value)==null||V.onClick(j)},f=j=>{var V;(V=u.value)==null||V.chevronPointerDown(j)},h=j=>{var V;(V=u.value)==null||V.onClear(j)},g=j=>{var V;(V=u.value)==null||V.keyHandler(j)},m=()=>{if(a.value){const j=a.value,V=u.value.inputStringRendered;ct.Helpers.isTwoValueEquals(V,j.value,!1,!0,!1)||(j.value=u.value.inputStringRendered)}},v=j=>{s.question.onBlur(j),m()},C=j=>{s.question.onFocus(j)},T=j=>{u.value.inputStringRendered=j.target.value},I=Ve(()=>s.question.showSelectedItemLocText),L=Ve(()=>s.question.selectedItemLocText);return Ke(()=>u.value),Jo(m),_t(m),(j,V)=>(x(),R("div",{class:O(j.question.cssClasses.selectWrapper),onClick:d},[j.question.isReadOnly?k("",!0):(x(),R("div",{key:0,id:j.question.inputId,disabled:j.question.isDisabledAttr?!0:null,tabindex:u.value.noTabIndex?void 0:0,onKeydown:g,onBlur:v,class:O(j.question.getControlClass()),role:j.question.ariaRole,"aria-required":j.question.ariaRequired,"aria-label":j.question.ariaLabel,"aria-invalid":j.question.ariaInvalid,"aria-errormessage":j.question.ariaErrormessage,"aria-expanded":j.question.ariaExpanded,"aria-controls":u.value.listElementId,"aria-activedescendant":u.value.ariaActivedescendant,required:j.question.isRequired?!0:null},[u.value.showHintPrefix?(x(),R("div",{key:0,class:O(j.question.cssClasses.hintPrefix)},[F("span",null,je(u.value.hintStringPrefix),1)],2)):k("",!0),F("div",{class:O(j.question.cssClasses.controlValue)},[I.value?(x(),$(D,{key:0,is:"survey-string",locString:L.value},null,8,["locString"])):k("",!0),u.value.showHintString?(x(),R("div",{key:1,class:O(j.question.cssClasses.hintSuffix)},[F("span",uR,je(u.value.inputStringRendered),1),F("span",null,je(u.value.hintStringSuffix),1)],2)):k("",!0),j.question.showInputFieldComponent?(x(),$(D,{key:2,is:j.question.inputFieldComponentName,item:u.value.getSelectedAction(),question:j.question},null,8,["is","item","question"])):k("",!0),F("input",{type:"text",ref_key:"inputElement",ref:a,class:O(j.question.cssClasses.filterStringInput),disabled:j.question.isDisabledAttr,autocomplete:"off",inputmode:u.value.inputMode,role:u.value.filterStringEnabled?j.question.ariaRole:void 0,id:j.question.getInputId(),tabindex:u.value.noTabIndex?void 0:-1,readonly:u.value.filterReadOnly?!0:void 0,"aria-expanded":j.question.ariaExpanded,"aria-controls":u.value.listElementId,"aria-label":j.question.a11y_input_ariaLabel,"aria-labelledby":j.question.a11y_input_ariaLabelledBy,"aria-describedby":j.question.a11y_input_ariaDescribedBy,"aria-activedescendant":u.value.ariaActivedescendant,placeholder:u.value.placeholderRendered,onInput:T,onBlur:v,onFocus:C},null,42,cR)],2),j.question.allowClear&&j.question.cssClasses.cleanButtonIconId?yt((x(),R("div",{key:1,class:O(j.question.cssClasses.cleanButton),onClick:h,"aria-hidden":"true"},[W(D,{is:"sv-svg-icon",class:O(j.question.cssClasses.cleanButtonSvg),iconName:j.question.cssClasses.cleanButtonIconId,title:j.question.clearCaption,size:"auto"},null,8,["class","iconName","title"])],2)),[[nn,j.question.showClearButton]]):k("",!0)],42,lR)),j.question.isReadOnly?(x(),R("div",{key:2,id:j.question.inputId,"aria-label":j.question.a11y_input_ariaLabel,"aria-labelledby":j.question.a11y_input_ariaLabelledBy,"aria-describedby":j.question.a11y_input_ariaDescribedBy,tabindex:j.question.isDisabledAttr?void 0:0,class:O(j.question.getControlClass())},[j.question.selectedItemLocText?(x(),$(D,{key:0,is:"survey-string",locString:j.question.selectedItemLocText},null,8,["locString"])):k("",!0),F("div",null,je(j.question.readOnlyText),1)],10,dR)):(x(),$(D,{key:1,is:"sv-popup",model:j.question.dropdownListModel.popupModel},null,8,["model"])),j.question.cssClasses.chevronButtonIconId?(x(),R("div",{key:3,class:O(j.question.cssClasses.chevronButton),onPointerdown:f,"aria-hidden":"true"},[W(D,{is:"sv-svg-icon",class:O(j.question.cssClasses.chevronButtonSvg),iconName:j.question.cssClasses.chevronButtonIconId,size:"auto"},null,8,["class","iconName"])],34)):k("",!0)],2))}}),fR=G({inheritAttrs:!1,__name:"Tagbox",props:{question:{}},setup(l){const s=l,a=_e(null);return Vt(s,a),(u,d)=>(x(),R("div",{class:O(u.question.renderCssRoot),ref_key:"root",ref:a},[W(D,{is:"sv-tagbox",question:u.question},null,8,["question"]),u.question.isOtherSelected?(x(),$(D,{key:0,is:"survey-other-choice",question:u.question},null,8,["question"])):k("",!0)],2))}}),hR=["id","tabindex","disabled","role","aria-required","aria-label","aria-invalid","aria-errormessage","aria-expanded","aria-controls","aria-activedescendant","required"],gR=["id","aria-label","aria-labelledby","aria-describedby","tabindex"],yR=G({__name:"Tagbox",props:{question:{}},setup(l){const s=l,a=Ve(()=>{const v=s.question;return v.dropdownListModel||(v.dropdownListModel=new ct.DropdownMultiSelectListModel(v)),s.question.dropdownListModel}),u=v=>{var C;(C=a.value)==null||C.onClick(v)},d=v=>{var C;(C=a.value)==null||C.chevronPointerDown(v)},f=v=>{var C;(C=a.value)==null||C.onClear(v)},h=v=>{var C;(C=a.value)==null||C.keyHandler(v)},g=v=>{var C;(C=a.value)==null||C.onBlur(v)},m=Ia(()=>s.question.selectedChoices);return Ke(()=>a.value),(v,C)=>(x(),R("div",{class:O(v.question.cssClasses.selectWrapper),onClick:u},[v.question.isReadOnly?k("",!0):(x(),R("div",{key:0,id:v.question.inputId,tabindex:a.value.noTabIndex?void 0:0,disabled:v.question.isDisabledAttr?!0:null,onKeydown:h,onBlur:g,class:O(v.question.getControlClass()),role:v.question.ariaRole,"aria-required":v.question.ariaRequired,"aria-label":v.question.ariaLabel,"aria-invalid":v.question.ariaInvalid,"aria-errormessage":v.question.ariaErrormessage,"aria-expanded":v.question.ariaExpanded,"aria-controls":a.value.listElementId,"aria-activedescendant":a.value.ariaActivedescendant,required:v.question.isRequired?!0:null},[F("div",{class:O(v.question.cssClasses.controlValue)},[(x(!0),R(Te,null,Je(le(m),(T,I)=>(x(),$(D,{is:"sv-tagbox-item",item:T,question:v.question,key:"item"+I},null,8,["item","question"]))),128)),W(D,{is:"sv-tagbox-filter",model:a.value,question:v.question},null,8,["model","question"])],2),v.question.allowClear&&v.question.cssClasses.cleanButtonIconId?yt((x(),R("div",{key:0,class:O(v.question.cssClasses.cleanButton),onClick:f,"aria-hidden":"true"},[W(D,{is:"sv-svg-icon",class:O(v.question.cssClasses.cleanButtonSvg),iconName:v.question.cssClasses.cleanButtonIconId,title:v.question.clearCaption,size:"auto"},null,8,["class","iconName","title"])],2)),[[nn,v.question.showClearButton]]):k("",!0)],42,hR)),v.question.isReadOnly?(x(),R("div",{key:2,id:v.question.inputId,"aria-label":v.question.a11y_input_ariaLabel,"aria-labelledby":v.question.a11y_input_ariaLabelledBy,"aria-describedby":v.question.a11y_input_ariaDescribedBy,tabindex:v.question.isDisabledAttr?void 0:0,class:O(v.question.getControlClass())},[v.question.locReadOnlyText?(x(),$(D,{key:0,is:"survey-string",locString:v.question.locReadOnlyText},null,8,["locString"])):k("",!0)],10,gR)):(x(),$(D,{key:1,is:"sv-popup",model:a.value.popupModel},null,8,["model"])),v.question.cssClasses.chevronButtonIconId?(x(),R("div",{key:3,class:O(v.question.cssClasses.chevronButton),onPointerdown:d,"aria-hidden":"true"},[W(D,{is:"sv-svg-icon",class:O(v.question.cssClasses.chevronButtonSvg),iconName:v.question.cssClasses.chevronButtonIconId,size:"auto"},null,8,["class","iconName"])],34)):k("",!0)],2))}}),mR={style:{visibility:"hidden"}},vR=["placeholder","disabled","inputmode","role","aria-expanded","aria-controls","aria-label","aria-labelledby","aria-describedby","aria-activedescendant","id","readonly","size"],bR=G({__name:"TagboxFilter",props:{question:{},model:{}},setup(l){const s=l,a=h=>{const g=s.model;g.inputStringRendered=h.target.value},u=h=>{s.model.inputKeyHandler(h)},d=h=>{s.question.onBlur(h)},f=h=>{s.question.onFocus(h)};return Ke(()=>s.model),(h,g)=>(x(),R("div",{class:O(h.question.cssClasses.hint)},[h.model.showHintPrefix?(x(),R("div",{key:0,class:O(h.question.cssClasses.hintPrefix)},[F("span",null,je(h.model.hintStringPrefix),1)],2)):k("",!0),F("div",{class:O(h.question.cssClasses.hintSuffixWrapper)},[h.question.showSelectedItemLocText?(x(),$(D,{key:0,is:"survey-string",locString:h.question.selectedItemLocText},null,8,["locString"])):k("",!0),h.model.showHintString?(x(),R("div",{key:1,class:O(h.question.cssClasses.hintSuffix)},[F("span",mR,je(h.model.inputStringRendered),1),F("span",null,je(h.model.hintStringSuffix),1)],2)):k("",!0),yt(F("input",{type:"text",autocomplete:"off","onUpdate:modelValue":g[0]||(g[0]=m=>h.model.inputStringRendered=m),class:O(h.question.cssClasses.filterStringInput),placeholder:h.model.filterStringPlaceholder,disabled:h.question.isDisabledAttr,inputmode:h.model.inputMode,role:h.model.filterStringEnabled?h.question.ariaRole:void 0,"aria-expanded":h.question.ariaExpanded,"aria-controls":h.model.listElementId,"aria-label":h.question.a11y_input_ariaLabel,"aria-labelledby":h.question.a11y_input_ariaLabelledBy,"aria-describedby":h.question.a11y_input_ariaDescribedBy,"aria-activedescendant":h.model.ariaActivedescendant,id:h.question.getInputId(),readonly:h.model.filterReadOnly?!0:void 0,size:h.model.inputStringRendered?void 0:1,onChange:a,onKeydown:u,onBlur:d,onFocus:f},null,42,vR),[[cV,h.model.inputStringRendered]])],2)],2))}}),CR={class:"sv-tagbox__item-text"},wR=G({__name:"TagboxItem",props:{question:{},item:{}},setup(l){const s=l,a=u=>{s.question.dropdownListModel.deselectItem(s.item.value),u.stopPropagation()};return Ke(()=>s.item),(u,d)=>(x(),R("div",{class:"sv-tagbox__item",key:u.item.key},[F("div",CR,[W(D,{is:"survey-string",locString:u.item.locText},null,8,["locString"])]),F("div",{class:O(u.question.cssClasses.cleanItemButton),onClick:a},[W(D,{is:"sv-svg-icon",class:O(u.question.cssClasses.cleanItemButtonSvg),iconName:u.question.cssClasses.cleanItemButtonIconId,size:"auto"},null,8,["class","iconName"])],2)]))}}),PR=G({inheritAttrs:!1,__name:"Ranking",props:{question:{}},setup(l){const s=l,a=_e(null);Vt(s,a);const u=f=>s.question.getItemValueWrapperComponentName(f)||"survey-ranking-item",d=(f,h,g)=>({componentName:"survey-ranking-item",componentData:{question:s.question,item:f,index:h,unrankedItem:g,data:s.question.getItemValueWrapperComponentData(f)}});return(f,h)=>(x(),R("div",{class:O(f.question.rootClass),ref_key:"root",ref:a},[f.question.selectToRankEnabled?k("",!0):(x(!0),R(Te,{key:0},Je(f.question.renderedRankingChoices,(g,m)=>(x(),$(D,kt({key:g.value+"-"+m+"-item",is:u(g)},d(g,m)),null,16,["is"]))),128)),f.question.selectToRankEnabled?(x(),R("div",{key:1,class:O(f.question.getContainerClasses("from")),"data-ranking":"from-container"},[(x(!0),R(Te,null,Je(f.question.renderedUnRankingChoices,(g,m)=>(x(),$(D,kt({key:g.value+"-"+m+"-item",is:u(g)},d(g,m,!0)),null,16,["is"]))),128)),f.question.renderedUnRankingChoices.length===0?(x(),R("div",{key:0,class:O(f.question.cssClasses.containerPlaceholder)},[W(D,{is:"survey-string",locString:f.question.locSelectToRankEmptyRankedAreaText},null,8,["locString"])],2)):k("",!0)],2)):k("",!0),f.question.selectToRankEnabled?(x(),R("div",{key:2,class:O(f.question.cssClasses.containersDivider)},null,2)):k("",!0),f.question.selectToRankEnabled?(x(),R("div",{key:3,class:O(f.question.getContainerClasses("to")),"data-ranking":"to-container"},[(x(!0),R(Te,null,Je(f.question.renderedRankingChoices,(g,m)=>(x(),$(D,kt({key:g.value+"-"+m+"-item",is:u(g)},d(g,m)),null,16,["is"]))),128)),f.question.renderedRankingChoices.length===0?(x(),R("div",{key:0,class:O(f.question.cssClasses.containerPlaceholder)},[W(D,{is:"survey-string",locString:f.question.locSelectToRankEmptyUnrankedAreaText},null,8,["locString"])],2)):k("",!0)],2)):k("",!0)],2))}}),xR=["tabindex","data-sv-drop-target-ranking-item"],VR={tabindex:"-1",style:{outline:"none"}},SR=["xlink:href"],TR=["xlink:href"],OR=["xlink:href"],RR=G({inheritAttrs:!1,__name:"RankingItem",props:{index:{},question:{},item:{},unrankedItem:{type:Boolean}},setup(l){const s=l,a=Ve(()=>s.question.getNumberByIndex(s.index));return Ke(()=>s.item),(u,d)=>(x(),R("div",{tabindex:u.question.getItemTabIndex(u.item),"data-sv-drop-target-ranking-item":u.index,class:O(u.question.getItemClass(u.item)),onKeydown:d[0]||(d[0]=f=>{u.question.handleKeydown.call(u.question,f,u.item)}),onPointerdown:d[1]||(d[1]=f=>{u.question.handlePointerDown.call(u.question,f,u.item,f.currentTarget)}),onPointerup:d[2]||(d[2]=f=>{u.question.handlePointerUp.call(u.question,f,u.item,f.currentTarget)})},[F("div",VR,[F("div",{class:O(u.question.cssClasses.itemGhostNode)},null,2),F("div",{class:O(u.question.cssClasses.itemContent)},[F("div",{class:O(u.question.cssClasses.itemIconContainer)},[(x(),R("svg",{class:O(u.question.getIconHoverCss())},[F("use",{"xlink:href":u.question.dragDropSvgIcon},null,8,SR)],2)),(x(),R("svg",{class:O(u.question.getIconFocusCss())},[F("use",{"xlink:href":u.question.arrowsSvgIcon},null,8,TR)],2))],2),!u.unrankedItem&&a.value?(x(),R("div",{key:0,class:O(u.question.getItemIndexClasses(u.item))},je(a.value),3)):(x(),R("div",{key:1,class:O(u.question.getItemIndexClasses(u.item))},[(x(),R("svg",null,[F("use",{"xlink:href":u.question.dashSvgIcon},null,8,OR)]))],2)),W(D,{is:u.question.itemComponent,item:u.item,cssClasses:u.question.cssClasses},null,8,["is","item","cssClasses"])],2)])],42,xR))}}),IR=G({inheritAttrs:!1,__name:"RankingItemContent",props:{item:{},cssClasses:{}},setup(l){return(s,a)=>(x(),R("div",{class:O(s.cssClasses.controlLabel)},[W(D,{is:"survey-string",locString:s.item.locText},null,8,["locString"])],2))}}),ER={role:"radiogroup"},_R=F("legend",{role:"presentation",class:"sv-hidden"},null,-1),AR=G({inheritAttrs:!1,__name:"Rating",props:{question:{}},setup(l){const s=l,a=_e(null);Vt(s,a);const u=d=>s.question.getInputId(d);return(d,f)=>(x(),R("div",{class:O(d.question.ratingRootCss),ref_key:"root",ref:a},[F("fieldset",ER,[_R,d.question.hasMinLabel?(x(),R("span",{key:0,class:O(d.question.cssClasses.minText)},[W(D,{is:"survey-string",locString:d.question.locMinRateDescription},null,8,["locString"])],2)):k("",!0),(x(!0),R(Te,null,Je(d.question.renderedRateItems,(h,g)=>(x(),$(D,{key:u(g),is:d.question.itemComponent,item:h,index:g,question:d.question},null,8,["is","item","index","question"]))),128)),d.question.hasMaxLabel?(x(),R("span",{key:1,class:O(d.question.cssClasses.maxText)},[W(D,{is:"survey-string",locString:d.question.locMaxRateDescription},null,8,["locString"])],2)):k("",!0)])],2))}}),DR=["name","id","value","disabled","readonly","aria-required","aria-label","aria-invalid","aria-errormessage"],LR=["data-text"],kR=G({__name:"RatingItem",props:{question:{},item:{},index:{}},setup(l){const s=l;return Ke(()=>s.item),(a,u)=>(x(),R("label",{key:a.item.value,onMousedown:u[1]||(u[1]=d=>a.question.onMouseDown()),class:O(a.question.getItemClassByText(a.item.itemValue,a.item.text))},[F("input",{type:"radio",class:"sv-visuallyhidden",name:a.question.questionName,id:a.question.getInputId(a.index),value:a.item.value,disabled:a.question.isDisabledAttr,readonly:a.question.isReadOnlyAttr,onClick:u[0]||(u[0]=d=>a.question.setValueFromClick(d.target.value)),"aria-required":a.question.ariaRequired,"aria-label":a.question.ariaLabel,"aria-invalid":a.question.ariaInvalid,"aria-errormessage":a.question.ariaErrormessage},null,8,DR),F("span",{class:O(a.question.cssClasses.itemText),"data-text":a.item.text},[W(D,{is:"survey-string",locString:a.item.locText},null,8,["locString"])],10,LR)],34))}}),MR=["name","id","value","disabled","readonly","aria-required","aria-label","aria-invalid","aria-errormessage"],qR=G({__name:"RatingItemSmiley",props:{question:{},item:{},index:{}},setup(l){const s=l;return Ke(()=>s.item),(a,u)=>(x(),R("label",{key:a.item.value,onMousedown:u[1]||(u[1]=d=>a.question.onMouseDown()),style:De(a.question.getItemStyle(a.item.itemValue,a.item.highlight)),class:O(a.question.getItemClass(a.item.itemValue,a.item.highlight)),onMouseover:u[2]||(u[2]=d=>a.question.onItemMouseIn(a.item)),onMouseleave:u[3]||(u[3]=d=>a.question.onItemMouseOut(a.item))},[F("input",{type:"radio",class:"sv-visuallyhidden",name:a.question.questionName,id:a.question.getInputId(a.index),value:a.item.value,disabled:a.question.isDisabledAttr,readonly:a.question.isReadOnlyAttr,onClick:u[0]||(u[0]=d=>a.question.setValueFromClick(d.target.value)),"aria-required":a.question.ariaRequired,"aria-label":a.question.ariaLabel,"aria-invalid":a.question.ariaInvalid,"aria-errormessage":a.question.ariaErrormessage},null,8,MR),W(D,{is:"sv-svg-icon",iconName:a.question.getItemSmileyIconName(a.item.itemValue),size:"auto",title:a.item.text},null,8,["iconName","title"])],38))}}),jR=["name","id","value","disabled","readonly","aria-required","aria-label","aria-invalid","aria-errormessage"],NR=G({__name:"RatingItemStar",props:{question:{},item:{},index:{}},setup(l){const s=l;return Ke(()=>s.item),(a,u)=>(x(),R("label",{key:a.item.value,onMousedown:u[1]||(u[1]=d=>a.question.onMouseDown()),class:O(a.question.getItemClass(a.item.itemValue)),onMouseover:u[2]||(u[2]=d=>a.question.onItemMouseIn(a.item)),onMouseleave:u[3]||(u[3]=d=>a.question.onItemMouseOut(a.item))},[F("input",{type:"radio",class:"sv-visuallyhidden",name:a.question.questionName,id:a.question.getInputId(a.index),value:a.item.value,disabled:a.question.isDisabledAttr,readonly:a.question.isReadOnlyAttr,onClick:u[0]||(u[0]=d=>a.question.setValueFromClick((d==null?void 0:d.target).value)),"aria-required":a.question.ariaRequired,"aria-label":a.question.ariaLabel,"aria-invalid":a.question.ariaInvalid,"aria-errormessage":a.question.ariaErrormessage},null,8,jR),W(D,{is:"sv-svg-icon",class:O("sv-star"),iconName:a.question.itemStarIcon,size:"auto",title:a.item.text},null,8,["iconName","title"]),W(D,{is:"sv-svg-icon",class:O("sv-star-2"),iconName:a.question.itemStarIconAlt,size:"auto",title:a.item.text},null,8,["iconName","title"])],34))}}),FR={class:"sd-rating-dropdown-item"},BR={class:"sd-rating-dropdown-item_text"},HR={key:0,class:"sd-rating-dropdown-item_description"},QR=G({__name:"RatingDropdownItem",props:{item:{},model:{}},setup(l){const s=l;return Ke(()=>s.item),(a,u)=>(x(),R("div",FR,[F("span",BR,je(a.item.title),1),a.item.description?(x(),R("div",HR,[W(D,{is:"survey-string",locString:a.item.description},null,8,["locString"])])):k("",!0)]))}});ct.RendererFactory.Instance.registerRenderer("rating","dropdown","sv-rating-dropdown");const zR=G({inheritAttrs:!1,__name:"RatingDropdown",props:{question:{}},setup(l){const s=l,a=_e(null);return Vt(s,a),(u,d)=>(x(),R("div",{class:O(u.question.cssClasses.rootDropdown),ref_key:"root",ref:a},[W(D,{is:"sv-dropdown",question:u.question},null,8,["question"])],2))}}),UR=["name","value","id",".indeterminate","disabled","readonly","role","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],WR=G({inheritAttrs:!1,__name:"BooleanSwitch",props:{question:{}},setup(l){const s=l,a=_e(null);Vt(s,a);const u=(f,h)=>{s.question.onLabelClick(f,h)},d=f=>{s.question.onSwitchClickModel(f)};return(f,h)=>{var g;return x(),R("div",{class:O(f.question.cssClasses.root),ref_key:"root",ref:a,onKeydown:h[4]||(h[4]=m=>f.question.onKeyDownCore(m))},[F("label",{class:O(f.question.getItemCss())},[yt(F("input",{type:"checkbox",name:f.question.name,value:(g=f.question.booleanValue)!=null?g:"","onUpdate:modelValue":h[0]||(h[0]=m=>f.question.booleanValue=m),class:O(f.question.cssClasses.control),id:f.question.inputId,".indeterminate":f.question.isIndeterminate,disabled:f.question.isDisabledAttr,readonly:f.question.isReadOnlyAttr,role:f.question.a11y_input_ariaRole,"aria-required":f.question.a11y_input_ariaRequired,"aria-label":f.question.a11y_input_ariaLabel,"aria-labelledby":f.question.a11y_input_ariaLabelledBy,"aria-describedby":f.question.a11y_input_ariaDescribedBy,"aria-invalid":f.question.a11y_input_ariaInvalid,"aria-errormessage":f.question.a11y_input_ariaErrormessage},null,42,UR),[[_c,f.question.booleanValue]]),F("div",{class:O(f.question.cssClasses.sliderGhost),onClick:h[1]||(h[1]=m=>u(m,f.question.swapOrder))},[F("span",{class:O(f.question.getLabelCss(f.question.swapOrder))},[W(D,{is:"survey-string",locString:f.question.locLabelLeft},null,8,["locString"])],2)],2),F("div",{class:O(f.question.cssClasses.switch),onClick:h[2]||(h[2]=m=>d(m))},[F("span",{class:O(f.question.cssClasses.slider)},[f.question.cssClasses.sliderText&&f.question.isDeterminated?(x(),R("span",{key:0,class:O(f.question.cssClasses.sliderText)},[W(D,{is:"survey-string",locString:f.question.getCheckedLabel()},null,8,["locString"])],2)):k("",!0)],2)],2),F("div",{class:O(f.question.cssClasses.sliderGhost),onClick:h[3]||(h[3]=m=>u(m,!f.question.swapOrder))},[F("span",{class:O(f.question.getLabelCss(!f.question.swapOrder))},[W(D,{is:"survey-string",locString:f.question.locLabelRight},null,8,["locString"])],2)],2)],2)],34)}}});ct.RendererFactory.Instance.registerRenderer("boolean","radio","sv-boolean-radio");const $R=G({inheritAttrs:!1,__name:"BooleanRadio",props:{question:{}},setup(l){const s=_e(null);return Vt(l,s),(a,u)=>(x(),R("div",{class:O(a.question.cssClasses.rootRadio),ref_key:"root",ref:s},[F("fieldset",{role:"presentation",class:O(a.question.cssClasses.radioFieldset)},[a.question.swapOrder?(x(),$(D,{is:"sv-boolean-radio-item",key:"true",question:a.question,locText:a.question.locLabelTrue,value:!0},null,8,["question","locText"])):k("",!0),(x(),$(D,{is:"sv-boolean-radio-item",key:"false",question:a.question,locText:a.question.locLabelFalse,value:!1},null,8,["question","locText"])),a.question.swapOrder?k("",!0):(x(),$(D,{is:"sv-boolean-radio-item",key:"true",question:a.question,locText:a.question.locLabelTrue,value:!0},null,8,["question","locText"]))],2)],2))}}),JR=["name","value","checked","aria-errormessage","disabled","readonly"],GR=["xlink:href"],KR=G({__name:"BooleanRadioItem",props:{question:{},locText:{},value:{type:Boolean}},setup(l){const s=l,a=u=>{const d=s.question;d.booleanValue=u.target.value=="true"};return(u,d)=>(x(),R("div",{role:"presentation",class:O(u.question.getRadioItemClass(u.question.cssClasses,u.value))},[F("label",{class:O(u.question.cssClasses.radioLabel)},[F("input",{type:"radio",name:u.question.name,value:u.value,checked:u.value===u.question.booleanValueRendered,"aria-errormessage":u.question.ariaErrormessage,disabled:u.question.isDisabledAttr,readonly:u.question.isReadOnlyAttr,class:O(u.question.cssClasses.itemRadioControl),onChange:a},null,42,JR),u.question.cssClasses.materialRadioDecorator?(x(),R("span",{key:0,class:O(u.question.cssClasses.materialRadioDecorator)},[u.question.itemSvgIcon?(x(),R("svg",{key:0,class:O(u.question.cssClasses.itemRadioDecorator)},[F("use",{"xlink:href":u.question.itemSvgIcon},null,8,GR)],2)):k("",!0)],2)):k("",!0),F("span",{class:O(u.question.cssClasses.radioControlLabel)},[W(D,{is:"survey-string",locString:u.locText},null,8,["locString"])],2)],2)],2))}}),ZR=["name","value","id",".indeterminate","disabled","readonly","aria-required","aria-label","aria-invalid","aria-errormessage"],YR=["xlink:href"],XR=F("span",{class:"check"},null,-1),eI=["id"],tI=["id"];ct.RendererFactory.Instance.registerRenderer("boolean","checkbox","sv-boolean-checkbox");const nI=G({inheritAttrs:!1,__name:"BooleanCheckbox",props:{question:{},css:{}},setup(l){const s=l,a=_e(null);return Vt(s,a),(u,d)=>{var f;return x(),R("div",{class:O(u.question.cssClasses.rootCheckbox),ref_key:"root",ref:a},[F("div",{class:O(u.question.getCheckboxItemCss())},[F("label",{class:O(u.question.cssClasses.checkboxLabel)},[yt(F("input",{type:"checkbox",name:u.question.name,value:(f=u.question.booleanValue)!=null?f:"","onUpdate:modelValue":d[0]||(d[0]=h=>u.question.booleanValue=h),class:O(u.question.cssClasses.controlCheckbox),id:u.question.inputId,".indeterminate":u.question.isIndeterminate,disabled:u.question.isDisabledAttr,readonly:u.question.isReadOnlyAttr,"aria-required":u.question.ariaRequired,"aria-label":u.question.ariaLabel,"aria-invalid":u.question.ariaInvalid,"aria-errormessage":u.question.ariaErrormessage},null,42,ZR),[[_c,u.question.booleanValue]]),F("span",{class:O(u.question.cssClasses.checkboxMaterialDecorator)},[u.question.svgIcon?(x(),R("svg",{key:0,class:O(u.question.cssClasses.checkboxItemDecorator)},[F("use",{"xlink:href":u.question.svgIcon},null,8,YR)],2)):k("",!0),XR],2),u.question.isLabelRendered?(x(),R("span",{key:0,id:u.question.labelRenderedAriaID,class:O(u.question.cssClasses.checkboxControlLabel)},[u.question.hasTitleActions?k("",!0):(x(),$(D,{key:0,is:"survey-element-title-content",element:u.question,css:u.css},null,8,["element","css"])),u.question.hasTitleActions?(x(),$(D,{key:1,is:"sv-title-actions",element:u.question,css:u.css},null,8,["element","css"])):k("",!0)],10,eI)):k("",!0)],2),u.question.canRenderLabelDescription?(x(),R("div",{key:0,class:O(u.question.cssDescription),id:u.question.ariaDescriptionId},[W(D,{is:"survey-string",locString:u.question.locDescription},null,8,["locString"])],10,tI)):k("",!0)],2)],2)}}}),rI=G({inheritAttrs:!1,__name:"Multipletext",props:{question:{}},setup(l){const s=l,a=_e(null),u=Ia(()=>s.question.getRows());return Vt(s,a),(d,f)=>(x(),R("table",{class:O(d.question.getQuestionRootCss()),ref_key:"root",ref:a},[F("tbody",null,[(x(!0),R(Te,null,Je(le(u),(h,g)=>(x(),R(Te,{key:d.question.inputId+"rowkey"+g},[h.isVisible?(x(),R("tr",{key:0,class:O(d.question.cssClasses.row)},[(x(!0),R(Te,null,Je(h.cells,m=>(x(),R("td",{key:"item"+m.item.editor.id,class:O(m.className)},[W(D,{is:"survey-multipletext-item",question:d.question,cell:m},null,8,["question","cell"])],2))),128))],2)):k("",!0)],64))),128))])],2))}}),iI={key:1},oI=G({__name:"MultipletextItem",props:{question:{},cell:{}},setup(l){const s=l,a=d=>Bc(d);Ke(()=>s.cell.item.editor);const u=Ve(()=>s.cell.item);return(d,f)=>d.cell.isErrorsCell?(x(),$(D,{key:1,is:"survey-errors",element:u.value.editor},null,8,["element"])):(x(),R("label",{key:0,class:O(d.question.getItemLabelCss(u.value))},[F("span",{class:O(d.question.getItemTitleCss()),style:De({minWidth:d.question.itemTitleWidth,width:d.question.itemTitleWidth})},[u.value.editor.isRequireTextBeforeTitle||u.value.editor.isRequireTextOnStart?(x(),R("span",{key:0,class:O(d.question.cssClasses.requiredText)},je(u.value.editor.requiredText),3)):k("",!0),W(D,{is:"survey-string",locString:u.value.locTitle},null,8,["locString"]),u.value.editor.isRequireTextAfterTitle?(x(),R("span",iI," ")):k("",!0),u.value.editor.isRequireTextAfterTitle?(x(),R("span",{key:2,"aria-hidden":"true",class:O(d.question.cssClasses.requiredText)},je(u.value.editor.requiredText),3)):k("",!0)],6),(x(),R("div",{key:u.value.editor.id,class:O(d.question.getItemCss()),onFocusin:f[0]||(f[0]=h=>u.value.focusIn())},[W(D,{is:a(u.value.editor),question:u.value.editor},null,8,["is","question"])],34))],2))}}),sI={class:"sv-hidden"},aI={key:0},lI={key:0},uI=["onClick"],cI=["data-responsive-title","onClick"],dI=G({inheritAttrs:!1,__name:"Matrix",props:{question:{}},setup(l){const s=l,a=_e(null),u=Dr();Vt(s,a,f=>{u.value=f.visibleRows,f.visibleRowsChangedCallback=()=>{u.value=f.visibleRows}},f=>{f.visibleRowsChangedCallback=()=>{}});const d=(f,h)=>{f.value=h.value};return(f,h)=>(x(),R("div",{class:O(f.question.cssClasses.tableWrapper),ref_key:"root",ref:a},[F("fieldset",null,[F("legend",sI,je(f.question.locTitle.renderedHtml),1),F("table",{class:O(f.question.getTableCss())},[f.question.showHeader?(x(),R("thead",aI,[F("tr",null,[f.question.hasRows?(x(),R("td",lI)):k("",!0),(x(!0),R(Te,null,Je(f.question.visibleColumns,(g,m)=>(x(),R("th",{key:m,class:O(f.question.cssClasses.headerCell),style:De({minWidth:f.question.columnMinWidth,width:f.question.columnMinWidth})},[W(D,{is:f.question.getColumnHeaderWrapperComponentName(g),componentData:f.question.getColumnHeaderWrapperComponentData(g)},{default:Gt(()=>[W(D,{is:"survey-string",locString:g.locText},null,8,["locString"])]),_:2},1032,["is","componentData"])],6))),128))])])):k("",!0),F("tbody",null,[(x(!0),R(Te,null,Je(u.value,(g,m)=>(x(),R("tr",{key:"row_"+g.name+"_"+m,class:O(g.rowClasses||void 0)},[yt(F("td",{class:O(g.rowTextClasses),style:De({minWidth:f.question.rowTitleWidth,width:f.question.rowTitleWidth})},[W(D,{is:f.question.getRowHeaderWrapperComponentName(g),componentData:f.question.getRowHeaderWrapperComponentData(g)},{default:Gt(()=>[W(D,{is:"survey-string",locString:g.locText},null,8,["locString"])]),_:2},1032,["is","componentData"])],6),[[nn,f.question.hasRows]]),f.question.hasCellText?(x(!0),R(Te,{key:0},Je(f.question.visibleColumns,(v,C)=>(x(),R("td",{key:C,class:O(f.question.getItemClass(g,v)),onClick:T=>d(g,v)},[W(D,{is:"survey-string",locString:f.question.getCellDisplayLocText(g.name,v)},null,8,["locString"])],10,uI))),128)):k("",!0),f.question.hasCellText?k("",!0):(x(!0),R(Te,{key:1},Je(f.question.visibleColumns,(v,C)=>(x(),R("td",{key:C,"data-responsive-title":v.locText.renderedHtml,class:O(f.question.cssClasses.cell),onClick:T=>d(g,v)},[W(D,{is:f.question.cellComponent,question:f.question,row:g,column:v,columnIndex:C},null,8,["is","question","row","column","columnIndex"])],10,cI))),128))],2))),128))])],2)])],2))}}),pI=["data-sv-drop-target-matrix-row"],fI=G({__name:"MatrixRow",props:{question:{},row:{}},setup(l){const s=l,a=_e();Ke(()=>s.row);const u=xn(()=>s.row,(d,f)=>{f&&f.setRootElement(void 0),d.setRootElement(a.value)});return _t(()=>{s.row.setRootElement(a.value)}),Tn(()=>{s.row.setRootElement(void 0),u()}),(d,f)=>d.row.visible?(x(),R("tr",{key:0,"data-sv-drop-target-matrix-row":d.row.row&&d.row.row.id,onPointerdown:f[0]||(f[0]=h=>d.question.onPointerDown(h,d.row.row)),class:O(d.row.className),ref_key:"root",ref:a},[(x(!0),R(Te,null,Je(d.row.cells,(h,g)=>(x(),$(D,{is:"survey-matrixdropdown-cell",cell:h,question:d.question,key:d.row.id+"_"+g},null,8,["cell","question"]))),128))],42,pI)):k("",!0)}}),hI=["name","value","readonly","disabled","id","aria-required","aria-label","aria-invalid","aria-errormessage"],gI=["xlink:href"],yI=G({inheritAttrs:!1,__name:"MatrixCell",props:{question:{},row:{},column:{},columnIndex:{}},setup(l){return(s,a)=>(x(),R("label",{onMousedown:a[1]||(a[1]=u=>s.question.onMouseDown()),class:O(s.question.getItemClass(s.row,s.column))},[yt(F("input",{type:"radio",class:O(s.question.cssClasses.itemValue),name:s.row.fullName,"onUpdate:modelValue":a[0]||(a[0]=u=>s.row.value=u),value:s.column.value,readonly:s.row.isReadOnlyAttr,disabled:s.row.isDisabledAttr,id:s.question.inputId+"_"+s.row.name+"_"+s.columnIndex,"aria-required":s.question.a11y_input_ariaRequired,"aria-label":s.question.getCellAriaLabel(s.row.locText.renderedHtml,s.column.locText.renderedHtml),"aria-invalid":s.question.a11y_input_ariaInvalid,"aria-errormessage":s.question.a11y_input_ariaErrormessage},null,10,hI),[[ba,s.row.value]]),F("span",{class:O(s.question.cssClasses.materialDecorator)},[s.question.itemSvgIcon?(x(),R("svg",{key:0,class:O(s.question.cssClasses.itemDecorator)},[F("use",{"xlink:href":s.question.itemSvgIcon},null,8,gI)],2)):k("",!0)],2),s.question.isMobile?(x(),R("span",{key:0,class:O(s.question.cssClasses.cellResponsiveTitle)},[W(D,{is:"survey-string",locString:s.column.locText},null,8,["locString"])],2)):k("",!0)],34))}}),mI=G({inheritAttrs:!1,__name:"MatrixDropdown",props:{question:{}},setup(l){const s=l,a=_e(null);return Vt(s,a),(u,d)=>(x(),$(D,{is:"survey-matrixtable",question:u.question,ref_key:"root",ref:a},null,8,["question"]))}}),vI={key:0},bI={key:1},CI=G({__name:"MatrixTable",props:{question:{}},setup(l){const s=l,a=Ve(()=>s.question.renderedTable);return Ke(()=>a.value),(u,d)=>(x(),R("div",{style:De({overflowX:u.question.showHorizontalScroll?"scroll":""}),class:O(u.question.cssClasses.tableWrapper)},[F("table",{class:O(u.question.getTableCss())},[a.value.showHeader?(x(),R("thead",vI,[F("tr",null,[(x(!0),R(Te,null,Je(a.value.headerRow.cells,f=>(x(),R(Te,null,[f.hasTitle?(x(),R("th",{key:"header_"+f.id,class:O(f.className),style:De({minWidth:f.minWidth,width:f.width})},[W(D,{is:u.question.getColumnHeaderWrapperComponentName(f),componentData:u.question.getColumnHeaderWrapperComponentData(f)},{default:Gt(()=>[W(D,{is:"survey-string",locString:f.locTitle},null,8,["locString"]),f.column?(x(),$(D,{key:0,is:"survey-matrixheaderrequired",column:f.column,question:u.question},null,8,["column","question"])):k("",!0)]),_:2},1032,["is","componentData"])],6)):k("",!0),f.hasTitle?k("",!0):(x(),R("td",{class:O(f.className),key:"header_"+f.id,style:De({minWidth:f.minWidth,width:f.width})},null,6))],64))),256))])])):k("",!0),F("tbody",null,[(x(!0),R(Te,null,Je(a.value.renderedRows,f=>(x(),$(D,{key:u.question.inputId+"_"+f.id,is:"survey-matrix-row",row:f,question:u.question},null,8,["row","question"]))),128))]),a.value.showFooter?(x(),R("tfoot",bI,[F("tr",null,[(x(!0),R(Te,null,Je(a.value.footerRow.cells,(f,h)=>(x(),$(D,{is:"survey-matrixdropdown-cell",cell:f,question:u.question,key:"footer_"+h},null,8,["cell","question"]))),128))])])):k("",!0)],2)],6))}}),wI=F("span",null," ",-1),PI=G({__name:"MatrixHeaderRequired",props:{question:{},column:{}},setup(l){const s=l;return Ke(()=>s.column),(a,u)=>a.column.isRenderedRequired?(x(),R(Te,{key:0},[wI,a.column.isRenderedRequired?(x(),R("span",{key:0,class:O(a.question.cssClasses.cellRequiredText)},je(a.column.requiredText),3)):k("",!0)],64)):k("",!0)}}),xI=["title","colspan"],VI=G({__name:"MatrixDropdownCellComp",props:{question:{},cell:{}},setup(l){const s=l,a=_e(!1),u=_e(),d=()=>s.cell.width||s.cell.minWidth?{width:s.cell.width,minWidth:s.cell.minWidth}:null,f=()=>{!s.cell.hasQuestion||!s.question||!s.question.survey||(a.value=s.cell.question.isVisible)},h=v=>Bc(v);f(),_t(()=>{if(!s.cell.hasQuestion||!s.question||!s.question.survey)return;s.cell.question.registerPropertyChangedHandlers(["isVisible"],()=>{f()});const v=u.value,C=s.cell.question,T={cell:s.cell.cell,cellQuestion:C,htmlElement:v,row:s.cell.row,column:s.cell.cell.column};s.question.survey.matrixAfterCellRender(s.question,T),C&&C.afterRenderCore(v)});const g=Ve(()=>{const v=s.cell;if(v.hasPanel){const C=v.panel,T=C.survey;if(T){const I=T.getElementWrapperComponentName(C);if(I)return I}return"survey-panel"}}),m=Ve(()=>{if(s.cell.hasPanel){const v=s.cell.panel,C=v.survey;let T;return C&&(T=C.getElementWrapperComponentData(v)),{componentName:"survey-panel",componentData:{element:v,data:T,css:s.question.cssClasses}}}});return(v,C)=>v.cell.isVisible?(x(),R("td",{key:0,class:O(v.cell.className),title:v.cell.getTitle(),style:De(d()),colspan:v.cell.colSpans,onFocusin:C[0]||(C[0]=T=>v.cell.focusIn()),ref_key:"root",ref:u},[v.cell.isErrorsCell?(x(),$(D,{key:0,is:"survey-errors",element:v.cell.question},null,8,["element"])):k("",!0),v.cell.isDragHandlerCell?(x(),$(D,{key:1,is:"sv-matrix-drag-drop-icon",item:{data:{row:v.cell.row,question:v.question}}},null,8,["item"])):k("",!0),v.cell.isActionsCell?(x(),$(D,{key:2,is:"sv-action-bar",model:v.cell.item.getData(),handleClick:!1},null,8,["model"])):k("",!0),v.cell.hasPanel?(x(),$(D,kt({key:3,is:g.value},m.value),null,16,["is"])):k("",!0),v.cell.showResponsiveTitle?(x(),R("span",{key:4,class:O(v.cell.responsiveTitleCss)},[W(D,{is:"survey-string",locString:v.cell.responsiveLocTitle},null,8,["locString"])],2)):k("",!0),v.cell.hasQuestion?yt((x(),R("div",{key:5,class:O(v.cell.cellQuestionWrapperClassName)},[!v.cell.isChoice&&v.cell.question.isDefaultRendering()?(x(),$(D,{key:0,is:v.question.getCellWrapperComponentName(v.cell.cell),componentData:v.question.getCellWrapperComponentData(v.cell.cell)},{default:Gt(()=>[W(D,{is:h(v.cell.question),question:v.cell.question},null,8,["is","question"])]),_:1},8,["is","componentData"])):k("",!0),!v.cell.isChoice&&!v.cell.question.isDefaultRendering()?(x(),$(D,{key:1,is:v.cell.question.getComponentName(),question:v.cell.question},null,8,["is","question"])):k("",!0),v.cell.isItemChoice?(x(),$(D,{key:2,is:v.question.getCellWrapperComponentName(v.cell.cell),componentData:v.question.getCellWrapperComponentData(v.cell.cell)},{default:Gt(()=>[v.cell.isRadio?(x(),$(D,{is:"survey-radiogroup-item",key:v.cell.item.value,question:v.cell.question,item:v.cell.item,hideLabel:!0},null,8,["question","item"])):k("",!0),v.cell.isCheckbox?(x(),$(D,{is:"survey-checkbox-item",key:v.cell.item.value,question:v.cell.question,item:v.cell.item,hideLabel:!0},null,8,["question","item"])):k("",!0)]),_:1},8,["is","componentData"])):k("",!0),v.cell.isOtherChoice?(x(),$(D,{key:3,is:"survey-other-choice",question:v.cell.question},null,8,["question"])):k("",!0)],2)),[[nn,a.value]]):k("",!0),v.cell.hasTitle?(x(),$(D,{key:6,is:v.question.getCellWrapperComponentName(v.cell),componentData:v.question.getCellWrapperComponentData(v.cell)},{default:Gt(()=>[v.cell.hasTitle?(x(),$(D,{key:0,is:"survey-string",locString:v.cell.locTitle},null,8,["locString"])):k("",!0),v.cell.requiredText?(x(),R("span",{key:1,class:O(v.question.cssClasses.cellRequiredText)},je(v.cell.requiredText),3)):k("",!0)]),_:1},8,["is","componentData"])):k("",!0)],46,xI)):k("",!0)}}),SI=G({inheritAttrs:!1,__name:"MatrixDynamic",props:{question:{}},setup(l){const s=l,a=_e(null);Vt(s,a);const u=()=>{s.question.addRowUI()};return(d,f)=>(x(),R("div",{ref_key:"root",ref:a},[d.question.renderedTable.showAddRowOnTop?(x(),R("div",{key:0,class:O(d.question.cssClasses.footer)},[F("button",{type:"button",class:O(d.question.getAddRowButtonCss()),onClick:u},[W(D,{is:"survey-string",locString:d.question.locAddRowText},null,8,["locString"]),F("span",{class:O(d.question.cssClasses.iconAdd)},null,2)],2)],2)):k("",!0),d.question.renderedTable.showTable?(x(),$(D,{key:1,is:"survey-matrixtable",question:d.question},null,8,["question"])):k("",!0),d.question.renderedTable.showTable?k("",!0):(x(),R("div",{key:2,class:O(d.question.cssClasses.emptyRowsSection)},[F("div",{class:O(d.question.cssClasses.emptyRowsText)},[W(D,{is:"survey-string",locString:d.question.locEmptyRowsText},null,8,["locString"])],2),d.question.renderedTable.showAddRow?(x(),R("button",{key:0,type:"button",class:O(d.question.getAddRowButtonCss(!0)),onClick:u},[W(D,{is:"survey-string",locString:d.question.locAddRowText},null,8,["locString"]),F("span",{class:O(d.question.cssClasses.iconAdd)},null,2)],2)):k("",!0)],2)),d.question.renderedTable.showAddRowOnBottom?(x(),R("div",{key:3,class:O(d.question.cssClasses.footer)},[F("button",{type:"button",class:O(d.question.getAddRowButtonCss()),onClick:u},[W(D,{is:"survey-string",locString:d.question.locAddRowText},null,8,["locString"]),F("span",{class:O(d.question.cssClasses.iconAdd)},null,2)],2)],2)):k("",!0)],512))}});function Hc(l,s=!0){return{question:Ve(()=>l.item.data.question),row:s?Ve(()=>l.item.data.row):void 0}}const TI=["disabled"],OI=G({__name:"RemoveButton",props:{item:{}},setup(l){const s=l,{question:a,row:u}=Hc(s);return(d,f)=>(x(),R("button",{type:"button",class:O(le(a).getRemoveRowButtonCss()),disabled:le(a).isInputReadOnly,onClick:f[0]||(f[0]=()=>le(a).removeRowUI(le(u)))},[W(D,{is:"survey-string",locString:le(a).locRemoveRowText},null,8,["locString"]),F("span",{class:O(le(a).cssClasses.iconRemove)},null,2)],10,TI))}}),RI=["xlink:href"],II=G({__name:"DragDropIcon",props:{item:{}},setup(l){const s=l,{question:a}=Hc(s,!1);return(u,d)=>(x(),R("div",null,[le(a).iconDragElement?(x(),R("svg",{key:0,class:O(le(a).cssClasses.dragElementDecorator)},[F("use",{"xlink:href":le(a).iconDragElement},null,8,RI)],2)):(x(),R("span",{key:1,class:O(le(a).cssClasses.iconDrag)},null,2))]))}}),EI=["aria-expanded","aria-controls"],_I=G({__name:"DetailButton",props:{item:{}},setup(l){const s=l,{question:a,row:u}=Hc(s);return(d,f)=>(x(),R("button",{type:"button",class:O(le(a).getDetailPanelButtonCss(le(u))),onClick:f[0]||(f[0]=()=>le(u).showHideDetailPanelClick()),"aria-expanded":le(a).getIsDetailPanelShowing(le(u))?"true":"false","aria-controls":le(a).getIsDetailPanelShowing(le(u))?le(u).detailPanelId:null},[W(D,{is:"sv-svg-icon",class:O(le(a).getDetailPanelIconCss(le(u))),iconName:le(a).getDetailPanelIconId(le(u)),size:"auto"},null,8,["class","iconName"])],10,EI))}}),AI=G({inheritAttrs:!1,__name:"PanelDynamic",props:{question:{},css:{}},setup(l){const s=l,a=_e(null),u=ma();Vt(s,a,g=>{g.panelCountChangedCallback=()=>{var m;(m=u==null?void 0:u.proxy)==null||m.$forceUpdate()},g.currentIndexChangedCallback=()=>{var m;(m=u==null?void 0:u.proxy)==null||m.$forceUpdate()},g.renderModeChangedCallback=()=>{var m;(m=u==null?void 0:u.proxy)==null||m.$forceUpdate()}},g=>{g.panelCountChangedCallback=()=>{},g.currentIndexChangedCallback=()=>{},g.renderModeChangedCallback=()=>{}});const d=()=>s.question.showLegacyNavigation,f=g=>{const m=s.question.getSurvey();if(m){const v=m.getElementWrapperComponentName(g);if(v)return v}return"panel"},h=g=>{const m=s.question.getSurvey();let v;return m&&(v=m.getElementWrapperComponentData(g)),{componentName:"survey-panel",componentData:{element:g,data:v}}};return(g,m)=>(x(),R("div",{class:O(g.question.cssClasses.root),ref_key:"root",ref:a},[g.question.getShowNoEntriesPlaceholder()?(x(),R("div",{key:0,class:O(g.question.cssClasses.noEntriesPlaceholder)},[F("span",null,[W(D,{is:"survey-string",locString:g.question.locNoEntriesText},null,8,["locString"])]),W(D,{is:"sv-paneldynamic-add-btn",data:{question:g.question}},null,8,["data"])],2)):k("",!0),!d()&&g.question.isProgressTopShowing&&g.question.isRangeShowing?(x(),R("div",{key:1,class:O(g.question.cssClasses.progress)},[F("div",{class:O(g.question.cssClasses.progressBar),style:De({width:g.question.progress}),role:"progressbar"},null,6)],2)):k("",!0),d()&&g.question.isProgressTopShowing?(x(),$(D,{key:2,is:"survey-paneldynamicprogress",question:g.question},null,8,["question"])):k("",!0),F("div",{class:O(g.question.cssClasses.panelsContainer)},[(x(!0),R(Te,null,Je(g.question.renderedPanels,(v,C)=>(x(),R(Te,{key:v.id},[F("div",{class:O(g.question.getPanelWrapperCss(v))},[W(D,kt({is:f(v)},h(v)),null,16,["is"]),g.question.panelRemoveButtonLocation==="right"&&g.question.canRemovePanel&&v.state!=="collapsed"?(x(),$(D,{key:0,is:"sv-paneldynamic-remove-btn",data:{question:g.question,panel:v}},null,8,["data"])):k("",!0)],2),g.question.isRenderModeList&&C<g.question.visiblePanelCount-1?(x(),R("hr",{class:O(g.question.cssClasses.separator),key:"separator"+v.id},null,2)):k("",!0)],64))),128))],2),d()&&g.question.isProgressBottomShowing?(x(),$(D,{key:3,is:"survey-paneldynamicprogress",question:g.question},null,8,["question"])):k("",!0),d()&&g.question.isRenderModeList?(x(),$(D,{key:4,is:"sv-paneldynamic-add-btn",data:{question:g.question}},null,8,["data"])):k("",!0),g.question.showNavigation?(x(),$(D,{key:5,is:"survey-paneldynamicprogress-v2",question:g.question},null,8,["question"])):k("",!0)],2))}}),DI=G({__name:"PanelDynamicProgress",props:{question:{}},setup(l){const s=l,a=()=>s.question.isProgressTopShowing?s.question.cssClasses.progressTop:s.question.cssClasses.progressBottom;return(u,d)=>(x(),R("div",{class:O(a())},[F("div",{style:{clear:"both"},class:O(a())},[F("div",{class:O(u.question.cssClasses.progressContainer)},[W(D,{is:"sv-paneldynamic-prev-btn",data:{question:u.question}},null,8,["data"]),u.question.isRangeShowing?(x(),R("div",{key:0,class:O(u.question.cssClasses.progress)},[F("div",{class:O(u.question.cssClasses.progressBar),style:De({width:u.question.progress}),role:"progressbar"},null,6)],2)):k("",!0),W(D,{is:"sv-paneldynamic-next-btn",data:{question:u.question}},null,8,["data"])],2),W(D,{is:"sv-paneldynamic-add-btn",data:{question:u.question}},null,8,["data"]),W(D,{is:"sv-paneldynamic-progress-text",data:{question:u.question}},null,8,["data"])],2)],2))}}),LI=G({__name:"PanelDynamicProgressV2",props:{question:{}},setup(l){return(s,a)=>s.question.cssClasses.footer?(x(),R("div",{key:0,class:O(s.question.cssClasses.footer)},[F("hr",{class:O(s.question.cssClasses.separator)},null,2),s.question.isRangeShowing&&s.question.isProgressBottomShowing?(x(),R("div",{key:0,class:O(s.question.cssClasses.progress)},[F("div",{class:O(s.question.cssClasses.progressBar),style:De({width:s.question.progress}),role:"progressbar"},null,6)],2)):k("",!0),s.question.footerToolbar.visibleActions.length?(x(),R("div",{key:1,class:O(s.question.cssClasses.footerButtonsContainer)},[W(D,{is:"sv-action-bar",model:s.question.footerToolbar},null,8,["model"])],2)):k("",!0)],2)):k("",!0)}});function Zo(l){return Ve(()=>l.item&&l.item.data.question||l.data.question)}const kI=["id"],MI=G({__name:"PaneldynamicAddBtn",props:{item:{},data:{}},setup(l){const s=Zo(l),a=()=>{s.value.addPanelUI()};return(u,d)=>le(s).canAddPanel?(x(),R("button",{key:0,type:"button",id:le(s).addButtonId,class:O(le(s).getAddButtonCss()),onClick:a},[F("span",{class:O(le(s).cssClasses.buttonAddText)},[W(D,{is:"survey-string",locString:le(s).locPanelAddText},null,8,["locString"])],2)],10,kI)):k("",!0)}}),qI=["title"],jI=G({__name:"PaneldynamicNextBtn",props:{item:{},data:{}},setup(l){const s=Zo(l),a=()=>{s.value.goToNextPanel()};return(u,d)=>(x(),R("div",{title:le(s).panelNextText,onClick:a,class:O(le(s).getNextButtonCss())},[W(D,{is:"sv-svg-icon",iconName:le(s).cssClasses.progressBtnIcon,size:"auto"},null,8,["iconName"])],10,qI))}}),NI=["title"],FI=G({__name:"PaneldynamicPrevBtn",props:{item:{},data:{}},setup(l){const s=Zo(l),a=()=>{s.value.goToPrevPanel()};return(u,d)=>(x(),R("div",{title:le(s).panelPrevText,onClick:a,class:O(le(s).getPrevButtonCss())},[W(D,{is:"sv-svg-icon",iconName:le(s).cssClasses.progressBtnIcon,size:"auto"},null,8,["iconName"])],10,NI))}}),BI=["id"],HI=G({__name:"PaneldynamicRemoveBtn",props:{item:{},data:{}},setup(l){const s=l,a=Zo(s),u=Ve(()=>s.item&&s.item.data.panel||s.data.panel),d=h=>a.value.getPanelRemoveButtonId(h),f=h=>{a.value.isInputReadOnly||a.value.removePanelUI(h)};return(h,g)=>(x(),R("button",{type:"button",id:d(u.value),class:O(le(a).getPanelRemoveButtonCss()),onClick:g[0]||(g[0]=m=>f(u.value))},[F("span",{class:O(le(a).cssClasses.buttonRemoveText)},[W(D,{is:"survey-string",locString:le(a).locPanelRemoveText},null,8,["locString"])],2),F("span",{class:O(le(a).cssClasses.iconRemove)},null,2)],10,BI))}}),QI=G({__name:"PaneldynamicProgressText",props:{item:{},data:{}},setup(l){const s=Zo(l);return(a,u)=>(x(),R("div",{class:O(le(s).cssClasses.progressText)},je(le(s).progressText),3))}}),zI=["id"],UI=G({__name:"Errors",props:{element:{},location:{}},setup(l){const s=_e();return(a,u)=>a.element.hasVisibleErrors?(x(),R("div",{key:0,role:"alert","aria-live":"polite",class:O(a.element.cssError),id:a.element.id+"_errors",ref_key:"root",ref:s},[(x(!0),R(Te,null,Je(a.element.errors,(d,f)=>(x(),$(D,{is:a.element.survey.questionErrorComponent,element:a.element,key:"error_"+f,errorKey:"error_"+f,error:d,cssClasses:a.element.cssClasses},null,8,["is","element","errorKey","error","cssClasses"]))),128))],10,zI)):k("",!0)}}),WI={key:0},$I=G({__name:"QuestionComment",props:{question:{}},setup(l){return(s,a)=>s.question.isReadOnlyRenderDiv()?(x(),R("div",WI,je(s.question.comment),1)):(x(),$(D,{key:1,is:"sv-text-area",model:s.question.commentTextAreaModel},null,8,["model"]))}}),JI=G({__name:"TitleElement",props:{element:{},css:{}},setup(l){const s=a=>{ct.doKey2ClickUp(a)};return(a,u)=>a.element.hasTitle?(x(),$(Zg(a.element.titleTagName),{key:0,class:O(a.element.cssTitle),"aria-label":a.element.titleAriaLabel,id:a.element.ariaTitleId,tabindex:a.element.titleTabIndex,"aria-expanded":a.element.titleAriaExpanded,role:a.element.titleAriaRole,onKeyup:u[0]||(u[0]=d=>{s(d)})},{default:Gt(()=>[a.element.hasTitleActions?k("",!0):(x(),$(D,{key:0,is:"survey-element-title-content",element:a.element,css:a.css},null,8,["element","css"])),a.element.hasTitleActions?(x(),$(D,{key:1,is:"sv-title-actions",element:a.element,css:a.css},null,8,["element","css"])):k("",!0)]),_:1},40,["class","aria-label","id","tabindex","aria-expanded","role"])):k("",!0)}}),GI={key:3},KI={key:5},ZI={key:7},YI=G({inheritAttrs:!1,__name:"TitleContent",props:{element:{},css:{}},setup(l){const s=l;return Ve(()=>(s.element.isPanel?s.element.cssClasses.panel:s.element.cssClasses)||{}),(a,u)=>(x(),R(Te,null,[a.element.isTitleRenderedAsString?(x(),$(D,{key:0,is:"survey-string",locString:a.element.locTitle},null,8,["locString"])):k("",!0),!a.element.isTitleRenderedAsString&&a.element.isRequireTextOnStart?(x(),R("span",{key:1,class:O(a.element.cssRequiredText),"aria-hidden":!0},je(a.element.requiredText),3)):k("",!0),!a.element.isTitleRenderedAsString&&a.element.no?(x(),R("span",{key:2,style:{position:"static"},class:O(a.element.cssTitleNumber),"aria-hidden":!0},je(a.element.no),3)):k("",!0),!a.element.isTitleRenderedAsString&&a.element.no?(x(),R("span",GI," ")):k("",!0),!a.element.isTitleRenderedAsString&&a.element.isRequireTextBeforeTitle?(x(),R("span",{key:4,class:O(a.element.cssRequiredText),"aria-hidden":!0},je(a.element.requiredText),3)):k("",!0),!a.element.isTitleRenderedAsString&&a.element.isRequireTextBeforeTitle?(x(),R("span",KI," ")):k("",!0),a.element.isTitleRenderedAsString?k("",!0):(x(),$(D,{key:6,is:"survey-string",locString:a.element.locTitle},null,8,["locString"])),!a.element.isTitleRenderedAsString&&a.element.isRequireTextAfterTitle?(x(),R("span",ZI," ")):k("",!0),!a.element.isTitleRenderedAsString&&a.element.isRequireTextAfterTitle?(x(),R("span",{key:8,class:O(a.element.cssRequiredText),"aria-hidden":!0},je(a.element.requiredText),3)):k("",!0)],64))}}),XI={class:"sv-title-actions"},eE={class:"sv-title-actions__title"},tE=G({__name:"TitleActions",props:{element:{},css:{}},setup(l){const s=l,a=Ve(()=>s.element.getTitleToolbar());return(u,d)=>(x(),R("div",XI,[F("span",eE,[u.element.isPage?(x(),$(D,{key:0,is:"survey-string",locString:u.element.locTitle},null,8,["locString"])):k("",!0),u.element.isPage?k("",!0):(x(),$(D,{key:1,is:"survey-element-title-content",element:u.element,css:u.css},null,8,["element","css"]))]),W(D,{is:"sv-action-bar",model:a.value},null,8,["model"])]))}}),nE=(l,s)=>{const a=l.__vccOpts||l;for(const[u,d]of s)a[u]=d;return a},rE={},iE={class:"sv-brand-info"},oE=kx('<a class="sv-brand-info__logo" href="https://surveyjs.io/?utm_source=built-in_links&amp;utm_medium=online_survey_tool&amp;utm_campaign=landing_page"><img src="https://surveyjs.io/Content/Images/poweredby.svg"></a><div class="sv-brand-info__text"> Try and see how easy it is to <a href="https://surveyjs.io/create-survey?utm_source=built-in_links&amp;utm_medium=online_survey_tool&amp;utm_campaign=create_survey">create a survey</a></div><div class="sv-brand-info__terms"><a href="https://surveyjs.io/TermsOfUse">Terms of Use &amp; Privacy Statement</a></div>',3),sE=[oE];function aE(l,s){return x(),R("div",iE,sE)}const lE=nE(rE,[["render",aE]]),uE=F("use",null,null,-1),cE=[uE],dE=G({__name:"SvgIcon",props:{size:{},width:{},height:{},iconName:{},title:{}},setup(l){const s=l,a=_e(),u=()=>{ct.createSvg(s.size,s.width,s.height,s.iconName,a.value,s.title)};return Jo(()=>{u()}),_t(()=>{u()}),(d,f)=>(x(),R("svg",{ref_key:"svgIconElement",ref:a,class:"sv-svg-icon",role:"img"},cE,512))}}),pE=G({__name:"QuestionError",props:{errorKey:{},error:{},cssClasses:{},element:{}},setup(l){return(s,a)=>(x(),R("div",{key:s.errorKey},[F("span",{class:O(s.cssClasses?s.cssClasses.error.icon||void 0:"panel-error-icon"),"aria-hidden":"true"},null,2),F("span",{class:O(s.cssClasses?s.cssClasses.error.item||void 0:"panel-error-item")},[W(D,{is:"survey-string",locString:s.error.locText},null,8,["locString"])],2)]))}}),fE=G({__name:"ActionBar",props:{model:{},container:{},handleClick:{type:Boolean,default:!0}},setup(l){const s=l,a=_e(null),u=f=>{s.handleClick&&f.stopPropagation()};Ke(()=>s.model);const d=Ia(()=>s.model.renderedActions);return _t(()=>{!s.model.hasActions||s.model.initResponsivityManager(a.value)}),Tn(()=>{s.model.resetResponsivityManager()}),(f,h)=>f.model.hasActions?(x(),R("div",{key:0,ref_key:"root",ref:a,class:O(f.model.getRootCss()),onClick:u},[(x(!0),R(Te,null,Je(le(d),g=>(x(),$(D,{is:"sv-action",key:g.id,item:g},null,8,["item"]))),128))],2)):k("",!0)}}),hE=["id"],gE={class:"sv-action__content"},yE=G({__name:"Action",props:{item:{}},setup(l){const s=l,a=Ve(()=>s.item.component||"sv-action-bar-item");return Ke(()=>s.item),(u,d)=>(x(),R("div",{class:O(u.item.getActionRootCss()),id:u.item.id},[F("div",gE,[u.item.needSeparator?(x(),$(D,{key:0,is:"sv-action-bar-separator"})):k("",!0),W(D,{is:a.value,item:u.item},null,8,["is","item"])])],10,hE))}}),Yo={mounted:function(l,s){const a={...s.value};if(a.disableTabStop){l.tabIndex=-1;return}a.disableTabStop||(l.tabIndex=0),l.addEventListener("keyup",u=>(u.preventDefault(),u.stopPropagation(),ct.doKey2ClickUp(u,a),!1)),l.addEventListener("keydown",u=>{ct.doKey2ClickDown(u,a)}),l.addEventListener("blur",u=>{ct.doKey2ClickBlur(u)})}},mE=["disabled","title","aria-checked","aria-expanded","role"],vE={inheritAttrs:!1},bE=G({...vE,__name:"ActionBarItem",props:{item:{}},setup(l){const s=l;return Ke(()=>s.item),(a,u)=>yt((x(),R("button",{class:O(a.item.getActionBarItemCss()),type:"button",onClick:u[0]||(u[0]=d=>{a.item.doAction(d)}),onKeyup:u[1]||(u[1]=d=>{d.stopPropagation()}),onMousedown:u[2]||(u[2]=d=>{a.item.doMouseDown(d)}),onFocus:u[3]||(u[3]=d=>{a.item.doFocus(d)}),disabled:a.item.disabled,title:a.item.tooltip||a.item.title,"aria-checked":a.item.ariaChecked,"aria-expanded":a.item.ariaExpanded,role:a.item.ariaRole},[a.item.iconName?(x(),$(D,{key:0,is:"sv-svg-icon",class:O(a.item.cssClasses.itemIcon),iconName:a.item.iconName,size:a.item.iconSize,title:a.item.tooltip||a.item.title},null,8,["class","iconName","size","title"])):k("",!0),a.item.hasTitle?(x(),R("span",{key:1,class:O(a.item.getActionBarItemTitleCss())},je(a.item.title),3)):k("",!0)],42,mE)),[[le(Yo),{processEsc:!1,disableTabStop:a.item.disableTabStop}]])}}),CE=["disabled","title","role"],wE={inheritAttrs:!1},PE=G({...wE,__name:"ActionBarItemDropdown",props:{item:{}},setup(l){const s=l,a=ct.getActionDropdownButtonTarget;let u;return Ke(()=>s.item,d=>{u=new ct.ActionDropdownViewModel(d)},()=>{u.dispose()}),(d,f)=>(x(),R(Te,null,[yt((x(),R("button",{type:"button",class:O(d.item.getActionBarItemCss()),onClick:f[0]||(f[0]=h=>{d.item.action(d.item,!!h.pointerType)}),onKeyup:f[1]||(f[1]=h=>{h.stopPropagation()}),disabled:d.item.disabled,title:d.item.tooltip||d.item.title,role:d.item.ariaRole},[d.item.iconName?(x(),$(D,{key:0,is:"sv-svg-icon",class:O(d.item.cssClasses.itemIcon),iconName:d.item.iconName,size:d.item.iconSize,title:d.item.tooltip||d.item.title},null,8,["class","iconName","size","title"])):k("",!0),d.item.hasTitle?(x(),R("span",{key:1,class:O(d.item.getActionBarItemTitleCss())},je(d.item.title),3)):k("",!0)],42,CE)),[[le(Yo),{processEsc:!1,disableTabStop:d.item.disableTabStop}]]),W(D,{is:"sv-popup",model:d.item.popupModel,getTarget:le(a)},null,8,["model","getTarget"])],64))}}),xE=G({__name:"ActionBarSeparator",props:{item:{}},setup(l){const s=l,a=Ve(()=>s.item&&s.item.innerCss);return(u,d)=>(x(),R("div",{class:O(["sv-action-bar-separator",a.value])},null,2))}}),VE=["aria-label","placeholder","value"],SE=["aria-label"],TE=["id"],OE=G({__name:"List",props:{model:{}},setup(l){const s=l,a=_e(null),u=g=>{const m=s.model;m.filterString=g.target.value},d=g=>{const m=s.model;m.filterString=g.target.value,s.model.goToItems(g)},f=g=>{s.model.onMouseMove(g)},h=Ia(()=>s.model.renderedActions);return Ke(()=>s.model),_t(()=>{s.model.initListContainerHtmlElement(a.value)}),(g,m)=>(x(),R("div",{class:O(g.model.cssClasses.root),ref_key:"listContainerElement",ref:a},[g.model.showFilter?(x(),R("div",{key:0,class:O(g.model.cssClasses.filter)},[F("div",{class:O(g.model.cssClasses.filterIcon)},[W(D,{is:"sv-svg-icon",iconName:"icon-search",size:"auto"})],2),F("input",{type:"text",class:O(g.model.cssClasses.filterInput),"aria-label":g.model.filterStringPlaceholder,placeholder:g.model.filterStringPlaceholder,value:g.model.filterString,onChange:u,onKeyup:d},null,42,VE),g.model.showSearchClearButton&&g.model.filterString?(x(),R("button",{key:0,onClick:m[0]||(m[0]=v=>{g.model.onClickSearchClearButton(v)}),class:O(g.model.cssClasses.searchClearButtonIcon)},[W(D,{is:"sv-svg-icon",iconName:"icon-searchclear",size:"auto"})],2)):k("",!0)],2)):k("",!0),yt(F("div",{class:O(g.model.cssClasses.emptyContainer)},[F("div",{class:O(g.model.cssClasses.emptyText),"aria-label":g.model.emptyMessage},je(g.model.emptyMessage),11,SE)],2),[[nn,g.model.isEmpty]]),g.model.renderElements?yt((x(),R("ul",{key:1,class:O(g.model.getListClass()),role:"listbox",id:g.model.elementId,onMousedown:m[1]||(m[1]=v=>{v.preventDefault()}),onMousemove:f,onKeydown:m[2]||(m[2]=v=>{g.model.onKeyDown(v)})},[(x(!0),R(Te,null,Je(le(h),v=>(x(),$(D,{is:"sv-list-item",item:v,model:g.model,key:v.id},null,8,["item","model"]))),128))],42,TE)),[[nn,!g.model.isEmpty]]):k("",!0)],2))}}),RE=["aria-selected","id","tabindex"],IE=["title"],EE=G({__name:"ListItem",props:{model:{},item:{}},setup(l){const s=l,a=Ve(()=>s.item.elementId),u=f=>{s.model.onItemClick(s.item),f.stopPropagation()};Ke(()=>s.item);const d=Ve(()=>s.item.component||s.model.itemComponent);return _t(()=>{setTimeout(()=>{s.model.onLastItemRended(s.item)})}),(f,h)=>yt((x(),R("li",{role:"option","aria-selected":f.model.isItemSelected(f.item),key:f.item.id,id:a.value,onPointerdown:h[2]||(h[2]=g=>f.model.onPointerDown(g,f.item)),class:O(f.model.getItemClass(f.item)),onClick:u,tabindex:f.item.disableTabStop?-1:0},[f.item.needSeparator?(x(),R("div",{key:0,class:O(f.model.cssClasses.itemSeparator)},null,2)):k("",!0),F("div",{style:De({paddingInlineStart:f.model.getItemIndent(f.item)}),class:O(f.model.cssClasses.itemBody),title:f.item.locTitle.calculatedText,onMouseover:h[0]||(h[0]=g=>f.model.onItemHover(f.item)),onMouseleave:h[1]||(h[1]=g=>f.model.onItemLeave(f.item))},[W(D,{is:d.value,item:f.item,model:f.model},null,8,["is","item","model"])],46,IE)],42,RE)),[[nn,f.model.isItemVisible(f.item)],[le(Yo),{processEsc:!1,disableTabStop:f.item.disableTabStop}]])}}),_E=G({__name:"ListItemContent",props:{model:{},item:{}},setup(l){const s=l;return Ke(()=>s.item),(a,u)=>(x(),R(Te,null,[a.item.iconName?(x(),$(D,{key:0,is:"sv-svg-icon",class:O(a.model.cssClasses.itemIcon),iconName:a.item.iconName,size:a.item.iconSize},null,8,["class","iconName","size"])):k("",!0),W(D,{is:"survey-string",locString:a.item.locTitle},null,8,["locString"]),a.item.markerIconName?(x(),$(D,{key:1,is:"sv-svg-icon",class:O(a.item.cssClasses.itemMarkerIcon),iconName:a.item.markerIconName,size:a.item.markerIconSize},null,8,["class","iconName","size"])):k("",!0)],64))}}),AE=G({__name:"ListItemGroup",props:{model:{},item:{}},setup(l){const s=l;return Ke(()=>s.item),(a,u)=>(x(),R(Te,null,[W(D,{is:"sv-list-item-content",item:a.item,model:a.model},null,8,["item","model"]),W(D,{is:"sv-popup",model:a.item.popupModel},null,8,["model"])],64))}}),DE=G({__name:"Popup",props:{getTarget:{type:Function},getArea:{type:Function},model:{}},setup(l){const s=l,a=Dr(),u=_e(null),d=()=>{const f=u.value;f&&a.value.setComponentElement(f,s.getTarget?s.getTarget(f):void 0,s.getArea?s.getArea(f):void 0)};return xn(()=>s.model,f=>{a.value&&a.value.dispose(),a.value=ct.createPopupViewModel(f,void 0),d()},{immediate:!0}),Ke(()=>a.value),_t(()=>{d()}),Tn(()=>{a.value.dispose()}),(f,h)=>(x(),R("div",{ref_key:"root",ref:u},[W(D,{is:"sv-popup-container",model:a.value},null,8,["model"])],512))}}),LE={class:"sv-popup__body-content"},kE={key:0,class:"sv-popup__body-header"},ME={class:"sv-popup__scrolling-content"},qE={class:"sv-popup__content"},jE={key:1,class:"sv-popup__body-footer"},NE=G({__name:"PopupContainer",props:{model:{}},setup(l){const s=l,a=u=>{u.stopPropagation()};return Ke(()=>s.model),Jo(()=>{const u=s.model;u.isVisible&&!u.isPositionSet&&s.model.updateOnShowing()}),_t(()=>{s.model.isVisible&&s.model.updateOnShowing()}),(u,d)=>yt((x(),R("div",{tabindex:"-1",class:O(["sv-popup",u.model.styleClass]),onKeydown:d[0]||(d[0]=f=>{u.model.onKeyDown(f)}),onClick:d[1]||(d[1]=f=>{u.model.clickOutside(f)})},[F("div",{class:"sv-popup__container",style:De({left:u.model.left,top:u.model.top,height:u.model.height,width:u.model.width,minWidth:u.model.minWidth}),onClick:a},[u.model.showHeader?(x(),$(D,{key:0,is:u.model.popupHeaderTemplate,model:u.model},null,8,["is","model"])):k("",!0),F("div",LE,[u.model.title?(x(),R("div",kE,je(u.model.title),1)):k("",!0),F("div",ME,[F("div",qE,[W(D,kt({is:u.model.contentComponentName},u.model.contentComponentData),null,16,["is"])])]),u.model.showFooter?(x(),R("div",jE,[W(D,{is:"sv-action-bar",model:u.model.footerToolbar},null,8,["model"])])):k("",!0)])],4)],34)),[[nn,u.model.isVisible]])}}),FE=G({__name:"PopupPointer",props:{model:{}},setup(l){return(s,a)=>(x(),R("span",{class:"sv-popup__pointer",style:De({left:s.model.pointerTarget.left,top:s.model.pointerTarget.top})},null,4))}}),BE=G({__name:"Container",props:{survey:{},container:{},needRenderWrapper:{}},setup(l){const s=l,a=Ve(()=>s.survey.getContainerContent(s.container));return(u,d)=>a.value.length>0?(x(),R(Te,{key:0},[u.needRenderWrapper?(x(),R("div",{key:0,class:O(["sv-components-column","sv-components-container-"+u.container])},[(x(!0),R(Te,null,Je(a.value,f=>(x(),$(D,{key:f.id,is:f.component,survey:u.survey,container:u.container,model:f.data},null,8,["is","survey","container","model"]))),128))],2)):(x(!0),R(Te,{key:1},Je(a.value,f=>(x(),$(D,{key:f.id,is:f.component,survey:u.survey,container:u.container,model:f.data},null,8,["is","survey","container","model"]))),128))],64)):k("",!0)}}),$s=G({__name:"Progress",props:{survey:{},container:{},css:{}},setup(l){const s=l,a=Ve(()=>s.survey.progressValue+"%"),u=f=>ct.SurveyProgressModel.getProgressTextInBarCss(f),d=f=>ct.SurveyProgressModel.getProgressTextUnderBarCss(f);return(f,h)=>(x(),R("div",{class:O(f.survey.getProgressCssClasses(f.container))},[F("div",{class:O(f.survey.css.progressBar),style:De({width:a.value}),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-label":"progress"},[F("span",{class:O(u(f.survey.css))},je(f.survey.progressText),3)],6),F("span",{class:O(d(f.survey.css))},je(f.survey.progressText),3)],2))}}),HE=["title"],QE=["onClick","data-page-number"],zE=["title"],UE=["title"],WE=["title"],$E=G({__name:"ProgressButtons",props:{survey:{},model:{},container:{}},setup(l){const s=l,a=_e(!1),u=_e(!1),d=_e(!1),f=_e(!0),h=_e(),g=Ve(()=>s.survey.css);let m=null;const v=C=>{let T=h.value;T.scrollLeft+=(C?-1:1)*70};return _t(()=>{const C=h.value;m=new ct.ProgressButtonsResponsivityManager(s.model,C,{onResize:T=>{f.value=T,u.value=!T},onUpdateScroller:T=>{a.value=T},onUpdateSettings:()=>{f.value=s.model.showItemTitles,d.value=!s.model.showItemTitles},container:Ve(()=>s.container)})}),qr(()=>{m.dispose()}),(C,T)=>(x(),R("div",{class:O(C.model.getRootCss(C.container)),style:De({maxWidth:C.model.progressWidth}),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-label":"progress"},[u.value?(x(),R("div",{key:0,class:O(C.survey.css.progressButtonsHeader)},[F("div",{class:O(C.survey.css.progressButtonsPageTitle),title:C.model.headerText},je(C.model.headerText),11,HE)],2)):k("",!0),F("div",{class:O(g.value.progressButtonsContainer)},[F("div",{class:O(C.model.getScrollButtonCss(a.value,!0)),onClick:T[0]||(T[0]=I=>v(!0)),role:"button"},null,2),F("div",{class:O(g.value.progressButtonsListContainer),ref_key:"progressButtonsListContainer",ref:h},[F("ul",{class:O(g.value.progressButtonsList)},[(x(!0),R(Te,null,Je(C.survey.visiblePages,(I,L)=>(x(),R("li",{key:"listelement"+L,class:O(C.model.getListElementCss(L)),onClick:j=>C.model.isListElementClickable(L)?C.model.clickListElement(I):null,"data-page-number":C.model.getItemNumber(I)},[F("div",{class:O(g.value.progressButtonsConnector)},null,2),f.value?(x(),R("div",{key:0,class:O(g.value.progressButtonsPageTitle),title:I.renderedNavigationTitle},[W(D,{is:"survey-string",locString:I.locNavigationTitle},null,8,["locString"])],10,zE)):k("",!0),f.value?(x(),R("div",{key:1,class:O(g.value.progressButtonsPageDescription),title:I.locNavigationDescription.renderedHtml},je(I.locNavigationDescription.renderedHtml),11,UE)):k("",!0),F("div",{class:O(g.value.progressButtonsButton)},[F("div",{class:O(g.value.progressButtonsButtonBackground)},null,2),F("div",{class:O(g.value.progressButtonsButtonContent)},null,2),F("span",null,je(C.model.getItemNumber(I)),1)],2)],10,QE))),128))],2)],2),F("div",{class:O(C.model.getScrollButtonCss(a.value,!1)),onClick:T[1]||(T[1]=I=>v(!1)),role:"button"},null,2)],2),d.value?(x(),R("div",{key:1,class:O(C.survey.css.progressButtonsFooter)},[F("div",{class:O(C.survey.css.progressButtonsPageTitle),title:C.model.footerText},je(C.model.footerText),11,WE)],2)):k("",!0)],6))}}),JE=G({__name:"ProgressToc",props:{survey:{},model:{}},setup(l){return(s,a)=>(x(),R("div",{class:O(s.model.containerCss)},[s.model.isMobile?yt((x(),R("div",{key:0,onClick:a[0]||(a[0]=(...u)=>s.model.togglePopup&&s.model.togglePopup(...u))},[W(D,{is:"sv-svg-icon",iconName:s.model.icon,size:24},null,8,["iconName"]),W(D,{is:"sv-popup",model:s.model.popupModel},null,8,["model"])])),[[le(Yo)]]):(x(),$(D,{key:1,is:"sv-list",model:s.model.listModel},null,8,["model"]))],2))}}),GE=["lang","dir"],KE={onsubmit:"return false;"},ZE={key:0,class:"sv_custom_header"},YE={class:"sv-components-column sv-components-column--expandable"},XE=["id"],e_={key:2},t_=["innerHTML"],n_=["innerHTML"],r_=["innerHTML"],Qc=G({__name:"Survey",props:{model:{},survey:{}},setup(l){const s=l,a=_e(),u=_e(""),d=_e(1),f=Ve(()=>{const L=s.survey?s.survey:s.model;return st(L)}),h=Ve(()=>f.value.activePage?f.value.activePage.id:""),g=()=>{const L=h.value;return!!f.value&&L+d.value.toString()},m=Ve(()=>f.value.showCompletedPage&&f.value.state==="completed"),v=Ve(()=>f.value.css),C=Ve(()=>"page"+g()),T=()=>m.value?(u.value||(u.value=f.value.processedCompletedHtml),u.value):"",I=L=>{if(L){var j=a.value;j&&L.afterRenderSurvey(j),L.renderCallback=()=>{var V,se;d.value++,(se=(V=ma())==null?void 0:V.proxy)==null||se.$forceUpdate()},L.startTimerFromUI()}};return Ke(()=>f.value,(L,j)=>{L&&j&&I(L)},L=>{L.stopTimer(),L.renderCallback=void 0}),_t(()=>{I(f.value)}),Tn(()=>{f.value.stopTimer(),f.value.renderCallback=void 0}),(L,j)=>(x(),R("div",{class:O(f.value.getRootCss()),style:De(f.value.themeVariables),lang:f.value.locale||"en",dir:f.value.localeDir,ref_key:"root",ref:a},[f.value.needRenderIcons?(x(),$(D,{key:0,is:"sv-svg-bundle"})):k("",!0),F("div",{class:O(f.value.wrapperFormCss)},[W(D,{is:"survey-popup-modal"}),f.value.renderBackgroundImage?(x(),R("div",{key:0,class:O(v.value.rootBackgroundImage),style:De(f.value.backgroundImageStyle)},null,6)):k("",!0),F("form",KE,[f.value.hasLogo?k("",!0):(x(),R("div",ZE)),F("div",{class:O(v.value.container)},[f.value.headerView==="basic"?(x(),$(D,{key:0,is:"survey-header",survey:f.value},null,8,["survey"])):k("",!0),W(D,{is:"sv-components-container",survey:f.value,container:"header",needRenderWrapper:!1},null,8,["survey"]),f.value.isShowingPage?(x(),R("div",{key:1,class:O(f.value.bodyContainerCss)},[W(D,{is:"sv-components-container",survey:f.value,container:"left",needRenderWrapper:!0},null,8,["survey"]),F("div",YE,[W(D,{is:"sv-components-container",survey:f.value,container:"center",needRenderWrapper:!0},null,8,["survey"]),F("div",{class:O(f.value.bodyCss),style:De({maxWidth:f.value.renderedWidth}),id:h.value},[W(D,{is:"sv-components-container",survey:f.value,container:"contentTop",needRenderWrapper:!0},null,8,["survey"]),(x(),$(D,{is:"survey-page",key:C.value,survey:f.value,page:f.value.activePage,css:v.value},null,8,["survey","page","css"])),W(D,{is:"sv-components-container",survey:f.value,container:"contentBottom",needRenderWrapper:!0},null,8,["survey"]),f.value.showBrandInfo?(x(),$(D,{key:0,is:"sv-brand-info"})):k("",!0)],14,XE)]),W(D,{is:"sv-components-container",survey:f.value,container:"right",needRenderWrapper:!0},null,8,["survey"])],2)):k("",!0),W(D,{is:"sv-components-container",survey:f.value,container:"footer",needRenderWrapper:!1},null,8,["survey"]),m.value?(x(),R("div",e_,[F("div",{innerHTML:T(),class:O(f.value.completedCss)},null,10,t_),W(D,{is:"sv-components-container",survey:f.value,container:"completePage",needRenderWrapper:!0},null,8,["survey"])])):k("",!0),f.value.state==="completedbefore"?(x(),R("div",{key:3,class:O(f.value.completedBeforeCss),innerHTML:f.value.processedCompletedBeforeHtml},null,10,n_)):k("",!0),f.value.state==="loading"?(x(),R("div",{key:4,class:O(f.value.loadingBodyCss),innerHTML:f.value.processedLoadingHtml},null,10,r_)):k("",!0),f.value.state==="empty"?(x(),R("div",{key:5,class:O(v.value.bodyEmpty)},je(f.value.emptySurveyText),3)):k("",!0)],2)]),W(D,{is:"sv-notifier",model:f.value.notifier},null,8,["model"])],2)],14,GE))}}),i_=G({__name:"Notifier",props:{model:{}},setup(l){const s=l;return Ke(()=>s.model),(a,u)=>a.model.isDisplayed?(x(),R("div",{key:0,class:O(a.model.css),style:De({visibility:a.model.active?"visible":"hidden"}),role:"alert","aria-live":"polite"},[F("span",null,je(a.model.message),1),W(D,{is:"sv-action-bar",model:a.model.actionBar},null,8,["model"])],6)):k("",!0)}}),o_={key:0},s_=G({__name:"QuestionOther",props:{question:{}},setup(l){return(s,a)=>(x(),R("div",{class:O(s.question.getCommentAreaCss(!0))},[s.question.isReadOnlyRenderDiv()?(x(),R("div",o_,je(s.question.otherValue),1)):(x(),$(D,{key:1,is:"sv-text-area",model:s.question.otherTextAreaModel},null,8,["model"]))],2))}}),a_=["disabled","value","title"],l_=G({__name:"SurveyNavigationButton",props:{item:{}},setup(l){const s=l,a=()=>s.item.data&&s.item.data.mouseDown();return Ke(()=>s.item),(u,d)=>u.item.visible?(x(),R("input",{key:0,type:"button",disabled:u.item.disabled,value:u.item.title,class:O(u.item.innerCss),title:u.item.getTooltip(),onMousedown:a,onClick:d[0]||(d[0]=(...f)=>u.item.action&&u.item.action(...f))},null,42,a_)):k("",!0)}}),u_=G({__name:"PopupSurvey",props:{survey:{},isExpanded:{type:Boolean},allowClose:{type:Boolean},allowFullScreen:{type:Boolean},onClose:{type:Function},closeOnCompleteTimeout:{}},setup(l){const s=l,a=Dr(),u=()=>{a.value.changeExpandCollapse()},d=()=>{a.value.hide(),s.onClose&&s.onClose()},f=()=>{a.value.toggleFullScreen()},h=()=>{a.value.onScroll()},g=()=>{let v=a.value.cssHeaderRoot;return a.value.isCollapsed&&(v+=" "+a.value.cssRootCollapsedMod),v};Ke(()=>a.value);const m=xn(()=>s.survey,v=>{const C=new ct.PopupSurveyModel(null,v);s.isExpanded!==void 0&&(C.isExpanded=s.isExpanded),s.closeOnCompleteTimeout!==void 0&&(C.closeOnCompleteTimeout=s.closeOnCompleteTimeout),s.allowClose!==void 0&&(C.allowClose=s.allowClose),s.allowFullScreen!==void 0&&(C.allowFullScreen=s.allowFullScreen),C.isShowing=!0,a.value=C},{immediate:!0});return Tn(()=>{m()}),(v,C)=>a.value.isShowing?(x(),R("div",{key:0,style:De({maxWidth:a.value.renderedWidth,width:a.value.renderedWidth}),class:O(a.value.cssRoot),onScroll:h},[F("div",{class:O(a.value.cssRootContent)},[F("div",{class:O(g())},[a.value.isCollapsed&&a.value.locTitle?(x(),R("div",{key:0,class:O(a.value.cssHeaderTitleCollapsed)},je(a.value.locTitle.renderedHtml),3)):k("",!0),F("div",{class:O(a.value.cssHeaderButtonsContainer)},[a.value.allowFullScreen?(x(),R("div",{key:0,class:O(a.value.cssHeaderFullScreenButton),onClick:f},[a.value.isFullScreen?(x(),$(D,{key:0,is:"sv-svg-icon",iconName:"icon-back-to-panel_16x16",size:16})):k("",!0),a.value.isFullScreen?k("",!0):(x(),$(D,{key:1,is:"sv-svg-icon",iconName:"icon-full-screen_16x16",size:16}))],2)):k("",!0),F("div",{class:O(a.value.cssHeaderCollapseButton),onClick:u},[a.value.isExpanded?(x(),$(D,{key:0,is:"sv-svg-icon",iconName:"icon-minimize_16x16",size:16})):k("",!0),a.value.isCollapsed?(x(),$(D,{key:1,is:"sv-svg-icon",iconName:"icon-restore_16x16",size:16})):k("",!0)],2),a.value.allowClose?(x(),R("div",{key:1,class:O(a.value.cssHeaderCloseButton),onClick:d},[W(D,{is:"sv-svg-icon",iconName:"icon-close_16x16",size:16})],2)):k("",!0)],2)],2),F("div",{class:O(a.value.cssBody)},[W(Qc,{survey:v.survey},null,8,["survey"])],2)],2)],38)):k("",!0)}}),c_=["innerHTML"],d_=G({__name:"CustomWidget",props:{question:{},css:{}},setup(l){const s=l,a=_e(),u=Ve(()=>s.question.customWidget.isDefaultRender),d=Ve(()=>!!s.question.customWidget.htmlTemplate),f=Ve(()=>s.question.customWidget.htmlTemplate),h=Ve(()=>"survey-"+s.question.getTemplate());return _t(()=>{s.question.customWidget.afterRender(s.question,a.value)}),qr(()=>{s.question.customWidget.willUnmount(s.question,a.value)}),(g,m)=>(x(),R("div",{ref_key:"root",ref:a},[d.value?(x(),R("div",{key:0,innerHTML:f.value},null,8,c_)):k("",!0),u.value?(x(),$(D,{key:1,is:h.value,question:g.question,css:g.css},null,8,["is","question","css"])):k("",!0)],512))}}),p_=G({__name:"PopupModal",setup(l){const s=Dr();function a(d,f,h,g,m,v,C="popup"){const T=ct.createDialogOptions(d,f,h,g,void 0,void 0,m,v,C);return u(T)}function u(d,f){const h=ct.createPopupModalViewModel(d,f),g=(m,v)=>{v.isVisible||(s.value=void 0,h.dispose(),h.onVisibilityChanged.remove(g))};return h.onVisibilityChanged.add(g),h.model.isVisible=!0,s.value=h,h}return ct.settings.showModal||(ct.settings.showModal=a,Tn(()=>{ct.settings.showModal=void 0})),ct.settings.showDialog||(ct.settings.showDialog=u,Tn(()=>{ct.settings.showDialog=void 0})),(d,f)=>s.value?(x(),$(M0,{key:0,to:s.value.container},[W(D,{is:"sv-popup-container",model:s.value},null,8,["model"])],8,["to"])):k("",!0)}}),f_=["readonly","disabled","value","id","maxlength","cols","rows","placeholder","aria-required","aria-label","aria-labelledby","aria-describedby","aria-invalid","aria-errormessage"],h_=G({__name:"TextArea",props:{model:{}},setup(l){const s=l,a=_e(null),u=Ve(()=>s.model.getTextValue()||"");return _t(()=>{s.model.setElement(a.value)}),Jo(()=>{s.model.setElement(a.value)}),(d,f)=>(x(),R("textarea",{ref_key:"contentElement",ref:a,readonly:d.model.isReadOnlyAttr,disabled:d.model.isDisabledAttr,value:u.value,id:d.model.id,maxlength:d.model.maxLength,cols:d.model.cols,rows:d.model.rows,placeholder:d.model.placeholder,class:O(d.model.className),onBlur:f[0]||(f[0]=h=>{d.model.onTextAreaBlur(h)}),onFocus:f[1]||(f[1]=h=>{d.model.onTextAreaFocus(h)}),onChange:f[2]||(f[2]=h=>{d.model.onTextAreaChange(h)}),onInput:f[3]||(f[3]=h=>{d.model.onTextAreaInput(h)}),onKeydown:f[4]||(f[4]=h=>{d.model.onTextAreaKeyDown(h)}),"aria-required":d.model.ariaRequired,"aria-label":d.model.ariaLabel,"aria-labelledby":d.model.ariaLabelledBy,"aria-describedby":d.model.ariaDescribedBy,"aria-invalid":d.model.ariaInvalid,"aria-errormessage":d.model.ariaErrormessage,style:De({resize:d.model.question.resizeStyle})},null,46,f_))}}),g_=G({__name:"CharacterCounter",props:{counter:{},remainingCharacterCounter:{}},setup(l){const s=l;return Ke(()=>s.counter),(a,u)=>(x(),R("div",{class:O(a.remainingCharacterCounter)},je(a.counter.remainingCharacterCounter),3))}}),y_=G({inheritAttrs:!1,__name:"Composite",props:{question:{},css:{}},setup(l){const s=l,a=_e(null);Vt(s,a);const u=Ve(()=>s.question.contentPanel);return(d,f)=>(x(),$(D,{is:"survey-panel",ref_key:"root",ref:a,element:u.value,css:d.css},null,8,["element","css"]))}}),m_=G({inheritAttrs:!1,__name:"Custom",props:{question:{},css:{}},setup(l){const s=l,a=_e(null);Vt(s,a);const u=Ve(()=>s.question.contentQuestion),d=f=>Bc(f);return(f,h)=>(x(),$(D,{ref:a.value,is:d(u.value),question:u.value,css:f.css},null,8,["is","question","css"]))}}),v_=F("use",{"xlink:href":"#icon-timercircle"},null,-1),b_=[v_],pg=440,C_=G({__name:"TimerPanel",props:{model:{},css:{}},setup(l){const s=l,a=Ve(()=>pg*s.model.progress),u=Ve(()=>s.model.text);return Ke(()=>s.model),(d,f)=>d.model.isRunning&&d.model.showTimerAsClock?(x(),R("div",{key:0,class:O(d.model.rootCss)},[d.model.showProgress?(x(),R("svg",{key:0,class:O(d.model.getProgressCss()),style:De({strokeDasharray:pg,strokeDashoffset:a.value})},b_,6)):k("",!0),F("div",{class:O(d.model.textContainerCss)},[F("span",{class:O(d.model.majorTextCss)},je(d.model.clockMajorText),3),d.model.clockMinorText?(x(),R("span",{key:0,class:O(d.model.minorTextCss)},je(d.model.clockMinorText),3)):k("",!0)],2)],2)):yt((x(),R("div",{key:1,class:O(d.model.survey.getCss().timerRoot)},je(u.value),3)),[[nn,d.model.isRunning&&!d.model.showTimerAsClock]])}}),w_={class:"sd-loading-indicator"},P_=G({__name:"LoadingIndicator",setup(l){return(s,a)=>(x(),R("div",w_,[W(D,{is:"sv-svg-icon",iconName:"icon-loading",size:"'auto'"})]))}}),x_={key:2},V_=G({__name:"Header",props:{model:{},survey:{}},setup(l){const s=l;return Ke(()=>{const a=s.model;return a.survey=s.survey,s.model}),(a,u)=>a.survey.headerView==="advanced"?(x(),R("div",{key:0,class:O(a.model.headerClasses),style:De({height:a.model.renderedHeight})},[a.model.backgroundImage?(x(),R("div",{key:0,class:O(a.model.backgroundImageClasses),style:De(a.model.backgroundImageStyle)},null,6)):k("",!0),a.survey.isMobile?k("",!0):(x(),R("div",{key:1,class:O(a.model.contentClasses),style:De({maxWidth:a.model.maxWidth})},[(x(!0),R(Te,null,Je(a.model.cells,(d,f)=>(x(),$(D,{is:"sv-header-cell",model:d,key:f},null,8,["model"]))),128))],6)),a.survey.isMobile?(x(),R("div",x_,[W(D,{is:"sv-header-mobile",model:a.model},null,8,["model"])])):k("",!0)],6)):k("",!0)}}),S_={key:0,class:"sv-header__logo"},T_=["src","width","height","alt"],O_=G({__name:"HeaderCell",props:{model:{}},setup(l){return(s,a)=>(x(),R("div",{class:O(s.model.css),style:De(s.model.style)},[F("div",{class:"sv-header__cell-content",style:De(s.model.contentStyle)},[s.model.showLogo?(x(),R("div",S_,[F("div",{class:O(s.model.survey.logoClassNames)},[F("img",{class:O(s.model.survey.css.logoImage),src:s.model.survey.locLogo.renderedHtml,width:s.model.survey.renderedLogoWidth,height:s.model.survey.renderedLogoHeight,alt:s.model.survey.locTitle.renderedHtml,style:De({objectFit:s.model.survey.logoFit,width:s.model.survey.renderedStyleLogoWidth,height:s.model.survey.renderedStyleLogoHeight})},null,14,T_)],2)])):k("",!0),s.model.showTitle?(x(),R("div",{key:1,class:"sv-header__title",style:De({maxWidth:s.model.textAreaWidth})},[W(D,{is:"survey-element-title",element:s.model.survey,css:s.model.survey.css},null,8,["element","css"])],4)):k("",!0),s.model.showDescription?(x(),R("div",{key:2,class:"sv-header__description",style:De({maxWidth:s.model.textAreaWidth})},[s.model.survey.renderedHasDescription?(x(),R("div",{key:0,class:O(s.model.survey.css.description)},[W(D,{is:"survey-string",locString:s.model.survey.locDescription},null,8,["locString"])],2)):k("",!0)],4)):k("",!0)],4)],6))}}),R_={class:"sv-header--mobile"},I_={key:0,class:"sv-header__logo"},E_=["src","width","height","alt"],__=G({__name:"HeaderMobile",props:{model:{}},setup(l){return(s,a)=>(x(),R("div",R_,[s.model.survey.hasLogo?(x(),R("div",I_,[F("div",{class:O(s.model.survey.logoClassNames)},[F("img",{class:O(s.model.survey.css.logoImage),src:s.model.survey.locLogo.renderedHtml,width:s.model.survey.renderedLogoWidth,height:s.model.survey.renderedLogoHeight,alt:s.model.survey.locTitle.renderedHtml,style:De({objectFit:s.model.survey.logoFit,width:s.model.survey.renderedStyleLogoWidth,height:s.model.survey.renderedStyleLogoHeight})},null,14,E_)],2)])):k("",!0),s.model.survey.hasTitle?(x(),R("div",{key:1,class:"sv-header__title",style:De({maxWidth:s.model.renderedtextAreaWidth})},[W(D,{is:"survey-element-title",element:s.model.survey,css:s.model.survey.css},null,8,["element","css"])],4)):k("",!0),s.model.survey.renderedHasDescription?(x(),R("div",{key:2,class:"sv-header__description",style:De({maxWidth:s.model.renderedtextAreaWidth})},[s.model.survey.renderedHasDescription?(x(),R("div",{key:0,class:O(s.model.survey.css.description)},[W(D,{is:"survey-string",locString:s.model.survey.locDescription},null,8,["locString"])],2)):k("",!0)],4)):k("",!0)]))}}),A_=G({__name:"Element",props:{element:{},row:{},css:{}},setup(l){const s=l,a=_e(),u=m=>m.isPanel?"survey-panel":"survey-question",d=Ve(()=>{const m=s.element.survey;if(m){const v=m.getElementWrapperComponentName(s.element);if(v)return v}return u(s.element)}),f=m=>m.cssClasses?m.rootStyle:{},h=Ve(()=>{const m=s.element,v=m.survey;let C;return v&&(C=v.getElementWrapperComponentData(m)),{componentName:u(m),componentData:{element:m,survey:v,row:s.row,css:s.css,data:C}}}),g=xn(()=>s.element,(m,v)=>{v&&v.setWrapperElement(void 0),m.setWrapperElement(a.value)});return _t(()=>{s.element.setWrapperElement(a.value)}),Tn(()=>{s.element.setWrapperElement(void 0),g()}),(m,v)=>(x(),R("div",{ref_key:"root",ref:a,style:De(f(m.element)),class:O(m.element.cssClasses.questionWrapper)},[m.row.isNeedRender?(x(),$(D,kt({key:0,is:d.value},h.value),null,16,["is"])):m.element.skeletonComponentName?(x(),$(D,{key:1,is:m.element.skeletonComponentName,element:m.element,css:m.css},null,8,["is","element","css"])):k("",!0)],6))}}),D_=G({__name:"TemplateRenderer",props:{componentName:{},componentData:{}},setup(l){const s=K0(),a=Ve(()=>!!s.default);return(u,d)=>a.value&&!u.componentName?Yg(u.$slots,"default",{key:0}):(x(),$(D,kt({key:1,is:u.componentName},u.componentData),null,16,["is"]))}}),L_=G({__name:"FileCleanButton",props:{question:{},css:{}},setup(l){return(s,a)=>(x(),R("button",{type:"button",class:O(s.css),onClick:a[0]||(a[0]=(...u)=>s.question.doClean&&s.question.doClean(...u))},[F("span",null,je(s.question.clearButtonCaption),1),s.question.cssClasses.removeButtonIconId?(x(),$(D,{key:0,is:"sv-svg-icon",iconName:s.question.cssClasses.removeButtonIconId,size:"auto",title:s.question.clearButtonCaption},null,8,["iconName","title"])):k("",!0)],2))}}),k_=["id"],M_=G({__name:"FileVideo",props:{question:{}},setup(l){return(s,a)=>(x(),R("div",{class:O(s.question.cssClasses.videoContainer)},[W(D,{is:"sv-action",item:s.question.changeCameraAction},null,8,["item"]),W(D,{is:"sv-action",item:s.question.closeCameraAction},null,8,["item"]),F("video",{autoplay:"",playsinline:"",id:s.question.videoId,class:O(s.question.cssClasses.video)},null,10,k_),W(D,{is:"sv-action",item:s.question.takePictureAction},null,8,["item"])],2))}}),q_=["for","aria-label"],j_=G({__name:"FileChooseButton",props:{data:{},item:{}},setup(l){const s=l,a=Ve(()=>{var u,d;return((u=s.data)==null?void 0:u.question)||((d=s.item)==null?void 0:d.data.question)});return(u,d)=>yt((x(),R("label",{tabindex:"0",class:O(a.value.getChooseFileCss()),for:a.value.inputId,"aria-label":a.value.chooseButtonText,onClick:d[0]||(d[0]=f=>a.value.chooseFile(f))},[a.value.cssClasses.chooseFileIconId?(x(),$(D,{key:0,is:"sv-svg-icon",title:a.value.chooseButtonText,iconName:a.value.cssClasses.chooseFileIconId,size:"auto"},null,8,["title","iconName"])):k("",!0),F("span",null,je(a.value.chooseButtonText),1)],10,q_)),[[le(Yo)]])}}),N_=G({__name:"FilePreview",props:{question:{}},setup(l){return(s,a)=>s.question.showPreviewContainer?(x(),R("div",{key:0,class:O(s.question.cssClasses.fileList||void 0)},[s.question.supportFileNavigator?(x(!0),R(Te,{key:0},Je(s.question.renderedPages,u=>(x(),$(D,{is:"sv-file-page",key:u.id,page:u,question:s.question},null,8,["page","question"]))),128)):k("",!0),s.question.supportFileNavigator?k("",!0):(x(!0),R(Te,{key:1},Je(s.question.previewValue,u=>(x(),$(D,{is:"sv-file-item",key:u,item:u,question:s.question},null,8,["item","question"]))),128))],2)):k("",!0)}}),F_=G({__name:"ButtonGroup",props:{question:{}},setup(l){const s=l,a=_e();return Vt(s,a),(u,d)=>(x(),R("div",{role:"group",class:O(u.question.cssClasses.root),ref_key:"root",ref:a},[(x(!0),R(Te,null,Je(u.question.visibleChoices,(f,h)=>(x(),$(D,{is:"sv-button-group-item",question:u.question,key:h,item:f,index:h},null,8,["question","item","index"]))),128))],2))}}),B_=["title"],H_=["name","id","aria-required","aria-label","aria-invalid","aria-errormessage","disabled","value"],Q_=["title"],z_=G({__name:"ButtonGroupItem",props:{item:{},question:{},index:{}},setup(l){const s=l,a=Ve(()=>new ct.ButtonGroupItemModel(s.question,s.item,s.index)),u=Ve({get:()=>s.question.renderedValue,set:d=>{const f=s.question;f.renderedValue=d}});return(d,f)=>(x(),R("label",{role:"radio",class:O(a.value.css.label),title:a.value.caption.renderedHtml},[yt(F("input",{type:"radio",name:a.value.name,id:a.value.id,"aria-required":a.value.isRequired,"aria-label":a.value.caption.renderedHtml,role:"radio","aria-invalid":a.value.hasErrors,"aria-errormessage":a.value.describedBy,disabled:a.value.readOnly,class:O(a.value.css.control),"onUpdate:modelValue":f[0]||(f[0]=h=>u.value=h),value:a.value.value},null,10,H_),[[ba,u.value]]),F("div",{class:O(a.value.css.decorator)},[a.value.iconName?(x(),$(D,{key:0,is:"sv-svg-icon",iconName:a.value.iconName,size:a.value.iconSize,class:O(a.value.css.icon)},null,8,["iconName","size","class"])):k("",!0),a.value.showCaption?(x(),R("span",{key:1,class:O(a.value.css.caption),title:a.value.caption.renderedHtml},[W(D,{is:"survey-string",locString:a.value.caption},null,8,["locString"])],10,Q_)):k("",!0)],2)],10,B_))}}),U_=["src","width","height","alt"],W_=G({inheritAttrs:!1,__name:"Logo",props:{data:{}},setup(l){const s=l,a=Ve(()=>s.data),u=Gi(()=>a.value.locLogo);return(d,f)=>(x(),R("div",{class:O(a.value.logoClassNames)},[F("img",{class:O(a.value.css.logoImage),src:le(u),width:a.value.renderedLogoWidth,height:a.value.renderedLogoHeight,alt:a.value.locTitle.renderedHtml,style:De({objectFit:a.value.logoFit,width:a.value.renderedStyleLogoWidth,height:a.value.renderedStyleLogoHeight})},null,14,U_)],2))}}),$_=G({__name:"SvgBundle",setup(l){const s=_e();return _t(()=>{s.value.innerHTML=ct.SvgRegistry.iconsRenderedHtml()}),(a,u)=>yt((x(),R("svg",{id:"sv-icon-holder-global-container",ref_key:"root",ref:s},null,512)),[[nn,!1]])}}),J_=["id"],G_=G({__name:"FilePage",props:{page:{},question:{}},setup(l){const s=l;return Ke(()=>s.page),(a,u)=>(x(),R("div",{class:O(a.page.css),id:a.page.id},[(x(!0),R(Te,null,Je(a.page.items,d=>(x(),$(D,{is:"sv-file-item",key:d,item:d,question:a.question},null,8,["item","question"]))),128))],10,J_))}}),K_=["href","title","download"],Z_=["src"],Y_=["href","title","download"],X_=G({__name:"FileItem",props:{item:{},question:{}},setup(l){return(s,a)=>yt((x(),R("span",{class:O(s.question.cssClasses.previewItem),onClick:a[3]||(a[3]=u=>s.question.doDownloadFileFromContainer(u))},[s.item.name&&s.question.cssClasses.fileSign?(x(),R("div",{key:0,class:O(s.question.cssClasses.fileSign)},[F("a",{onClick:a[0]||(a[0]=u=>s.question.doDownloadFile(u,s.item)),href:s.item.content,title:s.item.name,download:s.item.name,style:De({width:s.question.imageWidth})},je(s.item.name),13,K_)],2)):k("",!0),F("div",{class:O(s.question.getImageWrapperCss(s.item))},[s.question.canPreviewImage(s.item)?(x(),R("img",{key:0,src:s.item.content,style:De({height:s.question.imageHeight,width:s.question.imageWidth}),alt:"File preview"},null,12,Z_)):k("",!0),s.question.defaultImage(s.item)?(x(),$(D,{key:1,is:"sv-svg-icon",iconName:s.question.cssClasses.defaultImageIconId,class:O(s.question.cssClasses.defaultImage),size:"auto"},null,8,["iconName","class"])):k("",!0),s.item.name&&!s.question.isReadOnly?(x(),R("div",{key:2,class:O(s.question.getRemoveButtonCss()),onClick:a[1]||(a[1]=u=>s.question.doRemoveFile(s.item,u))},[F("span",{class:O(s.question.cssClasses.removeFile)},je(s.question.removeFileCaption),3),s.question.cssClasses.removeFileSvgIconId?(x(),$(D,{key:0,is:"sv-svg-icon",title:s.question.removeFileCaption,class:O(s.question.cssClasses.removeFileSvg),iconName:s.question.cssClasses.removeFileSvgIconId,size:"auto"},null,8,["title","class","iconName"])):k("",!0)],2)):k("",!0)],2),s.item.name&&s.question.cssClasses.fileSignBottom?(x(),R("div",{key:1,class:O(s.question.cssClasses.fileSignBottom)},[F("a",{onClick:a[2]||(a[2]=u=>s.question.doDownloadFile(u,s.item)),href:s.item.content,title:s.item.name,download:s.item.name,style:De({width:s.question.imageWidth})},je(s.item.name),13,Y_)],2)):k("",!0)],2)),[[nn,s.item]])}});ct.SurveyModel.platform="vue3";function eA(l,s,a){l(s,a)}function tA(l){const s=eA.bind(void 0,l);s("sv-svg-bundle",$_),s("popup-survey",u_),s("survey-header",GT),s("sv-logo-image",W_),s("survey-page",JT),s("survey-row",KT),s("survey-question",eO),s("survey-panel",iO),s("survey-element-header",sO),s("survey-string",aO),s("sv-string-viewer",uO),s("sv-string-editor",dO),s("sv-skeleton",fO),s("survey-text",yO),s("survey-text-input",bO),s("survey-checkbox",VO),s("survey-checkbox-item",OO),s("survey-radiogroup",RO),s("survey-radiogroup-item",_O),s("survey-signaturepad",kO),s("survey-html",qO),s("survey-image",BO),s("survey-expression",HO),s("survey-file",WO),s("sv-file-choose-btn",j_),s("sv-file-clean-btn",L_),s("sv-file-preview",N_),s("sv-file-page",G_),s("sv-file-item",X_),s("sv-file-video",M_),s("survey-imagepicker",JO),s("survey-imagepicker-item",XO),s("survey-comment",eR),s("survey-dropdown",tR),s("sv-dropdown-select",oR),s("sv-dropdown-option-item",aR),s("sv-dropdown",pR),s("survey-tagbox",fR),s("sv-tagbox",yR),s("sv-tagbox-item",wR),s("sv-tagbox-filter",bR),s("survey-ranking",PR),s("survey-ranking-item",RR),s("sv-ranking-item",IR),s("survey-rating",AR),s("sv-rating-item",kR),s("sv-rating-item-smiley",qR),s("sv-rating-item-star",NR),s("sv-rating-dropdown",zR),s("sv-rating-dropdown-item",QR),s("survey-boolean",WR),s("sv-boolean-radio",$R),s("sv-boolean-radio-item",KR),s("sv-boolean-checkbox",nI),s("survey-multipletext",rI),s("survey-multipletext-item",oI),s("survey-matrix",dI),s("survey-matrix-row",fI),s("survey-matrix-cell",yI),s("survey-matrixdropdown",mI),s("survey-matrixtable",CI),s("survey-matrixheaderrequired",PI),s("survey-matrixdropdown-cell",VI),s("survey-matrixdynamic",SI),s("sv-matrix-remove-button",OI),s("sv-matrix-drag-drop-icon",II),s("sv-matrix-detail-button",_I),s("survey-paneldynamic",AI),s("survey-paneldynamicprogress",DI),s("survey-paneldynamicprogress-v2",LI),s("sv-paneldynamic-add-btn",MI),s("sv-paneldynamic-next-btn",jI),s("sv-paneldynamic-prev-btn",FI),s("sv-paneldynamic-remove-btn",HI),s("sv-paneldynamic-progress-text",QI),s("sv-components-container",BE),s("sv-progress-buttons",$E),s("sv-navigation-toc",JE),s("sv-progress-pages",$s),s("sv-progress-questions",$s),s("sv-progress-correctquestions",$s),s("sv-progress-requiredquestions",$s),s("survey-errors",UI),s("survey-question-comment",$I),s("survey-element-title",JI),s("survey-element-title-content",YI),s("sv-title-actions",tE),s("sv-brand-info",lE),s("sv-question-error",pE),s("sv-svg-icon",dE),s("sv-action-bar",fE),s("sv-action",yE),s("sv-action-bar-item",bE),s("sv-action-bar-item-dropdown",PE),s("sv-action-bar-separator",xE),s("sv-list",OE),s("sv-list-item-content",_E),s("sv-list-item-group",AE),s("sv-list-item",EE),s("sv-popup",DE),s("sv-popup-container",NE),s("popup-pointer",FE),s("sv-notifier",i_),s("survey-other-choice",s_),s("sv-nav-btn",l_),s("survey-customwidget",d_),s("survey-popup-modal",p_),s("survey-composite",y_),s("survey-custom",m_),s("sv-timerpanel",C_),s("sv-loading-indicator",P_),s("sv-header",V_),s("sv-header-cell",O_),s("sv-header-mobile",__),s("sv-template-renderer",D_),s("sv-character-counter",g_),s("sv-text-area",h_),s("survey-element",A_),s("survey-buttongroup",F_),s("sv-button-group-item",z_),s("survey",Qc)}tA((l,s)=>Fc.Instance.registerComponent(l,s));const nA={logoPosition:"right",pages:[{name:"page1",title:"Questions to start",elements:[{type:"boolean",name:"question1",title:"are you human",isRequired:!0},{type:"checkbox",name:"question2",title:"select something",isRequired:!0,choices:["Item 1","Item 2","Item 3"],showSelectAllItem:!0},{type:"text",name:"question6",inputType:"color"}]},{name:"page2",title:"core questions",elements:[{type:"dropdown",name:"question3",choices:["Item 1","Item 2","Item 3"]},{type:"rating",name:"question4"}]},{name:"page3",title:"final questions",elements:[{type:"radiogroup",name:"question5",choices:["Item 1","Item 2","Item 3"]}]}],showTitle:!1,showProgressBar:"auto",progressBarShowPageTitles:!0};class rA{constructor(s){Xr(this,"survey");Xr(this,"persistedData");Xr(this,"SURVEY_RESULTS_TABLE","survey_results");Xr(this,"SURVEY_PROGRESS_TABLE","survey_progress");Xr(this,"surveyId");this.surveyId=s,this.survey=new ct.Model(nA),this.persistedData=this.survey.data}async initialize(){this.initializeEventHandlers();try{const{data:s,error:a}=await vn.from(this.SURVEY_PROGRESS_TABLE).select("data, page_no").eq("survey_id",this.surveyId).order("created_at",{ascending:!1}).limit(1).single();if(a&&a.code!=="PGRST116")throw a;s&&(console.log("updating survey data"),this.survey.data=JSON.parse(s.data),this.survey.currentPageNo=s.page_no,this.persistedData=this.survey.data)}catch(s){throw console.error("Failed to fetch survey:",s),s}}initializeEventHandlers(){this.survey.onComplete.add(s=>{this.persistSurveyResult(s),console.log(JSON.stringify(s.data,null,3))}),this.survey.onCurrentPageChanged.add(s=>{this.persistSurveyProgres(s)})}async persistSurveyProgres(s){if(!this.areObjectsEqual(s.data,this.persistedData))try{const{data:{user:a}}=await vn.auth.getUser(),{error:u}=await vn.from(this.SURVEY_PROGRESS_TABLE).upsert([{survey_id:this.surveyId,data:JSON.stringify(s.data),page_no:s.currentPageNo,user_id:a==null?void 0:a.id}]);if(u)throw console.error("Error saving survey results:",u.message),u}catch(a){throw console.error("Failed to persist survey results:",a),a}}async persistSurveyResult(s){try{const{data:{user:a}}=await vn.auth.getUser(),{error:u}=await vn.from(this.SURVEY_RESULTS_TABLE).insert([{survey_id:this.surveyId,data:JSON.stringify(s.data),user_id:a==null?void 0:a.id}]);if(u)throw console.error("Error saving survey results:",u.message),u}catch(a){throw console.error("Failed to persist survey results:",a),a}}getSurvey(){return this.survey}areObjectsEqual(s,a){if(s===a)return!0;if(typeof s!="object"||typeof a!="object"||s===null||a===null)return!1;const u=Object.keys(s),d=Object.keys(a);return u.length!==d.length?!1:u.every(f=>d.includes(f)&&this.areObjectsEqual(s[f],a[f]))}}const iA=G({__name:"main_survey",props:{surveyId:{}},setup(l){const s=l,a=new rA(s.surveyId),u=async()=>{await a.persistSurveyResult(a.getSurvey())};return _t(async()=>{await a.initialize(),window.addEventListener("beforeunload",u)}),qr(()=>{window.removeEventListener("beforeunload",u)}),(d,f)=>(x(),$(le(Qc),{survey:le(a).getSurvey()},null,8,["survey"]))}}),fg="survey",oA="survey_results",sA=G({__name:"main_survey",async setup(l){var g;let s,a;const u=_e(null),d=(g=([s,a]=Hs(()=>vn.auth.getUser()),s=await s,a(),s).data.user)==null?void 0:g.id,{data:f,error:h}=([s,a]=Hs(()=>vn.from(fg).select("id").eq("user_id",d).order("created_at",{ascending:!1}).limit(1).single()),s=await s,a(),s);if(f&&!h){const{data:m}=([s,a]=Hs(()=>vn.from(oA).select().eq("survey_id",f.id).single()),s=await s,a(),s);m||(u.value=f.id)}if(!u.value){const{data:m,error:v}=([s,a]=Hs(()=>vn.from(fg).insert([{user_id:d}]).select().single()),s=await s,a(),s);v?console.error("Error creating survey:",v):u.value=m.id}return(m,v)=>(x(),$(gy,null,{default:Gt(()=>[u.value?(x(),$(iA,{key:0,surveyId:u.value},null,8,["surveyId"])):k("",!0)]),fallback:Gt(()=>v[0]||(v[0]=[F("div",null,"Loading...",-1)])),_:1}))}}),aA=V1({history:t1("/gh-pages-test/"),routes:[{path:"/",name:"welcome",component:QT},{path:"/survey",name:"survey",component:sA}]}),lA=G({__name:"App",setup(l){return(s,a)=>(x(),$(gy,null,{default:Gt(()=>[W(le(Qy))]),fallback:Gt(()=>a[0]||(a[0]=[F("div",null,"Loading...",-1)])),_:1}))}}),zc=hV(lA);zc.use(vV());zc.use(aA);zc.mount("#app");export{cA as g};
